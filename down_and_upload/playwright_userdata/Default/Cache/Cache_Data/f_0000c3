"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["9040"],{720172:function(e,t,n){n.r(t),n.d(t,{RechargeBtn:function(){return D}});var o=n("520739"),i=n("878389");n("675373"),n("874386");var l=n("563097"),r=n("88648"),a=n("338426"),u=n("713097"),d=n.n(u),c=n("611243"),s=n("240894"),m=n("702726"),v=n("874204"),f=n("658065"),_=n("782442"),g=n("746025"),h=n("399796"),w=n("696332"),p=n("815827"),y=n("35730"),b=n("747909"),I=n("456075"),x=n("473677"),R=n("271977"),L=n("254897");let C=(0,r.memo)(e=>{let{activityName:t,className:n,text:o,icon:i,showBadge:a,badge:u,badgeText:c,badgeIconHeight:s,badgeIconSvg:m,badgeIconViewBox:v,badgeIconWidth:f,onClick:_,transparent:g,onMouseEnter:h,onMouseLeave:w,needRenderInSSR:p=!1}=e,{userUiStyle:y}=(0,r.useContext)(R.R);return(0,l.jsxs)("div",{className:d()(I.default.circleButtonWrapper,n),children:[(0,l.jsxs)("div",{onClick:_,onMouseEnter:h,onMouseLeave:w,className:d()(I.default.circleButton,I.default.circleButtonWithText,{isDark:!!t||g&&!y,[I.default.activity]:!!t||g,[null===I.default||void 0===I.default?void 0:I.default[t]]:t,[I.default.transparent]:g},n),"data-e2e":"something-button",children:[(0,l.jsx)("div",{className:I.default.iconContainer,children:(0,l.jsx)(L.z,{svg:i,needRenderInSSR:p})}),(0,l.jsx)("p",{className:I.default.text,children:o})]}),a&&("text"===u||"round"===u)&&(0,l.jsx)(b.Badge,{countClassName:d()({[I.default.textBadge]:"text"===u,[I.default.roundBadge]:"round"===u,[I.default.circleButtonWithTextRoundBadge]:"round"===u}),dot:"round"===u,count:"text"===u?c||o:void 0}),a&&"image"===u&&(0,l.jsx)("div",{className:d()(I.default.imageBadge,I.default.circleButtonWithTextImageBadge),children:(0,l.jsx)(x.Z,{src:m,width:f,height:s,viewBox:v||`0 0 ${f} ${s}`})})]})});var N=n("851394"),S=n("381731"),P=n("430066"),k=n("260693"),O=n("53038"),E=n("205457");let T=(0,a.ZP)(()=>n.e("71091").then(n.bind(n,796717)),{resolveComponent:e=>{let{RechargePanel:t}=e;return t}}),U=(0,r.memo)((0,v.At)().createLazyComponent({loader:()=>(0,v.At)().loadRemote("@revenue-wallet-fe/recharge-web"),export:"default",fallback:e=>{let{error:t,errorType:n,dataFetchMapKey:o}=e;return null}}),(e,t)=>(null==e?void 0:e.scene)===(null==t?void 0:t.scene)&&(null==e?void 0:e.showOfficialEntrance)===(null==t?void 0:t.showOfficialEntrance)&&(null==e?void 0:e.theme)===(null==t?void 0:t.theme)),D=e=>{var t,n,a;let{isRechargeShow:u,isLogin:b,onRechargeVisibleChange:I,onRechargeSuccess:x,onLoginSuccess:R,transparent:L,activityName:D,onMouseEnter:j,onMouseLeave:A,popoverSpacing:B=10,abTestData:J,isMas:W}=e,M=(0,r.useRef)(!1),z=(0,r.useRef)(!1),{searchParams:F}=(0,s.w)(),{showRecharge:H,hideRecharge:V,hideOtherRecharge:$}=(0,c.y)({container:"rechargeMountEl"}),{type:q,changeType:K,clearDisappearTimer:Q}=(0,k.P)({delayDisappear:150}),Z=(0,v.zU)()&&!W,[X,G]=(0,r.useState)(!1);(0,r.useEffect)(()=>()=>{M.current&&(Z?G(!1):V())},[Z]),(0,r.useEffect)(()=>{!q&&(Z?G(!1):V())},[q]),(0,r.useEffect)(()=>{(0,v.zU)()&&(0,v.At)().prefetch({id:"@revenue-wallet-fe/recharge-web",preloadComponentResource:!0})},[]),(0,r.useEffect)(()=>{if(u&&!b){var e;m.logInstance.sendLog("livesdkRechargeNavigationBarShow",{enter_from_merge:(0,f.yW)(),if_live_play:(null==F?void 0:F.tab)==="live"||_.Le.getConfig(_.gI.HasLiveContent)||(null===(e=window)||void 0===e?void 0:e.location.host)==="live.douyin.com"?1:0})}},[u]);let{rechargeConfig:Y}=(0,O.K)(),ee={enter_from_merge:(0,f.yW)(),show_reason:"navigation_bar",live_window_type:null!==(a=null===(t=_.Le.getConfig(_.gI.LiveWindowStatus))||void 0===t?void 0:t.type)&&void 0!==a?a:"no_live_window",if_live_play:(null==F?void 0:F.tab)==="live"||_.Le.getConfig(_.gI.HasLiveContent)||(null===(n=window)||void 0===n?void 0:n.location.host)==="live.douyin.com"?1:0},et=!!document.querySelector("body[topic-page-force-dark]"),en=(0,r.useCallback)(()=>{if(!!b){if(K("active"),Q(),M.current=!0,Z){G(!0);return}null==$||$(),H({scene:"pc_topbanner",type:"recharge",balance:0,amount:0,onSuccess:()=>{null==x||x()},onClose:e=>{M.current=!1,z.current=!1,I(!1),m.logInstance.sendLog("livesdkRechargeShowDuration",(0,i._)((0,o._)({},ee),{charge_reason:"recharge",duration:(null==e?void 0:e.duration)||0,if_recharge_success:(null==e?void 0:e.isSuccess)?1:0})),K("")},selectDefaultCombo:!0,showOfficialEntrance:!0,onCombosItemClick:e=>{let{type:t}=e||{};"manual"===t&&(z.current=!0)},additionalLogParams:ee,theme:et?y.ThemeValues.Dark:(0,g.Dr)(h.Q.getItem({sKey:y.CookieKeys.Theme}))})}},[x,I,b,J]);return(0,l.jsx)(S.J,{position:"bottom",visible:u,onVisibleChange:e=>{I(e)},mouseType:"over",mouseEnterDelay:100,mouseLeaveDelay:300,content:!b&&(0,l.jsx)(T,{isLogin:b,onLoginSuccess:R,abTestData:J}),mouseEnter:j,mouseLeave:A,spacing:B,children:(0,l.jsxs)("div",{className:d()(N.default.menuItem),children:[(0,l.jsx)(P.p,{headerPopupName:"recharge",replaceEvenAlreadyExist:!1,children:(0,l.jsx)(C,{onClick:()=>{en()},activityName:D,text:w.a.t("douyin_coin",{},Y.headerName||"充抖币"),icon:(0,l.jsx)(p.Z,{className:N.default.semiIcon}),iconWidth:24,iconHeight:24,iconViewBox:"0 0 24 24",transparent:L,needRenderInSSR:!0})}),(0,l.jsx)("div",{className:d()(N.default.rechargePanelOuter,{[N.default.hidden]:!b}),children:X?(0,l.jsx)(E.k,{componentName:"RechargePanelRemote",children:(0,l.jsx)(U,{showOfficialEntrance:!0,theme:et?y.ThemeValues.Dark:(0,g.Dr)(h.Q.getItem({sKey:y.CookieKeys.Theme}),{themeColorOptimize:null==J?void 0:J.themeColorOptimize}),scene:"pc_topbanner",onShow:()=>{m.logInstance.sendLog("livesdkRechargeShowByContainer",(0,i._)((0,o._)({},ee),{load_type:"vmok",charge_reason:"recharge"}))},onClose:e=>{M.current=!1,z.current=!1,I(!1),m.logInstance.sendLog("livesdkRechargeShowDuration",(0,i._)((0,o._)({},ee),{charge_reason:"recharge",duration:(null==e?void 0:e.duration)||0,if_recharge_success:(null==e?void 0:e.isSuccess)?1:0})),G(!1),K("")},additionalLogParams:ee,onRechargeSuccess:()=>{null==x||x(),m.logInstance.sendLog("livesdkRechargeSuccessByContainer",(0,i._)((0,o._)({},ee),{load_type:"vmok",charge_reason:"recharge"}))}})}):(0,l.jsx)("div",{className:d()(N.default.rechagrePanel,"rechargeMountEl")})})]})})}},53038:function(e,t,n){n.d(t,{K:function(){return a}}),n(874386);var o=n(88648),i=n(480596),l=n(598053),r=n(782442);let a=()=>{var e;let[t,n]=(0,o.useState)((null===(e=r.Le.getConfig(r.gI.TccData))||void 0===e?void 0:e[i.TccKey.PcRechargeConfig])||i.TCC_DEFAULT_VALUE_MAP.get(i.TccKey.PcRechargeConfig));return(0,o.useEffect)(()=>{let e=!1;return(async()=>{let t=await l.get({key:i.TccKey.PcRechargeConfig,defaultValue:i.TCC_DEFAULT_VALUE_MAP.get(i.TccKey.PcRechargeConfig)});!e&&n(t)})(),()=>{e=!0}},[]),{rechargeConfig:t}}},114981:function(e,t,n){n.d(t,{L:function(){return i}}),n(675373),n(874386);var o=n(255686);let i=e=>{let{promotionId:t,originType:n,secAuthorId:i,roomId:l,itemId:r}=e;return Promise.all([(0,o.y3)({promotionId:t,originType:n,secAuthorId:i,roomId:l,itemId:r}),(0,o.$P)({promotionId:t,originType:n})])}},242007:function(e,t,n){n.d(t,{J9:function(){return f},Se:function(){return _},VY:function(){return g}});var o=n(134761),i=n(520739),l=n(878389);n(675373),n(874386);var r=n(340290),a=n(913807),u=n(782442),d=n(419936),c=n.n(d),s=n(289089),m=n(823685);let v={recommendDetail:{},getTime:0,awemeId:void 0,duplicateRemoveAwemeIds:[]},f=new class e{async fetchRelatedRecommendById(e){var t,n,o,a;if(!e)return{};let u=await (0,r.bJ)({awemeId:e,count:1,filterGids:(null===(t=this._relatedRecommendInfo.duplicateRemoveAwemeIds)||void 0===t?void 0:t.map(e=>null==e?void 0:e.awemeId).join(","))||"",subChannelId:4}),d=null==u?void 0:null===(n=u.awemeList)||void 0===n?void 0:n[0];if((null==u?void 0:u.statusCode)===0&&(null==d?void 0:d.awemeId)){let t=(0,l._)((0,i._)({},d),{id:d.awemeId,insertId:e,width:null===(o=d.video)||void 0===o?void 0:o.width,height:null===(a=d.video)||void 0===a?void 0:a.height});return this._relatedRecommendInfo={recommendDetail:t,getTime:Date.now(),awemeId:e},this._relatedRecommendInfo}return{}}async recommendDuplicateRemove(){let{awemeId:e}=this._relatedRecommendInfo.recommendDetail;e&&await (0,a.fetchHomeImpression)({awemeIds:e})}getRelatedRecommendInfoById(e){var t;return e===(null===(t=this._relatedRecommendInfo)||void 0===t?void 0:t.awemeId)?this._relatedRecommendInfo:{}}setRemoveAwemeIds(e){c()(e)&&(this._relatedRecommendInfo.duplicateRemoveAwemeIds=e)}resetInfo(){this._relatedRecommendInfo=v,this._recommendInfoPromise=void 0}get relatedRecommendInfo(){return this._relatedRecommendInfo}get recommendInfoPromise(){return this._recommendInfoPromise}set recommendInfoPromise(e){this._recommendInfoPromise=e}constructor(){(0,o._)(this,"_relatedRecommendInfo",v),(0,o._)(this,"_recommendInfoPromise",void 0)}},_=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=u.Le.getConfig(u.gI.DiscoverRelatedRecommendInfo)||{},i={[m.DiscoverRelatedRecommendType.Off]:[],[m.DiscoverRelatedRecommendType.V1]:s.MD,[m.DiscoverRelatedRecommendType.V2]:s.U_},l=n?[...s.MD,...s.U_]:[],r=i[e]?i[e]:l,a=null==r?void 0:null===(t=r.some)||void 0===t?void 0:t.call(r,e=>!!o[e]),d=s.IU.some(e=>!!o[e]);return!!a&&!d||!1},g=e=>{let{info:t,awemeId:n,abData:o}=e;if(!t){u.Le.setConfig(u.gI.DiscoverRelatedRecommendInfo,{},!1);return}let{awemeId:i,follow:l,unFollow:r}=u.Le.getConfig(u.gI.DiscoverRelatedRecommendInfo)||{};if(n!==i){(null==t?void 0:t.awemeId)&&u.Le.setConfig(u.gI.DiscoverRelatedRecommendInfo,t,!1);return}void 0===l&&(null==t?void 0:t.follow)===!1&&(t.unFollow=!0),void 0!==r&&void 0!==(null==t?void 0:t.follow)&&(t.unFollow=!(null==t?void 0:t.follow)),u.Le.setConfig(u.gI.DiscoverRelatedRecommendInfo,t),_(o,!0)&&!f.recommendInfoPromise&&(f.recommendInfoPromise=f.fetchRelatedRecommendById(n))}},767927:function(e,t,n){n.d(t,{t:function(){return l}});var o=n(88648),i=n(870105);function l(e){let t=(0,i.U)(),n=(0,o.useRef)(!0),l=(0,o.useRef)(e);l.current=e,(0,o.useEffect)(()=>{var e;if("function"!=typeof l.current||!t)return;let o=n.current;return n.current=!1,null===(e=l.current)||void 0===e?void 0:e.call(l,o)},[t])}},870105:function(e,t,n){n.d(t,{U:function(){return r}}),n(874386);var o=n(88648),i=n(244885),l=n(287209);let r=()=>{let e=(0,o.useContext)(i.I),[t,n]=(0,o.useState)(!0);return((0,l.m)(e=>n(e)),e)?e.isActive:t}},235248:function(e,t,n){n.d(t,{t:function(){return l}});var o=n(88648),i=n(244885);let l=()=>{var e;let{ref:t}=null!==(e=(0,o.useContext)(i.I))&&void 0!==e?e:{};return t?t:null}},900674:function(e,t,n){n.d(t,{v:function(){return o}});let o=(0,n(88648).createContext)(null)},474932:function(e,t,n){n.d(t,{m:function(){return u},w:function(){return a}});var o=n(520739);n(675373);var i=n(496349),l=n(231755);let{COMMON_SEARCH_PARAMS:r}=i||{};async function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=await (0,l.v_)("/aweme/v1/web/commit/dislike/item/",(0,o._)({aweme_id:e},r),{aweme_id:e}),n=t.status_code;return{statusCode:n,errMsg:0===n||t.status_msg?t.status_msg:"啊哦，服务器打瞌睡了"}}async function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=await (0,l.v_)("/aweme/v1/web/dislike/dimension/update/",(0,o._)({aweme_id:e,block_type:2},r),{aweme_id:e}),n=t.status_code;return{statusCode:n,errMsg:0===n||t.status_msg?t.status_msg:"啊哦，服务器打瞌睡了"}}},255686:function(e,t,n){n.d(t,{$P:function(){return k},FE:function(){return O},G:function(){return E},N7:function(){return T},Q2:function(){return I},Sn:function(){return S},Ws:function(){return C},XK:function(){return y},XQ:function(){return b},YB:function(){return L},du:function(){return R},jZ:function(){return N},w:function(){return x},y3:function(){return P}});var o=n(520739),i=n(878389),l=n(368200);n(675373),n(779788);var r=n(496349),a=n(871212),u=n(231755),d=n(349135),c=n(138871),s=n.n(c);let{COMMON_SEARCH_PARAMS:m}=r;function v(e){var t,n,o;return{text:null!==(t=null==e?void 0:e.text)&&void 0!==t?t:"",iconUrl:null!==(n=null==e?void 0:e.icon_url)&&void 0!==n?n:"",jumpUrl:null!==(o=null==e?void 0:e.jump_url)&&void 0!==o?o:""}}function f(e){var t,n,o,i;return{userAvatar:null!==(t=null==e?void 0:e.user_avatar)&&void 0!==t?t:"",userNickname:null!==(n=null==e?void 0:e.user_nickname)&&void 0!==n?n:"",text:null!==(o=null==e?void 0:e.text)&&void 0!==o?o:"",imageList:null!==(i=null==e?void 0:e.image_list)&&void 0!==i?i:[]}}function _(e){var t,n,o,i,l;return{image:null!==(t=null==e?void 0:e.image)&&void 0!==t?t:"",name:null!==(n=null==e?void 0:e.name)&&void 0!==n?n:"",price:(o=Number(null==e?void 0:e.price)/100,o),sales:null!==(i=null==e?void 0:e.sales)&&void 0!==i?i:0,productUrl:null!==(l=null==e?void 0:e.product_url)&&void 0!==l?l:""}}function g(e){var t,n,o,i,l,r,a,u,d,c,s,m,_,g,h,w,p,y,b,I,x,R,L,C,N,S,P,k,O,E,T,U,D,j,A,B,J,W,M,z,F,H,V,$,q,K;let{item_info:Q,status_code:Z,log_pb:X}=e;return{statusCode:Z,logPb:null!==(k=null==X?void 0:X.impr_id)&&void 0!==k?k:"",itemInfo:{productInfo:{name:null!==(O=null==Q?void 0:null===(t=Q.product_info)||void 0===t?void 0:t.name)&&void 0!==O?O:"",price:(E=Number(null==Q?void 0:null===(n=Q.product_info)||void 0===n?void 0:n.price)/100,E),promiseTextList:null!==(T=null==Q?void 0:null===(o=Q.product_info)||void 0===o?void 0:o.promise_text_list)&&void 0!==T?T:[],logisticsTextList:null!==(U=null==Q?void 0:null===(i=Q.product_info)||void 0===i?void 0:i.logistics_text_list)&&void 0!==U?U:[],imageUrlList:null!==(D=null==Q?void 0:null===(l=Q.product_info)||void 0===l?void 0:l.image_url_list)&&void 0!==D?D:[],scheme:null!==(j=null==Q?void 0:null===(r=Q.product_info)||void 0===r?void 0:r.scheme)&&void 0!==j?j:"",schemeQRcodeBase64:null!==(A=null==Q?void 0:null===(a=Q.product_info)||void 0===a?void 0:a.scheme_qrcode_base64)&&void 0!==A?A:""},shopInfo:{name:null!==(B=null==Q?void 0:null===(u=Q.shop_info)||void 0===u?void 0:u.name)&&void 0!==B?B:"",image:null!==(J=null==Q?void 0:null===(d=Q.shop_info)||void 0===d?void 0:d.image)&&void 0!==J?J:"",label:v(null==Q?void 0:null===(c=Q.shop_info)||void 0===c?void 0:c.label),score:null!==(W=null==Q?void 0:null===(s=Q.shop_info)||void 0===s?void 0:s.score)&&void 0!==W?W:0,percent:null!==(M=null==Q?void 0:null===(m=Q.shop_info)||void 0===m?void 0:m.percent)&&void 0!==M?M:0,tagList:null!==(z=null==Q?void 0:null===(h=Q.shop_info)||void 0===h?void 0:null===(g=h.tag_list)||void 0===g?void 0:null===(_=g.map)||void 0===_?void 0:_.call(g,v))&&void 0!==z?z:[],accountName:null!==(F=null==Q?void 0:null===(w=Q.shop_info)||void 0===w?void 0:w.account_name)&&void 0!==F?F:""},commentInfo:{totalCount:null!==(H=null==Q?void 0:null===(p=Q.comment_info)||void 0===p?void 0:p.total_count)&&void 0!==H?H:0,tagList:null!==(V=null==Q?void 0:null===(y=Q.comment_info)||void 0===y?void 0:y.tag_list)&&void 0!==V?V:[],commentList:null!==($=null==Q?void 0:null===(x=Q.comment_info)||void 0===x?void 0:null===(I=x.comment_list)||void 0===I?void 0:null===(b=I.map)||void 0===b?void 0:b.call(I,f))&&void 0!==$?$:[]},extraInfo:{productParams:null!==(q=null==Q?void 0:null===(C=Q.extra_info)||void 0===C?void 0:null===(L=C.product_params)||void 0===L?void 0:null===(R=L.map)||void 0===R?void 0:R.call(L,e=>{var t,n;return{name:null!==(t=e.name)&&void 0!==t?t:"",value:null!==(n=e.value)&&void 0!==n?n:""}}))&&void 0!==q?q:[],detailImageList:null!==(K=null==Q?void 0:null===(P=Q.extra_info)||void 0===P?void 0:null===(S=P.detail_image_list)||void 0===S?void 0:null===(N=S.map)||void 0===N?void 0:N.call(S,e=>null!=e?e:""))&&void 0!==K?K:[]}}}}function h(e){var t;let{status_code:n,product_preview_list:o,log_pb:i}=e;return{statusCode:n,logPb:null!==(t=null==i?void 0:i.impr_id)&&void 0!==t?t:"",productPreviewList:null==o?void 0:o.map(e=>_(e))}}function w(e){var t,n;let{status_code:o,video_info_list:i,has_product_data:l,product_card:r,log_pb:a}=e;return{statusCode:o,logPb:null!==(t=null==a?void 0:a.impr_id)&&void 0!==t?t:"",videoInfoList:null!==(n=null==i?void 0:i.map(e=>(0,d.s0)(e)))&&void 0!==n?n:[],hasProductData:null!=l&&l,productCard:l?_(r):void 0}}function p(e){let{promotions:t=[],top_promotion:n,target_promotions:o=[],status_code:i,next_offset:l=-1,log_id:r,page_header:a,page_hint:u}=e||{};return{statusCode:i,promotions:t,topPromotion:n,targetPromotions:o,nextOffset:l,logId:r,pageHeader:a,pageHint:u}}async function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=await (0,u.U2)("/aweme/v1/web/seo/ecom/detail/product_meta",(0,i._)((0,o._)({},m),{product_id:e}),{},void 0,t,{});return(0,d.RL)(n,g)}async function b(e){let{productId:t="0",itemId:n,needProductCard:l=!1}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=await (0,u.U2)("/aweme/v1/web/seo/ecom/detail/related_video",(0,i._)((0,o._)({},m),{product_id:t,item_id:n,need_product_card:l}),{},void 0,r,{});return(0,d.RL)(a,w)}async function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=await (0,u.U2)("/aweme/v1/web/seo/ecom/detail/recommend_product",(0,i._)((0,o._)({},m),{product_id:e}),{},void 0,t,{});return(0,d.RL)(n,h)}async function x(e){let{roomId:t,authorId:n,offset:l,limit:r=20}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=await (0,u.v_)("/live/promotions/page/",(0,i._)((0,o._)({},m),{room_id:t,author_id:n,offset:l,limit:r}),{},void 0,a);return(0,d.RL)(c,p)}async function R(e){let{roomId:t,authorId:n}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,u.v_)("/live/promotions/page/top/",(0,i._)((0,o._)({},m),{room_id:t,author_id:n}),{},void 0,l)}async function L(e,t){let{roomId:n,authorId:r,productId:a}=e;return(0,l._)(e,["roomId","authorId","productId"]),await (0,u.U2)(t,(0,o._)((0,i._)((0,o._)({},m),{room_id:n,author_id:r,product_infos:JSON.stringify([{product_id:a}])}),e),{},void 0,null)}async function C(e){return(0,u.U2)("/aweme/v1/commerce/order/getUserAuth/",(0,i._)((0,o._)({},m),{user_id:e,app_id:a.APP_ID}))}async function N(e){return(0,u.U2)("/aweme/v1/commerce/order/saveUserAuth/",(0,i._)((0,o._)({},m),{user_id:e,app_id:a.APP_ID,auth_flag:1}))}async function S(e){let{roomId:t,authorId:n,liveSceneId:l=0,entranceInfo:r}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,u.U2)("/live/promotions/pop/v3/",(0,i._)((0,o._)({},m),{room_id:t,author_id:n,live_scene_id:l,entrance_info:r}),{},void 0,a)}async function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{promotionId:n,originType:i,roomId:l,secAuthorId:r,itemId:a}=e||{};return await (0,u.v_)("/ecom/product/detail/saas/pc/",(0,o._)({is_h5:1,origin_type:i},m),{is_h5:1,use_new_price:1,bff_type:2,room_id:l,live_room_id:l,item_id:a,sec_author_id:r,origin_type:i,promotion_ids:String(n),ec_promotion_id:n},void 0,t)}async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{promotionId:n,originType:o}=e||{};return await (0,u.v_)("/aweme/v2/shop/promotion/pack/detail/",{is_h5:1,origin_type:o},{is_h5:1,bff_type:2,origin_type:o,promotion_id:n},void 0,t)}async function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{productId:n,shopId:l,cursor:r,count:a,statId:d,tagId:c,sortType:v}=e||{};return await (0,u.U2)("/aweme/v1/web/ecom/product/comments/",(0,i._)((0,o._)({},m),{product_id:n,shop_id:l,cursor:r,count:a,stat_id:d,tag_id:c,sort_type:v}),{transformResponse:e=>s().parse(e)},void 0,t)}async function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{productId:n,shopId:l,statId:r}=e||{};return await (0,u.U2)("/aweme/v1/web/ecom/product/comment/counter/",(0,i._)((0,o._)({},m),{product_id:n,shop_id:l,stat_id:r}),{},void 0,t)}async function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{commentId:n,action:o}=e;return await (0,u.v_)("/aweme/v1/web/ecom/comment/action/",m,{comment_id:n,action:o},void 0,t)}},576669:function(e,t,n){n.d(t,{FF:function(){return w},HN:function(){return p},Lz:function(){return C},MQ:function(){return R},Zl:function(){return L},iv:function(){return b},nQ:function(){return y},vf:function(){return x}});var o=n(520739),i=n(878389);n(779788),n(675373);var l=n(746864),r=n(14108),a=n(658065),u=n(496349),d=n(349135),c=n(231755);let{COMMON_SEARCH_PARAMS:s,CHANNEL_PC_WEB:m}=u||{};function v(e){let{aweme_list:t,has_more:n,item_id_to_episode:o,status_code:i,cursor:l,log_pb:r}=e,a={};try{a=JSON.parse(o)}catch(e){}return{logPb:r&&JSON.stringify(r),itemIdToEpisode:a,statusCode:i||0,hasMore:n,cursor:l,data:(0,d.TN)({awemeList:t||[],logPb:r&&JSON.stringify(r)})||[]}}function f(e){let{aweme_list:t,has_more:n,status_code:o,max_cursor:i,log_pb:l}=e;return{logPb:l&&JSON.stringify(l),statusCode:o||0,hasMore:n,cursor:i,data:(0,d.TN)({awemeList:t||[],logPb:l&&JSON.stringify(l)})||[]}}function _(e){let{mix_infos:t,has_more:n,status_code:o,cursor:i,total:l,log_pb:r}=e;return{statusCode:o,hasMore:n,cursor:i,total:l,logPb:r&&JSON.stringify(r),data:(0,d.NR)(t||[])}}function g(e){let{extra:t,logId:n,log_pb:o,status_code:i,status_msg:l}=e,r="";try{r=JSON.stringify(o)}catch(e){}return{extra:t,logId:n,logPb:r,statusCode:i,statusMsg:l}}function h(e){let{extra:t,logId:n,log_pb:o,status_code:i,status_msg:l}=e,r="";try{r=JSON.stringify(o)}catch(e){}return{extra:t,logId:n,logPb:r,statusCode:i,statusMsg:l}}async function w(e){let{mixId:t,cursor:n,count:l=12,mixScene:r}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=await (0,c.U2)("/aweme/v1/web/mix/aweme/",(0,i._)((0,o._)({},s),{mix_id:t,cursor:Math.max(n,0),count:l,mix_scene:r}),{errorTags:{mixId:t}},void 0,a,{}),m=(0,d.RL)(u,v);return(null==m?void 0:m.data)&&m.data.forEach(e=>{e.logPb=m.logPb}),m}async function p(e){let{uid:t,cursor:n=0,count:l=12,listScene:r}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=await (0,c.U2)("/aweme/v1/web/mix/list/",(0,i._)((0,o._)({},s),{sec_user_id:t,req_from:m,cursor:n,count:l,list_scene:r}),{errorTags:{uid:t}},void 0,a,{});return(0,d.RL)(u,_)}function y(e,t,n){var o,i,u,d;let{currentEpisode:c}=(null==n?void 0:null===(o=n.seriesInfo)||void 0===o?void 0:o.seriesId)?null==n?void 0:n.seriesInfo:(null==n?void 0:n.mixInfo)||{},{data:s,currentEpisode:m}=(null==n?void 0:null===(i=n.seriesInfo)||void 0===i?void 0:i.seriesId)?t:e||{};if(m!==c)return!1;if(null==s?void 0:s.length){for(let e=0;e<s.length;e++)if((null===(u=s[e])||void 0===u?void 0:u.mixInfo.currentEpisode)===m&&(null==s?void 0:null===(d=s[e+1])||void 0===d?void 0:d.awemeId)){let t=null==s?void 0:s[e+1];return{awemeId:null==t?void 0:t.awemeId,url:(null==t?void 0:t.awemeType)===l.e.Note?(0,r.Wr)(null==t?void 0:t.awemeId,`previous_page=${(0,a.yW)()||""}`):(0,r.$N)(null==t?void 0:t.awemeId,`previous_page=${(0,a.yW)()||""}`),img:null==t?void 0:t.video.cover,desc:`第${null==t?void 0:t.mixInfo.currentEpisode}集 | ${null==t?void 0:t.desc}`}}}return!1}async function b(e){let{mixId:t,totalEpisode:n,currentEpisode:o,count:i}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Math.max(Math.min(o-1,n-i),0),{statusCode:a,data:u,hasMore:d,cursor:c,logPb:s}=await w({mixId:t,cursor:r,count:i},l);return{mixId:t,statusCode:a,data:u,currentEpisode:o,hasMore:d,cursor:0===a?c:r,logPb:s}}function I(e){let{mix_info:t,status_code:n,log_pb:o}=e;return{mixInfo:(0,d.BH)(t),statusCode:n,logPb:o}}async function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:n}=e,l=await (0,c.U2)("/aweme/v1/web/mix/detail/",(0,i._)((0,o._)({},s),{mix_id:n,req_from:m}),{},void 0,t,{});return(0,d.RL)(l,I)}async function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:n,action:l}=e,r=await (0,c.U2)("/aweme/v1/web/mix/collect/",(0,i._)((0,o._)({},s),{mix_id:n,action:l}),{},void 0,t,{});return(0,d.RL)(r,g)}async function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:n,episode:l,awemeId:r,scene:a}=e,u=await (0,c.U2)("/aweme/v1/web/mix/watch/record/",(0,i._)((0,o._)({},s),{mix_id:n,episode:l,item_id:r,scene:a}),{},void 0,t,{});return(0,d.RL)(u,h)}async function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{albumId:n,cursor:l,count:r=12,pullType:a=2}=e,u=await (0,c.U2)("/aweme/v1/web/minor/album/items/",(0,i._)((0,o._)({},s),{album_id:n,count:r,pull_type:a,cursor:l}),{},void 0,t,{});return(0,d.RL)(u,f)}},405039:function(e,t,n){n.d(t,{T:function(){return d},a:function(){return u}});var o=n(520739),i=n(878389);n(675373);var l=n(496349),r=n(231755);let{COMMON_SEARCH_PARAMS:a}=l||{},u=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return await (0,r.v_)("/aweme/v1/web/familiar/recommend/submit",(0,i._)((0,o._)({},a),{app_name:"douyin_web",device_platform:""}),{type:2,item_id:e,source:0,is_friend_recommend:t},{})},d=async e=>await (0,r.v_)("/aweme/v1/web/familiar/recommend/cancel",(0,i._)((0,o._)({},a),{app_name:"douyin_web",device_platform:""}),{type:2,item_id:e,source:0},{})},340290:function(e,t,n){n.d(t,{Ts:function(){return s},WW:function(){return v},bJ:function(){return m}});var o=n(520739),i=n(878389);n(779788),n(675373),n(209955);var l=n(496349),r=n(349135),a=n(231755),u=n(913807);let{COMMON_SEARCH_PARAMS:d}=l;function c(e){let{aweme_list:t=[],status_code:n,has_more:o,log_pb:i}=e;return{logPb:i&&JSON.stringify(i),statusCode:n,hasMore:o,awemeList:(0,r.TN)({awemeList:t,logPb:i&&JSON.stringify(i)})}}let s="/aweme/v1/web/aweme/related/";async function m(e){let{awemeId:t,count:n=6,filterGids:l="",seoFlag:m=0,subChannelId:v=0,refreshIndex:f}=e,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,g=await (0,a.U2)(s,(0,i._)((0,o._)({},d),{aweme_id:t,count:n,filterGids:l,awemePcRecRawData:(0,u.getAwemePcRecRawData)(_),sub_channel_id:v,"Seo-Flag":m,refresh_index:f}),{errorTags:{awemeId:t}},void 0,_,{}),h=(0,r.RL)(g,c);return h.awemeList&&h.awemeList.forEach(e=>{e.logPb=h.logPb}),h}async function v(e){let{awemeId:t,count:n=1}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{status_code:r,aweme_id:c,desc:s,duration:m,cover:v,extra:f}=await (0,a.U2)("/aweme/v1/web/related/video/lite",(0,i._)((0,o._)({},d),{aweme_id:t,count:n,awemePcRecRawData:(0,u.getAwemePcRecRawData)(l,{is_related_hover:1}),channel:"channel_pc_web"}),{errorTags:{awemeId:t}},void 0,l,{});if(r)throw Error();return{awemeId:c,title:s,duration:m,cover:null==v?void 0:v[0],debugInfo:JSON.parse(f||"null")}}},577094:function(e,t,n){n.d(t,{F8:function(){return m},Ts:function(){return f},Ws:function(){return s},d0:function(){return _},hl:function(){return g}});var o=n(520739),i=n(878389);n(268917),n(779788),n(675373);var l=n(496349),r=n(231755),a=n(349135);n(658016);var u=n(105600);let{COMMON_SEARCH_PARAMS:d}=l;function c(e){let{status_code:t,link_data:n=[],show_pos:o=0}=e;return{statusCode:t,data:n.map(e=>{let{link_type:t=0,count:n=0,link_list:o=[]}=e;return{type:t,count:n,links:o}}),showPos:null!=o?o:0}}async function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,l=await (0,r.U2)("/aweme/v1/web/seo/inner/link/",(0,i._)((0,o._)({},d),{entity_id:t,entity_type:n}),{},void 0,e,{});return(0,a.RL)(l,c)}async function m(){let{count:e=2}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],{statusCode:-1,data:[]}}function v(e){var t;let{status_code:n,status_msg:o,data:i,log_pb:l}=e;return{statusCode:n,statusMsg:o,data:null==i?void 0:i.map(e=>({targetId:e.target_id,hitStatus:e.hit_status})),logPb:null!==(t=null==l?void 0:l.impr_id)&&void 0!==t?t:""}}async function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=await (0,r.U2)("/aweme/v1/web/seo/judge/whitelist/",(0,i._)((0,o._)({},d),{target_ids:e}),{},void 0,t,{});return(0,a.RL)(n,v)}async function _(e){let{awemeId:t,url:n}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=await (0,r.U2)("/aweme/v1/web/seo/keyword/related/",(0,i._)((0,o._)({},d),{itemIds:t,url:n}),{},void 0,l,{});return(0,a.RL)(u,e=>(0,a.Fo)(e,t))}async function g(e){let{awemeId:t="",secUid:n="",entityType:l=u.EntityType.Video,cusotmConfig:c={},entityId:s=""}=e,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=await (0,r.U2)("/aweme/v1/web/seo/detail/links/",(0,i._)((0,o._)({},d),{aweme_id:t,entity_type:l,sec_uid:n,entity_id:s}),{},void 0,m,{});return(0,a.RL)(v,e=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{links_list:n,status_code:o,log_pb:i}=e,l=[];return(n||[]).forEach(e=>{l.push({moduleSource:e.module_source,moduleTitle:e.module_title,isShowUserUrl:e.is_show_user_url,list:(0,a.TN)({awemeList:null==e?void 0:e.aweme_list,logPb:i,config:t}),linkList:(0,a.uJ)({linkList:null==e?void 0:e.link_list})})}),{statusCode:0===o?0:-1,detail:l,logPb:i&&JSON.stringify(i)}})(e,c))}},366334:function(e,t,n){n.d(t,{A4:function(){return L},DS:function(){return x},Id:function(){return b},NN:function(){return m},Rh:function(){return _},XL:function(){return y},bV:function(){return C},fd:function(){return h},v6:function(){return v}});var o=n(520739),i=n(878389);n(779788),n(675373);var l=n(496349),r=n(493523),a=n(349135),u=n(231755),d=n(237156);let{COMMON_SEARCH_PARAMS:c}=l||{};function s(e){let{aweme_list:t=[],status_code:n,log_pb:o,position:i,is_force_insert:l=!1}=e;return{statusCode:n,position:i,isForceInsert:l,hasMore:!0,awemeList:(0,a.TN)({awemeList:t||[],logPb:o&&JSON.stringify(o)}),logPb:o&&JSON.stringify(o)}}async function m(){let{tagId:e="",count:t=10,refreshIndex:n=1,globalwid:l="",pullType:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,m=await (0,u.U2)("/aweme/v1/web/tab/feed/",(0,i._)((0,o._)({},c),{tag_id:e,count:t,refresh_index:n,video_type_select:1,globalwid:l,pull_type:r}),{errorTags:{tagId:e}},void 0,d,{});return(0,a.RL)(m,s)}async function v(e){let{count:t=10,refreshIndex:n=1,scene:l="recommend"}=e||{},r=await (0,u.v_)("/aweme/v2/web/tab_listen/feed/",(0,i._)((0,o._)({},c),{count:t,pull_type:2,refresh_index:n,web_listen_feed_scene:l}),{},void 0,null);return(0,a.RL)(r,s)}function f(e){let{status_code:t,log_pb:n,ch_info:o}=e;return{statusCode:t,info:(0,a.P$)(o),logPb:n&&JSON.stringify(n)}}async function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{chId:n,queryType:l=0}=e,r=await (0,u.U2)("/aweme/v1/web/challenge/detail/",(0,i._)((0,o._)({},c),{ch_id:n,query_type:l}),{},void 0,t,{});return(0,a.RL)(r,f)}function g(e){let{aweme_list:t=[],status_code:n,log_pb:o,has_more:i,cursor:l}=e;return{statusCode:n,awemeList:(0,a.TN)({awemeList:t||[],logPb:o&&JSON.stringify(o)}),logPb:o&&JSON.stringify(o),hasMore:i,cursor:l}}async function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{chId:n,hashtagName:l,queryType:r=0,sortType:s=d.H.Comprehensive,count:m,cursor:v,isCommerce:f=!1}=e,_=await (0,u.U2)(f?"/aweme/v1/web/commerce/challenge/aweme/":"/aweme/v1/web/challenge/aweme/",(0,i._)((0,o._)({},c),{ch_id:n,hashtag_name:l,query_type:r,sort_type:f?0:s,offset:v,cursor:v,count:m}),{},void 0,t,{});return(0,a.RL)(_,g)}function w(e){let{music_info:t,status_code:n,log_pb:o}=e;return{statusCode:n,musicInfo:(0,a.o0)(t),logPb:o&&JSON.stringify(o)}}function p(e){let{music_info:t,status_code:n,log_pb:o,msg:i,res_list:l,extra:r}=e,a="";try{a=JSON.stringify(o)}catch(e){}return{musicInfo:t,statusCode:n,logPb:a,msg:i,resList:l,extra:r}}async function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{musicId:n,scene:l=1}=e,r=await (0,u.U2)("/aweme/v1/web/music/detail/",(0,i._)((0,o._)({},c),{music_id:n,scene:l}),{},void 0,t,{});return(0,a.RL)(r,w)}async function b(e){let{musicId:t,action:n}=e,i=await (0,u.v_)("/aweme/v1/web/music/collect/",(0,o._)({},c),{music_id:t,type:n,action:n},void 0,null);return(0,a.RL)(i,p)}function I(e){let{aweme_list:t=[],status_code:n,log_pb:o,has_more:i,cursor:l}=e;return{statusCode:n,awemeList:(0,a.TN)({awemeList:t||[],logPb:o&&JSON.stringify(o)}),logPb:o&&JSON.stringify(o),hasMore:i,cursor:l}}async function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{musicId:n,count:l=10,cursor:r}=e,d=await (0,u.U2)("/aweme/v1/web/music/aweme/",(0,i._)((0,o._)({},c),{count:l,cursor:r,music_id:n}),{},void 0,t,{});return(0,a.RL)(d,I)}function R(e){let{extra:t,cursor:n,status_code:o,has_more:i,challenge_list:l=[],qs:r,is_match:u,keyword_disabled:d}=e;return{statusCode:o,hasMore:i,challengeList:(null==l?void 0:l.map(e=>(0,a.P$)(null==e?void 0:e.challenge_info)))||[],qs:r,isMatch:u,cursor:n,keywordDisabled:d,extra:{now:null==t?void 0:t.now,logid:null==t?void 0:t.logid}}}async function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{keyword:n,count:l=10,cursor:r}=e,d=await (0,u.U2)("/aweme/v1/web/challenge/search/",(0,i._)((0,o._)({},c),{count:l,cursor:r,keyword:n}),{},void 0,t,{});return(0,a.RL)(d,R)}async function C(){let{scene:e=r.t.PcOftenWatch,ids:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],0===t.filter(e=>e).length)return;let n=await (0,u.v_)("/aweme/v1/web/write/impression/",(0,o._)({},c),{scene:e,ids:t.join(" ")});return(0,a.RL)(n,s)}},28237:function(e,t,n){n.d(t,{R:function(){return d},n:function(){return u}}),n(250440);var o=n(256277),i=n(32167),l=n(658065),r=n(577786),a=n(669201);let u=e=>{var t,n,o,i,l,r,u;return(null==e?void 0:null===(t=e.anchorInfo)||void 0===t?void 0:t.type)===a.as.AnchorShop&&(null==e?void 0:null===(i=e.anchorInfo)||void 0===i?void 0:null===(o=i.extra)||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:n.product_detail_schema)&&[1,4].includes(Number(null==e?void 0:null===(u=e.anchorInfo)||void 0===u?void 0:null===(r=u.extra)||void 0===r?void 0:null===(l=r[0])||void 0===l?void 0:l.platform))},d=e=>{var t,n,a,u;let d=(null==e?void 0:null===(n=e.anchorInfo)||void 0===n?void 0:null===(t=n.extra)||void 0===t?void 0:t[0])||{},c=(0,o.Rx)(e)||{};return{source_page:(0,i.mo)(),enter_from:(0,i.mo)(),enter_from_merge:(0,l.yW)(),group_id:e.awemeId,content_id:e.awemeId,author_id:null===(a=e.authorInfo)||void 0===a?void 0:a.uid,follow_status:(0,r.F)(null===(u=e.authorInfo)||void 0===u?void 0:u.followStatus)?"1":"0",commodity_id:d.promotion_id||"",commodity_type:d.promotion_source||"",product_id:d.product_id||"",cid:c.creative_id}}},611243:function(e,t,n){n.d(t,{y:function(){return c}});var o=n(88648),i=n(309931);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,l=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(l.push(o.value),!t||l.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(a)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".wallet_recharge{line-height:0;position:relative}.wallet_recharge .wallet_recharge_loading_box{align-items:center;background-color:#f9f9fa;border-radius:16px;box-shadow:0 0 24px 0 rgba(0,0,0,.1);display:flex;flex-flow:row nowrap;height:226px;justify-content:center;left:0;position:absolute;top:0;width:516px;z-index:100}.wallet_recharge .wallet_recharge_loading_box.hide{display:none}.wallet_recharge .wallet_recharge_loading_box .wallet_recharge_loading{-webkit-animation:wallet_recharge_loading 1s steps(60,start) infinite;animation:wallet_recharge_loading 1s steps(60,start) infinite;background-image:url(https://p3-liveact.byteimg.com/tos-cn-i-lkdc6loazq/liveact/v2/image/act/liveact-common-material/f0ac0799ca2a4dc0b247cfb75148ea7b~tplv-lkdc6loazq-png.png);background-size:48px;box-sizing:border-box;display:inline-block;font-size:0;height:48px;transform:scale(.7);width:48px}.wallet_recharge .webcast_recharge_iframe{border-radius:16px;box-shadow:0 0 24px 0 rgba(0,0,0,.1);opacity:0;position:relative;z-index:200}.wallet_recharge .webcast_recharge_iframe.webcast_recharge_iframe_loaded{opacity:1}.wallet_recharge.wallet_recharge_fullscreen{height:100vh;left:0;position:fixed;top:0;width:100vw;z-index:9999}.wallet_recharge.wallet_recharge_fullscreen .wallet_recharge_loading_box{left:50%;margin-left:-258px;margin-top:-113px;top:50%}.wallet_recharge.wallet_recharge_dark .wallet_recharge_loading_box{background-color:#252632;box-shadow:0 0 24px 0 rgba(0,0,0,.4)}.wallet_recharge.wallet_recharge_dark .webcast_recharge_iframe{box-shadow:0 0 24px 0 rgba(0,0,0,.4)}@-webkit-keyframes wallet_recharge_loading{to{background-position-y:-2880px}}@keyframes wallet_recharge_loading{to{background-position-y:-2880px}}");var u=function(e){var t,n,i,a=e.appId,u=e.onCombosItemClick,d=e.onSuccess,c=e.onShow,s=e.onClose,m=e.type,v=e.balance,f=e.amount,_=e.extra,g=e.isFullScreen,h=e.scene,w=e.additionalLogParams,p=e.requestPublicParams,y=e.onCloseButtonClick,b=e.theme,I=e.autoNext,x=e.autoNextHtml,R=e.onAutoNextChange,L=e.selectDefaultCombo,C=e.showOfficialEntrance,N=e.showRechargeResult,S=r((0,o.useState)(!1),2),P=S[0],k=S[1],O=r((0,o.useState)({width:516,height:226}),2),E=O[0],T=O[1],U=(0,o.useRef)((new Date).getTime()),D=(0,o.useRef)(!1);return(0,o.useEffect)(function(){var e=function(e){var t,n,o,i,l,r,a=e||window.event||{};switch(null===(t=null==a?void 0:a.data)||void 0===t?void 0:t.command){case"close":null==y||y();break;case"success":D.current=!0,null==d||d(null===(n=a.data)||void 0===n?void 0:n.payload);break;case"combos-item-click":null==u||u(null===(o=null==a?void 0:a.data)||void 0===o?void 0:o.payload);break;case"resize":g||T(null===(i=a.data)||void 0===i?void 0:i.payload);break;case"auto-next-change":null==R||R(null===(r=null===(l=a.data)||void 0===l?void 0:l.payload)||void 0===r?void 0:r.checked)}};return null==c||c(),window.addEventListener("message",e),function(){window.removeEventListener("message",e)}},[]),(0,o.useEffect)(function(){return function(){var e=(new Date).getTime()-U.current;null==s||s({duration:e,isSuccess:D.current})}},[]),o.createElement("div",{className:"\n        wallet_recharge\n        ".concat(g?"wallet_recharge_fullscreen":"","\n        ").concat(b?"wallet_recharge_".concat(b):"wallet_recharge_light","\n      ")},o.createElement("div",{className:"wallet_recharge_loading_box ".concat(P?"hide":"show")},o.createElement("div",{className:"wallet_recharge_loading"})),o.createElement("iframe",{className:"webcast_recharge_iframe ".concat(P?"webcast_recharge_iframe_loaded":""),marginWidth:0,marginHeight:0,frameBorder:"0",width:g?"100%":E.width,height:g?"100%":E.height,src:(t="/falcon/webcast_douyin/page/live_recharge_v2/index.html",n=Object.assign({app_id:void 0===a?1128:a,type:m,balance:v,amount:f,isFullScreen:g,scene:h,additionalLogParams:w,theme:b,autoNext:I,autoNextHtml:x,selectDefaultCombo:L,showOfficialEntrance:C,requestPublicParams:p,showRechargeResult:N},void 0===_?{}:_),i=[],Object.keys(n).forEach(function(e){var t=n[e];void 0!==t&&("object"===l(t)&&(t=JSON.stringify(t)),i.push("".concat(e,"=").concat(encodeURIComponent(t))))}),-1===t.search(/\?/)?t+="?".concat(i.join("&")):t+="&".concat(i.join("&")),t),onLoad:function(){k(!0)}}))},d=[],c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.el,n=void 0===t?"wallet_recharge_container":t,l={showRecharge:function(){},hideRecharge:function(){},updateRecharge:function(){},hideOtherRecharge:function(){}},r=function(){var t=e.container;return"string"==typeof t?document.getElementsByClassName(t)[0]||document.body:"function"==typeof t?t()||document.body:t||document.body},a=function(e){var t=e.getElementsByClassName(n)[0];return t||((t=document.createElement("div")).className=n,e.appendChild(t)),t},c=function(e){d.find(function(t){return t.mountNode&&t.mountNode===e.mountNode})||d.push(e)},s=function(e){var t=d.findIndex(function(t){return t.mountNode&&t.mountNode===e});t>=0&&d.splice(t,1)},m=function(e){var t=a(e||r());s(t),t&&(i.unmountComponentAtNode(t),t.remove())};return l={showRecharge:function(e){var t=e.appId,n=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)0>t.indexOf(o[i])&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["appId"]),d=r(),s=a(d),v=d===document.body;l.mountNode=s,c(l),i.render(o.createElement(u,Object.assign({appId:void 0===t?1128:t,isFullScreen:v,onCloseButtonClick:function(){m(d)}},n)),s)},updateRecharge:function(e){var t,n=r(),o=null==n?void 0:n.querySelectorAll("iframe.webcast_recharge_iframe")[0];o&&(null===(t=o.contentWindow)||void 0===t||t.postMessage({command:"update-props",payload:e},"*"))},hideRecharge:m,hideOtherRecharge:function(){d.forEach(function(e){e.hideRecharge!==m&&e.hideRecharge()})}}}}}]);