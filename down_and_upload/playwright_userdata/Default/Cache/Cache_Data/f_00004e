"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["75935"],{236734:function(e,t,n){n.d(t,{Hv:function(){return y},JL:function(){return h},Tw:function(){return I},Xq:function(){return f},ao:function(){return p},hF:function(){return m},sb:function(){return g}});var i,o=n(520739),r=n(878389);n(779788),n(209955);var l=n(567754),a=n(44905),u=n(270414),_=n(358354),s=n(782563),d=n(63746);let c=(null===(i=(0,a.Es)())||void 0===i?void 0:i.user_unique_id)||"",v={webid:c,device_id:c,app_name:"douyin_web"},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.ZP.get("/webcast/gift/list/",{params:(0,o._)((0,r._)((0,o._)({},(0,u.f)(),(0,_.F)({}),v),{webcast_sdk_version:2450}),e)})},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.ZP.get("/webcast/assets/effects/",{params:(0,o._)((0,r._)((0,o._)({},(0,u.f)(),(0,_.F)({}),v),{webcast_sdk_version:2450}),e)})},h=e=>d.ZP.get("/webcast/gift/extra/",{params:(0,o._)((0,r._)((0,o._)({},(0,u.f)(),(0,_.F)({}),v),{webcast_sdk_version:2450}),e)}),I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.ZP.get("/webcast/gift/detail/",{params:(0,o._)((0,r._)((0,o._)({},(0,u.f)(),(0,_.F)({}),v),{webcast_sdk_version:2450}),e)})},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.tags_extra)try{let t=JSON.parse(e.tags_extra);t.is_client=(0,s.DT)(),e.tags_extra=JSON.stringify(t)}catch(e){throw Error("tags_extra is not a valid JSON string")}else e.tags_extra=JSON.stringify({is_client:(0,s.DT)()});return((null==e?void 0:e.plugin_info)||(null==e?void 0:e.plugin_id))&&delete e.buff_level,d.ZP.post("/webcast/gift/send/",(0,l.stringify)((0,o._)({},e)),{headers:{"Content-Type":"application/x-www-form-urlencoded"},params:(0,o._)({},(0,u.f)(),(0,_.F)({}),v)})},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.ZP.get("/webcast/wallet/info/",{params:(0,o._)({},e)})},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.ZP.get("/webcast/web/user/layer/",{params:(0,o._)({},e)})}},884128:function(e,t,n){n.d(t,{A:function(){return f},E:function(){return p}});var i,o=n(520739),r=n(878389);n(779788),n(209955);var l=n(567754),a=n(44905),u=n(270414),_=n(358354),s=n(782563),d=n(63746);let c=(null===(i=(0,a.Es)())||void 0===i?void 0:i.user_unique_id)||"",v={webid:c,device_id:c,app_name:"douyin_web"},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.ZP.get("/webcast/props/mine/",{params:(0,o._)((0,r._)((0,o._)({},(0,u.f)(),(0,_.F)({}),v),{webcast_sdk_version:2450}),e)})},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.tags_extra)try{let t=JSON.parse(e.tags_extra);t.is_client=(0,s.DT)(),e.tags_extra=JSON.stringify(t)}catch(e){throw Error("tags_extra is not a valid JSON string")}else e.tags_extra=JSON.stringify({is_client:(0,s.DT)()});return d.ZP.post("/webcast/props/consume/",(0,l.stringify)((0,o._)({},e)),{headers:{"Content-Type":"application/x-www-form-urlencoded"},params:(0,o._)({},(0,u.f)(),(0,_.F)({}),v)})}},919382:function(e,t,n){n.d(t,{Bv:function(){return f},F1:function(){return p},RN:function(){return r},Tg:function(){return h},Vv:function(){return I},Y5:function(){return m},ZN:function(){return _},bG:function(){return a},bl:function(){return d},fv:function(){return s},ik:function(){return c},vL:function(){return v},wJ:function(){return l}});var i=n(520739),o=n(63746),r={ROOM:200,200:"ROOM",FULL_SCREEN:201,201:"FULL_SCREEN",CHAT:202,202:"CHAT"};let l=async()=>o.ZP.get("/webcast/user/me/",{params:{room_id:0}}),a=async e=>o.ZP.get("/webcast/user/",{params:e}),u=e=>o.ZP.post("/webcast/user/relation/update/",{},{params:e}),_=e=>u((0,i._)({follow_type:1},e)),s=e=>u((0,i._)({follow_type:0},e)),d=e=>o.ZP.post("/webcast/linkmic_audience/verify_confirm/",{},{params:e}),c=e=>o.ZP.post("/webcast/linkmic_audience/verify_open/",{},{params:e}),v=e=>o.ZP.post("/webcast/room/like/",{},{params:e}),f=e=>o.ZP.post("/webcast/room/silence/",{},{params:e}),p=e=>o.ZP.post("/webcast/room/unsilence/",{},{params:e}),h=e=>o.ZP.get("/webcast/room/silence/list/",{params:e}),I=e=>o.ZP.post("/webcast/room/kick/user/",{},{params:e}),m=async e=>o.ZP.get("/webcast/web/live/watermark/",{params:e})},726522:function(e,t,n){n.d(t,{P:function(){return r}});var i=n(134761);n(268917);var o=n(408487);class r{static mapGuestCountToLayout(e){return e>=this.validLayoutRange.min&&e<=this.validLayoutRange.max?100+e:9===e?o.V_.LINKMICUILAYOUT_VIDEOEQUAL_3X3:void 0}static processLayoutOffset(e){let t={};switch(e){case o.V_.LINKMICUILAYOUT_VIDEOEQUAL_3X3:t=r.processLayout3X3();break;case o.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3V2:t=r.processLayoutTop3V3V2();break;case o.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3V1:t=r.processLayoutTop3V3V1();break;case o.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3:t=r.processLayoutTop3V3();break;case o.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V2:t=r.processLayoutTop3V2();break;case o.V_.LINKMICUILAYOUT_VIDEOEQUAL_2V2:t=r.processLayout2V2();break;case o.V_.LINKMICUILAYOUT_VIDEOEQUAL_1V2:t=r.processLayout1V2();break;case o.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V8:t=r.processLayoutLeft1V8();break;case o.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V6:t=r.processLayoutLeft1V6();break;case o.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V3:t=r.processLayoutLeft1V3()}return t}static processLayout3X3(){let e=[];for(let t=0;t<9;t++){let n=13.333*Math.floor(t/3);e.push({p:t,y:n,h:13.3333})}return{regions:e,content:{h:40}}}static processLayoutTop3V3V2(){let e=[];for(let t=0;t<8;t++){let n=t>5?26.6666:t>2?13.3333:0;e.push({p:t,y:n,h:13.3333})}return{regions:e,content:{h:40}}}static processLayoutTop3V3V1(){let e=[];for(let t=0;t<7;t++){let n=t>5?26.6666:t>2?13.3333:0;e.push({p:t,y:n,h:13.3333})}return{regions:e,content:{h:40}}}static processLayoutTop3V3(){let e=[];for(let t=0;t<6;t++){let n=t>2?20:0;e.push({p:t,y:n,h:20})}return{regions:e,content:{h:40}}}static processLayoutTop3V2(){let e=[];for(let t=0;t<5;t++){let n=t>2?20:0;e.push({p:t,y:n,h:20})}return{regions:e,content:{h:40}}}static processLayout2V2(){let e=[];for(let t=0;t<4;t++){let n=t>1?20:0;e.push({p:t,y:n,h:20})}return{regions:e,content:{h:40}}}static processLayout1V2(){let e=[];return e.push({p:0,y:0,h:40,z:0,x:0,w:20}),e.push({p:1,y:0,h:20,z:0,x:20,w:-20}),e.push({p:2,y:20,h:20,z:0,x:20,w:-20}),{regions:e,content:{h:40}}}static processLayoutLeft1V8(){let e=[];e.push({p:0,y:0,h:40,z:0,x:0,w:20});for(let t=1;t<9;t++){let n=(Math.ceil(t/2)-1)*10;e.push({p:t,y:n,h:10,z:0,x:t%2==1?20:10,w:-10})}return{regions:e,content:{h:40}}}static processLayoutLeft1V6(){let e=[];e.push({p:0,y:0,h:40,z:0,x:0,w:20});for(let t=1;t<7;t++){let n=(Math.ceil(t/2)-1)*13.333;e.push({p:t,y:n,h:13.333,z:0,x:t%2==1?20:10,w:-10})}return{regions:e,content:{h:40}}}static processLayoutLeft1V3(){let e=[];e.push({p:0,y:0,h:40,z:0,x:0,w:-12});for(let t=1;t<4;t++){let n=(t-1)*13.333;e.push({p:t,y:n,h:13.333,z:0,x:-12,w:12})}return{regions:e,content:{h:40}}}}(0,i._)(r,"validLayoutRange",{min:2,max:8}),(0,i._)(r,"allLayouts",[o.V_.LINKMICUILAYOUT_VIDEOEQUAL_3X3,o.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3V2,o.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3V1,o.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3,o.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V2,o.V_.LINKMICUILAYOUT_VIDEOEQUAL_2V2,o.V_.LINKMICUILAYOUT_VIDEOEQUAL_1V2,o.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V8,o.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V6,o.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V3,o.V_.LINKMICUILAYOUT_VIDEOEQUALDYNAMICLAYOUT])},687761:function(e,t,n){n.d(t,{B5:function(){return p},U0:function(){return v},Wr:function(){return u},c9:function(){return _},dL:function(){return f},dh:function(){return h},iF:function(){return s},t4:function(){return c},ys:function(){return d},zq:function(){return a}});var i=n(520739),o=n(878389),r=n(654575),l=n(134974);let a=e=>{window.collectEvent("livesdk_live_paidlive_try_button_show",(0,o._)((0,i._)({},(0,l.K4)(),(0,r.aV)(),(0,r.Nu)(),(0,r.UV)()),{watch_type:e}))},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_paidlive_try_button_show",(0,i._)({},e))},_=e=>{window.collectEvent("livesdk_paidlive_buyticket_icon_click",(0,o._)((0,i._)({},(0,l.K4)(),(0,r.aV)(),(0,r.Nu)(),(0,r.UV)(),(0,l.xA)()),{room_type:"live",watch_type:e}))},s=e=>{window.collectEvent("livesdk_paidlive_buyticket_toolbar_show",(0,o._)((0,i._)({},(0,l.K4)(),(0,l.xA)(),(0,r.UV)(),(0,l.Yi)()),{room_type:"live",watch_type:e}))},d=e=>{window.collectEvent("livesdk_paidlive_buyticket_toast_show",(0,i._)((0,o._)((0,i._)({},(0,l.K4)(),(0,l.xA)(),(0,r.UV)(),(0,l.Yi)()),{room_type:"live"}),e||{}))},c=()=>{window.collectEvent("livesdk_live_paidlive_tryend_show",(0,i._)({},(0,l.K4)(),(0,r.aV)(),(0,r.Nu)(),(0,r.UV)()))},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_paidlive_window_play",(0,i._)({},e))},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_paidlive_window_duration",(0,i._)({},e))},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.collectEvent("livesdk_live_window_paidlive_tryend_show",(0,i._)({},e))},h=e=>{window.collectEvent("livesdk_rec_live_play",(0,i._)({},e))}},757980:function(e,t,n){n.d(t,{t:function(){return i}});var i={NORMAL:1,1:"NORMAL",PK:2,2:"PK",AUDIO_TALK_ROOM:3,3:"AUDIO_TALK_ROOM",AUDIO_TALK_ROOM_1V8:24,24:"AUDIO_TALK_ROOM_1V8",VIDEO_TALK_ROOM:5,5:"VIDEO_TALK_ROOM",MULTI_ANCHOR:6,6:"MULTI_ANCHOR",SHORT_VIDEO:7,7:"SHORT_VIDEO",VIDEO_CAMERA:8,8:"VIDEO_CAMERA",VIDEO_EQUAL:9,9:"VIDEO_EQUAL",VIDEO_CAMERA_NEW:10,10:"VIDEO_CAMERA_NEW",VIDEO_DYNAMIC:11,11:"VIDEO_DYNAMIC",C_VIDEO_CAMERA:12,12:"C_VIDEO_CAMERA",VIDEO_C:13,13:"VIDEO_C",VIDEO_DYNAMIC_FLOAT:15,15:"VIDEO_DYNAMIC_FLOAT",VIDEO_T1B8:16,16:"VIDEO_T1B8",VIDEO_6V6:17,17:"VIDEO_6V6",VIDEO_DYNAMIC_1V3:20,20:"VIDEO_DYNAMIC_1V3",VIDEO_DYNAMIC_1V6:21,21:"VIDEO_DYNAMIC_1V6",VIDEO_1V8:28,28:"VIDEO_1V8",VIDEO_2V4v4:29,29:"VIDEO_2V4v4"}},827045:function(e,t,n){n.d(t,{p:function(){return i}}),n(675373);let i=()=>Promise.resolve().then(n.bind(n,358003)).then(e=>e.liveShowAccount)},972926:function(e,t,n){n.d(t,{U5:function(){return a},cb:function(){return o},fc:function(){return l},pL:function(){return r}}),n(250440),n(874386),n(110006),n(826893),n(455663);var i=n(230501);let o=(e,t,n)=>(e.giftScene|t)===e.giftScene&&e.price*n<=i.sF,r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.dq.NORMAL,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=[];return e.filter(e=>!t.length||t.includes(e.pageType)).forEach(e=>{a=[...a,...e.giftList]}),l?a.filter(e=>o(e,n,r)):a},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>e.onPanel)},a=e=>{var t;let n=null;Array.from(document.querySelectorAll('[class*="gift_item_gift_grid"]')).forEach(t=>{let i=t.className.match(/id-(\d+(\.\d+)?)/);i&&parseFloat(i[1])===e&&(n=t)}),null==n||null===(t=n.scrollIntoView)||void 0===t||t.call(n,{block:"nearest",behavior:"auto"},1e3)}},134974:function(e,t,n){n.d(t,{K4:function(){return d},V:function(){return _},Yi:function(){return c},m6:function(){return s},oD:function(){return u},xA:function(){return v}}),n(779788);var i=n(396169),o=n(20568),r=n(35730),l=n(645260),a=n.n(l);let u=e=>{switch(e){case o.ku.TRY_WATCH_ING:return"try";case o.ku.TRT_WATCH_FINISH:return"try_end";case o.ku.NORMAL_WATCH:default:return"regular"}},_=e=>{document.cookie=(0,i.serialize)(r.CookieKeys.PaidLiveDuration,JSON.stringify(e),{domain:".douyin.com",path:"/"})},s=()=>{var e,t;let n=a()(window,"__STORE__.paidLiveStore.paidLiveData.paid_type",0),i=a()(window,"__STORE__.paidLiveStore.viewType",o.ku.BAN),r=null===(t=window)||void 0===t?void 0:null===(e=t.__INVISIBLE_QUERY__)||void 0===e?void 0:e.entrance_form;return{is_paidlive:Number(n),watch_paidlive_status:u(i),entrance_form:r}},d=e=>({is_paidlive:1}),c=()=>{var e,t;let n;let i=null===(t=window)||void 0===t?void 0:null===(e=t.__STORE__)||void 0===e?void 0:e.paidLiveStore;switch(null==i?void 0:i.viewType){case o.ku.TRY_WATCH_ING:n="try_toolbar";case o.ku.TRT_WATCH_FINISH:n="tryend_toolbar";default:n="regular"}return{watch_type:n}},v=e=>{try{var t;let{title:n="",ticket_session_id_str:i=""}=null!==(t=null!=e?e:window.__STORE__.paidLiveStore.paidLiveData.ticket_session)&&void 0!==t?t:{};return{ticket_name:n,ticket_id:i}}catch(e){return{ticket_name:"",ticket_id:""}}}},654575:function(e,t,n){n.d(t,{Nu:function(){return c},UV:function(){return s},aV:function(){return d},wY:function(){return _}});var i=n(440823),o=n(645260),r=n.n(o),l=n(306537),a=n(738612),u=n(859231);let _=()=>{try{var e,t,n,i;let{roomInfo:o={}}=null===(t=window)||void 0===t?void 0:null===(e=t.__STORE__)||void 0===e?void 0:e.roomStore;if((null===(i=window)||void 0===i?void 0:null===(n=i.__INVISIBLE_QUERY__)||void 0===n?void 0:n.enter_from_merge)==="web_share_link"&&(null==o?void 0:o.enter_mode)===u.gE.APP)return a.R5.QRCODE;return(null===a.FO||void 0===a.FO?void 0:a.FO[r()(o,"room.stream_url.stream_orientation")])||""}catch(e){return a.R5.VERTICAL}},s=()=>{var e;if(!window.__STORE__)return{};let{homeStore:{selectedRoom:t},roomStore:{roomInfo:n}}=window.__STORE__,i=(0,l.C$)()?r()(t,"room.owner.id_str",""):r()(n,"anchor.id_str",""),o=(0,l.C$)()?r()(t,"room.id_str",""):r()(n,"roomId","");return{anchor_id:i,room_id:o,game_name:(0,l.C$)()?r()(t,"tag_name",""):null===(e=window.__INVISIBLE_QUERY__)||void 0===e?void 0:e.game_name}},d=()=>{var e,t,n,i,o;return{live_type:"game",game_live_source:"game_web",is_aweme_tied:(null===(n=window)||void 0===n?void 0:null===(t=n.__STORE__)||void 0===t?void 0:null===(e=t.userStore)||void 0===e?void 0:e.userInfo.id_str)?1:0,url:location.href,url_path:location.pathname,_is_new_version:null===(i=window)||void 0===i?void 0:i.isNewVersionFirstOpen,_live_version:null===(o=window)||void 0===o?void 0:o.version,stream_type:_()}},c=()=>{var e;let{web_live_page:t="",web_live_tab:n="",web_live_tab_2:o="",web_live_tab_3:a="",more_detail:u="",game_name:s="",enter_from_merge:d="",enter_method:c="",title_type:v="",cover_type:f="",is_recommend:p="",stream_type:h="",search_params:I="",action_type:m="click",evening_type:g="",previous_page:y="",live_type:L="",function_type:E="",function_type2:w="",seat_fit_status:O="",request_id:A="",insert_task_id:S="",group_id:N="",is_livehead_preview_mini_window_show:T="",enter_method_temai:U="click_other_area",show_rank:V,show_cnt:b,mini_window_show_type:C,search_tab:P,enter_live_detail_method:M,live_position:k="",url_source:D,preview_type:R,web_card_rank:x=""}=window.__INVISIBLE_QUERY__||{},{homeStore:{selectedRoom:G},roomStore:{roomInfo:F},pkStore:{pkAppData:Y,pkTeamCount:z,pkPlayMode:K,pkId:B,pkStatus:H}}=window.__STORE__,Q=r()(window,"__STORE__.roomStore.roomInfo.roomId"),j=(0,l.C$)()?r()(G,"room.owner.id_str",""):r()(F,"anchor.id_str",""),Z=I;try{Z&&"String"===(0,i.tQ)(Z)&&(Z=JSON.parse(I))}catch(e){}return{anchor_id:j,room_id:Q,enter_from_merge:d,enter_method:c,web_live_page:t,web_live_tab:n,web_live_tab_2:o,web_live_tab_3:a,more_detail:u,game_name:s,title_type:v,cover_type:f,is_recommend:p,stream_type:h||_(),evening_type:g,previous_page:y,function_type:E,seat_fit_status:O,search_params:Z,search_type:null==Z?void 0:Z.search_type,search_id:null==Z?void 0:Z.search_id,action_type:m,request_id:A,insert_task_id:S,video_id:"web_video_head"===c?N:Q,is_livehead_preview_mini_window_show:T,enter_method_temai:U,show_rank:V,show_cnt:b,mini_window_show_type:C,search_tab:P,enter_live_detail_method:M,live_position:k,url_source:D,channel_id:null==Y?void 0:Y.channelId,invite_mode:K,anchor_connect_status:(null==Y?void 0:null===(e=Y.grids)||void 0===e?void 0:e.length)||-1,pk_team_count:z,pk_id:B,preview_type:R,web_card_rank:x}}},884861:function(e,t,n){n.d(t,{Fy:function(){return l},Jn:function(){return r},LQ:function(){return _},Oo:function(){return a},PO:function(){return d},VP:function(){return c},ZV:function(){return u},yQ:function(){return s}}),n(927234);var i=n(249239);let o=e=>{let t=(0,i.OK)();null==t||t.sendEvent(e)},r=e=>{let{name:t,type:n="landPage",params:i}=e;o({name:"activity_indicator_jsb_not_support",categories:{name:t,type:n,params:i}})},l=e=>{o({name:"activity_indicator_script_load_error",categories:{rootID:e}})},a=e=>{o({name:"activity_indicator_script_execute_error",categories:{rootID:e}})},u=e=>{let{name:t,type:n="landPage",params:i}=e;o({name:"activity_indicator_jsb_error",categories:{name:t,type:n,params:i}})},_=e=>{let{name:t,type:n="landPage",params:i}=e;o({name:"activity_indicator_jsb_callback_error",categories:{name:t,type:n,params:i}})},s=e=>{let{name:t,type:n="landPage",params:i}=e;o({name:"activity_indicator_jsb_call",categories:{name:t,type:n,params:i}})},d=e=>{let{status:t,statusCode:n,url:i}=e;o({name:"activity_indicator_jsb_open_scheme",categories:{status:t,statusCode:null==n?void 0:n.toString(),url:i}})},c=e=>{let{bannerId:t,noDom:n,bannerName:i}=e;o({name:"activity_can_not_load_slave",categories:{bannerId:t,noDom:n,bannerName:i}})}},330401:function(e,t,n){n.d(t,{Kj:function(){return u},Qg:function(){return c},cC:function(){return v},fh:function(){return _},ox:function(){return a},yG:function(){return s},zr:function(){return d}});var i=n(368200);n(413806),n(826893),n(429532),n(268917);var o=n(645260),r=n.n(o),l=n(567754);let a=e=>{var t,n;let i={};try{i=JSON.parse(null!==(n=e.extra)&&void 0!==n?n:"{}")}catch(e){}return{id:Number(e.id),frameType:Number(e.frame_type),scriptSrc:i.scriptSrc||"",key:i.id||"",imgUrl:(null==e?void 0:null===(t=e.image)||void 0===t?void 0:t.url_list)?e.image.url_list[Math.round(Math.random()*(e.image.url_list.length-1))]:"",scheme:e.schema_url||"",rootId:i.rootId||"",pageUrl:i.pageUrl||"",extra:i}},u=e=>{var t,n,i,o,l,a,u,_;return{room_id:r()(e,"roomStore.roomInfo.roomId",""),user_id:r()(e,"userStore.userInfo.id_str",""),sec_user_id:r()(e,"userStore.userInfo.sec_uid",""),anchor_id:r()(e,"roomStore.roomInfo.anchor.id_str",""),anchor_id_str:r()(e,"roomStore.roomInfo.anchor.id_str",""),sec_anchor_id:r()(e,"roomStore.roomInfo.anchor.sec_uid",""),enter_from_merge:null===(n=window)||void 0===n?void 0:null===(t=n.__INVISIBLE_QUERY__)||void 0===t?void 0:t.enter_from_merge,request_id:null===(o=window)||void 0===o?void 0:null===(i=o.__INVISIBLE_QUERY__)||void 0===i?void 0:i.request_id,enter_method:null===(a=window)||void 0===a?void 0:null===(l=a.__INVISIBLE_QUERY__)||void 0===l?void 0:l.enter_method,user_unique_id:r()(e,"userStore.odin.user_unique_id",""),action_type:(null===(_=window)||void 0===_?void 0:null===(u=_.__INVISIBLE_QUERY__)||void 0===u?void 0:u.action_type)||"click"}},_=(e,t,n)=>{let i=u(t),o=e.split("?"),r=l.parse(o[1]),a=l.stringify(Object.assign(r,i,n));return`${o[0]}?${a}`},s="__ACT_CARBON_KEY__",d="__TASK_CARBON_KEY__",c={add(e){var t;let{type:n,data:i}=e,o=window["act"===n?s:d];null==o||null===(t=o.emit)||void 0===t||t.call(o,"add",{bannerInfo:i,initData:"",isLast:!0})},refresh(e){var t;let{type:n,data:i,initData:o}=e,r=window["act"===n?s:d];null==r||null===(t=r.emit)||void 0===t||t.call(r,"add",{bannerInfo:i,initData:o||"",isLast:!0})},mockMessage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{__MESSAGE_INSTANCE__:t}=window;t&&t.mock,e.forEach(e=>t.mock(e.method,e))}},v=e=>{let t={};e.forEach(e=>{let{scriptSrc:n,key:o}=e,r=(null==n?void 0:n.indexOf("protocol_id"))>-1,l=(null==n?void 0:n.indexOf("externalJsList"))>-1,a=[];if(t[o]=a,l||r){let t=n.split("?")[0]||n;try{let u=function(e){let t={};try{if(e.indexOf("?")>-1){let n=e.split("?");n.shift(),n.forEach(e=>{e.split("&").forEach(e=>{let n=e.split("=");t[n[0]]=decodeURIComponent(n[1])||null})})}}catch(e){}return t}(n),{externalJsList:_="[]"}=u,s=(0,i._)(u,["externalJsList"]);r&&(window[`__protocol_${e.key}__`]=s,t=`${t}?key=${o}`);let d=JSON.parse(_);l&&Array.isArray(d)&&d.length>0&&d.forEach(e=>{let{name:t,url:n}=e;a.every(e=>e.name!==t)&&!window[t]&&a.push({name:t,url:n})})}catch(e){}}}),window.__SCRIPT_MAP__=t}},730893:function(e,t,n){n.d(t,{D:function(){return h},T:function(){return I}});var i=n(134761),o=n(520739);n(675373),n(413806),n(826893),n(429532),n(874386);var r=n(746025),l=n(399796),a=n(687297),u=n(325035),_=n(642448),s=n(645260),d=n.n(s),c=n(567754),v=n(35730),f=n(738712),p=n.n(f),h={live:1,1:"live"};(0,_.$l)(!0);class I{initSdk(){var e,t,n;let i=null===(e=this._store)||void 0===e?void 0:e.roomStore,o=null===(t=this._store)||void 0===t?void 0:t.userStore;null===(n=this._store)||void 0===n||n.activityIndicatorStore,d()(i,"roomInfo.roomId"),d()(i,"roomInfo.anchor.id_str"),d()(i,"roomInfo.anchor.sec_uid");let a=d()(o,"userInfo.id_str");d()(o,"userInfo.sec_uid"),(0,_.S1)({injection:{user:{hasLogin:()=>void 0!==a,login:()=>Promise.resolve(),logout:()=>Promise.resolve(),getUserInfo:()=>{var e;let{id_str:t,sec_uid:n,nickname:i,avatar_large:r,telephone:l,short_id:a}=d()(o,"userInfo",{});return{userId:t,secUid:n,uniqueId:"",nickname:i,avatarURL:null==r?void 0:null===(e=r.url_list)||void 0===e?void 0:e[0],boundPhone:l,shortId:a?String(a):""}}},appInfo:()=>{var e,t;return{appID:"6383",appName:"douyin_pc",appVersion:null!==(e=window.version)&&void 0!==e?e:"unknown",appLang:null!==(t=navigator.language)&&void 0!==t?t:"unknown",deviceID:d()(o,"odin.user_unique_id",""),channel:"douyin_pc",isTeenMode:!1,appTheme:(0,r.Dr)(l.Q.getItem({sKey:v.CookieKeys.Theme})),updateVersionCode:"0.0.1",screenWidth:374}}},extraGlobalProps:{os:"Web"},options:{slardar:{bid:"anniex_web_webcast"}}})}getCommonParams(){var e,t,n,i,o,r,l,a;let u=null===(e=this._store)||void 0===e?void 0:e.roomStore,_=null===(t=this._store)||void 0===t?void 0:t.userStore;return{room_id:d()(u,"roomInfo.roomId",""),user_id:d()(_,"userInfo.id_str",""),sec_user_id:d()(_,"userInfo.sec_uid",""),anchor_id:d()(u,"roomInfo.anchor.id_str",""),anchor_id_str:d()(u,"roomInfo.anchor.id_str",""),sec_anchor_id:d()(u,"roomInfo.anchor.sec_uid",""),enter_from_merge:null===(i=window)||void 0===i?void 0:null===(n=i.__INVISIBLE_QUERY__)||void 0===n?void 0:n.enter_from_merge,request_id:null===(r=window)||void 0===r?void 0:null===(o=r.__INVISIBLE_QUERY__)||void 0===o?void 0:o.request_id,enter_method:null===(a=window)||void 0===a?void 0:null===(l=a.__INVISIBLE_QUERY__)||void 0===l?void 0:l.enter_method,user_unique_id:d()(_,"odin.user_unique_id","")}}appendCommonParams(e,t,n){let i=e.split("?"),o=c.parse(i[1]),r=c.stringify(Object.assign(o,t,n));return`${i[0]}?${r}`}getInitData(e){return this._initData.get(e)}openLandPage(e){var t,n,i,r,l,a,u,_,s;let{url:d,extraParams:v,reset:f=!1,initData:p={},forceCover:h}=e,I=d.split("?"),m=c.parse(I[1]),{url:g}=m,y=this.getCommonParams(),L=this.appendCommonParams(g,y,(0,o._)({__isDouyinPC:"true"},v||{}));m.url=L;let E=`${I[0]}?${c.stringify(m)}`,w=null===(t=this._store)||void 0===t?void 0:t.activityIndicatorStore.currentLandPage.indexOf(E);if(w>=0){let e=[...(null===(i=this._store)||void 0===i?void 0:null===(n=i.activityIndicatorStore)||void 0===n?void 0:n.currentLandPage)||[]];e.splice(w,1),null===(l=this._store)||void 0===l||null===(r=l.activityIndicatorStore)||void 0===r||r.setCurrentLandPage(e,!1)}else f?null===(a=this._store)||void 0===a||a.activityIndicatorStore.setCurrentLandPage([E],!0):null===(s=this._store)||void 0===s||s.activityIndicatorStore.setCurrentLandPage([...(null===(_=this._store)||void 0===_?void 0:null===(u=_.activityIndicatorStore)||void 0===u?void 0:u.currentLandPage)||[],E],!1,h);this._initData.set(E,p)}isSupportLynx(){var e,t;let n=new(p())().getResult(),i=null==n?void 0:null===(e=n.browser)||void 0===e?void 0:e.name,o=null==n?void 0:null===(t=n.browser)||void 0===t?void 0:t.version;switch(i){case"Chrome":case"Edge":return(0,a.y)(o,">","84.0.0.0");case"Safari":return(0,a.y)(o,">","14.1.0.0");case"Opera":return(0,a.y)(o,">","70.0.0.0");case"Firefox":return(0,a.y)(o,">","79.0.0.0");default:return!0}}getLynxViewSchema(e){let t=encodeURIComponent(e);return`sslocal://lynxview?url=${t}&type=popup&gravity=bottom&height_percent=75&web_bg_color=ff060a19&radius=23&radius_bottom_right=0&radius_bottom_left=0&enable_preload=all&add_safe_area_height=0&use_wk_falcon=2`}static reset(){let e=Object.keys(u.os);e.length&&e.forEach(e=>{(0,_.ln)(e),delete u.os[e]})}static broadcastEvent(e,t){(0,_.broadcastEvent)(e,t)}constructor(e,t=""){(0,i._)(this,"_containerList",new Map),(0,i._)(this,"_store",null),(0,i._)(this,"_roomId",""),(0,i._)(this,"_initData",new Map),this._store=e,this._roomId=t,this.initSdk(),(0,u.oG)(this._store)}}},684635:function(e,t,n){var i=n(642448),o=n(645260),r=n.n(o),l=n(782563);t.Z=(e,t,n)=>{let o=async(t,n)=>{try{let{roomStore:t}=e;return(0,i.Vp)({anchor_info:{nickname:r()(t,"roomInfo.anchor.nickname","")}})}catch(n){let{roomStore:t}=e;return(0,i.bG)(i.MU.FAIL,"",{anchor_info:{nickname:r()(t,"roomInfo.anchor.nickname","")}})}},a=async(t,n)=>{var o,r,l,a,u;let{userStore:{userInfo:_},roomStore:{roomInfo:s}}=e,d={avatar:null==_?void 0:null===(r=_.avatar_large)||void 0===r?void 0:null===(o=r.url_list)||void 0===o?void 0:o[0],nickname:null==_?void 0:_.nickname,sec_user_id:null==_?void 0:_.sec_uid,short_id:null==_?void 0:_.short_id,user_id:null==_?void 0:_.user_id_str,user_level:null==_?void 0:_.level,user_type:"",display_id:null==_?void 0:_.display_id},{anchor:c}=s,v={avatar:null==c?void 0:null===(a=c.avatar_thumb)||void 0===a?void 0:null===(l=a.url_list)||void 0===l?void 0:l[0],nickname:null==c?void 0:c.nickname,short_id:null==c?void 0:c.id_str,user_id:null==c?void 0:c.id_str,sec_user_id:null==c?void 0:c.sec_uid,anchor_level:void 0,anchor_type:void 0,display_id:void 0},f={room_id:null==s?void 0:s.roomId,room_layout:1,is_paidlive:!1,live_room_mode:(null==s?void 0:null===(u=s.room)||void 0===u?void 0:u.live_room_mode)||"0",game_points_playing:2,quiz_game_points_playing:2,is_life:!1};return(0,i.Vp)({user_info:d,room_info:f,anchor_info:v,__data:{user_info:d,room_info:f,anchor_info:v}})},u=async(t,n)=>{try{var o,r,l,a;let{userStore:t}=e,{userInfo:n,odin:u}=t,_={userInfo:{userID:null==n?void 0:n.user_id_str,nickName:null==n?void 0:n.nickname,avatarURL:null==n?void 0:null===(r=n.avatar_large)||void 0===r?void 0:null===(o=r.url_list)||void 0===o?void 0:o[0],secUserID:null==n?void 0:n.sec_uid,shortID:null==n?void 0:n.short_id},user_id:null==u?void 0:u.user_id,short_id:null==n?void 0:n.short_id,sec_user_id:null==n?void 0:n.sec_uid,nickname:null==n?void 0:n.nickname,avatar:null==n?void 0:null===(a=n.avatar_large)||void 0===a?void 0:null===(l=a.url_list)||void 0===l?void 0:l[0],is_silent:void 0,douyin_uid:null==n?void 0:n.short_id,is_login:null==u?void 0:u.user_is_login};if((null==u?void 0:u.user_is_login)===1)return(0,i.Vp)(_);return(0,i.bG)(i.MU.FAIL,"fail",_)}catch(e){return(0,i.bG)(i.MU.FAIL,"fail",{userInfo:{userID:""}})}},_=async(t,n)=>{try{var o,r;let{userStore:t}=e,{userInfo:n}=t,l=(null==n?void 0:n.id_str)||(null==n?void 0:n.sec_uid)||(null==n?void 0:n.short_id),a={isLogin:!!l,is_login:!!l,userInfo:{userID:null==n?void 0:n.id_str,nickName:null==n?void 0:n.nickname,avatarURL:null==n?void 0:null===(r=n.avatar_large)||void 0===r?void 0:null===(o=r.url_list)||void 0===o?void 0:o[0],secUserID:null==n?void 0:n.sec_uid,shortID:null==n?void 0:n.short_id}};if(l)return(0,i.Vp)(a);return(0,i.bG)(i.MU.FAIL,"fail",a)}catch(e){return(0,i.bG)(i.MU.FAIL,"fail",{userInfo:{userID:""}})}};t("getAppInfo",async(t,n)=>{try{let{userStore:{odin:t}}=null!=e?e:{userStore:{}};return(0,i.Vp)({aid:"6383",user_id:null==t?void 0:t.user_id,device_id:null==t?void 0:t.user_unique_id,is_mas:!!(0,l.xo)(),appID:"6383"})}catch(e){return(0,i.bG)(i.MU.FAIL)}}),t("getBaseInfo",o),t("baseInfo",a),t("userInfo",u),t("getUserInfo",_),t("x.getUserInfo",_)}},793389:function(e,t,n){var i=n(642448);t.Z=(e,t,n)=>{t("close",(t,n)=>{let{url:o}=n,r=o;if(!r){var l;r=null==t?void 0:null===(l=t.globalProps)||void 0===l?void 0:l.originUrl}let{activityIndicatorStore:{closeLandPage:a}}=e;return a(r),(0,i.Vp)()})}},781747:function(e,t,n){var i=n(520739),o=n(878389);n(284961),n(826893);var r=n(642448),l=n(146253),a=n(560912),u=n(645260),_=n.n(u);t.Z=(e,t,n)=>{t("fetch",async(t,n)=>{let{data:u,params:s,headers:d,url:c="",method:v="GET"}=n;try{let t=(0,a.Kj)(e)||{},n=(0,i._)({},s);Object.keys(n).forEach(e=>{(""===n[e]||void 0===n[e])&&delete n[e]});let h=(0,o._)((0,i._)({},t,n),{aid:6383}),I=await (0,l.IZ)({url:c.replace(/^https?:\/\/[^/]+/,""),method:v,headers:d,data:u,params:h});if(c.indexOf("/webcast/gift/exhibition/home/")>0){let t=null==e?void 0:e.roomStore,n=_()(t,"roomInfo.anchor.id_str"),i=_()(t,"roomInfo.anchor.nickname","");if((null==s?void 0:s.anchor_id)===n&&(null==s?void 0:s.target_open_id)===n&&i){var f,p;(null==I?void 0:null===(p=I.data)||void 0===p?void 0:null===(f=p.data)||void 0===f?void 0:f.anchor_name)&&(I.data.data.anchor_name=i)}}return(0,r.Vp)({data:{raw:null==I?void 0:I.data},raw:null==I?void 0:I.data},"success")}catch(e){return(0,r.bG)(r.MU.FAIL,"fail",(0,a.VK)(e))}})}},238056:function(e,t,n){var i=n(520739),o=n(878389);n(779788),n(268917);var r=n(642448),l=n(645260),a=n.n(l),u=n(516599),_=n(782563),s=n(831202),d=n(637005),c=n(236734),v=n(104013),f=n(32369),p=n(273406),h=n(147542),I=n(555106),m=n(35730);t.Z=(e,t,n)=>{let l=async(t,l)=>{let{gift_id:v,gift_count:h,gift_source:I,args:m,gift_buff_level:g=0,to_user_id:y,send_scene:L=1,send_type:E=4}=l;try{var w,O,A,S,N,T,U,V,b,C,P,M,k,D,R,x,G,F,Y,z,K,B,H,Q,j,Z,$;let l;let{userStore:{userInfo:q},roomStore:{roomInfo:J},rechargeStore:{rechargeAuthStatus:W}}=e;if(!h)return(0,r.bG)(r.MU.FAIL);let X=y||a()(J,"anchor.id_str"),ee=a()(J,"room.id_str");if(a()(q,"id_str")===X)return u.F.info("不可为自己送礼"),(0,r.bG)(r.MU.FAIL);let et=m?{plugin_id:JSON.stringify(m.plugin_id),plugin_info:JSON.stringify(m.plugin_info),toolbar_card_name:m.toolbar_card_name}:{};if(!ee)return(0,r.bG)(r.MU.FAIL);let en={gift_id:v,count:h,room_id:ee,to_room_id:ee,to_user_id:X,to_user_ids:"",send_type:E,send_scene:L,gift_source:0};f.kg.event("activity_indicator_send_gift",(0,o._)((0,i._)({},en),{is_client:(0,_.DT)()}));let ei=await (0,c.hF)((0,i._)((0,o._)((0,i._)({},en),{buff_level:g,tags_extra:(e=>{try{return JSON.stringify(e)}catch(e){return JSON.stringify({})}})({gift_source:I}),to_episode_id:a()(J,"room.episode_extra.episode_id_str",0)||0}),et));try{let e=(null==ei?void 0:null===(A=ei.data)||void 0===A?void 0:A.data.diy_item_info)||"{}";l=JSON.parse(e)}catch(e){}let eo=null==ei?void 0:null===(w=ei.data)||void 0===w?void 0:w.status_code,er=await c.sb({});if(0===eo){let o=a()(e,"giftStore.giftList",[]),r=a()(e,"giftStore.effectList",[]),d=(0,p.mL)(a()(ei.data,"data"),o,r,q,l,h);null==e||null===(N=e.giftStore)||void 0===N||null===(S=N.setGiftMessages)||void 0===S||S.call(N,d);let{data:c,logId:m}=er,g=a()(c,"status_code");if(0===g){let t=a()(c,"data.diamond",0);null==e||null===(P=e.giftStore)||void 0===P||null===(C=P.setBalance)||void 0===C||C.call(P,t)}else f.kg.event(`[${s.Tn.Error}]${s.Mo.LiveBalanceError}`,(0,i._)({statusCode:g,logId:null!=m?m:"",is_client:(0,_.DT)()},c)),u.F.info(a()(c,"data.prompts","获取余额失败，请稍后重试")),f.kg.error("获取余额失败",c,m);n.publishEvent(t,{eventName:"H5_sendGiftStatusChange",params:{gift_list:[{gift_id:Number(v),count:h}]}}),null==e||null===(U=e.eventStore)||void 0===U||null===(T=U.giftEvent)||void 0===T||T.liveGiftSendEvent({gift_id:v,combo_cnt:a()(ei.data,"data.combo_count"),group_cnt:a()(ei.data,"data.group_count"),gift_source:I,money_per_unit:a()(ei.data,"data.gift_struct.diamond_count"),gift_cnt:h,money:h*a()(ei.data,"data.gift_struct.diamond_count"),is_fans_club_gift:"0",to_user_id:a()(J,"anchor.id_str"),full_seats_cnt:1,is_from_container:0}),null==e||null===(b=e.eventStore)||void 0===b||null===(V=b.giftEvent)||void 0===V||V.liveConsumeEvent({statusCode:eo,amount:h*a()(ei.data,"data.gift_struct.diamond_count"),is_client:(0,_.DT)(),type:"gift_send"})}else if(f.kg.event(`[${s.Tn.Error}]${s.Mo.LiveGiftSendCodeNotZero}`,(0,i._)({statusCode:eo,logId:null!==(M=null==ei?void 0:ei.logId)&&void 0!==M?M:"",is_client:(0,_.DT)()},null==ei?void 0:ei.data)),20003===eo)await (0,p.m8)("登录后即可送礼","live_gift");else if(40001===eo){if(!W)return(0,r.Vp)({error_code:null==ei?void 0:null===(F=ei.data)||void 0===F?void 0:F.status_code});let t=(null==e?void 0:null===(R=e.giftStore)||void 0===R?void 0:null===(D=R.giftList)||void 0===D?void 0:null===(k=D.find(e=>Number(e.id)===Number(v)))||void 0===k?void 0:k.price)||0;null==e||null===(G=e.giftStore)||void 0===G||null===(x=G.handleRecharge)||void 0===x||x.call(G,{type:"balance",balance:t-e.giftStore.balance,amount:t})}else 42201===eo?u.F.info("为保障账号和资金安全，请先前往抖音app完成身份验证"):42202===eo?u.F.info("为保障账号和资金安全，请先前往抖音app完成身份核对"):(u.F.info((null==ei?void 0:null===(z=ei.data)||void 0===z?void 0:null===(Y=z.data)||void 0===Y?void 0:Y.prompts)||"送礼失败，请稍后重试"),f.kg.event(`[${s.Tn.Error}]${s.Mo.LiveSendGiftError}`,(0,i._)({statusCode:eo,logId:null!==(K=null==ei?void 0:ei.logId)&&void 0!==K?K:"",is_client:(0,_.DT)()},null==ei?void 0:ei.data)));if((null==ei?void 0:null===(O=ei.data)||void 0===O?void 0:O.status_code)===40001)return u.F.info("余额不足，请充值后再试"),(0,r.Vp)({error_code:null==ei?void 0:null===(B=ei.data)||void 0===B?void 0:B.status_code});{let n=(null===(H=t.globalProps)||void 0===H?void 0:H.resolvedUrl)||"";return e.linkmicStore.isGroupLive&&n.indexOf("compete_card_pc.json")>0&&y&&(e.linkmicStore.setChoosePeopleArr([y]),d.emit(d.EVENT.selectGroupLiveAnchor,[y])),(0,r.Vp)({error_code:null==ei?void 0:null===(Q=ei.data)||void 0===Q?void 0:Q.status_code,error_msg:null!==($=null==ei?void 0:null===(Z=ei.data)||void 0===Z?void 0:null===(j=Z.data)||void 0===j?void 0:j.prompts)&&void 0!==$?$:""})}}catch(e){return(0,r.bG)(r.MU.FAIL)}};t("sendGift",l),t("getGiftGuestListData",(t,n)=>{try{var i,o,l,a;let{choosePeopleList:t,choosePeopleArr:n,choosePeopleAll:u,linkStatus:_}=e.linkmicStore,{roomInfo:s}=e.roomStore,d=null==e?void 0:null===(i=e.linkmicStore)||void 0===i?void 0:i.allowSendGiftGuest,c=Object.values(t).filter(e=>{var t,n,i;return!!d||(null===(n=e.user)||void 0===n?void 0:null===(t=n.user)||void 0===t?void 0:t.id_str)===(null==s?void 0:null===(i=s.anchor)||void 0===i?void 0:i.id_str)}).map(e=>{var t,n,i,o,r,l,a,u;let _="0";(null===(n=e.user)||void 0===n?void 0:null===(t=n.content)||void 0===t?void 0:t.linkmic_audience_content)?_=e.user.content.linkmic_audience_content.fan_ticket_fuzzy_str||"0":(null===(o=e.user)||void 0===o?void 0:null===(i=o.content)||void 0===i?void 0:i.linkmic_content)&&(_=e.user.content.linkmic_content.fan_ticket||"0");let d=4;return String(null===(l=e.user)||void 0===l?void 0:null===(r=l.user)||void 0===r?void 0:r.id_str)===String(null==s?void 0:null===(a=s.anchor)||void 0===a?void 0:a.id_str)&&(d=2),{count:_,identifier:d,user:JSON.stringify(null===(u=e.user)||void 0===u?void 0:u.user)}});if(_===h.cK.NOT_LINK)return(0,r.Vp)({data:{is_all_mic:!1,enable_all_mic:!1,current_user:null==s?void 0:null===(a=s.anchor)||void 0===a?void 0:a.id_str,current_user_list:(0,v.toJS)(n),guest_list:JSON.stringify(c),connection_type:""}});let f=Object.values(t),p={is_all_mic:u,enable_all_mic:u,current_user:(null==f?void 0:null===(l=f[0].user)||void 0===l?void 0:null===(o=l.user)||void 0===o?void 0:o.id_str)||"",current_user_list:(0,v.toJS)(n),guest_list:JSON.stringify(c),connection_type:""};return(0,r.Vp)({data:p})}catch(e){return(0,r.bG)(r.MU.FAIL)}}),t("closeGiftWebView",(e,t)=>{d.emit(d.EVENT.LynxEffectPlayDone,{})}),t("dismissGiftPanel",(e,t)=>(0,r.Vp)({})),t("captureAssemblyGift",(e,t)=>{let{pluginList:n,giftId:l,mainTitle:a,imageUrl:u,price:_,subTitle:s}=t,c={giftId:l,mainTitle:a,imageUrl:u,price:_,subTitle:s,pluginList:null==n?void 0:n.map(e=>({plugin_id:e.pluginId}))},v=(0,I.$o)(m.LocalStorageKeys.LiveRecentSendGift)||{},f=(null==v?void 0:v[l])||[];f.push(c);let p=f.slice(-3);return(0,I.qQ)(m.LocalStorageKeys.LiveRecentSendGift,(0,o._)((0,i._)({},v),{[l]:p})),d.emit(d.EVENT.UpdateRecentSendGift,c),(0,r.Vp)()}),t("openMysteryLandPage",()=>{var t,n;null==e||null===(n=e.activityIndicatorStore)||void 0===n||null===(t=n.JSBInstance)||void 0===t||t.openScheme({url:"sslocal://webcast_webview?type=popup&gravity=bottom&height_percent=75&web_bg_color=%23ff161823&url=https%3A%2F%2Flf-webcast-gr-sourcecdn.bytegecko.com%2Fobj%2Fbyte-gurd-source-gr%2Fwebcast%2Fmono%2Fh5%2Fwebcast_personal_center%2Fpages%2Fspyman_detail.html%3Fshow_back_icon%3D1%26origin%3Dpersonal_center",_reset:!0})}),t("getAssetsPath",(t,n)=>{let{giftStore:{effectList:i}}=e,{assets_ids:o}=n,l={};try{o.forEach(e=>{let t=i.find(t=>t.id===e);l[e]={code:2,path:null==t?void 0:t.src}});return(0,r.Vp)({data:{data:{assetsPath:l}}})}catch(e){return(0,r.bG)(r.MU.FAIL)}})}},325035:function(e,t,n){n.d(t,{os:function(){return w},oG:function(){return O}});var i=n("642448"),o=n("781747"),r=n("145461"),l=n("684635"),a=n("229589"),u=n("526068"),_=n("367063"),s=n("793389"),d=n("238056"),c=n("248262"),v=n("214822"),f=n("790072"),p=n("659004"),h=n("725896"),I=n("637005"),m=(e,t,n)=>{let o=new h.N,r=async(e,t)=>{let{eventName:n,callback:r}=t;try{return o.on(n,r),(0,i.Vp)()}catch(e){return(0,i.bG)(i.MU.FAIL,"fail")}},l=async(e,t)=>{let{eventName:n,params:r}=t;try{return o.emit(n,r),"subscription.vipsendnewpurchase"===n&&I.emit(I.EVENT.VipRechargeSuccess),(0,i.Vp)()}catch(e){return(0,i.bG)(i.MU.FAIL,"fail")}},a=async(e,t)=>{let{eventName:n,listener:r}=t;try{return o.off(n,r),(0,i.Vp)()}catch(e){return(0,i.bG)(i.MU.FAIL,"fail")}};t("on",async(e,t)=>{let{params:n,cb:r}=t;try{if("string"==typeof n)return o.on(n,r),(0,i.Vp)();return o.on(n.eventName,r),(0,i.Vp)()}catch(e){return(0,i.bG)(i.MU.FAIL,"fail")}}),t("off",a),t("subscribeEvent",r),t("publishEvent",l),t("unSubscribeEvent",a),t("webcastBroadcast",l)},g=n("236734"),y=(e,t,n)=>{t("updateWalletInfo",(e,t)=>{try{return g.sb({}),(0,i.Vp)()}catch(e){return(0,i.bG)(i.MU.FAIL)}})},L=n("104246"),E=n("995271");let w={},O=e=>{let t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.H5.PUBLIC;(0,i.Z1)(e,t,n),w[e]=t};(0,p.Z)(e,t,w),(0,o.Z)(e,t,w),(0,r.Z)(e,t,w),(0,l.Z)(e,t,w),(0,a.Z)(e,t,w),(0,u.Z)(e,t,w),(0,_.Z)(e,t,w),(0,s.Z)(e,t,w),(0,d.Z)(e,t,w),(0,c.Z)(e,t,w),(0,v.Z)(e,t,w),(0,f.Z)(e,t,w),m(e,t,w),y(e,t,w),(0,L.Z)(e,t,w),(0,E.Z)(e,t,w)}},229589:function(e,t,n){var i=n(520739),o=n(642448),r=n(205073),l=n(330401);t.Z=(e,t,n)=>{t("sendLogV3",(t,n)=>{let{eventName:a,params:u}=n;try{return window.collectEvent(a,(0,i._)({},(0,r.m6)(),(0,l.Kj)(e),u)),(0,o.Vp)()}catch(e){return(0,o.bG)(o.MU.FAIL)}})}},790072:function(e,t,n){var i=n(520739),o=n(930600),r=n(642448),l=n(827045);t.Z=(e,t,n)=>{let a=async(e,t)=>{try{return(0,l.p)().then(e=>{var n,r;e((0,i._)({headerText:"登录后即可参与互动",success:async()=>{!(0,o.I)()&&window.location.reload()},next:`https://${null===(r=window)||void 0===r?void 0:null===(n=r.location)||void 0===n?void 0:n.host}`,enterMethod:""},t))}),(0,r.Vp)()}catch(e){return(0,r.bG)(r.MU.FAIL)}};t("login",async(t,n)=>{let{userStore:i}=e,{userInfo:o}=i;if((null==o?void 0:o.user_id_str)||(null==o?void 0:o.sec_uid)||(null==o?void 0:o.short_id))return(0,r.Vp)({status:0});{let e=await a(t,{});return{code:e.code,data:{status:e.code===r.MU.SUCCESS?1:2},msg:""}}}),t("openLoginPanel",a)}},526068:function(e,t,n){var i=n(520739);n(675373),n(413806),n(826893),n(429532),n(874386),n(284961);var o=n(642448),r=n(645260),l=n.n(r),a=n(516599),u=n(567754),_=n(758664),s=n(560912),d=n(884861),c=n(414677),v=n(330401),f=n(273406),p=n(230501),h=n(248256),I=n(637005);t.Z=(e,t,n)=>{let r=(e,t)=>{let{title:n,cancelText:i,confirmText:r,content:l,showCancel:a=!0}=t,{showModal:u}=(0,_.t)({});return new Promise(e=>{u({title:n,content:l,confirmBtnText:r,closeBtnText:i,onConfirm:()=>{e((0,o.Vp)({cancel:!1,confirm:!0}))},onClose:()=>{e((0,o.Vp)({cancel:!0,confirm:!1}))},showCancel:a})})},m=async(t,n)=>{let{url:i,_reset:r=!1,_noReset:_=!1,forceCover:f=!1}=n;if(-1!==i.indexOf("sslocal://lynxview?")){var p;return null===(p=e.singletonStore.liveContainer)||void 0===p||p.openLandPage({url:i,reset:!1,forceCover:f}),(0,o.Vp)()}if(-1!==i.indexOf("sslocal://webcast_redirect?entry=gold_gift"))try{let t=null==e?void 0:e.roomStore,n=null==e?void 0:e.userStore,i=null==e?void 0:e.activityIndicatorStore,r=l()(t,"roomInfo.roomId"),a=l()(t,"roomInfo.anchor.id_str"),u=l()(t,"roomInfo.anchor.sec_uid"),_=l()(n,"userInfo.id_str"),s=l()(n,"userInfo.sec_uid"),d=null==i?void 0:i._getGoldActLandUrl;return(null==i?void 0:i.setCurrentLandPage)([d({anchorId:a,secAnchorId:u,userId:_,secUserId:s,roomId:r})]),(0,o.Vp)()}catch(e){return(0,o.bG)(o.MU.FAIL)}try{let t=await (0,s.L7)(i);if(!t)return a.F.info("打开失败，请重试"),"boolean"==typeof t?(0,d.PO)({status:"1",statusCode:c.P.Failed,url:t+""}):(0,d.PO)({status:"2",statusCode:c.P.Failed,url:t}),(0,o.bG)(o.MU.FAIL);(0,d.PO)({statusCode:c.P.Success,status:"0",url:t});let{url:n}=u.parse(t.split("?")[1]),l=(0,v.fh)(n,e,(()=>{let e={__isDouyinPC:"true"};try{let t=u.parse(i.split("?")[1]);if("string"==typeof t.url_query){let n=u.parse(decodeURIComponent(t.url_query));Object.assign(e,n)}}catch(e){}return e})()),f=e.activityIndicatorStore.currentLandPage.indexOf(l);if(f>=0){let t=[...e.activityIndicatorStore.currentLandPage];return t.splice(f,1),e.activityIndicatorStore.setCurrentLandPage(t,_),(0,o.Vp)()}return r?e.activityIndicatorStore.setCurrentLandPage([l],_):e.activityIndicatorStore.setCurrentLandPage([...e.activityIndicatorStore.currentLandPage,l],_),(0,o.Vp)()}catch(e){return(0,o.bG)(o.MU.FAIL)}},g=async(e,t)=>m(e,(0,i._)({url:null==t?void 0:t.schema},t)),y=async(t,n)=>{let{url:i,pcNotClose:r}=n;try{let t=(0,v.fh)(i,e,{});return t=`${t}&__isDouyinPC=true`,r?e.activityIndicatorStore.setCurrentLandPage([...null==e?void 0:e.activityIndicatorStore.currentLandPage,t],!0):e.activityIndicatorStore.setCurrentLandPage([t]),(0,o.Vp)()}catch(e){return(0,o.bG)(o.MU.FAIL)}},L=async(t,i)=>{var l,a,_,s,d,c,v,g,y,L,E,w,O,A,S,N,T;if("scheme"===i.type){if(!(null==i?void 0:null===(l=i.args)||void 0===l?void 0:l.url))return(0,o.bG)(o.MU.FAIL);let e=null==i?void 0:null===(_=i.args)||void 0===_?void 0:null===(a=_.url)||void 0===a?void 0:a.split("?");if(e[0].indexOf("webcast_room")>=0){let t=u.parse(e[1]||"");return t.web_rid&&window.open(`https://live.douyin.com/${t.web_rid}`),(0,o.Vp)()}return await m(t,{url:i.args.url,_noReset:null==i?void 0:null===(s=i.args)||void 0===s?void 0:s._noReset})}if("room"===i.type)return(null==i?void 0:null===(d=i.args)||void 0===d?void 0:d.web_rid)&&window.open(`/${i.args.web_rid}`),(0,o.Vp)();if("gift_panel"===i.type){let l=null==i?void 0:i.gift_id,a=null==i?void 0:i.is_send_gift,u=null==i?void 0:null===(c=i.gift_log_extra)||void 0===c?void 0:c.gift_source,_=(0,f.mS)(l,e.giftStore.giftList);if(l&&a&&(null==_?void 0:_.id))r(t,{title:"",content:`送出1个${_.name}(${_.price}钻)`,confirmText:"确定",showCancel:!0,cancelText:"取消"}).then(e=>{var r,a;(null==e?void 0:e.code)===o.MU.SUCCESS&&(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.confirm)&&(null==n||n.sendGift(t,{gift_id:l,gift_count:1,gift_source:u,to_user_id:null==i?void 0:null===(a=i.args)||void 0===a?void 0:a.user_id}))});else{e.giftStore.setGiftPanelSwitchStatus(i.page_type?p.nN.OPEN_BY_PAGE_TYPE:p.nN.OPEN_GIFT);let n=(null===(v=t.globalProps)||void 0===v?void 0:v.resolvedUrl)||"";i.page_type&&(null==e||e.giftStore.setCurrentPageType(i.page_type)),e.linkmicStore.isGroupLive&&n.indexOf("compete_card_pc.json")>0&&(null==i?void 0:null===(g=i.args)||void 0===g?void 0:g.user_id)&&(e.linkmicStore.setChoosePeopleArr([null==i?void 0:null===(y=i.args)||void 0===y?void 0:y.user_id]),I.emit(I.EVENT.selectGroupLiveAnchor,[null==i?void 0:null===(L=i.args)||void 0===L?void 0:L.user_id]))}return(0,o.Vp)()}if("login_panel"===i.type)return await n.openLoginPanel(t,i.args);if("profile"===i.type){let{user_id:n,sec_uid:r,sec_user_id:l,source:a=""}=i.args||{};if(((null===(E=t.globalProps)||void 0===E?void 0:E.resolvedUrl)||"").indexOf("compete_card_pc.json")>0&&e.linkmicStore.groupliveProfileSlot){let t=e.linkmicStore.groupliveProfileSlot.getBoundingClientRect();(0,h.o8)(e,{targetUid:n,secTargetUid:l||r,source:a,position:"bottom",left:t.x,top:t.y,skipPrivacyCheck:"true"===String((null==i?void 0:null===(w=i.args)||void 0===w?void 0:w.skip_privacy_check)||!1)})}else(0,h.o8)(e,{targetUid:n,secTargetUid:l||r,source:a,skipPrivacyCheck:"true"===String((null==i?void 0:null===(O=i.args)||void 0===O?void 0:O.skip_privacy_check)||!1)});return(0,o.Vp)()}return"charge"===i.type?(n.openLiveRecharge(t,i),(0,o.Vp)()):"open_pc_package"===i.type?((null==e?void 0:null===(A=e.giftStore)||void 0===A?void 0:A.giftPanelSwitchStatus)===p.nN.NO_CONTROL||(null==e?void 0:null===(S=e.giftStore)||void 0===S?void 0:S.giftPanelSwitchStatus)===p.nN.CLOSE?null==e||null===(N=e.giftStore)||void 0===N||N.setGiftPanelSwitchStatus(p.nN.OPEN_PROP):null==e||null===(T=e.giftStore)||void 0===T||T.setGiftPanelSwitchStatus(p.nN.CLOSE),(0,o.Vp)()):(n.pcNotSupport("openLive",i.type),(0,o.bG)(o.MU.FAIL))};t("showModal",r),t("openScheme",m),t("openSchema",g),t("openUrl",y),t("openLive",L),t("x.open",(e,t)=>(null==t?void 0:t.schema)?m(e,{url:t.schema,_reset:null==t?void 0:t.replace}):(0,o.bG)(o.MU.FAIL)),t("openVipEmojiPanel",()=>{try{var t,n;null==e||null===(n=e.vipStore)||void 0===n||null===(t=n.emojiPanelRef)||void 0===t||t.show("vipEmoji"),(0,o.Vp)({})}catch(e){(0,o.bG)({})}})}},995271:function(e,t,n){var i=n(520739),o=n(878389),r=n(642448),l=n(516599),a=n(884128),u=n(273406),_=n(230501),s=n(643545),d=n(944144),c=n(330401);t.Z=(e,t,n)=>{t("sendProps",async(t,n)=>{let{propID:v,count:f,gift_source:p}=n;try{var h,I,m,g;let{userStore:{userInfo:t},roomStore:{roomInfo:n},giftStore:{giftList:y,effectList:L,giftPanelShowFrom:E,setGiftMessages:w},linkmicStore:{choosePeopleArr:O,useChoosePeopleFunc:A},eventStore:{giftEvent:S}}=e,N=(null==t?void 0:t.id_str)||(null==t?void 0:t.sec_uid)||(null==t?void 0:t.short_id),T=null==n?void 0:n.roomId,U=null==n?void 0:null===(h=n.anchor)||void 0===h?void 0:h.id_str,V=!A||(null==O?void 0:O.join(""))===U,b=V?U:null==O?void 0:O[0];if(!N)return l.F.info("请先登录"),(0,r.bG)(r.MU.FAIL);let C=await a.E({count:f,room_id:T,to_room_id:T,to_uid:b,prop_def_id:v,send_prop_scene:V?d.Az.NORMAL:d.Az.LINK}),P=null==C?void 0:null===(I=C.data)||void 0===I?void 0:I.status_code,M=null==C?void 0:null===(m=C.data)||void 0===m?void 0:m.data;if(0!==P)return l.F.info((null==M?void 0:M.prompts)||"赠送道具失败，请稍后重试"),(0,r.bG)(r.MU.FAIL);{let n=(0,u.mS)(null==M?void 0:M.gift_id,y),l=(0,u.mL)(M,y,L,t,f);return w(l),null==S||null===(g=S.liveGiftSendEvent)||void 0===g||g.call(S,{gift_id:null==M?void 0:M.gift_id,combo_cnt:null==M?void 0:M.combo_count,group_cnt:null==M?void 0:M.group_count,gift_source:_._W.GIFT_BAG,money_per_unit:n.price,gift_cnt:f,money:f*n.price,is_fans_club_gift:(0,s.dU)(null==M?void 0:M.gift_id)?"1":"0",to_user_id:String(U),full_seats_cnt:1,is_from_container:0,gift_show_from:E,pageType:_.kQ.PROP,tab_name:_.BS[_.kQ.PROP]||_.kQ.PROP}),window.collectEvent("livesdk_send_prop",(0,o._)((0,i._)({},(0,c.Kj)(e)),{prop_id:v,gift_id:null==M?void 0:M.gift_id,gift_source:p})),(0,r.Vp)()}}catch(e){return(0,r.bG)(r.MU.FAIL)}})}},214822:function(e,t,n){n(675373);var i=n(642448),o=n(611243),r=n(770989),l=n(35730),a=n(746025),u=n(399796);t.Z=(e,t,n)=>{let _=async t=>new Promise(async(n,_)=>{let{rechargeStore:{rechargeAuthStatus:s}}=e,{showRecharge:d}=(0,o.y)();if(s){var c;let e=await (null===(c=r.a.getIAPRechargeParams)||void 0===c?void 0:c.call(r.a));d({type:"recharge",balance:(null==t?void 0:t.money_diff)||0,amount:0,theme:(0,a.Dr)(u.Q.getItem({sKey:l.CookieKeys.Theme})),requestPublicParams:e,onSuccess(){n((0,i.Vp)({recharge_code:1}))},onClose(){_((0,i.bG)(i.MU.FAIL,"close recharge dialog",{recharge_code:0}))}})}else _((0,i.bG)(i.MU.FAIL,"need login",{recharge_code:0}))});t("openLiveRecharge",async(t,n)=>{let{args:_}=n;try{let{rechargeStore:{rechargeAuthStatus:t}}=e,{showRecharge:n}=(0,o.y)();if(t){var s;let e=await (null===(s=r.a.getIAPRechargeParams)||void 0===s?void 0:s.call(r.a));n({type:"recharge",balance:(null==_?void 0:_.money_diff)||0,amount:0,theme:(0,a.Dr)(u.Q.getItem({sKey:l.CookieKeys.Theme})),requestPublicParams:e})}return(0,i.Vp)()}catch(e){return(0,i.bG)(i.MU.FAIL)}}),t("openRechargeDialog",_)}},659004:function(e,t,n){var i=n(642448),o=n(645260),r=n.n(o),l=n(236734);t.Z=(e,t,n)=>{t("sendRedEnvelopSuccess",async()=>{try{let{userStore:o}=e,{userInfo:a}=o;if(!((null==a?void 0:a.user_id_str)||(null==a?void 0:a.sec_uid)||(null==a?void 0:a.short_id)))return(0,i.bG)(i.MU.FAIL);let{data:u}=await l.sb({}),_=r()(u,"status_code");if(0!==_)return(0,i.bG)(i.MU.FAIL);{var t,n;let o=r()(u,"data.diamond",0);return null==e||null===(n=e.giftStore)||void 0===n||null===(t=n.setBalance)||void 0===t||t.call(n,o),(0,i.Vp)()}}catch(e){return(0,i.bG)(i.MU.FAIL)}})}},248262:function(e,t,n){var i=n(642448),o=n(418831),r=n(32369),l=n(831202),a=n(782563);t.Z=(e,t,n)=>{let u=null,_=null,s=async()=>u?u:_?await _:(_=(async()=>{var e,t,n,i,_;let s=await (0,o.Mr)({device_platform:"web",aid:"6383"});if((null==s?void 0:s.status)!==200||(null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.status_code)!==0)return r.ZN.error(l.Mo.LiveSettingError,{content:{statusCode:null==s?void 0:null===(n=s.data)||void 0===n?void 0:n.status_code,logId:null!==(_=s.logId)&&void 0!==_?_:"",is_client:(0,a.DT)(),data:null==s?void 0:null===(i=s.data)||void 0===i?void 0:i.data}}),null;{let e=null==s?void 0:null===(t=s.data)||void 0===t?void 0:t.data;return u=e,e}})(),await _);t("getClientSetting",async(e,t)=>{if(!t.key)return(0,i.bG)(i.MU.FAIL);let n=await s();return n?(0,i.Vp)({data:{[t.key]:n[t.key]}}):(0,i.bG)(i.MU.FAIL)})}},145461:function(e,t,n){var i=n(642448);let o="activity_indicator_jsb";t.Z=(e,t,n)=>{let r=async(e,t)=>{let{key:n}=t;try{var r;return(0,i.Vp)({value:null!==(r=localStorage.getItem(`${o}_${n}`))&&void 0!==r?r:""})}catch(e){return(0,i.bG)(i.MU.FAIL,"fail",{value:void 0})}},l=async(e,t)=>{let{key:n}=t;try{return localStorage.removeItemItem(`${o}_${n}`),(0,i.Vp)()}catch(e){return(0,i.bG)(i.MU.FAIL,"fail")}};t("setStorage",async(e,t)=>{let{key:n,value:r}=t;try{return localStorage.setItem(`${o}_${n}`,r),(0,i.Vp)()}catch(e){return(0,i.bG)(i.MU.FAIL,"fail")}}),t("getStorage",r),t("removeStorage",l)}},367063:function(e,t,n){var i=n(642448),o=n(516599);t.Z=(e,t,n)=>{t("privilege_wear_notification",async(e,t)=>(window.location.reload(),(null==t?void 0:t.toast_text)&&o.F.info(null==t?void 0:t.toast_text),(0,i.Vp)())),t("toast",(e,t)=>{let{text:n}=t;try{return o.F.info(n),(0,i.Vp)()}catch(e){return(0,i.bG)(i.MU.FAIL)}})}},104246:function(e,t,n){var i=n(642448),o=n(645260),r=n.n(o),l=n(919382);t.Z=(e,t,n)=>{t("userAction",async(t,n)=>{let{type:o,args:{user_id:a=""}}=n;try{let t;let n=r()(e,"roomStore.roomInfo.roomId",""),u=r()(e,"userStore.userInfo.sec_uid",""),_=r()(e,"roomStore.roomInfo.anchor.id_str"),s=r()(e,"roomStore.setFollowStatus",()=>{});if("follow"===o?t=await (0,l.ZN)({to_user_id:String(a),current_room_id:n,sec_user_id:u,sec_to_user_id:"",channel_id:200}):"unfollow"===o&&(t=await (0,l.fv)({to_user_id:String(a),current_room_id:n,sec_user_id:u,sec_to_user_id:""})),String(_)===String(a)&&t){let e=r()(t,"data.data.follow_status",0);s(e)}if(10033===t.data.status_code)return(0,i.bG)(i.MU.FAIL,"fail",{code:t.data.status_code,prompts:t.data.data.prompts});return(0,i.Vp)()}catch(e){return(0,i.bG)(i.MU.FAIL)}})}},560912:function(e,t,n){n.d(t,{Kj:function(){return l},L7:function(){return u},VK:function(){return a}}),n(209955),n(779788),n(675373),n(413806),n(826893);var i=n(645260),o=n.n(i),r=n(567754);let l=e=>{var t,n,i,r,l,a;return{room_id:o()(e,"roomStore.roomInfo.roomId",""),user_id:o()(e,"userStore.userInfo.id_str",""),sec_user_id:o()(e,"userStore.userInfo.sec_uid",""),anchor_id:o()(e,"roomStore.roomInfo.anchor.id_str",""),anchor_id_str:o()(e,"roomStore.roomInfo.anchor.id_str",""),sec_anchor_id:o()(e,"roomStore.roomInfo.anchor.sec_uid",""),enter_from_merge:null===(n=window)||void 0===n?void 0:null===(t=n.__INVISIBLE_QUERY__)||void 0===t?void 0:t.enter_from_merge,request_id:null===(r=window)||void 0===r?void 0:null===(i=r.__INVISIBLE_QUERY__)||void 0===i?void 0:i.request_id,enter_method:null===(a=window)||void 0===a?void 0:null===(l=a.__INVISIBLE_QUERY__)||void 0===l?void 0:l.enter_method,user_unique_id:o()(e,"userStore.odin.user_unique_id","")}},a=e=>{if(e instanceof Error){var t;return`${e.name}: ${e.message}
${null!==(t=e.stack)&&void 0!==t?t:"无堆栈信息"}`}if("object"==typeof e&&null!==e){if("message"in e&&"string"==typeof e.message)return e.message;try{return JSON.stringify(e)}catch(e){return"[不可序列化对象]"}}return String(e)},u=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{if(0>e.indexOf("sslocal://webcast_redirect"))return e;let t=await fetch("https://lf-webcast-gr-sourcecdn.bytegecko.com/obj/byte-gurd-source-gr/webcast/cdn/api/scheme_config/api.roma.config.json"),n=await t.json(),i=r.parse(e.split("?")[1]);return n.redirect_rules[i.entry][0].location}catch(e){return!1}}},758664:function(e,t,n){n.d(t,{t:function(){return s}});var i=n(563097);n(88648);var o=n(309931),r=n(734123),l=n(33664),a=n(615364),u=n(393828);let _=e=>{let{title:t,content:n,confirmBtnText:o="确定",closeBtnText:r="取消",onConfirm:_,onClose:s,showCancel:d=!0}=e;return(0,i.jsx)(a.Z,{visible:!0,className:u.default.mask,title:t,onCancel:s,children:(0,i.jsxs)("div",{className:u.default.wrap,children:[(0,i.jsx)("div",{className:u.default.content,children:n}),(0,i.jsxs)("div",{className:u.default.operation,children:[d&&(0,i.jsx)(l.zx,{onClick:()=>{s&&s()},children:r}),(0,i.jsx)(l.zx,{onClick:()=>{_&&_()},children:o})]})]})})},s=function(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elementClass:l="confirm-modal"}=n,a=()=>{e&&t&&(r.Util.removeClass(t,l),o.unmountComponentAtNode(t),e.removeChild(t),e.style.overflow="")};return{showModal:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{title:u,content:s,confirmBtnText:d,closeBtnText:c,onConfirm:v,onClose:f}=n,p=async()=>{v&&await v(),a()},h=async()=>{f&&await f(),a()};e=document.fullscreenElement||document.body,!(t=r.Util.findDom(e,`.${l}`))&&(t=document.createElement("div"),r.Util.addClass(t,l),e.appendChild(t),e.style.overflow="hidden",o.render((0,i.jsx)(_,{title:u,content:s,confirmBtnText:d,closeBtnText:c,onConfirm:p,onClose:h}),t))},destroyModal:a}}},106128:function(e,t,n){n.d(t,{S:function(){return r}});var i=n(516599),o=n(687761);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"购买门票后可使用该功能";(0,o.ys)(e),i.F.info(t)}},770250:function(e,t,n){n.d(t,{FL:function(){return d},Yt:function(){return _},s1:function(){return s}}),n(429532);var i,o=n(392712),r=n(850159),l=n(390565),a=n(207964);let u={headerText:"登录后即可参与互动",next:"undefined"!=typeof location?`https://${null===(i=location)||void 0===i?void 0:i.host}`:void 0,enterMethod:"live_room"},_=()=>{var e;let t=(0,r.Z)(),n=null==t?void 0:null===(e=t.userStore)||void 0===e?void 0:e.userInfo,i=!!((null==n?void 0:n.id_str)||(null==n?void 0:n.id));return(0,l.Cg)()&&!i};function s(e){return t=>{var n,i,r;if(!(null==t?void 0:t.ignoreABCheck)&&!(0,a.getLoginLimitAB)(e))return!0;let l=null==e?void 0:null===(n=e.userStore)||void 0===n?void 0:n.userInfo;if((null==l?void 0:l.id_str)||(null==l?void 0:l.id))return!0;let _=Object.assign({headerText:"登录后即可参与互动",success:async()=>{window.location.reload()},next:`https://${null===(r=window)||void 0===r?void 0:null===(i=r.location)||void 0===i?void 0:i.host}`},u,t);return(0,o.x)(_),!1}}function d(){return s((0,r.Z)())}},390565:function(e,t,n){n.d(t,{Cg:function(){return r}});var i=n(207964),o=n(850159);let r=()=>(0,i.getLoginLimitAB)((0,o.Z)())},993115:function(e,t,n){n.d(t,{Y:function(){return p},Z:function(){return h}}),n("88648");var i=n("850159"),o=n("563097"),r=n("309931"),l=n("734123"),a=n("713097"),u=n.n(a),_=n("33664"),s=n("615364"),d=n("971260");let c=e=>{let{title:t,content:n,confirmBtnText:i="确定",closeBtnText:r="取消",onConfirm:l,onClose:a,className:c}=e;return(0,o.jsx)(s.Z,{visible:!0,className:u()({[d.default.mask]:!0,[c]:!!c}),title:t,onCancel:a,closeable:!1,children:(0,o.jsxs)("div",{className:d.default.wrap,children:[(0,o.jsx)("div",{className:d.default.content,children:n}),(0,o.jsxs)("div",{className:d.default.operation,children:[(0,o.jsx)(_.zx,{type:_.L$.secondary,onClick:()=>{a&&a()},children:r}),(0,o.jsx)(_.zx,{onClick:()=>{l&&l()},children:i})]})]})})},v=function(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elementClass:i="confirm-modal"}=n,a=()=>{e&&t&&(l.Util.removeClass(t,i),r.unmountComponentAtNode(t),e.removeChild(t),e.style.overflow="")};return{showModal:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{title:u,content:_,confirmBtnText:s,closeBtnText:d,onConfirm:v,onClose:f,className:p}=n,h=async()=>{v&&await v(),a()},I=async()=>{f&&await f(),a()};e=document.body,!(t=l.Util.findDom(e,`.${i}`))&&(t=document.createElement("div"),l.Util.addClass(t,i),e.appendChild(t),e.style.overflow="hidden",r.render((0,o.jsx)(c,{title:u,content:_,confirmBtnText:s,closeBtnText:d,onConfirm:h,onClose:I,className:p}),t))},destroyModal:a}};var f=n("908697"),p={Red:"1",Blue:"2"},h=()=>{let{linkmicStore:{teamfightInfo:e,linkMicSeats:t}}=(0,i.Z)(),{isGroupFight:n,isRoomBattle:o,statusTexting:r,pickEmptySeatPositionByGroup:l,groupMemberCnts:a,willInterruptWithPosQuit:u,leftTeamScore:_,rightTeamScore:s,status:d,countDown:c,isInPunish:p,isGroupPlaying:h,redGroupSeats:I,blueGroupSeats:m}=(0,f.Z)({teamfightInfo:e,linkMicSeats:t}),{showModal:g}=v();return{isGroupFight:n,isRoomBattle:o,statusTexting:r,pickEmptySeatPositionByGroup:l,groupMemberCnts:a,willInterruptWithPosQuit:u,exitGameConfirm:(e,t)=>{if(!t)return;let n="1"===String(t)?"红队":"蓝队";g({title:`确认退出${n}吗`,content:`退出后${n}人数为 0，团战将自动结束`,onConfirm:()=>{e()}})},leftTeamScore:_,rightTeamScore:s,status:d,countDown:c,isInPunish:p,isGroupPlaying:h,redGroupSeats:I,blueGroupSeats:m}}},207722:function(e,t,n){n(250440);var i=n(88648),o=n(850159),r=n(289546),l=n(645260),a=n.n(l),u=n(943373);t.Z=()=>{let{linkmicStore:{guestBattleInfo:e},userStore:{userInfo:t}}=(0,o.Z)(),n=a()(t,"user_attr.is_admin",!1),l=a()(t,"user_attr.admin_privileges",[]),_=i.useMemo(()=>n&&Array.isArray(l)&&(l.includes(r.s.LinkmicGuestBattlePrivilege)||l.includes(r.s.AudienceLinkmicPlaymodeControl)),[n,l]),{isGuestBattle:s,status:d,isInPunish:c,isGuestPlaying:v}=(0,u.Z)({guestBattleInfo:e});return{isGuestBattle:s,status:d,isInPunish:c,isGuestPlaying:v,isGuestBattleManger:_}}},843108:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n("850159"),o=n("88648"),r=e=>{let{orderSingInfo:t}=e;return{isOrderSing:o.useMemo(()=>!!t,[t])}},l=()=>{let{linkmicStore:{orderSingInfo:e}}=(0,i.Z)(),{isOrderSing:t}=r({orderSingInfo:e});return{isOrderSing:t}}},825963:function(e,t,n){n.d(t,{d:function(){return c}}),n(874386),n(527785),n(250440);var i=n(88648),o=n(645260),r=n.n(o),l=n(42361),a=n(850159),u=n(106128),_=n(20568),s=n(407217),d=n(56641);let c=e=>{let{paidLiveStore:{paidLiveAuth:t,paidLiveData:n}}=(0,a.Z)(),i=(null==t?void 0:t[e])===l.Bp.OPEN;return{ticketInfo:u.S,isCanView:i}};t.Z=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let{singletonStore:{container:e,setPaidLiveQRCodeVisible:t},paidLiveStore:{paidLiveData:n,setQrcodeVisible:o}}=(0,a.Z)(),[l,u]=(0,i.useState)("https://lf-dy-gr-sourcecdn.bytegecko.com/obj/byte-gurd-source-gr/webcast/mono/h5/vs_paid_live_audience_pc_buy_ticket_h5_douyin/pages/ticket_pc/index.html"),c=()=>{t(!0)};return(0,i.useEffect)(()=>{var e,t;if((null==n?void 0:n.paid_type)!==_.xc.COMMON)(null===(t=window)||void 0===t?void 0:null===(e=t.__INVISIBLE_QUERY__)||void 0===e?void 0:e.if_paid_live_card)&&(c(),window.__INVISIBLE_QUERY__.if_paid_live_card=void 0)},[c]),(0,i.useEffect)(()=>{try{(async()=>{let e=await (0,s.ZP)({service_name:"webcast.douyin.live_pc",key:"hybrid_schema"}),t=r()(e,"paid_live_ticket_panel","");t&&u(t)})()}catch(e){}},[]),{openTicketInfo:function(){let{query:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.keys(t).reduce((e,n)=>{let i=`${n}=${t[n]}`;return`${e}&${i}`},""),i=`${l}${n?`?${n}`:""}`;if(e._containerList.keys()){for(let t of e._containerList.keys())if(t.includes("https://lf-webcast-gr-sourcecdn.bytegecko.com/obj/byte-gurd-source-gr/webcast/mono/h5/pc_live_pay_order_douyin/pages/cashier/index.html"))return}e.open(i,d.ov.RIGHT_PANEL,{hideClose:!0})},openQRPanel:c,closeQRPanel:()=>{t(!1)}}}},414677:function(e,t,n){n.d(t,{P:function(){return E},o:function(){return w}});var i=n(134761),o=n(520739);n(874386),n(284961),n(826893),n(675373);var r=n(146253),l=n(56641),a=n(516599),u=n(611243),_=n(205073),s=n(827045),d=n(32369),c=n(236734),v=n(273406),f=n(585514),p=n(919382),h=n(645260),I=n.n(h),m=n(831202),g=n(782563),y=n(930600),L=n(770989),E={Success:1,1:"Success",Failed:0,0:"Failed",InvalidParam:-3,"-3":"InvalidParam"};class w{constructor(e,t,n,h){var E=this;(0,i._)(this,"_containerName",void 0),(0,i._)(this,"_eventListenerMap",new Map),(0,i._)(this,"_store",null),(0,i._)(this,"_roomId",""),(0,i._)(this,"_container",null),(0,i._)(this,"openScheme",async e=>{let{url:t,isLiveModal:n=!1}=e;try{let{url:e}=(0,l.zP)(t);return this._container.open(e,void 0,void 0,void 0,n),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"openUrl",async e=>{let{url:t,position:n,garfishConfig:i,globalProps:o}=e;try{return this._container.open(t,n,i,o),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"close",async e=>{try{var t;let n=null!==(t=null==e?void 0:e.containerName)&&void 0!==t?t:this._containerName;return this.publishEvent({eventName:"close",params:{containerName:n}}),this._containerName&&this._container.close(n),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"fetch",async e=>{let{params:t,data:n,headers:i,url:o="",method:l="GET"}=e;try{let e=await (0,r.ZP)({url:o.replace(/^https?:\/\/[^/]+/,""),method:l,headers:i,data:n,params:t});return{code:1,raw:null==e?void 0:e.data}}catch(e){return{code:0}}}),(0,i._)(this,"sendLogV3",async e=>{let{eventName:t,params:n}=e;try{return window.collectEvent(t,(0,o._)({},(0,_.m6)(),(0,l.Kj)(this._store),n)),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"on",async e=>{let{eventName:t,callback:n}=e;try{return window.Garfish.channel.on(t,n),this._eventListenerMap.set(t,n),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"webcastBroadcast",async e=>{let{eventName:t,params:n}=e;try{return window.Garfish.channel.emit(t,n),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"subscribeEvent",async e=>{let{eventName:t,callback:n}=e;try{return window.Garfish.channel.on(t,n),this._eventListenerMap.set(t,n),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"publishEvent",async e=>{let{eventName:t,params:n}=e;try{return window.Garfish.channel.emit(t,n),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"unSubscribeEvent",async e=>{let{eventName:t,listener:n}=e;try{return window.Garfish.channel.off(t,n),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"setStorage",async e=>{let{key:t,value:n}=e;try{return localStorage.setItem(`${l.cp}_${t}`,n),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"getStorage",async e=>{let{key:t}=e;try{var n;return{code:1,value:null!==(n=localStorage.getItem(`${l.cp}_${t}`))&&void 0!==n?n:""}}catch(e){return{code:0,value:""}}}),(0,i._)(this,"removeStorage",async e=>{let{key:t}=e;try{return localStorage.removeItem(`${l.cp}_${t}`),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"toast",async e=>{let{text:t}=e;try{return a.F.info(t),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"openLiveRecharge",async()=>{try{var e;let{rechargeStore:{rechargeAuthStatus:t}}=this._store,{showRecharge:n}=(0,u.y)(),i=await (null===(e=L.a.getIAPRechargeParams)||void 0===e?void 0:e.call(L.a));return t&&n({type:"recharge",balance:0,amount:0,requestPublicParams:i}),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"openLoginPanel",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(0,s.p)().then(t=>{var n,i;t((0,o._)({headerText:"登录后即可参与互动",success:async()=>{!(0,y.I)()&&window.location.reload()},next:`https://${null===(i=window)||void 0===i?void 0:null===(n=i.location)||void 0===n?void 0:n.host}`,enterMethod:""},e))}),{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"refreshDouCoin",async()=>{try{let{data:i,logId:r}=await c.sb({}),l=I()(i,"status_code");if(0===l){var e,t,n;let o=I()(i,"data.diamond",0);null===(n=this._store)||void 0===n||null===(t=n.giftStore)||void 0===t||null===(e=t.setBalance)||void 0===e||e.call(t,o)}else d.kg.event(`[${m.Tn.Error}]${m.Mo.LiveBalanceError}`,(0,o._)({statusCode:l,logId:null!=r?r:"",is_client:(0,g.DT)()},i)),a.F.info(I()(i,"data.prompts","获取余额失败，请稍后重试")),d.kg.error("获取余额失败",i,r);return{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"sendGift",async e=>{let{gift_id:t,gift_count:n,gift_source:i,send_type:o=4}=e;try{var r,l,u,_,s,d,f,p,h,m,g,y;let{userStore:{userInfo:e},roomStore:{roomInfo:L}}=this._store;if(!n)return{code:0};if(I()(e,"id_str")===I()(L,"anchor.id_str"))return a.F.info("不可为自己送礼"),{code:0};if(!I()(L,"room.id_str"))return{code:0};let E=await (0,c.hF)({gift_id:t,count:n,room_id:I()(L,"room.id_str"),to_room_id:I()(L,"room.id_str"),to_user_id:I()(L,"anchor.id_str"),to_user_ids:"",send_type:o,send_scene:1,gift_source:0,buff_level:0,to_episode_id:I()(L,"room.episode_extra.episode_id_str",0)||0});if(0===E.data.status_code){let o=I()(this._store,"giftStore.giftList",[]),r=I()(this._store,"giftStore.effectList",[]),a=(0,v.mL)(I()(E.data,"data"),o,r,e,n);null===(_=this._store)||void 0===_||null===(u=_.giftStore)||void 0===u||null===(l=u.setGiftMessages)||void 0===l||l.call(u,a),this.refreshDouCoin(),this.publishEvent({eventName:"H5_sendGiftStatusChange",params:{gift_list:[{gift_id:Number(t),count:n}]}}),null===(f=this._store)||void 0===f||null===(d=f.eventStore)||void 0===d||null===(s=d.giftEvent)||void 0===s||s.liveGiftSendEvent({gift_id:t,combo_cnt:I()(E.data,"data.combo_count"),group_cnt:I()(E.data,"data.group_count"),gift_source:i,money_per_unit:I()(E.data,"data.gift_struct.diamond_count"),gift_cnt:n,money:n*I()(E.data,"data.gift_struct.diamond_count"),is_fans_club_gift:"0",to_user_id:I()(L,"anchor.id_str"),full_seats_cnt:1,is_from_container:0})}if((null==E?void 0:null===(r=E.data)||void 0===r?void 0:r.status_code)===40001)return a.F.info("余额不足，请充值后再试"),{code:1,error_code:null==E?void 0:null===(p=E.data)||void 0===p?void 0:p.status_code};return{code:1,error_code:null==E?void 0:null===(h=E.data)||void 0===h?void 0:h.status_code,error_msg:null!==(y=null==E?void 0:null===(g=E.data)||void 0===g?void 0:null===(m=g.data)||void 0===m?void 0:m.prompts)&&void 0!==y?y:""}}catch(e){return{code:0}}}),(0,i._)(this,"getAppInfo",async function(){var e,t;let{}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let{userStore:{odin:t}}=null!==(e=E._store)&&void 0!==e?e:{userStore:{}};return{code:1,aid:"6383",user_id:null==t?void 0:t.user_id,device_id:null==t?void 0:t.user_unique_id,is_mas:!!(0,g.xo)()}}catch(n){let{userStore:{odin:e}}=null!==(t=E._store)&&void 0!==t?t:{userStore:{}};return{code:0,aid:"6383",user_id:null==e?void 0:e.user_id,device_id:null==e?void 0:e.user_unique_id,is_mas:!!(0,g.xo)()}}}),(0,i._)(this,"getBaseInfo",async function(){let{}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let{roomStore:e}=E._store;return{code:1,anchor_info:{nickname:I()(e,"roomInfo.anchor.nickname","")}}}catch(t){let{roomStore:e}=E._store;return{code:0,anchor_info:{nickname:I()(e,"roomInfo.anchor.nickname","")}}}}),(0,i._)(this,"getPaidLiveInfo",async()=>{try{let{paidLiveStore:e}=this._store,t=I()(this._store,"roomStore.roomInfo.anchor.follow_info.follow_status",0),n=I()(this._store,"paidLiveStore.viewType",0),i=t===f.E.FOLLOWING||t===f.E.BOTH;return{code:1,paid_live_info:null==e?void 0:e.paidLiveData,follow_status:Number(i),view_type:Number(n)}}catch(e){return{code:0}}}),(0,i._)(this,"userAction",async e=>{let{type:t,args:{user_id:n=""}}=e;try{let e;let i=I()(this._store,"roomStore.roomInfo.roomId",""),o=I()(this._store,"userStore.userInfo.sec_uid",""),r=I()(this._store,"roomStore.roomInfo.anchor.id_str"),l=I()(this._store,"roomStore.setFollowStatus",()=>{});if("follow"===t?e=await (0,p.ZN)({to_user_id:String(n),current_room_id:i,sec_user_id:o,sec_to_user_id:"",channel_id:0}):"unfollow"===t&&(e=await (0,p.fv)({to_user_id:String(n),current_room_id:i,sec_user_id:o,sec_to_user_id:""})),String(r)===String(n)&&e){let t=I()(e,"data.data.follow_status",0);l(t)}return{code:1}}catch(e){return{code:0}}}),(0,i._)(this,"userInfo",async function(){let{}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let e=I()(window.__STORE__,"userStore.userInfo.id_str","");return{code:1,userInfo:{userID:e}}}catch(e){return{code:0,userInfo:{userID:""}}}}),this._containerName=e,this._store=t,this._roomId=n,this._container=h}}},56641:function(e,t,n){n.d(t,{Kj:function(){return v},Mu:function(){return _},cp:function(){return a},fh:function(){return f},nb:function(){return d},ov:function(){return u},zP:function(){return c},zs:function(){return s}}),n(954372),n(826893),n(927234),n(284961),n(413806);var i=n(248073),o=n(945066),r=n(645260),l=n.n(r);let a="hybrid_container";var u={LONG_TOUCH:0,0:"LONG_TOUCH",RIGHT_PANEL:1,1:"RIGHT_PANEL",COMMON:2,2:"COMMON",CUSTOM:3,3:"CUSTOM"};let _=e=>`${a}_${e.replace(/:|\.|\/|\?|\&|\=|\%|\+|\#/g,"_")}`;function s(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="";for(let i=0;i<e;i++){let e=Math.floor(Math.random()*t.length);n+=t.charAt(e)}return n}let d=e=>{var t,n;return null!==(n=null===(t=e.split("?"))||void 0===t?void 0:t[0])&&void 0!==n?n:""},c=e=>{var t,n;return(0,i.D)(null!==(n=null===(t=e.split("?"))||void 0===t?void 0:t[1])&&void 0!==n?n:"")},v=e=>{var t,n,i,o;return{room_id:l()(e,"roomStore.roomInfo.roomId",""),user_id:l()(e,"userStore.userInfo.id_str",""),sec_user_id:l()(e,"userStore.userInfo.sec_uid",""),anchor_id:l()(e,"roomStore.roomInfo.anchor.id_str",""),sec_anchor_id:l()(e,"roomStore.roomInfo.anchor.sec_uid",""),enter_from_merge:null===(n=window)||void 0===n?void 0:null===(t=n.__INVISIBLE_QUERY__)||void 0===t?void 0:t.enter_from_merge,enter_method:null===(o=window)||void 0===o?void 0:null===(i=o.__INVISIBLE_QUERY__)||void 0===i?void 0:i.enter_method,user_unique_id:l()(e,"userStore.odin.user_unique_id",""),currency_name:"钻石",short_currency_name:"钻",currency_full_name:"抖音钻石"}},f=(e,t)=>(0,o.G7)(v(t),e)},637407:function(e,t,n){n.d(t,{j:function(){return o},l:function(){return i}});var i={ROTATE_PLUGIN:"rotate_plugin",GLOBAL_APP:"global_app",GIFT_BAR:"gift_bar",GIFT_BAR_MINI:"gift_bar_mini",HEADER:"header",NAVIGATION:"navigation",SIDEBAR:"siderbar",CATEGORY_TAB:"category_tab",TAB:"tab",TITLE_PLUGIN:"title_plugin",FOLLOW_PLUGIN:"follow_plugin",COMMENT_PLUGIN:"comment_plugin",GIFT_SWITCH_PLUGIN:"gift_switch_plugin",GIFT_BAR_PLUGIN:"gift_bar_plugin",EFFECT_SWITCH_PLUGIN:"effect_switch_plugin",GIFT_TRAY_PLUGIN:"gift_tray_plugin",GIFT_EFFECT_PLUGIN:"gift_effect_plugin",FANS_CLUB_PLUGIN:"fans_club_plugin",EXHIBITION_VIEW_PLUGIN:"exhibition_view_plugin",VIP_VIEW_PLUGIN:"vip_view_plugin",EFFECT_PLUGIN:"effect_plugin",HOUR_RANK_LIST_VIEW_PLUGIN:"hour_rank_list_view_plugin",TOOL_BAR_PLUGIN:"tool_bar_plugin",QUALITY_SWITCH_PLUGIN:"quality_switch_plugin",DANMAKU_PLUGIN:"danmaku_plugin",AUDIO_ROOM_PLUGIN:"audio_room_plugin",VIDEO_ROOM_PLUGIN:"video_room_plugin",RTC_LAYER_PLUGIN:"rtc_layer_plugin",PK_VIEW_PLUGIN:"pk_view_plugin",PIP_PLUGIN:"pip_plugin",INPICTURE_PLUGIN:"inpicture_plugin",ADMIN_PRIVILEGE_PLUGIN:"admin_privilege_plugin",LIVING_PLAYER:"living_plyaer",IFRAME_PLAYER:"iframe_player",GIFT_ITEM:"gift_item",GIFT_PANEL:"gift_panel",LIVE_CATEGORY:"live_category",LIVE_CARD:"live_card",LIVE_CARD_PREVIEW:"live_card_preview",RANK_LIST:"rank_list",ORDER_SING_LIST:"order_sing_list",ORDER_SING_RULE:"order_sing_rule",PROMOTION_POP:"promotion_pop",PROMOTION_LIST_WRAPPER:"promotion_list_wrapper",FANS_CLUB_POPUP:"fans_club_popup",USER_POPUP:"user_popup",CHAT_ROOM_PANEL:"chat_room_panel",AUDIENCE_PANEL:"audience_panel",FIXED_CHAT:"fixed_chat",LIVE_CAROUSEL:"live_carousel",LIVE_COVER:"live_cover",LIVE_FULLPLAYER_QULIATY:"live_fullplayer_quality",Live_Like:"live_like",Live_Flutter_Like:"live_flutter_like",DANMAKU_SETTINGS:"danmaku_settings",VIP_LIVE_BOUNDARY:"vip_live_boundary",FOLD_CHAT_ROOM_COMMENT_PLUGIN:"fold_chat_room_comment_plugin",LIVING_PIP_WINDOW:"living-pip-window",SHORT_CUT:"short_cut",QUALITY_SWITCH:"quality_switch",LivePreviewEnterRoom:"LivePreviewEnterRoom",LiveUserProfile:"live_user_profile",LOTTERY_COMPONENT:"lottery_componet",LOTTERY_COMPONENT_PLUGIN:"lottery_componet_plugin",LINK_MIC_DYNAMIC_CONFIG:"link_mic_dynamic_config",LIVE_RESERVE_CARD:"live_reserve_card",GROUP_LIVE_PLUGIN:"group_live_plugin",ORDER_SING_SELECT_GUEST:"order_sing_select_guest",COMMENT_EDITOR:"comment_editor",GIFT_PANEL_RIGHT:"gift_panel_right",LIVE_CHANNEL_BANNER:"live_channel_banner",LIVE_CHANNEL_BANNER_ROOMS:"live_channel_banner_rooms",LIVE_CHANNEL_FOLLOW_LIST:"live_channel_follow_list",LIVE_CHANNEL_HOT_CATEGORY:"live_channel_hot_category",LIVE_CHANNEL_RECOMMEND_CAROUSEL:"live_channel_recommend_carousel",LIVE_CHANNEL_RECOMMEND_LIST:"live_channel_recommend_list",BASIC_PLAYER_KEEPER:"basic_player_keeper"};let o="live_component_error_boundary"},895338:function(e,t,n){n.d(t,{k2:function(){return s}});var i=n(563097),o=n(88648),r=n(222406),l=n(637407),a=n(249239),u=n(519055);let _=function(e,t,n,i){var o,r;let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"component";null==i||i(e,t),"module"===u&&(null===(r=(0,a.OK)())||void 0===r||r("report",{ev_type:"blank_screen",payload:{timestamp:Date.now(),score:0,error:{type:"js_error",message:e.message}}})),null===(o=(0,a.OK)())||void 0===o||o("sendEvent",{name:l.j,categories:{componentName:n,message:e.message,stack:e.stack,componentStack:t},type:"event"})},s=e=>{let{onError:t,beforeCapture:n,fallback:l,Slardar:s,children:d,type:c="component",componentName:v}=e,f=o.useCallback((e,n)=>{_(e,n,v,t,c)},[c,t,v]),p=o.useCallback(()=>{if(!u.s)return s||(0,a.OK)()},[s]);return(0,i.jsx)(r.SV,{onError:f,beforeCapture:n,fallback:l,Slardar:p(),children:d})}},531459:function(e,t,n){n.d(t,{OY:function(){return a},dr:function(){return v},fh:function(){return u},gb:function(){return _},hO:function(){return d},oP:function(){return c},qK:function(){return s},re:function(){return l}});var i=n(408487),o=n(757980),r=n(926012);let l=[i.V_.LINKMICUILAYOUT_LIVE_PARTNER_DYNAMIC,i.V_.LINKMICUILAYOUT_AUDIOCHAT_TOP2V4V4,i.V_.LINKMICUILAYOUT_AUDIOCHAT_1V8_STAGE,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V8,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V3,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V6,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V8,i.V_.LINKMICUILAYOUT_VIDEOEQUALDYNAMICLAYOUT,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_1V2,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_2V2,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V2,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3V1,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3V2,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_1V1,i.V_.LINKMICUILAYOUT_VIDEOEQUAL_3X3,i.V_.LINKMICUILAYOUT_AUDIOCHAT_1V8,i.V_.LINKMICUILAYOUT_AUDIOCHAT_3X3],a=[r.yP.AUDIO_DOUBLE_C,r.yP.AUDIO_1V8_STAGE,r.yP.AUDIO_1V8,r.yP.AUDIO_GRID],u=[r.yP.AUDIO_DOUBLE_C,r.yP.AUDIO_1V8_STAGE,r.yP.VIDEO_GRID,r.yP.VIDEO_1_V_3,r.yP.VIDEO_1_V_6,r.yP.VIDEO_1_V_8,r.yP.VIDEO_DYNAMIC,r.yP.AUDIO_1V8,r.yP.AUDIO_GRID],_=[o.t.VIDEO_EQUAL,o.t.VIDEO_DYNAMIC_1V3,o.t.VIDEO_DYNAMIC_1V6,o.t.VIDEO_C,o.t.VIDEO_DYNAMIC],s=[r.yP.VIDEO_GRID,r.yP.VIDEO_1_V_3,r.yP.VIDEO_1_V_8,r.yP.VIDEO_DYNAMIC],d={[o.t.VIDEO_EQUAL]:i.V_.LINKMICUILAYOUT_VIDEOEQUAL_3X3,[o.t.VIDEO_DYNAMIC_1V3]:i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V3,[o.t.VIDEO_DYNAMIC_1V6]:i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V6,[o.t.VIDEO_C]:i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V8,[o.t.VIDEO_DYNAMIC]:i.V_.LINKMICUILAYOUT_VIDEOEQUALDYNAMICLAYOUT},c={[r.yP.VIDEO_GRID]:i.V_.LINKMICUILAYOUT_VIDEOEQUAL_3X3,[r.yP.VIDEO_1_V_3]:i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V3,[r.yP.VIDEO_DYNAMIC_FLOAT]:i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V6,[r.yP.VIDEO_1_V_8]:i.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V8,[r.yP.VIDEO_DYNAMIC]:i.V_.LINKMICUILAYOUT_VIDEOEQUALDYNAMICLAYOUT};i.V_.LINKMICUILAYOUT_AUDIOCHAT_1V8,i.V_.LINKMICUILAYOUT_AUDIOCHAT_3X3,i.V_.LINKMICUILAYOUT_AUDIOCHAT_DYNAMIC,i.V_.LINKMICUILAYOUT_LIVE_PARTNER_DYNAMIC,i.V_.LINKMICUILAYOUT_AUDIOCHAT_TOP2V4V4,i.V_.LINKMICUILAYOUT_AUDIOCHAT_1V8_STAGE,i.V_.LINKMICUILAYOUT_CROSSROOMLINKMIC_6V6;let v=[i.V_.LINKMICUILAYOUT_LIVE_PARTNER_DYNAMIC];i.V_.LINKMICUILAYOUT_CROSSROOMLINKMIC_6V6,i.V_.LINKMICUILAYOUT_LIVE_PARTNER_DYNAMIC},232241:function(e,t,n){n.d(t,{gX:function(){return U},iE:function(){return T},PS:function(){return C},us:function(){return b}});var i=n("368200"),o=n("726522"),r=n("907831"),l=n.n(r),a=JSON.parse('{"scene":5,"ui_layout":25,"sei_ver":3,"spatial_id":6,"ui_container":{"top":0,"bottom":0},"canvas":{"w":360,"h":640,"scale":2,"align":3},"content":{"x":0,"y":0,"w":360,"h":640},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":360.0,"h":640.0},{"z":1,"p":1,"x":275.0,"y":509.0,"w":75.0,"h":75.0},{"z":1,"p":2,"x":275.0,"y":434.0,"w":75.0,"h":75.0},{"z":1,"p":3,"x":275.0,"y":359.0,"w":75.0,"h":75.0},{"z":1,"p":4,"x":275.0,"y":284.0,"w":75.0,"h":75.0},{"z":1,"p":5,"x":275.0,"y":209.0,"w":75.0,"h":75.0},{"z":1,"p":6,"x":275.0,"y":134.0,"w":75.0,"h":75.0}]}'),u=JSON.parse('{"scale":1,"align":8,"scene":5,"ui_layout":26,"sei_ver":3,"sei_sub_scene":5,"spatial_id":7,"adjust_map":{"android":{"ui_container":{"top":128,"left":0,"bottom":48,"right":0}},"ios":{"ui_container":{"top":158,"left":0,"bottom":38,"right":0}}},"canvas":{"w":360,"h":640},"content":{"x":0,"y":0,"w":372,"h":326},"regions":[{"z":0,"p":0,"x":48.0,"y":6.0,"w":110.0,"h":104.0},{"z":0,"p":1,"x":214.0,"y":6.0,"w":110.0,"h":104.0},{"z":0,"p":2,"x":20.0,"y":116.0,"w":83.0,"h":102.0},{"z":0,"p":3,"x":103.0,"y":116.0,"w":83.0,"h":102.0},{"z":0,"p":4,"x":186.0,"y":116.0,"w":83.0,"h":102.0},{"z":0,"p":5,"x":269.0,"y":116.0,"w":83.0,"h":102.0},{"z":0,"p":6,"x":20.0,"y":221.0,"w":83.0,"h":102.0},{"z":0,"p":7,"x":103.0,"y":221.0,"w":83.0,"h":102.0},{"z":0,"p":8,"x":186.0,"y":221.0,"w":83.0,"h":102.0},{"z":0,"p":9,"x":269.0,"y":221.0,"w":83.0,"h":102.0}]}'),_=JSON.parse('{"scale":1,"align":8,"scene":5,"ui_layout":27,"sei_ver":3,"sei_sub_scene":5,"spatial_id":7,"adjust_map":{"android":{"ui_container":{"top":128,"left":0,"bottom":48,"right":0}},"ios":{"ui_container":{"top":158,"left":0,"bottom":38,"right":0}}},"canvas":{"w":360,"h":640},"content":{"x":0,"y":115,"w":372,"h":326},"regions":[{"z":0,"p":0,"x":131.0,"y":6.0,"w":110.0,"h":104.0},{"z":0,"p":1,"x":20.0,"y":110.0,"w":83.0,"h":100},{"z":0,"p":2,"x":103.0,"y":110.0,"w":83.0,"h":100},{"z":0,"p":3,"x":186.0,"y":110.0,"w":83.0,"h":100},{"z":0,"p":4,"x":269.0,"y":110.0,"w":83.0,"h":100},{"z":0,"p":5,"x":20.0,"y":210.0,"w":83.0,"h":100},{"z":0,"p":6,"x":103.0,"y":210.0,"w":83.0,"h":100},{"z":0,"p":7,"x":186.0,"y":210.0,"w":83.0,"h":100},{"z":0,"p":8,"x":269.0,"y":210.0,"w":83.0,"h":100}]}'),s=JSON.parse('{"scene":12,"ui_layout":5,"sei_ver":9,"spatial_id":5,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":120,"h":106.667},{"z":0,"p":1,"x":120,"y":0,"w":120,"h":106.667},{"z":0,"p":2,"x":240,"y":0,"w":120,"h":106.667},{"z":0,"p":3,"x":0,"y":106.667,"w":120,"h":106.667},{"z":0,"p":4,"x":120,"y":106.667,"w":120,"h":106.667},{"z":0,"p":5,"x":240,"y":106.667,"w":120,"h":106.667},{"z":0,"p":6,"x":0,"y":213.334,"w":120,"h":106.667},{"z":0,"p":7,"x":120,"y":213.334,"w":120,"h":106.667},{"z":0,"p":8,"x":240,"y":213.334,"w":120,"h":106.667}]}'),d=JSON.parse('{"scene":12,"ui_layout":11,"sei_ver":20,"spatial_id":-1,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":252,"h":320},{"z":0,"p":1,"x":252,"y":0,"w":108,"h":106.667},{"z":0,"p":2,"x":252,"y":106.667,"w":108,"h":106.667},{"z":0,"p":3,"x":252,"y":213.334,"w":108,"h":106.667}]}'),c=JSON.parse('{"scene":12,"ui_layout":12,"sei_ver":21,"spatial_id":-1,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":180,"h":320},{"z":0,"p":1,"x":180,"y":0,"w":90,"h":106.667},{"z":0,"p":2,"x":270,"y":0,"w":90,"h":106.667},{"z":0,"p":3,"x":180,"y":106.667,"w":90,"h":106.667},{"z":0,"p":4,"x":270,"y":106.667,"w":90,"h":106.667},{"z":0,"p":5,"x":180,"y":213.334,"w":90,"h":106.667},{"z":0,"p":6,"x":270,"y":213.334,"w":90,"h":106.667}]}'),v=JSON.parse('{"scene":12,"ui_layout":3,"sei_ver":13,"spatial_id":3,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":180,"h":320},{"z":0,"p":1,"x":180,"y":0,"w":90,"h":80},{"z":0,"p":2,"x":270,"y":0,"w":90,"h":80},{"z":0,"p":3,"x":180,"y":80,"w":90,"h":80},{"z":0,"p":4,"x":270,"y":80,"w":90,"h":80},{"z":0,"p":5,"x":180,"y":160,"w":90,"h":80},{"z":0,"p":6,"x":270,"y":160,"w":90,"h":80},{"z":0,"p":7,"x":180,"y":240,"w":90,"h":80},{"z":0,"p":8,"x":270,"y":240,"w":90,"h":80}]}'),f=JSON.parse('{"scene":12,"ui_layout":102,"sei_ver":11,"spatial_id":2,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":180.0,"h":320.0},{"z":0,"p":1,"x":180.0,"y":0,"w":180.0,"h":320.0}]}'),p=JSON.parse('{"scene":12,"ui_layout":103,"sei_ver":11,"spatial_id":2,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":180.0,"h":320.0},{"z":0,"p":1,"x":180.0,"y":0,"w":180.0,"h":160.0},{"z":0,"p":2,"x":180.0,"y":160.0,"w":180.0,"h":160.0}]}'),h=JSON.parse('{"scene":12,"ui_layout":104,"sei_ver":11,"spatial_id":2,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":180.0,"h":160.0},{"z":0,"p":1,"x":180.0,"y":0,"w":180.0,"h":160.0},{"z":0,"p":2,"x":0,"y":160.0,"w":180.0,"h":160.0},{"z":0,"p":3,"x":180.0,"y":160.0,"w":180.0,"h":160.0}]}'),I=JSON.parse('{"scene":12,"ui_layout":105,"sei_ver":11,"spatial_id":2,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":120.0,"h":160.0},{"z":0,"p":1,"x":120.0,"y":0,"w":120.0,"h":160.0},{"z":0,"p":2,"x":240.0,"y":0,"w":120.0,"h":160.0},{"z":0,"p":3,"x":60.0,"y":160.0,"w":120.0,"h":160.0},{"z":0,"p":4,"x":180.0,"y":160.0,"w":120.0,"h":160.0}]}'),m=JSON.parse('{"scene":12,"ui_layout":106,"sei_ver":11,"spatial_id":2,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":120.0,"h":160.0},{"z":0,"p":1,"x":120.0,"y":0,"w":120.0,"h":160.0},{"z":0,"p":2,"x":240.0,"y":0,"w":120.0,"h":160.0},{"z":0,"p":3,"x":0,"y":160.0,"w":120.0,"h":160.0},{"z":0,"p":4,"x":120.0,"y":160.0,"w":120.0,"h":160.0},{"z":0,"p":5,"x":240.0,"y":160.0,"w":120.0,"h":160.0}]}'),g=JSON.parse('{"scene":12,"ui_layout":107,"sei_ver":11,"spatial_id":2,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":120.0,"h":106.6667},{"z":0,"p":1,"x":120.0,"y":0,"w":120.0,"h":106.6667},{"z":0,"p":2,"x":240.0,"y":0,"w":120.0,"h":106.6667},{"z":0,"p":3,"x":0,"y":106.6667,"w":120.0,"h":106.6667},{"z":0,"p":4,"x":120.0,"y":106.6667,"w":120.0,"h":106.6667},{"z":0,"p":5,"x":240.0,"y":106.6667,"w":120.0,"h":106.6667},{"z":0,"p":6,"x":120.0,"y":213.3333,"w":120.0,"h":106.6667}]}'),y=JSON.parse('{"scene":12,"ui_layout":108,"sei_ver":11,"spatial_id":2,"scale":1,"align":8,"adjust_map":{"android":{"ui_container":{"top":123,"left":0,"bottom":0,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":0,"right":0}}},"canvas":{"w":360,"h":640,"background_color":"#322542"},"content":{"x":0,"y":129.216,"w":360,"h":320},"regions":[{"z":0,"p":0,"x":0,"y":0,"w":120.0,"h":106.6667},{"z":0,"p":1,"x":120.0,"y":0,"w":120.0,"h":106.6667},{"z":0,"p":2,"x":240.0,"y":0,"w":120.0,"h":106.6667},{"z":0,"p":3,"x":0,"y":106.6667,"w":120.0,"h":106.6667},{"z":0,"p":4,"x":120.0,"y":106.6667,"w":120.0,"h":106.6667},{"z":0,"p":5,"x":240.0,"y":106.6667,"w":120.0,"h":106.6667},{"z":0,"p":6,"x":60.0,"y":213.3333,"w":120.0,"h":106.6667},{"z":0,"p":7,"x":180.0,"y":213.3333,"w":120.0,"h":106.6667}]}'),L=JSON.parse('{"scale":1,"align":8,"scene":5,"ui_layout":21,"sei_ver":3,"sei_sub_scene":5,"spatial_id":7,"adjust_map":{"android":{"ui_container":{"top":114,"left":0,"bottom":48,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":38,"right":0}}},"canvas":{"w":360,"h":640},"content":{"x":0,"y":0,"w":372,"h":326},"regions":[{"z":0,"p":0,"x":131.0,"y":6.0,"w":110.0,"h":116.0},{"z":0,"p":1,"x":20.0,"y":116.0,"w":83.0,"h":102.0},{"z":0,"p":2,"x":103.0,"y":116.0,"w":83.0,"h":102.0},{"z":0,"p":3,"x":186.0,"y":116.0,"w":83.0,"h":102.0},{"z":0,"p":4,"x":269.0,"y":116.0,"w":83.0,"h":102.0},{"z":0,"p":5,"x":20.0,"y":221.0,"w":83.0,"h":102.0},{"z":0,"p":6,"x":103.0,"y":221.0,"w":83.0,"h":102.0},{"z":0,"p":7,"x":186.0,"y":221.0,"w":83.0,"h":102.0},{"z":0,"p":8,"x":269.0,"y":221.0,"w":83.0,"h":102.0}]}'),E=JSON.parse('{"scale":1,"align":8,"scene":5,"ui_layout":22,"sei_ver":3,"sei_sub_scene":5,"spatial_id":8,"adjust_map":{"android":{"ui_container":{"top":114,"left":0,"bottom":48,"right":0}},"ios":{"ui_container":{"top":144,"left":0,"bottom":38,"right":0}}},"canvas":{"w":360,"h":640},"content":{"x":0,"y":115,"w":361,"h":330},"regions":[{"z":0,"p":0,"x":20.0,"y":0,"w":107.0,"h":110.0},{"z":0,"p":1,"x":127.0,"y":0,"w":107.0,"h":110.0},{"z":0,"p":2,"x":234.0,"y":0,"w":107.0,"h":110.0},{"z":0,"p":3,"x":20.0,"y":110.0,"w":107.0,"h":110.0},{"z":0,"p":4,"x":127.0,"y":110.0,"w":107.0,"h":110.0},{"z":0,"p":5,"x":234.0,"y":110.0,"w":107.0,"h":110.0},{"z":0,"p":6,"x":20.0,"y":220.0,"w":107.0,"h":110.0},{"z":0,"p":7,"x":127.0,"y":220.0,"w":107.0,"h":110.0},{"z":0,"p":8,"x":234.0,"y":220.0,"w":107.0,"h":110.0}]}'),w=n("408487"),O=n("531459");let A={[w.V_.LINKMICUILAYOUT_LIVE_PARTNER_DYNAMIC]:a,[w.V_.LINKMICUILAYOUT_AUDIOCHAT_TOP2V4V4]:u,[w.V_.LINKMICUILAYOUT_AUDIOCHAT_1V8_STAGE]:_,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_3X3]:s,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V3]:d,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V6]:c,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_LEFT1V8]:v,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_1V2]:p,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_2V2]:h,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V2]:I,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3]:m,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3V1]:g,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_TOP3V3V2]:y,[w.V_.LINKMICUILAYOUT_VIDEOEQUAL_1V1]:f,[w.V_.LINKMICUILAYOUT_VIDEOEQUALDYNAMICLAYOUT]:f,[w.V_.LINKMICUILAYOUT_AUDIOCHAT_1V8]:L,[w.V_.LINKMICUILAYOUT_AUDIOCHAT_3X3]:E},S=(e,t)=>{e&&Object.keys(e).forEach(n=>{t[n]=t[n]+e[n]})},N=(e,t)=>{e&&e.forEach(e=>{let n=t.find(t=>t.p===e.p);if(n){let{p:t}=e;Object.keys((0,i._)(e,["p"])).forEach(t=>{n[t]=n[t]+e[t]})}})},T=e=>{let t=A[e||""];if(!t)return;let{content:n,regions:i}=o.P.processLayoutOffset(e),r=l()(t);return S(n,r.content),N(i,r.regions),r},U=e=>{let{content:t}=e,n=t.h,i=t.w;return i/(16/9*n)*100},V=e=>{let{canvas:t,content:n}=e,i=t.h;return{h:n.h/i,y:n.y/i}},b=(e,t)=>{let n=O.hO[e];n===w.V_.LINKMICUILAYOUT_VIDEOEQUALDYNAMICLAYOUT&&(t||0)>=2&&(n=o.P.mapGuestCountToLayout(t));let i=T(n);return n&&i?V(i):{y:0,h:1}},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0,n=O.oP[e];n===w.V_.LINKMICUILAYOUT_VIDEOEQUALDYNAMICLAYOUT&&(t||0)>=2&&(n=o.P.mapGuestCountToLayout(t));let i=T(n);return n&&i?V(i):{y:0,h:1}}},43148:function(e,t,n){n.d(t,{J:function(){return i}});let i="PREVIEW_ENTERROOM_CSS_FULL"},930600:function(e,t,n){n.d(t,{I:function(){return l}});var i=n(30321),o=n(637005);let r=()=>{try{let{location:e}=window;return"www.douyin.com"===e.host&&!(0,i.Nr)(e.pathname)}catch(e){return!1}},l=()=>!!r()&&(o.emit(o.EVENT.LivePreviewLoginSuccess),!0)},908686:function(e,t,n){n.d(t,{T:function(){return l},y:function(){return r}}),n(675373);var i=n(96008),o=n.n(i);let r=(0,n(158041).kr)({userProfileData:{},refreshData:o(),reportArgs:{reportType:"user"},eventParams:{},close:o(),targetUid:"",secTargetUid:"",anchorId:"",secAnchorId:"",roomId:"",currentUid:"",currentSecUid:"",targetUserType:"audience",openSchema:()=>Promise.resolve({code:0}),liveContainer:null,openVip:o(),openFansClub:o(),openGiftPanel:o(),isLinkMicManger:!1,inLinkMicSeats:!1,setFaceRecognitionShow:o(),linkmicEvent:{},slardarEvent:{},linkRoomType:"",functionType2:"",isPaidLinking:!1,isInPk:!1}),l=r.Provider},731402:function(e,t,n){n.d(t,{$6:function(){return T},AB:function(){return y},AP:function(){return A},D1:function(){return D},FD:function(){return F},Fx:function(){return M},HL:function(){return I},JJ:function(){return P},Ol:function(){return p},PS:function(){return V},Qd:function(){return z},Qg:function(){return f},Vi:function(){return E},ZP:function(){return k},aA:function(){return b},b$:function(){return g},c5:function(){return x},gc:function(){return w},iA:function(){return S},jG:function(){return B},m$:function(){return N},nD:function(){return m},o0:function(){return Y},o2:function(){return K},pJ:function(){return h},sb:function(){return R},uK:function(){return L},uZ:function(){return O},yr:function(){return G},z4:function(){return U},zw:function(){return C}});var i=n(520739),o=n(116877),r=n(658065),l=n(150566),a=n(668974),u=n(595814),_=n.n(u),s=n(908686),d=n(248256),c=n(850159),v=n(88648);let f=(0,a.Z)(s.y),p=()=>f(e=>{var t;return(null===(t=e.userProfileData)||void 0===t?void 0:t.user_profile)||{}}),h=()=>f(e=>{var t;return(null===(t=e.userProfileData)||void 0===t?void 0:t.user_data)||{}}),I=()=>f(e=>(0,o.cM)({currentUid:e.currentUid,targetUid:e.targetUid,currentAnchorId:e.anchorId,targetIsAnchor:"anchor"===e.targetUserType})),m=()=>f(e=>e.reportArgs||{reportType:"user"}),g=()=>f(e=>e.refreshData),y=()=>f(e=>{var t,n;return(null===(n=e.userProfileData)||void 0===n?void 0:null===(t=n.user_profile)||void 0===t?void 0:t.profile_tag_content)||[]}),L=()=>f(e=>{var t,n;return null===(n=e.userProfileData)||void 0===n?void 0:null===(t=n.user_profile)||void 0===t?void 0:t.open_area}),E=()=>f(e=>e.openSchema),w=()=>f(e=>e.liveContainer),O=()=>f(e=>e.openVip),A=()=>f(e=>e.openFansClub),S=()=>f(e=>e.openGiftPanel),N=()=>f(e=>e.close),T=()=>f(e=>!!e.isPaidLinking),U=()=>f(e=>{var t,n;return null===(n=e.userProfileData)||void 0===n?void 0:null===(t=n.user_data)||void 0===t?void 0:t.web_rid}),V=()=>f(e=>{var t,n;return(0,o.jJ)(Number(null===(n=e.userProfileData)||void 0===n?void 0:null===(t=n.user_data)||void 0===t?void 0:t.mystery_man))}),b=()=>f(e=>!!e.isLinkMicManger),C=()=>f(e=>e.setFaceRecognitionShow),P=()=>f(e=>e.linkmicEvent),M=()=>f(e=>e.slardarEvent),k=()=>f(e=>!!e.inLinkMicSeats),D=()=>f(e=>e.functionType2),R=()=>f(e=>e.linkRoomType),x=()=>{let{anchorId:e,roomId:t,eventParams:n,targetUserType:o,targetUid:a,currentUid:u,pkStatus:s,channel_id:d,invite_mode:c,anchor_connect_status:v,pkTeamCount:p,pk_id:h,team_mode:I}=f(e=>_()(e,["anchorId","roomId","eventParams","targetUserType","targetUid","currentUid","pkStatus","channel_id","invite_mode","anchor_connect_status","pkTeamCount","pk_id","team_mode"])),m=()=>u===a?"audience_c_self":"anchor"===o?"audience_c_anchor":"guest"===o?"audience_c_guest":"audience_c_audience",g="audio"===R()?"voice_live":"",y=()=>{var o;return(0,i._)({anchor_id:e,room_id:t,enter_from_merge:(null===(o=window.__INVISIBLE_QUERY__)||void 0===o?void 0:o.enter_from_merge)||(0,r.yW)(),request_page:m(),enter_method:(0,l.Rs)("enter_method"),request_id:(0,l.Rs)("request_id"),to_user_id:a,action_type:"click",from_pk:s,channel_id:d,invite_mode:c,team_mode:I,anchor_connect_status:v,pk_team_count:p,pk_id:h,live_type:g},n)};return{collectProfileEvent:(e,t)=>{window.collectEvent(e,(0,i._)({},y(),t))},getProfileCommonParams:y}},G=()=>{let{collectProfileEvent:e}=x();return t=>{e("livesdk_profile_card_function_click",{function_type:t})}},F=()=>{let e=(0,v.useRef)(null),t=(0,c.Z)(),n=(e,n)=>(0,d.qs)((0,i._)({store:t,position:n},e));return{rectRef:e,handleOpenLiveUserProfileByRect:t=>{var i;let o=null===(i=e.current)||void 0===i?void 0:i.getBoundingClientRect();if(!!o)return n(t,{height:o.height,width:o.width,left:o.x,top:o.y})},handleOpenLiveUserProfileByEvent:(e,t)=>{let{clientX:i,clientY:o}=t;return n(e,{height:1,width:1,left:i,top:o})}}},Y=()=>{let{collectProfileEvent:e}=x();return()=>{e("livesdk_anchor_room_manage_click",{user_type:"admin",is_anchor:"0",event_page:"live_detail",request_page:"personal_profile"})}},z=()=>{let{collectProfileEvent:e}=x();return()=>{e("livesdk_show_feedback_popup",{popup_title:"管理用户",is_anchor:"0",event_page:"live_detail"})}},K=()=>{let{collectProfileEvent:e}=x();return t=>{e("livesdk_click_feedback_popup",{button_name:t,popup_title:"管理用户",is_anchor:"0",user_type:"admin",event_page:"live_detail"})}},B=()=>{let{collectProfileEvent:e}=x();return t=>{e("livesdk_blocklist_toast_click",{action_type:t,popup_title:"管理用户",is_anchor:"0",user_type:"admin",event_page:"live_detail"})}}},248256:function(e,t,n){let i;n.d(t,{DS:function(){return g},Dy:function(){return I},Q5:function(){return y},o8:function(){return h},qs:function(){return p},u_:function(){return m},yX:function(){return L}});var o=n(520739),r=n(878389),l=n(368200);n(675373),n(527785);var a=n(563097);n(88648);var u=n(249239),_=n(944189),s=n(338426),d=n(567180),c=n(563278);let v=(0,s.ZP)(()=>Promise.all([n.e("66135"),n.e("28251"),n.e("99965"),n.e("29331"),n.e("60770")]).then(n.bind(n,819666)));let f=(i=null,e=>{i&&i.close();let{position:t,popoverProps:n}=e,u=(0,l._)(e,["position","popoverProps"]),s=document.createElement("div");document.body.appendChild(s);let d=(0,_.createRoot)(s),f={close:()=>{var e;d.unmount(),null===(e=s.parentElement)||void 0===e||e.removeChild(s),i=null}};return d.render((0,a.jsx)("div",{children:(0,a.jsx)(v,(0,r._)((0,o._)({},u),{popoverProps:(0,r._)((0,o._)({},n),{defaultVisible:!0}),onClose:f.close,children:(0,a.jsx)("span",{className:c.default.popHolder,style:t})}))})),i=f,f}),p=e=>{let{store:t}=e,n=(0,l._)(e,["store"]),i=(0,d.C)(t);return f((0,o._)({},i,n))},h=async(e,t)=>{try{let n=e.rightPanelStore.rootEl.getBoundingClientRect(),i={height:1,width:1,left:void 0===t.left?n.x:t.left,top:void 0===t.top?n.y:t.top};p((0,r._)((0,o._)({store:e},t),{popoverProps:{position:t.position||"leftTop"},targetUserType:"audience",position:i,clickSource:`h5_${t.source}`,needMask:!0}))}catch(e){(0,u.OK)().sendEvent({name:"JSBOpenProfileError",categories:{error:e,params:t}})}};var I={Follow:"follow",SendGift:"send_gift",ToOtherAnchor:"to_other_anchor",ProfileSetting:"profile_setting",PersonalCenter:"personal_center",FansGroup:"fans_group",At:"mention",Report:"report",Manage:"manage",Mute:"mute",SecondaryFollow:"secondary_follow",FlashSale:"flash_sale",Block:"block",Avatar:"avatar",UserName:"user_name",SmallShopEntrance:"small_shop_entrance",TakeLive:"take_live"},m={PayGrade:"pay_grade",FansClub:"fans_club",GiftHome:"gift_home",Subscription:"subscription",DressSuit:"dress_suit",ShopFansClub:"shop_fans_club",HighScoreSong:"high_score_song",PK:"pk",Match:"match",GiftExhibitionBanner:"gift_exhibition_banner",Shop:"shop",LocalLife:"local_life"},g={SendGift:"send_gift",LinkMic:"link_mic",Like:"like",FlashShopping:"flash_shopping",AnchorUserRelation:"anchor_user_relation",PotentialAnchorUserRelation:"potential_anchor_user_relation",AdventureInvite:"adventure_invite",AdventureList:"adventure_list",More:"more",Comment:"comment",GetSameDressButton:"get_same_dress_button",EnterEffectFloatShow:"enter_effect_float_show",GiftTrayFloatShow:"gift_tray_float_show",VisitorEntrance:"visitor_entrance"},y={LiveAnchorRankHonor:"live_anchor_rank_honor",AuthInfo:"auth_info",WhiteCategoryCert:"white_category_cert",IndustryCertification:"industry_certification",Admin:"admin",ContributorRank:"contributor_rank",CardInterCom:"card_inter_com",GenderAndAge:"gender_and_age",LocationInfo:"location_info",SchoolInfo:"school_info",FollowInfo:"follow_info",Poi:"poi"};let L=e=>[I,m,g,y].reduce((t,n,i)=>{let l=`function_list_${i+1}`,a=Object.values(n).filter(t=>{var n;return!!(null==e?void 0:null===(n=e.getElementsByClassName(t))||void 0===n?void 0:n.length)}).join("|");return(0,r._)((0,o._)({},t),{[l]:a})},{})},567180:function(e,t,n){n.d(t,{C:function(){return p},V:function(){return h}});var i=n(520739);n(675373),n(250440);var o=n(563097);n(88648);var r=n(230501),l=n(725215),a=n(338426),u=n(850159),_=n(289546),s=n(645260),d=n.n(s),c=n(770250),v=n(811167);let f=(0,a.ZP)(()=>Promise.all([n.e("66135"),n.e("28251"),n.e("99965"),n.e("29331"),n.e("60770")]).then(n.bind(n,819666))),p=e=>{var t,n,i,o;let{roomStore:{roomInfo:l},userStore:{userInfo:a},activityIndicatorStore:{JSBInstance:u},vipStore:{setIsShowVipPanel:s},fansClubStore:{setFansClubShowStatus:f},linkmicStore:{linkRoomType:p,functionType2:h,setChoosePeopleAll:I,setChoosePeopleArr:m,setFaceRecognitionShow:g,linkMicSeatsRaw:y,groupLiveMemberList:L=[],isPaidLinking:E},singletonStore:{liveContainer:w},giftStore:{setGiftPanelShowFrom:O,setGiftPanelSwitchStatus:A},pkStore:{pkUserIdList:S,pkStatus:N,pkAppData:T,pkTeamCount:U,pkPlayMode:V,pkId:b,pkListData:C},eventStore:{linkmicEvent:P,slardarEvent:M}}=e,k=null==l?void 0:null===(t=l.anchor)||void 0===t?void 0:t.id_str,D=d()(C,"battle_stats.battle_settings.battle_config_setting.team_mode",0);return{anchorId:k,secAnchorId:null==l?void 0:null===(n=l.anchor)||void 0===n?void 0:n.sec_uid,roomId:null==l?void 0:null===(i=l.room)||void 0===i?void 0:i.id_str,currentUid:null==a?void 0:a.id_str,currentSecUid:null==a?void 0:a.sec_uid,openSchema:u.openScheme,liveContainer:w,setFaceRecognitionShow:g,linkmicEvent:P,slardarEvent:M,linkRoomType:p,functionType2:h,isPaidLinking:E,pkStatus:N,team_mode:D,channel_id:null==T?void 0:T.channelId,invite_mode:V,anchor_connect_status:(null==T?void 0:null===(o=T.grids)||void 0===o?void 0:o.length)||-1,pkTeamCount:U,pk_id:b,openVip:()=>{(0,v.Z)("personal_profile")},openFansClub:()=>{f({isShow:!0,source:"profile"})},openGiftPanel:e=>{null==I||I(!1),null==m||m([e]),null==O||O("profile"),null==A||A(r.nN.OPEN_GIFT)},checkIsGuestUser:e=>e!==k&&(S.includes(e)||Object.values(y).some(t=>{var n,i;return(null==t?void 0:null===(i=t.user)||void 0===i?void 0:null===(n=i.user)||void 0===n?void 0:n.id_str)===e})),checkCanShowProfile:e=>{var t,n,i,o;let r=null==l?void 0:l.room;if(null==r?void 0:null===(t=r.room_auth)||void 0===t?void 0:t.UserCard)return!0;let u=null==a?void 0:a.id_str,_=null==a?void 0:null===(n=a.user_attr)||void 0===n?void 0:n.is_admin;if(_||e===k||e===u||u===k)return!0;let s=!!(null==r?void 0:null===(o=r.others)||void 0===o?void 0:null===(i=o.group_live_data)||void 0===i?void 0:i.is_group_live),d=L.some(t=>{var n;return(null==t?void 0:null===(n=t.user)||void 0===n?void 0:n.id_str)===e});return s&&d},isLinkMicManger:(()=>{var e,t;let n=null==a?void 0:null===(e=a.user_attr)||void 0===e?void 0:e.is_admin,i=(null==a?void 0:null===(t=a.user_attr)||void 0===t?void 0:t.admin_privileges)||[];return n&&i.includes(_.s.LinkMicPrivilege)})(),beforeFetchData:(0,c.s1)(e),store:e}},h=(0,l.Pi)(e=>{let t=(0,i._)({},p((0,u.Z)()),e);return(0,o.jsx)(f,(0,i._)({},t))})},811167:function(e,t,n){n.d(t,{R:function(){return a},Z:function(){return u}});var i=n(31940),o=n(850159),r=n(637005),l=n(88648);let a=()=>{let e=(0,i.j)(),{vipStore:t,singletonStore:n,activityIndicatorStore:a,userStore:u}=(0,o.Z)(),{setIsShowVipPanel:_,isShowVipPanel:s}=t,{liveContainer:d}=n,{setCurrentLandPage:c}=a,{pcVipLr3:v}=e;(0,l.useEffect)(()=>{let e=r.listen(r.EVENT.OpenLiveVipLandPage,e=>{let{openSource:t}=e;if(v){var n;let e=`https://lf-webcast-gr-sourcecdn.bytegecko.com/obj/byte-gurd-source-gr/webcast/mono/lynx/vip_user_core_rl3_douyin/web/pages/panel_v3/template.js?appid=6383&request_page=${t}&initialProps=vip-user-core-rl3-panel-v3-cahce-2256641802902575&user_id=${null==u?void 0:null===(n=u.odin)||void 0===n?void 0:n.user_id}`;null==d||d.openLandPage({url:`sslocal://lynxview?url=${encodeURIComponent(e)}`,reset:!0})}else _({isShow:!0,source:t}),!s&&c([])});return()=>{e()}},[v,_,s,c,d])},u=e=>{r.emit(r.EVENT.OpenLiveVipLandPage,{openSource:e})}},873899:function(e,t,n){n(874386);var i=n(88648);t.Z=()=>{let e=i.useRef(),[t,n]=i.useState(0),o=i.useCallback((t,i)=>{r(),n(t),e.current=setInterval(()=>{n(t=>t<=0?(null==i||i(),clearInterval(e.current),0):t-1)},1e3)},[]),r=i.useCallback(()=>{n(0),e.current&&(clearInterval(e.current),e.current=void 0)},[]);return i.useEffect(()=>()=>{e.current&&(n(0),clearInterval(e.current),e.current=void 0)},[]),{clearCountDown:r,startCountDown:o,countDown:t,countDownIntervelRef:e}}},908697:function(e,t,n){n.d(t,{Y:function(){return a}}),n(527785),n(250440),n(874386);var i=n(88648),o=n(224204),r=n(695843),l=n(873899),a={Red:"1",Blue:"2"};t.Z=e=>{let{teamfightInfo:t,linkMicSeats:n}=e,a=i.useMemo(()=>(null==t?void 0:t.type)===o.yw.LinkmicTeamfightType_TWO_TEAM&&(null==t?void 0:t.status)!==o.Hj.LinkmicTeamfightStatus_FINISHED&&(null==t?void 0:t.status)!==o.Hj.LinkmicTeamfightStatus_NONE,[t]),u=i.useMemo(()=>(null==t?void 0:t.type)===o.yw.LinkmicTeamfightType_ROOM_BATTLE&&(null==t?void 0:t.status)!==o.Hj.LinkmicTeamfightStatus_FINISHED&&(null==t?void 0:t.status)!==o.Hj.LinkmicTeamfightStatus_NONE,[t]),_=i.useMemo(()=>(null==t?void 0:t.type)===o.yw.LinkmicTeamfightType_TWO_TEAM&&(null==t?void 0:t.status)===o.Hj.LinkmicTeamfightStatus_PLAYING,[t]),s=i.useMemo(()=>(null==t?void 0:t.type)===o.yw.LinkmicTeamfightType_TWO_TEAM&&(null==t?void 0:t.status)===o.Hj.LinkmicTeamfightStatus_PUNISHING,[t]),{countDown:d,startCountDown:c}=(0,l.Z)(),{countDown:v,startCountDown:f}=(0,l.Z)(),p=[1,2,5,6],h=[3,4,7,8],I=i.useMemo(()=>{var e;let n=null==t?void 0:null===(e=t.team_infos)||void 0===e?void 0:e.find(e=>"1"===String(null==e?void 0:e.team_id)),i=Number(null==n?void 0:n.score)||0;return{teamScore:i,score:i,scoreBlur:null==n?void 0:n.score_fuzzy,teamScoreBlur:null==n?void 0:n.score_fuzzy}},[null==t?void 0:t.team_infos]),m=i.useMemo(()=>{var e;let n=null==t?void 0:null===(e=t.team_infos)||void 0===e?void 0:e.find(e=>"2"===String(null==e?void 0:e.team_id)),i=Number(null==n?void 0:n.score)||0;return{teamScore:i,score:i,scoreBlur:null==n?void 0:n.score_fuzzy,teamScoreBlur:null==n?void 0:n.score_fuzzy}},[null==t?void 0:t.team_infos]),g=i.useCallback(e=>("1"===e?p:h).find(e=>{var t;return!(null===(t=n[e])||void 0===t?void 0:t.user)}),[n]),y=i.useMemo(()=>[p,h].map(e=>e.reduce((e,t)=>{var i;return e+((null==n?void 0:null===(i=n[t])||void 0===i?void 0:i.user)?1:0)},0)),[n]),L=i.useCallback((e,n)=>{if((null==t?void 0:t.status)===o.Hj.LinkmicTeamfightStatus_PLAYING){let t=p.includes(e),[i,o]=y;if((t?i:o)===1&&(!n||p.includes(n)!==t))return t?"1":"2"}},[n,t,y]);(0,i.useEffect)(()=>{if(!t)return;let{start_time:e,current_time_ms:n,duration:i,punish_start_time:r,punish_duration:l}=t;if(!!e&&"0"!==e)(null==t?void 0:t.status)===o.Hj.LinkmicTeamfightStatus_PLAYING&&c(Math.floor(i-(n/1e3-e))),(null==t?void 0:t.status)===o.Hj.LinkmicTeamfightStatus_PUNISHING&&f(Math.floor(l-(n/1e3-r)))},[t]);let E=i.useMemo(()=>{if(!!t)switch(null==t?void 0:t.status){case o.Hj.LinkmicTeamfightStatus_PREPARE:return"组队中";case o.Hj.LinkmicTeamfightStatus_PLAYING:return`团战${(0,r.Gm)(d)}`;case o.Hj.LinkmicTeamfightStatus_PUNISHING:return`战果${(0,r.Gm)(v)}`;default:return}},[t,d,v]);return{isGroupFight:a,isRoomBattle:u,statusTexting:E,pickEmptySeatPositionByGroup:g,groupMemberCnts:y,willInterruptWithPosQuit:L,leftTeamScore:I,rightTeamScore:m,status:i.useMemo(()=>null==t?void 0:t.status,[t]),countDown:d,isInPunish:s,isGroupPlaying:_,redGroupSeats:p,blueGroupSeats:h}}},943373:function(e,t,n){n(250440);var i=n(88648),o=n(149069);t.Z=e=>{let{guestBattleInfo:t}=e,n=i.useMemo(()=>!!(null==t?void 0:t.battle_id_str)&&Number(null==t?void 0:t.status)!==o.Nq.GuestBattle_NONE&&Number(null==t?void 0:t.status)!==o.Nq.GuestBattle_FINISH,[t]),r=i.useMemo(()=>n&&[o.Nq.GuestBattle_ON_GOING,o.Nq.GuestBattle_PAUSE].includes(null==t?void 0:t.status),[n]),l=i.useMemo(()=>n&&Number(null==t?void 0:t.status)===o.Nq.GuestBattle_SHOW_RESULT,[t,n]);return{isGuestBattle:n,status:i.useMemo(()=>null==t?void 0:t.status,[t]),isInPunish:l,isGuestPlaying:r}}},944144:function(e,t,n){n.d(t,{Az:function(){return o},Uz:function(){return i},cf:function(){return r}});var i={GIFT:1,1:"GIFT"},o={NORMAL:1,1:"NORMAL",LINK:2,2:"LINK"};let r=[1]},695843:function(e,t,n){n.d(t,{Aw:function(){return r},BM:function(){return a},Gm:function(){return u},KR:function(){return l}}),n(179133),n(826893);var i=n(624147),o=n.n(i);let r=e=>{let t=2,n=1;for(let i=1;i<=3;i++)if(e<=i*i){n=Math.ceil(e/(t=i));break}return{col:t,row:n}},l=e=>{let t=e.indexOf("{");if(-1===t)return;let n=e.lastIndexOf("}")+1,i=e.substring(t,n);try{let e=i.search(/[a-zA-Z][0-9]\{\"/);return -1!==e&&(i=i.substring(0,e)),JSON.parse(i)}catch(n){return l(e.substring(t+1))}},a=e=>e<=999?`${e}`:e>999?"999":"",u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e<=0)return"00:00";let t=String(Math.floor(e/60)),n=String(e%60);return`${o()(t,2,"0")}:${o()(n,2,"0")}`}},42361:function(e,t,n){n.d(t,{Bp:function(){return s},ZP:function(){return f},e1:function(){return d}});var i=n(134761),o=n(895399),r=n(104013),l=n(20568),a=n(106128),u=n(645260),_=n.n(u),s={BAN:0,0:"BAN",OPEN:1,1:"OPEN"},d={MultiCamera:"MultiCamera",FansClub:"FansClub",SendGift:"SendGift",DANMU:"DANMU",Chat:"Chat",Link:"Link",FullScreen:"FullScreen",PIP:"PIP"};let c={MultiCamera:1,FansClub:1,Link:1,Chat:1,DANMU:1,SendGift:1,FullScreen:1,PIP:1},v={[l.ku.TRY_WATCH_ING]:{MultiCamera:0,FansClub:0,Link:0,Chat:1,DANMU:1,SendGift:1,FullScreen:0,PIP:0},[l.ku.TRT_WATCH_FINISH]:{MultiCamera:0,FansClub:0,Link:0,Chat:0,DANMU:0,SendGift:0,FullScreen:0,PIP:0},[l.ku.NORMAL_WATCH]:c};class f extends o.Z{infoWarn(e){(0,a.S)(e)}constructor(e){super(e),(0,i._)(this,"viewType",l.ku.BAN),(0,i._)(this,"retType",l.Pf.NORMAL_WATCH),(0,i._)(this,"paidLiveData",null),(0,i._)(this,"paidLiveAuth",c),(0,i._)(this,"qrcodeVisible",!1),(0,i._)(this,"setPaidLiveData",e=>{if("function"==typeof e){var t;this.paidLiveData=e(null!==(t=this.paidLiveData)&&void 0!==t?t:{});return}let n=Number(_()(e,"view_right",0))?l.Pf.NORMAL_WATCH:l.Pf.TRY_WATCH_ING;this.setRetType(n),this.paidLiveData=e}),(0,i._)(this,"setViewType",e=>{this.viewType=e,this.paidLiveAuth=v[e]}),(0,i._)(this,"setPaidLiveAuth",e=>{this.paidLiveAuth=e}),(0,i._)(this,"setRetType",e=>{this.retType=e}),(0,i._)(this,"setQrcodeVisible",e=>{this.qrcodeVisible=e}),(0,i._)(this,"reset",()=>{this.viewType=l.ku.BAN,this.retType=l.Pf.NORMAL_WATCH,this.paidLiveData=null,this.paidLiveAuth=c,this.qrcodeVisible=!1}),(0,r.makeObservable)(this,{paidLiveData:r.observable,setPaidLiveData:r.action,retType:r.observable,setRetType:r.action,viewType:r.observable,setViewType:r.action,paidLiveAuth:r.observable,setPaidLiveAuth:r.action,qrcodeVisible:r.observable,setQrcodeVisible:r.action})}}},149069:function(e,t,n){n.d(t,{L0:function(){return i},Nq:function(){return o}});var i={GuestBattlePlayerRoleNone:0,0:"GuestBattlePlayerRoleNone",GuestBattlePlayerRoleWinner:1,1:"GuestBattlePlayerRoleWinner",GuestBattlePlayerRoleLoser:2,2:"GuestBattlePlayerRoleLoser",GuestBattlePlayerRoleSecond:3,3:"GuestBattlePlayerRoleSecond",GuestBattlePlayerRoleThird:4,4:"GuestBattlePlayerRoleThird"},o={GuestBattle_NONE:0,0:"GuestBattle_NONE",GuestBattle_ON_GOING:1,1:"GuestBattle_ON_GOING",GuestBattle_SHOW_RESULT:2,2:"GuestBattle_SHOW_RESULT",GuestBattle_FINISH:3,3:"GuestBattle_FINISH",GuestBattle_PAUSE:4,4:"GuestBattle_PAUSE"}},224204:function(e,t,n){n.d(t,{$5:function(){return r},Hj:function(){return o},yw:function(){return i}});var i={LinkmicTeamfightType_NONE:0,0:"LinkmicTeamfightType_NONE",LinkmicTeamfightType_TWO_TEAM:1,1:"LinkmicTeamfightType_TWO_TEAM",LinkmicTeamfightType_ROOM_BATTLE:2,2:"LinkmicTeamfightType_ROOM_BATTLE",LinkmicTeamfightType_DUO_BATTLE:3,3:"LinkmicTeamfightType_DUO_BATTLE"},o={LinkmicTeamfightStatus_NONE:0,0:"LinkmicTeamfightStatus_NONE",LinkmicTeamfightStatus_PREPARE:1,1:"LinkmicTeamfightStatus_PREPARE",LinkmicTeamfightStatus_PLAYING:2,2:"LinkmicTeamfightStatus_PLAYING",LinkmicTeamfightStatus_PUNISHING:3,3:"LinkmicTeamfightStatus_PUNISHING",LinkmicTeamfightStatus_FINISHED:4,4:"LinkmicTeamfightStatus_FINISHED",LinkmicTeamfightStatus_SHOWING:5,5:"LinkmicTeamfightStatus_SHOWING"},r={PlayerRole_NONE:0,0:"PlayerRole_NONE",PlayerRole_LEADING_MVP:1,1:"PlayerRole_LEADING_MVP",PlayerRole_LAGGING_MVP:2,2:"PlayerRole_LAGGING_MVP",PlayerRole_LEADING_LAST:3,3:"PlayerRole_LEADING_LAST",PlayerRole_LAGGING_LAST:4,4:"PlayerRole_LAGGING_LAST"}},273406:function(e,t,n){n.d(t,{BU:function(){return E},Js:function(){return O},S6:function(){return A},TG:function(){return V},Yr:function(){return h},Zk:function(){return w},c3:function(){return S},m8:function(){return C},mL:function(){return b},mS:function(){return T},rp:function(){return P},us:function(){return U},wU:function(){return m},x_:function(){return I}});var i=n(520739),o=n(878389);n(250440),n(527785),n(268917),n(874386),n(675373),n(882732),n(544943),n(779788),n(981168);var r=n(645260),l=n.n(r),a=n(120511),u=n(230501),_=n(827045),s=n(972926),d=n(30321),c=n(637005),v=n(249239);let f=()=>{try{let{location:e}=window;return"www.douyin.com"===e.host&&!(0,d.Nr)(e.pathname)}catch(e){return!1}},p=()=>!!f()&&(c.emit(c.EVENT.LivePreviewLoginSuccess),!0),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[u.o0.CHEAP,u.o0.FREE].includes(Number(e.type))},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[u.o0.EXPENSIVE,u.o0.FACE,u.o0.FANS_GIFT,u.o0.FLY_LINKMIC,u.o0.INTERACT_GIFT].includes(Number(e.type))},m=e=>(null==e?void 0:e.price)>=99,g=e=>e.map(e=>{let{group_count:t,group_text:n}=e;return{groupCount:t,groupText:n}}),y=e=>{let{id:t,name:n,type:i,diamond_count:o,primary_effect_id:r,is_displayed_on_panel:a,group_info:_=[],honor_level:s,gift_scene:d}=e;return{id:t,name:n,type:i,price:o,effectId:r,onPanel:a,groupInfo:g(_),honorLevel:s,fansClubLevel:l()(e,"fansclub_info.min_level")||u._q[t],lockStatus:l()(e,"gift_preview_info.lock_status"),blockToast:l()(e,"gift_preview_info.block_toast"),label:l()(e,"gift_label_icon.url_list.0"),icon:l()(e,"icon.url_list.0"),giftScene:d,namingAvatar:l()(e,"top_right_avatar.url_list.0"),reqExtraType:l()(e,"req_extra_type",0),afterSendAction:l()(e,"after_send_action",0)}},L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>y(e))},E=e=>e.map(e=>{var t;let{page_name:n="",page_type:i=0}=e,o=i===u.kQ.OLD_CARATED?null==e?void 0:null===(t=e.section_info)||void 0===t?void 0:t.reduce((e,t)=>null==e?void 0:e.concat(null==t?void 0:t.gifts),[]):e.gifts;return{pageName:n,pageType:i,display:!!e.display,giftList:L(o)}}),w=e=>{let{rawGiftPages:t,giftScene:n}=e;try{let e=t.find(e=>e.page_type===u.kQ.GIFT&&e.display);if(!e)return[];let{page_name:i="",page_type:o=0,gifts:r}=e,l=[];for(let e of r){let t=y(e);if((0,s.cb)(t,n,1)&&l.push(t),l.length>=20)break}return[{pageName:i,pageType:o,display:!0,giftList:l}]}catch(e){var i,o;null===(o=(0,v.OK)())||void 0===o||null===(i=o.sendEvent)||void 0===i||i.call(o,{name:"get_first_gift_pages_error",metrics:{count:1},categories:{error:e,giftScene:n}})}},O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>{let{id:t,name:n,md5:i,resource_type:o,resource_url:r={}}=e;return{id:t,name:n,md5:i,type:o,src:l()(r,"url_list.0")}})},A=e=>{let{h:t,w:n,videoH:i,videoW:o,aFrame:r,rgbFrame:a}=l()(e,"portrait",{}),u=((e,t)=>{if(1200===e&&540===t)return 900;if(810===e&&1440===t)return e;if(e>=2e3||e>=1400&&t>=1400)return e/4;else if(e>640)return e/2;else return e})(Number(t),Number(n))||640,_=Number(n)*(u/Number(t))||360;return{height:u,width:_,videoHeight:i,videoWidth:o,aFrame:r,rgbFrame:a,muted:!0}},S=async e=>{try{var t,r,l,a,u;let{ZipReader:_,HttpReader:s,TextWriter:d,BlobWriter:c}=await n.e("1104").then(n.bind(n,262733)),v=new _(new s(e,{preventHeadRequest:!0})),f=await (null==v?void 0:v.getEntries()),p=f.find(e=>"config.json"===e.filename),h=await (null==p?void 0:null===(t=p.getData)||void 0===t?void 0:t.call(p,new d)),I=JSON.parse(h),m=null==I?void 0:null===(r=I.portrait)||void 0===r?void 0:r.path,g=f.find(e=>e.filename===m),y=await (null==g?void 0:null===(l=g.getData)||void 0===l?void 0:l.call(g,new c)),L=null===(a=URL)||void 0===a?void 0:a.createObjectURL(y),E=null===(u=URL)||void 0===u?void 0:u.createObjectURL(new Blob([JSON.stringify({portrait:(0,o._)((0,i._)({},I.portrait),{path:L})})]));return{media:y,config:I,localMediaPath:L,localConfigPath:E}}catch(e){return{media:null,config:null}}},N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{displayKey:l()(e,"key"),displayText:l()(e,"defaultPattern")||l()(e,"default_pattern"),pieces:l()(e,"pieces",[]).map(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{displayText:l()(e,"stringValue")||l()(e,"string_value")}})}},T=(e,t)=>t.find(t=>Number(t.id)===Number(e))||{},U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(e=>e.isSelf),n=e.filter(e=>!e.isSelf);return[...t,...n.sort((e,t)=>l()(e,"gift.price")>l()(t,"gift.price")?-1:1).slice(0,100)]},V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.map(e=>{let o;let r=(l()(e,"method")===u.ZP.WEBCAST_BINDING_GIFT_MESSAGE?l()(e,"payload.msg"):l()(e,"payload"))||{};try{let e=l()(r,"diy_item_info","[]");e&&(o=JSON.parse(e))}catch(e){}let _=Number(l()(r,"gift_id")),s=l()(r,"gift")||{},d=l()(r,"user")||{},c=l()(r,"tray_info")||{},v=l()(r,"tray_display_text")||{},f=t.find(e=>Number(e.id)===Number(_))||{},p=Number(l()(o,"[0].values.mp4_asset","")||l()(s,"primary_effect_id"))||f.effectId,h=n.find(e=>Number(e.id)===Number(p))||{},I=Number(l()(r,"repeat_count")||l()(r,"combo_count")),m=Number(l()(r,"banned_display_effects"));return{isSelf:e.isSelf,method:e.method,diyItemInfo:o,user:{id:d.sec_uid||d.id_str,name:d.nickname,avatar:(0,a.uC)(l()(d,"avatar_thumb.url_list.0"))},gift:{id:_,name:s.name||f.name,price:s.diamond_count||f.price,type:s.type||f.type,icon:(0,a.uC)(l()(s,"image.url_list.0")||f.icon)},tray:{combo:I,target:I,displayTextConfig:N(v),bgImg:(0,a.uC)(l()(c,"tray_base_img.url_list.0")),dynamicIcon:(0,a.uC)(l()(c,"tray_dynamic_img.url_list.0")),type:Number(l()(c,"tray_type")),isNaming:Number(l()(c,"tray_type"))===u.ms.NAMING,banned:(m&u.qn.TRAY)===u.qn.TRAY},effect:(0,i._)({id:p,banned:(m&u.qn.EFFECT)===u.qn.EFFECT},h)}}).filter(e=>l()(e,"user.id")&&l()(e,"user.name")&&l()(e,"gift.id")&&l()(e,"gift.name")&&l()(e,"tray.combo"))},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},_=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=e.gift_id,d=l()(e,"gifts.0")||{},c=l()(e,"gift_struct")||{},v=l()(d,"display_text.pieces.0.user_value.user")||o,f=d.tray_info||{},p=d.tray_display_text||{},h=t.find(e=>Number(e.id)===Number(s))||{},I=Number(l()(r,"[0].values.mp4_asset")||l()(c,"primary_effect_id"))||h.effectId,m=n.find(e=>Number(e.id)===Number(I))||{},g=e.repeat_count||e.combo_count;return[{isSelf:!0,increasedCount:_,user:{id:v.sec_uid,name:v.nickname,avatar:(0,a.uC)(l()(v,"avatar_thumb.url_list.0"))},gift:{id:s,name:d.name||h.name,price:d.diamond_count||h.price,type:d.type||h.type,icon:(0,a.uC)(l()(d,"image.url_list.0")||h.icon)},diyItemInfo:r,tray:{combo:g,target:g,displayTextConfig:N(p),bgImg:(0,a.uC)(l()(f,"tray_base_img.url_list.0")),dynamicIcon:(0,a.uC)(l()(f,"tray_dynamic_img.url_list.0")),type:Number(l()(f,"tray_type")),isNaming:Number(l()(f,"tray_type"))===u.ms.NAMING},effect:(0,i._)({id:I},m)}].filter(e=>l()(e,"user.id")&&l()(e,"gift.id")&&l()(e,"tray.combo"))},C=async function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(await (0,_.p)())({headerText:n,enterMethod:i,next:`https://${null===(t=window)||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.host}`,success:()=>{if(!p()){var e,t,n;null===(n=window)||void 0===n||null===(t=n.location)||void 0===t||null===(e=t.reload)||void 0===e||e.call(t)}}})},P=e=>{var t,n;e&&(null==e?void 0:e.fullscreen)&&(null==e||null===(n=e.plugins)||void 0===n||null===(t=n.fullscreen)||void 0===t||t.changeFullScreen())}},205073:function(e,t,n){n.d(t,{V:function(){return u},m6:function(){return _},oD:function(){return s}}),n(779788);var i=n(396169),o=n(35730),r=n(20568),l=n(645260),a=n.n(l);let u=e=>{document.cookie=(0,i.serialize)(o.CookieKeys.PaidLiveDuration,JSON.stringify(e),{domain:".douyin.com",path:"/"})},_=()=>{var e,t;let n=a()(window,"__STORE__.paidLiveStore.paidLiveData.paid_type",0),i=a()(window,"__STORE__.paidLiveStore.viewType",r.ku.BAN),o=null===(t=window)||void 0===t?void 0:null===(e=t.__INVISIBLE_QUERY__)||void 0===e?void 0:e.entrance_form;return{is_paidlive:Number(n),watch_paidlive_status:s(i),entrance_form:o}},s=e=>{switch(e){case r.ku.TRY_WATCH_ING:return"try";case r.ku.TRT_WATCH_FINISH:return"try_end";case r.ku.NORMAL_WATCH:default:return"regular"}}},392712:function(e,t,n){n.d(t,{x:function(){return r}}),n(954372),n(826893);var i=n(306537),o=n(827045);let r=e=>{/iframe/.test(location.pathname)?(0,i.dn)({headerText:e.headerText,enterMethod:e.enterMethod}):(0,o.p)().then(t=>{t(e)})}},116877:function(e,t,n){n.d(t,{Ad:function(){return i},F4:function(){return r},Ox:function(){return u},Rr:function(){return a},cM:function(){return o},dc:function(){return l},jJ:function(){return s},qH:function(){return _}});var i={Unknown:0,0:"Unknown",toAudience:1,1:"toAudience",toAnchor:2,2:"toAnchor",toOtherAnchor:3,3:"toOtherAnchor",toSelf:4,4:"toSelf"};let o=e=>{let{currentUid:t,targetUid:n,targetIsAnchor:i,currentAnchorId:o}=e;return t===n?4:i?n===o?2:3:1},r=e=>2===e,l=e=>3===e;var a={Level:1,1:"Level",FansClub:2,2:"FansClub",Exhibition:3,3:"Exhibition",Vip:4,4:"Vip",Dress:5,5:"Dress",ShoppingFansClub:6,6:"ShoppingFansClub",HighScoreSongList:8,8:"HighScoreSongList"};let u=e=>2===e,_=e=>3===e,s=e=>2===e}}]);