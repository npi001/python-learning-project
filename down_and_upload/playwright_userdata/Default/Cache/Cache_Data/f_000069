"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["24836"],{236612:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var i=t(563097),o=t(874204),l=t(88648);function u(e){let{abTestData:n}=e;return(0,l.useEffect)(()=>{null===o.xF||void 0===o.xF||(0,o.xF)()},[]),(0,i.jsx)(i.Fragment,{})}},114981:function(e,n,t){t.d(n,{L:function(){return o}}),t(675373),t(874386);var i=t(255686);let o=e=>{let{promotionId:n,originType:t,secAuthorId:o,roomId:l,itemId:u}=e;return Promise.all([(0,i.y3)({promotionId:n,originType:t,secAuthorId:o,roomId:l,itemId:u}),(0,i.$P)({promotionId:n,originType:t})])}},242007:function(e,n,t){t.d(n,{J9:function(){return _},Se:function(){return f},VY:function(){return w}});var i=t(134761),o=t(520739),l=t(878389);t(675373),t(874386);var u=t(340290),r=t(913807),d=t(782442),a=t(419936),c=t.n(a),s=t(289089),v=t(823685);let m={recommendDetail:{},getTime:0,awemeId:void 0,duplicateRemoveAwemeIds:[]},_=new class e{async fetchRelatedRecommendById(e){var n,t,i,r;if(!e)return{};let d=await (0,u.bJ)({awemeId:e,count:1,filterGids:(null===(n=this._relatedRecommendInfo.duplicateRemoveAwemeIds)||void 0===n?void 0:n.map(e=>null==e?void 0:e.awemeId).join(","))||"",subChannelId:4}),a=null==d?void 0:null===(t=d.awemeList)||void 0===t?void 0:t[0];if((null==d?void 0:d.statusCode)===0&&(null==a?void 0:a.awemeId)){let n=(0,l._)((0,o._)({},a),{id:a.awemeId,insertId:e,width:null===(i=a.video)||void 0===i?void 0:i.width,height:null===(r=a.video)||void 0===r?void 0:r.height});return this._relatedRecommendInfo={recommendDetail:n,getTime:Date.now(),awemeId:e},this._relatedRecommendInfo}return{}}async recommendDuplicateRemove(){let{awemeId:e}=this._relatedRecommendInfo.recommendDetail;e&&await (0,r.fetchHomeImpression)({awemeIds:e})}getRelatedRecommendInfoById(e){var n;return e===(null===(n=this._relatedRecommendInfo)||void 0===n?void 0:n.awemeId)?this._relatedRecommendInfo:{}}setRemoveAwemeIds(e){c()(e)&&(this._relatedRecommendInfo.duplicateRemoveAwemeIds=e)}resetInfo(){this._relatedRecommendInfo=m,this._recommendInfoPromise=void 0}get relatedRecommendInfo(){return this._relatedRecommendInfo}get recommendInfoPromise(){return this._recommendInfoPromise}set recommendInfoPromise(e){this._recommendInfoPromise=e}constructor(){(0,i._)(this,"_relatedRecommendInfo",m),(0,i._)(this,"_recommendInfoPromise",void 0)}},f=function(e){var n;let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=d.Le.getConfig(d.gI.DiscoverRelatedRecommendInfo)||{},o={[v.DiscoverRelatedRecommendType.Off]:[],[v.DiscoverRelatedRecommendType.V1]:s.MD,[v.DiscoverRelatedRecommendType.V2]:s.U_},l=t?[...s.MD,...s.U_]:[],u=o[e]?o[e]:l,r=null==u?void 0:null===(n=u.some)||void 0===n?void 0:n.call(u,e=>!!i[e]),a=s.IU.some(e=>!!i[e]);return!!r&&!a||!1},w=e=>{let{info:n,awemeId:t,abData:i}=e;if(!n){d.Le.setConfig(d.gI.DiscoverRelatedRecommendInfo,{},!1);return}let{awemeId:o,follow:l,unFollow:u}=d.Le.getConfig(d.gI.DiscoverRelatedRecommendInfo)||{};if(t!==o){(null==n?void 0:n.awemeId)&&d.Le.setConfig(d.gI.DiscoverRelatedRecommendInfo,n,!1);return}void 0===l&&(null==n?void 0:n.follow)===!1&&(n.unFollow=!0),void 0!==u&&void 0!==(null==n?void 0:n.follow)&&(n.unFollow=!(null==n?void 0:n.follow)),d.Le.setConfig(d.gI.DiscoverRelatedRecommendInfo,n),f(i,!0)&&!_.recommendInfoPromise&&(_.recommendInfoPromise=_.fetchRelatedRecommendById(t))}},767927:function(e,n,t){t.d(n,{t:function(){return l}});var i=t(88648),o=t(870105);function l(e){let n=(0,o.U)(),t=(0,i.useRef)(!0),l=(0,i.useRef)(e);l.current=e,(0,i.useEffect)(()=>{var e;if("function"!=typeof l.current||!n)return;let i=t.current;return t.current=!1,null===(e=l.current)||void 0===e?void 0:e.call(l,i)},[n])}},870105:function(e,n,t){t.d(n,{U:function(){return u}}),t(874386);var i=t(88648),o=t(244885),l=t(287209);let u=()=>{let e=(0,i.useContext)(o.I),[n,t]=(0,i.useState)(!0);return((0,l.m)(e=>t(e)),e)?e.isActive:n}},235248:function(e,n,t){t.d(n,{t:function(){return l}});var i=t(88648),o=t(244885);let l=()=>{var e;let{ref:n}=null!==(e=(0,i.useContext)(o.I))&&void 0!==e?e:{};return n?n:null}},900674:function(e,n,t){t.d(n,{v:function(){return i}});let i=(0,t(88648).createContext)(null)},474932:function(e,n,t){t.d(n,{m:function(){return d},w:function(){return r}});var i=t(520739);t(675373);var o=t(496349),l=t(231755);let{COMMON_SEARCH_PARAMS:u}=o||{};async function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=await (0,l.v_)("/aweme/v1/web/commit/dislike/item/",(0,i._)({aweme_id:e},u),{aweme_id:e}),t=n.status_code;return{statusCode:t,errMsg:0===t||n.status_msg?n.status_msg:"啊哦，服务器打瞌睡了"}}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=await (0,l.v_)("/aweme/v1/web/dislike/dimension/update/",(0,i._)({aweme_id:e,block_type:2},u),{aweme_id:e}),t=n.status_code;return{statusCode:t,errMsg:0===t||n.status_msg?n.status_msg:"啊哦，服务器打瞌睡了"}}},255686:function(e,n,t){t.d(n,{$P:function(){return J},FE:function(){return O},G:function(){return T},N7:function(){return C},Q2:function(){return b},Sn:function(){return U},Ws:function(){return x},XK:function(){return y},XQ:function(){return I},YB:function(){return P},du:function(){return L},jZ:function(){return N},w:function(){return R},y3:function(){return S}});var i=t(520739),o=t(878389),l=t(368200);t(675373),t(779788);var u=t(496349),r=t(871212),d=t(231755),a=t(349135),c=t(138871),s=t.n(c);let{COMMON_SEARCH_PARAMS:v}=u;function m(e){var n,t,i;return{text:null!==(n=null==e?void 0:e.text)&&void 0!==n?n:"",iconUrl:null!==(t=null==e?void 0:e.icon_url)&&void 0!==t?t:"",jumpUrl:null!==(i=null==e?void 0:e.jump_url)&&void 0!==i?i:""}}function _(e){var n,t,i,o;return{userAvatar:null!==(n=null==e?void 0:e.user_avatar)&&void 0!==n?n:"",userNickname:null!==(t=null==e?void 0:e.user_nickname)&&void 0!==t?t:"",text:null!==(i=null==e?void 0:e.text)&&void 0!==i?i:"",imageList:null!==(o=null==e?void 0:e.image_list)&&void 0!==o?o:[]}}function f(e){var n,t,i,o,l;return{image:null!==(n=null==e?void 0:e.image)&&void 0!==n?n:"",name:null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"",price:(i=Number(null==e?void 0:e.price)/100,i),sales:null!==(o=null==e?void 0:e.sales)&&void 0!==o?o:0,productUrl:null!==(l=null==e?void 0:e.product_url)&&void 0!==l?l:""}}function w(e){var n,t,i,o,l,u,r,d,a,c,s,v,f,w,g,h,p,y,I,b,R,L,P,x,N,U,S,J,O,T,C,D,k,A,F,E,M,W,$,j,B,H,q,Q,V,X;let{item_info:G,status_code:Y,log_pb:Z}=e;return{statusCode:Y,logPb:null!==(J=null==Z?void 0:Z.impr_id)&&void 0!==J?J:"",itemInfo:{productInfo:{name:null!==(O=null==G?void 0:null===(n=G.product_info)||void 0===n?void 0:n.name)&&void 0!==O?O:"",price:(T=Number(null==G?void 0:null===(t=G.product_info)||void 0===t?void 0:t.price)/100,T),promiseTextList:null!==(C=null==G?void 0:null===(i=G.product_info)||void 0===i?void 0:i.promise_text_list)&&void 0!==C?C:[],logisticsTextList:null!==(D=null==G?void 0:null===(o=G.product_info)||void 0===o?void 0:o.logistics_text_list)&&void 0!==D?D:[],imageUrlList:null!==(k=null==G?void 0:null===(l=G.product_info)||void 0===l?void 0:l.image_url_list)&&void 0!==k?k:[],scheme:null!==(A=null==G?void 0:null===(u=G.product_info)||void 0===u?void 0:u.scheme)&&void 0!==A?A:"",schemeQRcodeBase64:null!==(F=null==G?void 0:null===(r=G.product_info)||void 0===r?void 0:r.scheme_qrcode_base64)&&void 0!==F?F:""},shopInfo:{name:null!==(E=null==G?void 0:null===(d=G.shop_info)||void 0===d?void 0:d.name)&&void 0!==E?E:"",image:null!==(M=null==G?void 0:null===(a=G.shop_info)||void 0===a?void 0:a.image)&&void 0!==M?M:"",label:m(null==G?void 0:null===(c=G.shop_info)||void 0===c?void 0:c.label),score:null!==(W=null==G?void 0:null===(s=G.shop_info)||void 0===s?void 0:s.score)&&void 0!==W?W:0,percent:null!==($=null==G?void 0:null===(v=G.shop_info)||void 0===v?void 0:v.percent)&&void 0!==$?$:0,tagList:null!==(j=null==G?void 0:null===(g=G.shop_info)||void 0===g?void 0:null===(w=g.tag_list)||void 0===w?void 0:null===(f=w.map)||void 0===f?void 0:f.call(w,m))&&void 0!==j?j:[],accountName:null!==(B=null==G?void 0:null===(h=G.shop_info)||void 0===h?void 0:h.account_name)&&void 0!==B?B:""},commentInfo:{totalCount:null!==(H=null==G?void 0:null===(p=G.comment_info)||void 0===p?void 0:p.total_count)&&void 0!==H?H:0,tagList:null!==(q=null==G?void 0:null===(y=G.comment_info)||void 0===y?void 0:y.tag_list)&&void 0!==q?q:[],commentList:null!==(Q=null==G?void 0:null===(R=G.comment_info)||void 0===R?void 0:null===(b=R.comment_list)||void 0===b?void 0:null===(I=b.map)||void 0===I?void 0:I.call(b,_))&&void 0!==Q?Q:[]},extraInfo:{productParams:null!==(V=null==G?void 0:null===(x=G.extra_info)||void 0===x?void 0:null===(P=x.product_params)||void 0===P?void 0:null===(L=P.map)||void 0===L?void 0:L.call(P,e=>{var n,t;return{name:null!==(n=e.name)&&void 0!==n?n:"",value:null!==(t=e.value)&&void 0!==t?t:""}}))&&void 0!==V?V:[],detailImageList:null!==(X=null==G?void 0:null===(S=G.extra_info)||void 0===S?void 0:null===(U=S.detail_image_list)||void 0===U?void 0:null===(N=U.map)||void 0===N?void 0:N.call(U,e=>null!=e?e:""))&&void 0!==X?X:[]}}}}function g(e){var n;let{status_code:t,product_preview_list:i,log_pb:o}=e;return{statusCode:t,logPb:null!==(n=null==o?void 0:o.impr_id)&&void 0!==n?n:"",productPreviewList:null==i?void 0:i.map(e=>f(e))}}function h(e){var n,t;let{status_code:i,video_info_list:o,has_product_data:l,product_card:u,log_pb:r}=e;return{statusCode:i,logPb:null!==(n=null==r?void 0:r.impr_id)&&void 0!==n?n:"",videoInfoList:null!==(t=null==o?void 0:o.map(e=>(0,a.s0)(e)))&&void 0!==t?t:[],hasProductData:null!=l&&l,productCard:l?f(u):void 0}}function p(e){let{promotions:n=[],top_promotion:t,target_promotions:i=[],status_code:o,next_offset:l=-1,log_id:u,page_header:r,page_hint:d}=e||{};return{statusCode:o,promotions:n,topPromotion:t,targetPromotions:i,nextOffset:l,logId:u,pageHeader:r,pageHint:d}}async function y(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=await (0,d.U2)("/aweme/v1/web/seo/ecom/detail/product_meta",(0,o._)((0,i._)({},v),{product_id:e}),{},void 0,n,{});return(0,a.RL)(t,w)}async function I(e){let{productId:n="0",itemId:t,needProductCard:l=!1}=e,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=await (0,d.U2)("/aweme/v1/web/seo/ecom/detail/related_video",(0,o._)((0,i._)({},v),{product_id:n,item_id:t,need_product_card:l}),{},void 0,u,{});return(0,a.RL)(r,h)}async function b(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=await (0,d.U2)("/aweme/v1/web/seo/ecom/detail/recommend_product",(0,o._)((0,i._)({},v),{product_id:e}),{},void 0,n,{});return(0,a.RL)(t,g)}async function R(e){let{roomId:n,authorId:t,offset:l,limit:u=20}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=await (0,d.v_)("/live/promotions/page/",(0,o._)((0,i._)({},v),{room_id:n,author_id:t,offset:l,limit:u}),{},void 0,r);return(0,a.RL)(c,p)}async function L(e){let{roomId:n,authorId:t}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,d.v_)("/live/promotions/page/top/",(0,o._)((0,i._)({},v),{room_id:n,author_id:t}),{},void 0,l)}async function P(e,n){let{roomId:t,authorId:u,productId:r}=e;return(0,l._)(e,["roomId","authorId","productId"]),await (0,d.U2)(n,(0,i._)((0,o._)((0,i._)({},v),{room_id:t,author_id:u,product_infos:JSON.stringify([{product_id:r}])}),e),{},void 0,null)}async function x(e){return(0,d.U2)("/aweme/v1/commerce/order/getUserAuth/",(0,o._)((0,i._)({},v),{user_id:e,app_id:r.APP_ID}))}async function N(e){return(0,d.U2)("/aweme/v1/commerce/order/saveUserAuth/",(0,o._)((0,i._)({},v),{user_id:e,app_id:r.APP_ID,auth_flag:1}))}async function U(e){let{roomId:n,authorId:t,liveSceneId:l=0,entranceInfo:u}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await (0,d.U2)("/live/promotions/pop/v3/",(0,o._)((0,i._)({},v),{room_id:n,author_id:t,live_scene_id:l,entrance_info:u}),{},void 0,r)}async function S(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{promotionId:t,originType:o,roomId:l,secAuthorId:u,itemId:r}=e||{};return await (0,d.v_)("/ecom/product/detail/saas/pc/",(0,i._)({is_h5:1,origin_type:o},v),{is_h5:1,use_new_price:1,bff_type:2,room_id:l,live_room_id:l,item_id:r,sec_author_id:u,origin_type:o,promotion_ids:String(t),ec_promotion_id:t},void 0,n)}async function J(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{promotionId:t,originType:i}=e||{};return await (0,d.v_)("/aweme/v2/shop/promotion/pack/detail/",{is_h5:1,origin_type:i},{is_h5:1,bff_type:2,origin_type:i,promotion_id:t},void 0,n)}async function O(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{productId:t,shopId:l,cursor:u,count:r,statId:a,tagId:c,sortType:m}=e||{};return await (0,d.U2)("/aweme/v1/web/ecom/product/comments/",(0,o._)((0,i._)({},v),{product_id:t,shop_id:l,cursor:u,count:r,stat_id:a,tag_id:c,sort_type:m}),{transformResponse:e=>s().parse(e)},void 0,n)}async function T(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{productId:t,shopId:l,statId:u}=e||{};return await (0,d.U2)("/aweme/v1/web/ecom/product/comment/counter/",(0,o._)((0,i._)({},v),{product_id:t,shop_id:l,stat_id:u}),{},void 0,n)}async function C(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{commentId:t,action:i}=e;return await (0,d.v_)("/aweme/v1/web/ecom/comment/action/",v,{comment_id:t,action:i},void 0,n)}},576669:function(e,n,t){t.d(n,{FF:function(){return h},HN:function(){return p},Lz:function(){return x},MQ:function(){return L},Zl:function(){return P},iv:function(){return I},nQ:function(){return y},vf:function(){return R}});var i=t(520739),o=t(878389);t(779788),t(675373);var l=t(746864),u=t(14108),r=t(658065),d=t(496349),a=t(349135),c=t(231755);let{COMMON_SEARCH_PARAMS:s,CHANNEL_PC_WEB:v}=d||{};function m(e){let{aweme_list:n,has_more:t,item_id_to_episode:i,status_code:o,cursor:l,log_pb:u}=e,r={};try{r=JSON.parse(i)}catch(e){}return{logPb:u&&JSON.stringify(u),itemIdToEpisode:r,statusCode:o||0,hasMore:t,cursor:l,data:(0,a.TN)({awemeList:n||[],logPb:u&&JSON.stringify(u)})||[]}}function _(e){let{aweme_list:n,has_more:t,status_code:i,max_cursor:o,log_pb:l}=e;return{logPb:l&&JSON.stringify(l),statusCode:i||0,hasMore:t,cursor:o,data:(0,a.TN)({awemeList:n||[],logPb:l&&JSON.stringify(l)})||[]}}function f(e){let{mix_infos:n,has_more:t,status_code:i,cursor:o,total:l,log_pb:u}=e;return{statusCode:i,hasMore:t,cursor:o,total:l,logPb:u&&JSON.stringify(u),data:(0,a.NR)(n||[])}}function w(e){let{extra:n,logId:t,log_pb:i,status_code:o,status_msg:l}=e,u="";try{u=JSON.stringify(i)}catch(e){}return{extra:n,logId:t,logPb:u,statusCode:o,statusMsg:l}}function g(e){let{extra:n,logId:t,log_pb:i,status_code:o,status_msg:l}=e,u="";try{u=JSON.stringify(i)}catch(e){}return{extra:n,logId:t,logPb:u,statusCode:o,statusMsg:l}}async function h(e){let{mixId:n,cursor:t,count:l=12,mixScene:u}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=await (0,c.U2)("/aweme/v1/web/mix/aweme/",(0,o._)((0,i._)({},s),{mix_id:n,cursor:Math.max(t,0),count:l,mix_scene:u}),{errorTags:{mixId:n}},void 0,r,{}),v=(0,a.RL)(d,m);return(null==v?void 0:v.data)&&v.data.forEach(e=>{e.logPb=v.logPb}),v}async function p(e){let{uid:n,cursor:t=0,count:l=12,listScene:u}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=await (0,c.U2)("/aweme/v1/web/mix/list/",(0,o._)((0,i._)({},s),{sec_user_id:n,req_from:v,cursor:t,count:l,list_scene:u}),{errorTags:{uid:n}},void 0,r,{});return(0,a.RL)(d,f)}function y(e,n,t){var i,o,d,a;let{currentEpisode:c}=(null==t?void 0:null===(i=t.seriesInfo)||void 0===i?void 0:i.seriesId)?null==t?void 0:t.seriesInfo:(null==t?void 0:t.mixInfo)||{},{data:s,currentEpisode:v}=(null==t?void 0:null===(o=t.seriesInfo)||void 0===o?void 0:o.seriesId)?n:e||{};if(v!==c)return!1;if(null==s?void 0:s.length){for(let e=0;e<s.length;e++)if((null===(d=s[e])||void 0===d?void 0:d.mixInfo.currentEpisode)===v&&(null==s?void 0:null===(a=s[e+1])||void 0===a?void 0:a.awemeId)){let n=null==s?void 0:s[e+1];return{awemeId:null==n?void 0:n.awemeId,url:(null==n?void 0:n.awemeType)===l.e.Note?(0,u.Wr)(null==n?void 0:n.awemeId,`previous_page=${(0,r.yW)()||""}`):(0,u.$N)(null==n?void 0:n.awemeId,`previous_page=${(0,r.yW)()||""}`),img:null==n?void 0:n.video.cover,desc:`第${null==n?void 0:n.mixInfo.currentEpisode}集 | ${null==n?void 0:n.desc}`}}}return!1}async function I(e){let{mixId:n,totalEpisode:t,currentEpisode:i,count:o}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=Math.max(Math.min(i-1,t-o),0),{statusCode:r,data:d,hasMore:a,cursor:c,logPb:s}=await h({mixId:n,cursor:u,count:o},l);return{mixId:n,statusCode:r,data:d,currentEpisode:i,hasMore:a,cursor:0===r?c:u,logPb:s}}function b(e){let{mix_info:n,status_code:t,log_pb:i}=e;return{mixInfo:(0,a.BH)(n),statusCode:t,logPb:i}}async function R(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:t}=e,l=await (0,c.U2)("/aweme/v1/web/mix/detail/",(0,o._)((0,i._)({},s),{mix_id:t,req_from:v}),{},void 0,n,{});return(0,a.RL)(l,b)}async function L(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:t,action:l}=e,u=await (0,c.U2)("/aweme/v1/web/mix/collect/",(0,o._)((0,i._)({},s),{mix_id:t,action:l}),{},void 0,n,{});return(0,a.RL)(u,w)}async function P(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:t,episode:l,awemeId:u,scene:r}=e,d=await (0,c.U2)("/aweme/v1/web/mix/watch/record/",(0,o._)((0,i._)({},s),{mix_id:t,episode:l,item_id:u,scene:r}),{},void 0,n,{});return(0,a.RL)(d,g)}async function x(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{albumId:t,cursor:l,count:u=12,pullType:r=2}=e,d=await (0,c.U2)("/aweme/v1/web/minor/album/items/",(0,o._)((0,i._)({},s),{album_id:t,count:u,pull_type:r,cursor:l}),{},void 0,n,{});return(0,a.RL)(d,_)}},405039:function(e,n,t){t.d(n,{T:function(){return a},a:function(){return d}});var i=t(520739),o=t(878389);t(675373);var l=t(496349),u=t(231755);let{COMMON_SEARCH_PARAMS:r}=l||{},d=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return await (0,u.v_)("/aweme/v1/web/familiar/recommend/submit",(0,o._)((0,i._)({},r),{app_name:"douyin_web",device_platform:""}),{type:2,item_id:e,source:0,is_friend_recommend:n},{})},a=async e=>await (0,u.v_)("/aweme/v1/web/familiar/recommend/cancel",(0,o._)((0,i._)({},r),{app_name:"douyin_web",device_platform:""}),{type:2,item_id:e,source:0},{})},340290:function(e,n,t){t.d(n,{Ts:function(){return s},WW:function(){return m},bJ:function(){return v}});var i=t(520739),o=t(878389);t(779788),t(675373),t(209955);var l=t(496349),u=t(349135),r=t(231755),d=t(913807);let{COMMON_SEARCH_PARAMS:a}=l;function c(e){let{aweme_list:n=[],status_code:t,has_more:i,log_pb:o}=e;return{logPb:o&&JSON.stringify(o),statusCode:t,hasMore:i,awemeList:(0,u.TN)({awemeList:n,logPb:o&&JSON.stringify(o)})}}let s="/aweme/v1/web/aweme/related/";async function v(e){let{awemeId:n,count:t=6,filterGids:l="",seoFlag:v=0,subChannelId:m=0,refreshIndex:_}=e,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,w=await (0,r.U2)(s,(0,o._)((0,i._)({},a),{aweme_id:n,count:t,filterGids:l,awemePcRecRawData:(0,d.getAwemePcRecRawData)(f),sub_channel_id:m,"Seo-Flag":v,refresh_index:_}),{errorTags:{awemeId:n}},void 0,f,{}),g=(0,u.RL)(w,c);return g.awemeList&&g.awemeList.forEach(e=>{e.logPb=g.logPb}),g}async function m(e){let{awemeId:n,count:t=1}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{status_code:u,aweme_id:c,desc:s,duration:v,cover:m,extra:_}=await (0,r.U2)("/aweme/v1/web/related/video/lite",(0,o._)((0,i._)({},a),{aweme_id:n,count:t,awemePcRecRawData:(0,d.getAwemePcRecRawData)(l,{is_related_hover:1}),channel:"channel_pc_web"}),{errorTags:{awemeId:n}},void 0,l,{});if(u)throw Error();return{awemeId:c,title:s,duration:v,cover:null==m?void 0:m[0],debugInfo:JSON.parse(_||"null")}}},577094:function(e,n,t){t.d(n,{F8:function(){return v},Ts:function(){return _},Ws:function(){return s},d0:function(){return f},hl:function(){return w}});var i=t(520739),o=t(878389);t(268917),t(779788),t(675373);var l=t(496349),u=t(231755),r=t(349135);t(658016);var d=t(105600);let{COMMON_SEARCH_PARAMS:a}=l;function c(e){let{status_code:n,link_data:t=[],show_pos:i=0}=e;return{statusCode:n,data:t.map(e=>{let{link_type:n=0,count:t=0,link_list:i=[]}=e;return{type:n,count:t,links:i}}),showPos:null!=i?i:0}}async function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,l=await (0,u.U2)("/aweme/v1/web/seo/inner/link/",(0,o._)((0,i._)({},a),{entity_id:n,entity_type:t}),{},void 0,e,{});return(0,r.RL)(l,c)}async function v(){let{count:e=2}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],{statusCode:-1,data:[]}}function m(e){var n;let{status_code:t,status_msg:i,data:o,log_pb:l}=e;return{statusCode:t,statusMsg:i,data:null==o?void 0:o.map(e=>({targetId:e.target_id,hitStatus:e.hit_status})),logPb:null!==(n=null==l?void 0:l.impr_id)&&void 0!==n?n:""}}async function _(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=await (0,u.U2)("/aweme/v1/web/seo/judge/whitelist/",(0,o._)((0,i._)({},a),{target_ids:e}),{},void 0,n,{});return(0,r.RL)(t,m)}async function f(e){let{awemeId:n,url:t}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=await (0,u.U2)("/aweme/v1/web/seo/keyword/related/",(0,o._)((0,i._)({},a),{itemIds:n,url:t}),{},void 0,l,{});return(0,r.RL)(d,e=>(0,r.Fo)(e,n))}async function w(e){let{awemeId:n="",secUid:t="",entityType:l=d.EntityType.Video,cusotmConfig:c={},entityId:s=""}=e,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,m=await (0,u.U2)("/aweme/v1/web/seo/detail/links/",(0,o._)((0,i._)({},a),{aweme_id:n,entity_type:l,sec_uid:t,entity_id:s}),{},void 0,v,{});return(0,r.RL)(m,e=>(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{links_list:t,status_code:i,log_pb:o}=e,l=[];return(t||[]).forEach(e=>{l.push({moduleSource:e.module_source,moduleTitle:e.module_title,isShowUserUrl:e.is_show_user_url,list:(0,r.TN)({awemeList:null==e?void 0:e.aweme_list,logPb:o,config:n}),linkList:(0,r.uJ)({linkList:null==e?void 0:e.link_list})})}),{statusCode:0===i?0:-1,detail:l,logPb:o&&JSON.stringify(o)}})(e,c))}},366334:function(e,n,t){t.d(n,{A4:function(){return P},DS:function(){return R},Id:function(){return I},NN:function(){return v},Rh:function(){return f},XL:function(){return y},bV:function(){return x},fd:function(){return g},v6:function(){return m}});var i=t(520739),o=t(878389);t(779788),t(675373);var l=t(496349),u=t(493523),r=t(349135),d=t(231755),a=t(237156);let{COMMON_SEARCH_PARAMS:c}=l||{};function s(e){let{aweme_list:n=[],status_code:t,log_pb:i,position:o,is_force_insert:l=!1}=e;return{statusCode:t,position:o,isForceInsert:l,hasMore:!0,awemeList:(0,r.TN)({awemeList:n||[],logPb:i&&JSON.stringify(i)}),logPb:i&&JSON.stringify(i)}}async function v(){let{tagId:e="",count:n=10,refreshIndex:t=1,globalwid:l="",pullType:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=await (0,d.U2)("/aweme/v1/web/tab/feed/",(0,o._)((0,i._)({},c),{tag_id:e,count:n,refresh_index:t,video_type_select:1,globalwid:l,pull_type:u}),{errorTags:{tagId:e}},void 0,a,{});return(0,r.RL)(v,s)}async function m(e){let{count:n=10,refreshIndex:t=1,scene:l="recommend"}=e||{},u=await (0,d.v_)("/aweme/v2/web/tab_listen/feed/",(0,o._)((0,i._)({},c),{count:n,pull_type:2,refresh_index:t,web_listen_feed_scene:l}),{},void 0,null);return(0,r.RL)(u,s)}function _(e){let{status_code:n,log_pb:t,ch_info:i}=e;return{statusCode:n,info:(0,r.P$)(i),logPb:t&&JSON.stringify(t)}}async function f(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{chId:t,queryType:l=0}=e,u=await (0,d.U2)("/aweme/v1/web/challenge/detail/",(0,o._)((0,i._)({},c),{ch_id:t,query_type:l}),{},void 0,n,{});return(0,r.RL)(u,_)}function w(e){let{aweme_list:n=[],status_code:t,log_pb:i,has_more:o,cursor:l}=e;return{statusCode:t,awemeList:(0,r.TN)({awemeList:n||[],logPb:i&&JSON.stringify(i)}),logPb:i&&JSON.stringify(i),hasMore:o,cursor:l}}async function g(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{chId:t,hashtagName:l,queryType:u=0,sortType:s=a.H.Comprehensive,count:v,cursor:m,isCommerce:_=!1}=e,f=await (0,d.U2)(_?"/aweme/v1/web/commerce/challenge/aweme/":"/aweme/v1/web/challenge/aweme/",(0,o._)((0,i._)({},c),{ch_id:t,hashtag_name:l,query_type:u,sort_type:_?0:s,offset:m,cursor:m,count:v}),{},void 0,n,{});return(0,r.RL)(f,w)}function h(e){let{music_info:n,status_code:t,log_pb:i}=e;return{statusCode:t,musicInfo:(0,r.o0)(n),logPb:i&&JSON.stringify(i)}}function p(e){let{music_info:n,status_code:t,log_pb:i,msg:o,res_list:l,extra:u}=e,r="";try{r=JSON.stringify(i)}catch(e){}return{musicInfo:n,statusCode:t,logPb:r,msg:o,resList:l,extra:u}}async function y(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{musicId:t,scene:l=1}=e,u=await (0,d.U2)("/aweme/v1/web/music/detail/",(0,o._)((0,i._)({},c),{music_id:t,scene:l}),{},void 0,n,{});return(0,r.RL)(u,h)}async function I(e){let{musicId:n,action:t}=e,o=await (0,d.v_)("/aweme/v1/web/music/collect/",(0,i._)({},c),{music_id:n,type:t,action:t},void 0,null);return(0,r.RL)(o,p)}function b(e){let{aweme_list:n=[],status_code:t,log_pb:i,has_more:o,cursor:l}=e;return{statusCode:t,awemeList:(0,r.TN)({awemeList:n||[],logPb:i&&JSON.stringify(i)}),logPb:i&&JSON.stringify(i),hasMore:o,cursor:l}}async function R(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{musicId:t,count:l=10,cursor:u}=e,a=await (0,d.U2)("/aweme/v1/web/music/aweme/",(0,o._)((0,i._)({},c),{count:l,cursor:u,music_id:t}),{},void 0,n,{});return(0,r.RL)(a,b)}function L(e){let{extra:n,cursor:t,status_code:i,has_more:o,challenge_list:l=[],qs:u,is_match:d,keyword_disabled:a}=e;return{statusCode:i,hasMore:o,challengeList:(null==l?void 0:l.map(e=>(0,r.P$)(null==e?void 0:e.challenge_info)))||[],qs:u,isMatch:d,cursor:t,keywordDisabled:a,extra:{now:null==n?void 0:n.now,logid:null==n?void 0:n.logid}}}async function P(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{keyword:t,count:l=10,cursor:u}=e,a=await (0,d.U2)("/aweme/v1/web/challenge/search/",(0,o._)((0,i._)({},c),{count:l,cursor:u,keyword:t}),{},void 0,n,{});return(0,r.RL)(a,L)}async function x(){let{scene:e=u.t.PcOftenWatch,ids:n=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],0===n.filter(e=>e).length)return;let t=await (0,d.v_)("/aweme/v1/web/write/impression/",(0,i._)({},c),{scene:e,ids:n.join(" ")});return(0,r.RL)(t,s)}},28237:function(e,n,t){t.d(n,{R:function(){return a},n:function(){return d}}),t(250440);var i=t(256277),o=t(32167),l=t(658065),u=t(577786),r=t(669201);let d=e=>{var n,t,i,o,l,u,d;return(null==e?void 0:null===(n=e.anchorInfo)||void 0===n?void 0:n.type)===r.as.AnchorShop&&(null==e?void 0:null===(o=e.anchorInfo)||void 0===o?void 0:null===(i=o.extra)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.product_detail_schema)&&[1,4].includes(Number(null==e?void 0:null===(d=e.anchorInfo)||void 0===d?void 0:null===(u=d.extra)||void 0===u?void 0:null===(l=u[0])||void 0===l?void 0:l.platform))},a=e=>{var n,t,r,d;let a=(null==e?void 0:null===(t=e.anchorInfo)||void 0===t?void 0:null===(n=t.extra)||void 0===n?void 0:n[0])||{},c=(0,i.Rx)(e)||{};return{source_page:(0,o.mo)(),enter_from:(0,o.mo)(),enter_from_merge:(0,l.yW)(),group_id:e.awemeId,content_id:e.awemeId,author_id:null===(r=e.authorInfo)||void 0===r?void 0:r.uid,follow_status:(0,u.F)(null===(d=e.authorInfo)||void 0===d?void 0:d.followStatus)?"1":"0",commodity_id:a.promotion_id||"",commodity_type:a.promotion_source||"",product_id:a.product_id||"",cid:c.creative_id}}}}]);