(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["80286"],{553173:function(e,t,l){"use strict";l.d(t,{n:function(){return eL},m:function(){return eS}});var n=l("563097"),i=l("88648"),o=l("309931"),a=l("782442");l("874386");var r=l("227630"),d=l("417992"),s=l("520739");l("268917");var u=l("90837"),c=l("544933"),v=new c.h({report_web:{eventName:"report_web",params:{report_type:"",object_id:"",enter_method:""}}}),f=l("717670"),m=l("216554"),h=l("713097"),p=l.n(h);let g=e=>{let{selected:t,disable:l,label:o,className:a,onClick:r,value:d}=e,s=i.useCallback(()=>{r&&r(d,!t)},[d,t,r]);return(0,n.jsxs)("div",{className:p()(m.default.radioContainer,a),children:[(0,n.jsx)("div",{onClick:s,className:p()(m.default.radio,{[m.default.selected]:t,[m.default.disable]:l})}),o&&(0,n.jsx)("span",{className:m.default.label,children:o})]})};var _=l("794706");let x=e=>{let{notResize:t=!1,value:l,onChange:o,placeholder:a,maxLength:r,width:d,className:s,minHeight:u}=e,c=i.useRef(null),[v,f]=i.useState(),m=i.useCallback(e=>{let t=e.target.value;t.length<=r&&o(t)},[o]);return(0,n.jsxs)("div",{style:{width:d},className:p()(_.default.textareaContainer,s),children:[(0,n.jsx)("textarea",{value:l,ref:c,style:{minHeight:u,height:v},onChange:m,onKeyDown:e=>e.stopPropagation(),placeholder:a,className:_.default.textarea}),void 0!==r&&(0,n.jsxs)("div",{className:p()(_.default.count,{[_.default.overflow]:l.length>r}),children:[l.length,"/",r]})]})};var w=l("428584");function y(e){let{size:t="normal",type:l="primary",children:i,autoFixed:o=!0,className:a,width:r,style:d,theme:u="solid",disabled:c=!1,onClick:v=function(){}}=e;return(0,n.jsx)("button",{type:"button",disabled:c,onClick:v,className:p()(w.default.button,w.default[t],w.default[l],w.default[u],{[w.default.fixed]:!o},a),style:(0,s._)({width:r&&`${r}px`},d),children:i})}var j=e=>{let{reasons:t,type:l,object_id:o,isLive:a=!1,onLiveReport:r=()=>void 0,logParams:d,toast:c}=e,[m,h]=i.useState(""),[p,_]=i.useState(""),w=i.useMemo(()=>{let e={};for(let l=0;l<t.length;l++){let n=t[l];e[l%3]?e[l%3].push(n):e[l%3]=[n]}return e},[t]),j=i.useCallback(e=>{_(e)},[]),b=i.useCallback(()=>{!a&&(v.sendLog("report_web",(0,s._)({report_type:l,object_id:o},d)),null==e||e.onClose()),a&&(r(p,m),null==e||e.onClose()),c?c("提交成功",null==e?void 0:e.toastParent):f.F.info("提交成功",null==e?void 0:e.toastParent)},[p,m,r]);return(0,n.jsxs)("div",{className:u.default.reportContainer,"data-e2e":"report-container",children:[(0,n.jsxs)("div",{className:u.default.reasonList,children:[(0,n.jsx)("div",{className:u.default.col,children:(w[0]||[]).map(e=>(0,n.jsx)(g,{selected:p===e.value,label:e.label,value:e.value,className:u.default.reasonItem,onClick:j},e.value))}),(0,n.jsx)("div",{className:u.default.col,children:(w[1]||[]).map(e=>(0,n.jsx)(g,{selected:p===e.value,label:e.label,value:e.value,className:u.default.reasonItem,onClick:j},e.value))}),(0,n.jsx)("div",{className:u.default.col,children:(w[2]||[]).map(e=>(0,n.jsx)(g,{selected:p===e.value,label:e.label,value:e.value,className:u.default.reasonItem,onClick:j},e.value))})]}),(0,n.jsx)(x,{notResize:!0,maxLength:140,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:m,onChange:e=>h(e),className:u.default.reportDesc}),(0,n.jsx)(y,{className:u.default.submit,onClick:b,disabled:!p,children:"提交"})]})};let b=["色情低俗","违法犯罪","造谣传谣","垃圾广告","售卖假货","非原创内容","未成年人相关","其他"],C=["色情低俗","违法犯罪","造谣传谣","垃圾广告","骚扰","人身攻击","时政不实信息"],N=["色情低俗","违法犯罪","造谣传谣","垃圾广告","骚扰","人身攻击","时政不实信息"],k=["色情低俗","违法犯罪","造谣传谣","垃圾广告","售卖假货","未成年相关","头像、昵称、签名、背景图违规"],S=["违法违禁","淫秽色情","抽烟饮酒","欺诈/售假","未成年人相关","危险行为","录像/盗播","声音违规","诱导刷礼","引导线下转账","侮辱谩骂","其他"];var E=e=>{let[t,l]=(0,i.useState)(!0),[s,u]=i.useState(r.default.zoomIn),c=i.useCallback(()=>{u(r.default.zoomOut),setTimeout(()=>{var t;l(!1),o.unmountComponentAtNode(e.portalRef),e.portalRef.remove(),null===(t=e.onClose)||void 0===t||t.call(e)},300)},[t]);return(0,i.useEffect)(()=>()=>{a.Le.setConfig(a.gI.IsAlreadyExsitReportModal,!1)},[]),(0,n.jsx)(d.u,{title:e.title,visible:t,className:s,onCancel:c,children:(0,n.jsx)(j,{toast:null==e?void 0:e.toast,toastParent:e.toastParent,reasons:function(e){switch(e){case"video":return b.map(e=>({label:e,value:e}));case"comment":return C.map(e=>({label:e,value:e}));case"user":return k.map(e=>({label:e,value:e}));case"live":return S.map(e=>({label:e,value:e}));case"danmaku":return N.map(e=>({label:e,value:e}));default:return[]}}(e.type),onClose:c,object_id:e.object_id,type:e.type,isLive:!0,onLiveReport:e.onLiveReport,logParams:e.logParams})})};l("250440"),l("779788");var L=l("254127"),I=l("506467"),M=l("34644"),R=l("108095"),T=l("557329"),D=l("477667");let{ArrowUp:A,ArrowDown:P,W:V,S:F,Escape:B,N:z}=I.bf,O=e=>{let{visible:t,children:l,title:o,footer:a,className:r,footerClassName:d,onCancel:s,showClose:u=!0}=e,c=i.useRef(),v=e=>{e.stopPropagation()};return(i.useEffect(()=>{let e="report/ui/Modal";return(0,M.o)({disableKey:[P,A,V,F,B,z].map(e=>e.code),pauseGlobalShortcut:!0},e),()=>{(0,M.m)(e)}},[]),(0,i.useEffect)(()=>{var e,t,l;return null===(e=c.current)||void 0===e||e.setAttribute("tabindex","0"),null===(t=c.current)||void 0===t||t.addEventListener("DOMMouseScroll",v),null===(l=c.current)||void 0===l||l.focus(),()=>{var e;null===(e=c.current)||void 0===e||e.removeEventListener("DOMMouseScroll",v)}},[t]),t)?(0,n.jsx)("div",{className:T.default.mask,ref:c,onWheel:v,children:(0,n.jsxs)("div",{className:p()(T.default.modalContainer,r),"data-e2e":"report-container",children:[u&&(0,n.jsx)("div",{className:T.default.close,onClick:()=>{"function"==typeof s&&s(!1)},"data-e2e":"report-container-close",children:(0,n.jsx)(R.n,{width:36,height:36,src:D.Z})}),o&&(0,n.jsx)("div",{className:T.default.title,children:o}),(0,n.jsx)("div",{className:T.default.content,children:l}),(0,n.jsx)("div",{className:p()(T.default.footer,d),children:a})]})}):null};var U=l("743333"),q=l("656837");let Z=e=>{let{text:t,required:l=!1,className:i}=e;return(0,n.jsxs)("div",{className:p()(q.default.container,i),children:[(0,n.jsx)("div",{className:q.default.text,children:t}),l&&(0,n.jsx)("div",{className:q.default.icon,children:"*"})]})};var W=l("335976"),H=l("137425");let $=e=>{let{objectId:t,schemaType:l=1}=e,[o,a]=(0,i.useState)();return(0,i.useEffect)(()=>{let n=`schema_type=${l}&object_id=${t}`;(0,H.ep)(e.objectId,{schema:n}).then(e=>{!e||(null==e?void 0:e.statusCode)?f.F.info("服务器打瞌睡了，请稍后再试"):a(null==e?void 0:e.qrcodeUrl)})},[t,l]),(0,n.jsx)("img",{className:e.className,src:o})};var G=l("818439");let J=e=>{let{value:t="",onChange:l,placeholder:o,maxLength:a,width:r,className:d,minHeight:s}=e,u=i.useRef(null),c=i.useCallback(e=>{let t=e.target.value;t.length<=a&&l(t)},[l]);return(0,n.jsxs)("div",{style:{width:r},className:p()(G.default.textareaContainer,d),children:[(0,n.jsx)("textarea",{value:t,ref:u,style:{minHeight:s},onChange:c,onKeyDown:e=>e.stopPropagation(),placeholder:o,className:G.default.textarea}),void 0!==a&&(0,n.jsxs)("div",{className:p()(G.default.count,{[G.default.overflow]:t.length>a}),children:[t.length,"/",a]})]})};var K=l("906381"),Q=l("863822"),Y=l("661540");let X=e=>{let{value:t,className:l,onClick:i}=e;return(0,n.jsxs)("div",{className:p()(Q.default.container,l),onClick:i,children:[(0,n.jsx)("div",{className:Q.default.text,children:t}),(0,n.jsx)(R.n,{className:Q.default.icon,src:Y.Z,width:24,height:24})]})};var ee=l("392188"),et=l("878389");let el=(0,i.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,et._)((0,s._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{d:"M20.566 9.364a1.929 1.929 0 0 1 2.727 2.727l-5.637 5.637 5.637 5.637a1.928 1.928 0 1 1-2.727 2.727l-6.985-6.985-.016-.015a1.929 1.929 0 0 1 0-2.728l7-7z",fill:"#0A0C20"})})));var en=e=>{let{visible:t,defaultValue:l=[],onCancel:o,onOk:a}=e,[r,d]=(0,i.useState)(l),{ReportEntry:s}=window;return s?(0,n.jsx)(O,{title:(0,n.jsxs)("div",{className:ee.default.title,children:[(0,n.jsx)(R.n,{className:ee.default.icon,src:el,width:24,height:24,onClick:()=>o()}),(0,n.jsx)("div",{children:"选择聊天证据"})]}),visible:t,showClose:!1,onCancel:()=>o(),footer:(0,n.jsx)(U.z,{style:{width:"100%"},onClick:()=>a(r),disabled:!r.length,children:"确定"}),children:(0,n.jsx)("div",{className:ee.default.messageContainer,children:(0,n.jsx)(s,{onMessageSelect:e=>d(e),selectedMessage:r})})}):null},ei=l("599961");l("675373");var eo={VIDEO:101,101:"VIDEO",COMMENT:102,102:"COMMENT",USER:103,103:"USER",IMAGE:126,126:"IMAGE",IM:106,106:"IM",IM_GROUP:115,115:"IM_GROUP"};let ea=e=>{var t,l,o,a,r;let{reportScene:d,objectId:s,reasonList:u,reasonMap:c,onChange:v,abtestData:f}=e,[m,h]=(0,i.useState)(),[p,g]=(0,i.useState)(),[_,x]=(0,i.useState)(),[w,y]=(0,i.useState)(),[j,b]=(0,i.useState)(),C=!!(null==f?void 0:f.openQinquan)&&60448===m;return(0,i.useEffect)(()=>{let e=!!C||(d===eo.USER?p:m&&60448!==m);v({reasonCode:p||m,reportLabels:_,reportDesc:w,imgList:j,validate:e})},[m,p,_,w,f]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"举报原因",required:!0}),(0,n.jsx)(W.E,{column:3,optionList:u,value:m,onChange:e=>{h(e),g(void 0),x(void 0)}}),60448===m?C?(0,n.jsx)("div",{className:ei.default.jumpText,children:"侵权问题需要详细举证，提交后进入批量侵权举报页面"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:ei.default.infringement,children:["侵权问题需要详细举证，可扫描下方抖音码前往",(0,n.jsx)("br",{}),"「抖音APP」进行侵权举报"]}),(0,n.jsx)($,{className:ei.default.douyinCode,objectId:s,schemaType:d===eo.USER?4:1})]}):(0,n.jsxs)(n.Fragment,{children:[(null===(l=c.get(m))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型",required:d===eo.USER}),(0,n.jsx)(W.E,{column:3,optionList:null===(o=c.get(m))||void 0===o?void 0:o.children,value:p,onChange:g})]}),(null===(r=c.get(m))||void 0===r?void 0:null===(a=r.report_labels)||void 0===a?void 0:a.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型"}),(0,n.jsx)(W.E,{column:3,optionList:c.get(m).report_labels,value:_,onChange:x})]}),(0,n.jsx)(Z,{text:"举报描述"}),(0,n.jsx)(J,{maxLength:200,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:w,onChange:y}),(0,n.jsxs)("div",{className:ei.default.uploadContainer,children:[(0,n.jsx)(K.U,{value:j,onChange:b}),(0,n.jsx)("div",{className:ei.default.uploadTips,children:"每张小于 10M，支持JPG、PNG格式，最多上传4张"})]})]})]})},er=e=>{var t,l,o,a,r;let{reasonList:d,reasonMap:s,onChange:u}=e,[c,v]=(0,i.useState)(),[f,m]=(0,i.useState)(),[h,p]=(0,i.useState)(),[g,_]=(0,i.useState)(),[x,w]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=c&&(null==g?void 0:g.length);u({reasonCode:f||c,reportLabels:h,chatList:g,validate:e})},[c,f,h,g]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"举报原因",required:!0}),(0,n.jsx)(W.E,{column:3,optionList:d,value:c,onChange:e=>{v(e),m(void 0),p(void 0)}}),(null===(l=s.get(c))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型"}),(0,n.jsx)(W.E,{column:3,optionList:null===(o=s.get(c))||void 0===o?void 0:o.children,value:f,onChange:m})]}),(null===(r=s.get(c))||void 0===r?void 0:null===(a=r.report_labels)||void 0===a?void 0:a.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型"}),(0,n.jsx)(W.E,{column:3,optionList:s.get(c).report_labels,value:h,onChange:p})]}),(0,n.jsx)(Z,{text:"聊天证据",required:!0}),(0,n.jsx)(X,{value:(null==g?void 0:g.length)?`已添加${g.length}条聊天证据`:"添加聊天证据",onClick:()=>w(!0)}),(0,n.jsx)(en,{visible:x,defaultValue:g,onCancel:()=>w(!1),onOk:e=>{_(e),w(!1)}})]})},ed=e=>{var t,l,o,a,r;let{videoId:d,reasonList:s,reasonMap:u,onChange:c}=e,[v,f]=(0,i.useState)(),[m,h]=(0,i.useState)(),[p,g]=(0,i.useState)();return(0,i.useEffect)(()=>{let e=v&&60466!==v;c({reasonCode:m||v,reportLabels:p,validate:e})},[v,m,p]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"举报原因",required:!0}),(0,n.jsx)(W.E,{column:3,optionList:s,value:v,onChange:e=>{f(e),h(void 0),g(void 0)}}),60466===v?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:ei.default.infringement,children:["侵权问题需要详细举证，可扫描下方抖音码前往",(0,n.jsx)("br",{}),"「抖音APP」进行侵权举报"]}),(0,n.jsx)($,{className:ei.default.douyinCode,objectId:d})]}):(0,n.jsxs)(n.Fragment,{children:[(null===(l=u.get(v))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型"}),(0,n.jsx)(W.E,{column:3,optionList:null===(o=u.get(v))||void 0===o?void 0:o.children,value:m,onChange:h})]}),(null===(r=u.get(v))||void 0===r?void 0:null===(a=r.report_labels)||void 0===a?void 0:a.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型"}),(0,n.jsx)(W.E,{column:3,optionList:u.get(v).report_labels,value:p,onChange:g})]})]})]})};var es=e=>{let{reportScene:t,reasonData:l,dataSource:i,onValuesChange:o,abtestData:a}=e,{object_id:r,video_id:d}=i,{reasonList:s=[],reasonMap:u=new Map}=l;return(0,n.jsxs)("div",{children:[[eo.VIDEO,eo.IMAGE,eo.USER].includes(t)&&(0,n.jsx)(ea,{reportScene:t,objectId:r,reasonList:s,reasonMap:u,onChange:o,abtestData:a}),[eo.IM,eo.IM_GROUP].includes(t)&&(0,n.jsx)(er,{reasonList:s,reasonMap:u,onChange:o}),[eo.COMMENT].includes(t)&&(0,n.jsx)(ed,{videoId:d,reasonList:s,reasonMap:u,onChange:o})]})},eu=l("301701"),ec=l("231755"),ev=l("637005"),ef=l("257177"),em=new c.h({enter_report_edit_page:{eventName:"enter_report_edit_page",params:{object_type:"",object_id:"",enter_from:""}},report_submit:{eventName:"report_submit",params:{object_type:"",object_id:"",enter_from:"",follow_status:"",reason_type:"",report_labels:""}},report_comment:{eventName:"report_comment",params:{comment_panel_position:"",comment_category:"",object_type:"",object_id:"",comment_id:"",enter_from:"",follow_status:"",reason_type:"",report_labels:""}}}),eh=l("941569"),ep=e=>{let{pipelineId:t,dataSource:l,logParams:r,onReport:d,toast:u,abtestData:c}=e,{object_id:v,owner_id:m,owner_sec_id:h,user_id:g,comment_with_emoji:_,enter_from:x,con_short_id:w}=l,[y,j]=(0,i.useState)(!0),[b,C]=i.useState(L.default.zoomIn),[N,k]=(0,i.useState)(),[S,E]=(0,i.useState)(),I=!!(null==c?void 0:c.openQinquan)&&S&&60448===S.reasonCode,M=i.useCallback(()=>{C(L.default.zoomOut),setTimeout(()=>{var t;j(!1),o.unmountComponentAtNode(e.portalRef),e.portalRef.remove(),null===(t=e.onClose)||void 0===t||t.call(e)},300)},[e.onClose]);(0,i.useEffect)(()=>{let e=ev.listen(ev.EVENT.hideModal,M);return()=>{e()}},[M]),(0,i.useEffect)(()=>()=>{a.Le.setConfig(a.gI.IsAlreadyExsitReportModal,!1)},[]),(0,eu.O)({onChange:e=>{let{isFullscreen:t}=e;t&&M()}});let R=(e,t)=>u?null==u?void 0:u(e,t):f.F.info(e,t),T=async()=>{let e,t,l;let n=await (0,eh.b)(h),{reasonCode:i,reportLabels:o,reportDesc:a,imgList:u,chatList:c}=S,{reportScene:f,reasonData:p}=N;if(I){window.open("https://www.douyin.com/qinquan/report?enter_from=pc_douyin","_blank"),M();return}if(o){let t=new Map;p.reasonMap.get(i).report_labels.forEach(e=>t.set(e.value,e.label)),e=t.get(o)}(null==u?void 0:u.length)&&(t=null==u?void 0:u.map(e=>e.Uri).join(",")),(null==c?void 0:c.length)&&(l=c.join(","));let _={follow_status:null==n?void 0:n.follow_status,con_short_id:w,im_message_list:l,source:x},y={app_id:6383,object_id:v,owner_id:m,user_id:g,reported_id:g,report_type:f,reason:i,report_labels:e,report_desc:a,uri:t,image_uri_list:t,msg_list:[eo.IM,eo.IM_GROUP].includes(f)?l:void 0,report_data:JSON.stringify(_)};(0,ec.v_)("/aweme/v1/report/submit/",{},y).then(t=>{switch(!0){case 2159===t.status_code:R("你已举报过该内容，请稍后再试");break;case 0===t.status_code:em.sendLog("report_submit",(0,s._)({object_type:N.reportScene,object_id:v,enter_from:x,follow_status:null==n?void 0:n.follow_status,reason_type:i,report_labels:e},r)),(null==N?void 0:N.reportScene)===102&&em.sendLog("report_comment",(0,s._)({object_type:N.reportScene,object_id:v,enter_from:x,follow_status:null==n?void 0:n.follow_status,reason_type:i,report_labels:e},r)),R("提交成功，我们将尽快受理");break;default:R("提交失败，请稍后再试")}M(),null==d||d(0===t.status_code)}).catch(()=>R("服务器打瞌睡了，请稍后再试"))};return((0,i.useEffect)(()=>{var l;(l=t,fetch(`https://lf-mortise.douyinstatic.com/obj/mortise-online/online/${l}_3364`).then(e=>e.json()).then(e=>{var t;let{reportScene:l,reasonCode:n}=e.pluginData;let i=Array.isArray(t=n)?t[0].list.map(e=>{let{reason_code:t,next_reasons:l,report_labels:n}=e.data;return{label:e.text,value:t,children:Array.isArray(l)?l[0].list.map(e=>({label:e.text,value:e.data.reason_code})):void 0,report_labels:Array.isArray(n)?n.map(e=>({label:e.name,value:e.code})):void 0}}):[],o=new Map;return i.forEach(e=>{o.set(e.value,e)}),{reportScene:l,reasonData:{reasonList:i,reasonMap:o}}})).then(e=>{(0,ef.Z)(g),em.sendLog("enter_report_edit_page",(0,s._)({object_type:e.reportScene,object_id:v,enter_from:x},r)),1===_&&e.reasonData.reasonList.push({label:"表情包侵权",value:60466}),k(e)}).catch(()=>R("服务器打瞌睡了，请稍后再试",null==e?void 0:e.toastParent))},[]),N&&l)?(0,n.jsx)(O,{title:e.title,visible:y,className:p()(b,I?L.default.jumpText:""),footerClassName:I?L.default.jumpTextFooter:"",onCancel:M,footer:(0,n.jsx)(U.z,{className:L.default.submit,onClick:T,disabled:!(null==S?void 0:S.validate),children:"提交"}),children:(0,n.jsx)(es,{dataSource:l,reportScene:N.reportScene,reasonData:N.reasonData,onValuesChange:E,abtestData:c})}):null};l("602157"),l("927234");var eg=l("732992"),e_=l("510820"),ex=l("77758");let ew=e=>{let{value:t="",onChange:l,placeholder:i}=e;return(0,n.jsx)("input",{className:ex.default.container,placeholder:i,value:t,onChange:e=>l(e.target.value)})};var ey=l("983195"),ej=l("611421"),eb=l("110557");function eC(){return(0,n.jsxs)("svg",{className:eg.default.svg,viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M6.12852 1.14357C5.95738 0.680906 5.51668 0.351562 5 0.351562C4.48332 0.351562 4.04262 0.680906 3.87148 1.14357C2.4282 1.62362 1.38595 2.9984 1.38595 4.62081V5.837C1.38595 6.52216 1.19579 7.19354 0.837147 7.77455L0.11565 8.94342C-0.19778 9.45119 0.162759 10.1098 0.754132 10.1098H9.24587C9.83724 10.1098 10.1978 9.45119 9.88435 8.94342L9.16285 7.77455C8.80421 7.19354 8.61405 6.52216 8.61405 5.837V4.62081C8.61405 2.9984 7.5718 1.62361 6.12852 1.14357Z"}),(0,n.jsx)("path",{d:"M5 12.3969C4.07376 12.3969 3.27772 11.8324 2.92917 11.0247H7.07083C6.72228 11.8324 5.92624 12.3969 5 12.3969Z"})]})}let eN=e=>{var t,l,o,a;let{dataSource:r,onChange:d}=e,[s,u]=(0,i.useState)(),[c,v]=(0,i.useState)(),[f,m]=(0,i.useState)(),[h,p]=(0,i.useState)(),[g,_]=(0,i.useState)(),[x,w]=(0,i.useState)(),y=(0,i.useRef)(),j=(0,i.useRef)(),b=(0,i.useMemo)(()=>{let e={};return r.forEach(t=>{let{label:l,tips:n}=t;e[l]?e[l].children=e[l].children.concat(t):e[l]={name:l,tooltip:n,children:[t]}}),Object.values(e).map(e=>{let{name:t,tooltip:l,children:n}=e;return{name:t,tooltip:l,children:n.map(e=>{let{text:t,reason_type_id:l,sub_reason_list:n=[],toast:i}=e;return{label:t,value:l,children:n.map(e=>({label:e.text,value:e.reason_type_id})),extra:i}})}})},[r]);return(0,i.useEffect)(()=>{switch(!0){case(null==s?void 0:s.value)===void 0:case(null==s?void 0:s.value)===18&&!(null==x?void 0:x.length):case(null==s?void 0:s.value)===18&&!f:case(null==x?void 0:x.includes(1))&&!h:d({verified:!1});break;default:d({reasonData:s,subReasonData:c,desc:f,info:h,images:g,codes:x,verified:!0})}},[s,c,f,h,g,x,d]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:eg.default.titleBar,children:[(0,n.jsx)(eC,{}),(0,n.jsx)("div",{className:eg.default.title,children:"您的举报我们将尽快受理，核实后我们将第一时间告知受理结果，请尽量提交完整的举报描述及材料。"})]}),(0,n.jsx)(Z,{text:"举报原因",required:!0}),(0,n.jsx)(eb.o,{dataList:b,onChange:e=>{if(e.value!==(null==s?void 0:s.value))setTimeout(()=>{var t,l,n,i;(null==e?void 0:e.value)===18?null===(l=j.current)||void 0===l||null===(t=l.scrollIntoView)||void 0===t||t.call(l,{behavior:"smooth",block:"nearest"}):null===(i=y.current)||void 0===i||null===(n=i.scrollIntoView)||void 0===n||n.call(i,{behavior:"smooth",block:"nearest"})},0),v(void 0),w(void 0),u(e)},value:s}),(null==s?void 0:s.value)!==18&&(null==s?void 0:null===(t=s.children)||void 0===t?void 0:t.length)>0&&(0,n.jsxs)("div",{ref:y,children:[(0,n.jsx)(Z,{text:"请选择具体的举报类型（选填）"}),(0,n.jsx)(eb.D,{dataList:null==s?void 0:s.children,onChange:v,value:c})]}),(null==s?void 0:s.value)===18&&(null==s?void 0:null===(l=s.children)||void 0===l?void 0:l.length)>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:eg.default.divider}),(0,n.jsxs)("div",{className:eg.default.description,ref:j,children:["权利人请通过广告投诉平台",(0,n.jsxs)("a",{className:eg.default.link,href:"https://phoniex.toutiao.com/phoniex/index",target:"_blank",rel:"noreferrer",children:[" ","https://phoniex.toutiao.com/phoniex/index"," "]}),"进行投诉，同时上传具体材料（权利人身份证明、侵权内容及权利证明等）"]}),(0,n.jsx)(Z,{text:"举报类型（多选）",required:(null==s?void 0:s.value)===18}),(0,n.jsx)(e_.C,{optionList:null==s?void 0:s.children,value:x,onChange:w}),(0,n.jsx)(Z,{text:(null==x?void 0:null===(o=x.includes)||void 0===o?void 0:o.call(x,1))?"原作者信息":"原作者信息（选填）",required:null==x?void 0:null===(a=x.includes)||void 0===a?void 0:a.call(x,1)}),(0,n.jsx)(ew,{placeholder:"原创作者抖音名称、作品链接或其他信息",value:h,onChange:p})]}),(0,n.jsx)(Z,{text:(null==s?void 0:s.value)===18?"举报描述":"举报描述（选填）",required:(null==s?void 0:s.value)===18}),(0,n.jsx)(J,{maxLength:200,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:f,onChange:m}),(0,n.jsxs)("div",{className:eg.default.uploadContainer,children:[(0,n.jsx)(K.U,{value:g,onChange:_}),(0,n.jsx)("div",{className:eg.default.uploadTips,children:"每张小于 10M，支持JPG、PNG格式，最多上传4张"})]})]})};var ek=e=>{let{title:t,onClose:l,portalRef:r,toastParent:d,extraInfo:s}=e,[u,c]=(0,i.useState)(!0),[v,m]=i.useState(eg.default.zoomIn),[h,p]=(0,i.useState)(),[g,_]=(0,i.useState)(),x=i.useCallback(()=>{m(eg.default.zoomOut),setTimeout(()=>{c(!1),o.unmountComponentAtNode(r),r.remove(),null==l||l()},300)},[l]);(0,i.useEffect)(()=>()=>{a.Le.setConfig(a.gI.IsAlreadyExsitReportModal,!1)},[]),(0,i.useEffect)(()=>{let e=ev.listen(ev.EVENT.hideModal,x);return()=>{null==e||e()}},[x]);let w=(0,i.useCallback)(e=>{f.F.info(e,d)},[d]),y=async()=>{let{user_id:e,log_extra:t,creative_id:l}=s,{reasonData:n,subReasonData:i,desc:o,info:a,images:r=[],codes:d=[]}=g,u={creative_id:l,log_extra:t,data:{user_id:e,report_type_id:n.value,report_type_name:n.label,report_pictures:r.map(e=>e.Uri).toString(),report_description:o,sub_reason_id:18===n.value?void 0:null==i?void 0:i.value,sub_reason_name:18===n.value?void 0:null==i?void 0:i.label,report_author_info:18===n.value?a:void 0,report_right_type:18===n.value?d.toString():void 0}};(0,ej.GA)(u).then(e=>{0===e.code?(w("操作成功，将严格审查广告内容"),x()):w("服务器打瞌睡了，请稍后再试")}).catch(()=>w("服务器打瞌睡了，请稍后再试"))};return(0,eu.O)({onChange:e=>{let{isFullscreen:t}=e;t&&x()}}),(0,i.useEffect)(()=>{(0,ej.iL)().then(e=>{(0,ef.Z)(null==s?void 0:s.user_id),p(e.data)}).catch(()=>w("服务器打瞌睡了，请稍后再试"))},[]),(0,n.jsx)(O,{title:t,visible:u,className:v,onCancel:x,footer:(0,n.jsx)(U.z,{className:eg.default.submit,onClick:y,disabled:!(null==g?void 0:g.verified),children:"提交"}),children:h?(0,n.jsx)(eN,{dataSource:h,onChange:_}):(0,n.jsx)(ey.g,{text:"加载中"})})};let eS=(e,t)=>{if(a.Le.getConfig(a.gI.IsAlreadyExsitReportModal))return;let{loginDispatch:l,userInfo:n,abtestData:i}=e;if((null==n?void 0:n.uid)||e.user_id||(null==e?void 0:e.isLive)||(null==e?void 0:e.isOrigin))(null==n?void 0:n.uid)&&(e.user_id=null==n?void 0:n.uid),eE(e,t);else{var o;(null===(o=window)||void 0===o?void 0:o.showAccount)&&window.showAccount({enterMethod:"report",success:n=>{l({type:"updateUserInfo"}),e.user_id=null==n?void 0:n.user_id,eE(e,t)}})}},eE=(e,t)=>{var l,i;if("object"!=typeof e)return;let r=()=>{a.Le.setConfig(a.gI.IsAlreadyExsitReportModal,!1),"function"==typeof e.onClose&&e.onClose()},d=(null==e?void 0:e.type)==="live",s=document.createElement("div"),u=document.getElementById("root"),c=(()=>{var e;if(t)return t;if(!d)return document.fullscreenElement||u;let l=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0]||document.fullscreenElement,n=document.querySelector(".modal-video-container");return l?l:(null===(e=a.Le.getConfig(a.gI.IsPageFullScreen))||void 0===e?void 0:e.type)?u:n?n:u})();if(!!c)if(c.appendChild(s),e.isOrigin)a.Le.setConfig(a.gI.IsAlreadyExsitReportModal,!0),null==e||null===(l=e.onShow)||void 0===l||l.call(e),o.render((0,n.jsx)(E,{toastParent:c,portalRef:s,title:e.title,type:e.type,object_id:e.object_id,logParams:e.logParams,onClose:r,onLiveReport:e.onLiveReport||(()=>void 0),toast:null==e?void 0:e.toast}),s);else{let{title:t,logParams:l,pipeline_id:d,object_id:u,owner_id:v,user_id:f,comment_with_emoji:m=0,enter_from:h,con_short_id:p,video_id:g,onReport:_,toast:x,owner_sec_id:w,abtestData:y}=e;a.Le.setConfig(a.gI.IsAlreadyExsitReportModal,!0),null==e||null===(i=e.onShow)||void 0===i||i.call(e),o.render((0,n.jsx)(ep,{toastParent:c,portalRef:s,title:t,onClose:r,logParams:l,pipelineId:d,dataSource:{object_id:u,owner_id:v,user_id:f,comment_with_emoji:m,enter_from:h,con_short_id:p,video_id:g,owner_sec_id:w},onReport:_,toast:x,abtestData:y}),s)}},eL=(e,t)=>{if(a.Le.getConfig(a.gI.IsAlreadyExsitReportModal))return;let{loginDispatch:l,user_id:n,abtestData:i}=e;if(n)eI(e,t);else{var o;(null===(o=window)||void 0===o?void 0:o.showAccount)&&window.showAccount({enterMethod:"report",success:n=>{var i;l({type:"updateUserInfo"}),null==e||null===(i=e.onLoginSuccess)||void 0===i||i.call(e),e.user_id=null==n?void 0:n.user_id,eI(e,t)}})}},eI=(e,t)=>{let{creative_id:l,log_extra:i,user_id:r,title:d,onClose:s,onShow:u}=e,c=document.createElement("div"),v=document.getElementById("root");if(t)v=t,null==t||t.appendChild(c);else{var f;let e=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0],t=document.querySelector(".modal-video-container");if((null===(f=a.Le.getConfig(a.gI.IsPageFullScreen))||void 0===f?void 0:f.type)||e)e&&(v=e),v.appendChild(c);else if(t)v=t,t.appendChild(c);else{let e=document.getElementById("root");null==e||e.appendChild(c)}}a.Le.setConfig(a.gI.IsAlreadyExsitReportModal,!0),null==u||u(),o.render((0,n.jsx)(ek,{toastParent:v,portalRef:c,title:d,onClose:()=>{a.Le.setConfig(a.gI.IsAlreadyExsitReportModal,!1),"function"==typeof s&&s()},extraInfo:{creative_id:l,log_extra:i,user_id:r}}),c)}},743333:function(e,t,l){"use strict";l.d(t,{z:function(){return d}});var n=l(520739),i=l(563097);l(88648);var o=l(713097),a=l.n(o),r=l(549419);function d(e){let{children:t,className:l,width:o,style:d,disabled:s=!1,onClick:u=function(){}}=e;return(0,i.jsx)("button",{type:"button",disabled:s,onClick:u,className:a()(r.default.button,l),style:(0,n._)({width:o&&`${o}px`},d),children:t})}},110557:function(e,t,l){"use strict";l.d(t,{D:function(){return u},o:function(){return c}});var n=l(563097),i=l(88648),o=l(115855),a=l(933380),r=l(265555);function d(e){return(0,n.jsxs)("svg",{className:e.className,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M6.31015 4.19993C6.30457 3.81502 6.61505 3.5 7 3.5C7.38495 3.5 7.69543 3.81502 7.68984 4.19993L7.63803 7.77116C7.63297 8.11992 7.3488 8.4 7 8.4C6.6512 8.4 6.36703 8.11992 6.36197 7.77116L6.31015 4.19993Z"}),(0,n.jsx)("path",{d:"M7 10.64C7.42526 10.64 7.77 10.2953 7.77 9.87C7.77 9.44474 7.42526 9.1 7 9.1C6.57474 9.1 6.23 9.44474 6.23 9.87C6.23 10.2953 6.57474 10.64 7 10.64Z"}),(0,n.jsx)("path",{d:"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM7 12.95C3.71391 12.95 1.05 10.2861 1.05 7C1.05 3.71391 3.71391 1.05 7 1.05C10.2861 1.05 12.95 3.71391 12.95 7C12.95 10.2861 10.2861 12.95 7 12.95Z"})]})}function s(e){let{text:t,tooltip:l}=e,r=(0,i.useRef)();return(0,n.jsxs)("div",{className:o.default.categoryTextContainer,children:[(0,n.jsx)("div",{className:o.default.categoryText,children:t}),l&&(0,n.jsx)(a.e,{text:l,type:"right",target:r.current,children:(0,n.jsx)("div",{className:o.default.iconContainer,ref:r,children:(0,n.jsx)(d,{className:o.default.alertCircle})})})]})}function u(e){let{dataList:t=[],value:l,onChange:i}=e;return(0,n.jsx)("div",{className:o.default.dataItemList,children:t.map(e=>(0,n.jsx)(r.Y,{className:o.default.dataItem,style:e.label.length>=7?{width:"calc(100% - 40px)"}:void 0,label:e.label,checked:(null==l?void 0:l.value)===e.value,value:e.value,onCheck:()=>i(e)},e.value))})}function c(e){let{dataList:t=[],value:l,onChange:i}=e;return(0,n.jsx)("div",{className:o.default.container,children:t.map(e=>{let{name:t,tooltip:a,children:r=[]}=e;return(0,n.jsxs)("div",{className:o.default.categoryItemList,children:[t&&(0,n.jsx)(s,{text:t,tooltip:a}),(0,n.jsx)(u,{dataList:r,value:l,onChange:i})]},t)})})}},368679:function(e,t,l){"use strict";l.d(t,{J:function(){return r}});var n=l(563097);l(88648);var i=l(765593),o=l(713097),a=l.n(o);let r=e=>{let{label:t,className:l,onSelect:o,value:r,style:d,selected:s}=e;return(0,n.jsxs)("div",{className:a()(i.default.container,l),style:d,children:[(0,n.jsx)("div",{className:s?i.default.selected:i.default.icon,onClick:()=>o(r)}),t&&(0,n.jsx)("span",{className:i.default.label,children:t})]})}},510820:function(e,t,l){"use strict";l.d(t,{C:function(){return a}}),l(874386);var n=l(563097);l(88648);var i=l(461523),o=l(368679);let a=e=>{let{optionList:t,value:l=[],onChange:a}=e,r=new Set(l),d=e=>{r.has(e)?r.delete(e):r.add(e),a([...r.values()])};return Array.isArray(t)?(0,n.jsx)("div",{className:i.default.container,children:t.map(e=>(0,n.jsx)(o.J,{className:i.default.radio,style:e.label.length>=7?{width:"calc(100% - 40px)"}:void 0,label:e.label,value:e.value,selected:r.has(e.value),onSelect:d},e.value))}):null}},906381:function(e,t,l){"use strict";l.d(t,{U:function(){return h}});var n=l(520739),i=l(878389);l(874386),l(250440),l(882732),l(544943);var o=l(563097),a=l(88648),r=l(108095),d=l(565850),s=l(167993),u=l(257177),c=l(717670);let v="image/png,image/jpeg,image/jpg";function f(e){let{currentLength:t,maxLength:l,onUpload:n}=e,i=(0,a.useRef)(),u=(0,a.useCallback)(()=>{var e;(null===(e=i.current)||void 0===e?void 0:e.value)&&(i.current.value="")},[]);return t===l?null:(0,o.jsxs)("div",{className:s.default.wrap,children:[(0,o.jsx)("input",{className:s.default.input,type:"file",accept:v,multiple:!0,onChange:e=>n(e,u),ref:i}),(0,o.jsx)("div",{className:s.default.buttonContainer,children:(0,o.jsxs)("div",{className:s.default.buttonContent,children:[(0,o.jsx)(r.n,{width:24,height:24,src:d.Z}),(0,o.jsx)("div",{className:s.default.counter,children:`${t}/${l}`})]})})]})}function m(e){let{dataList:t=[],onChange:l}=e,n=e=>{let n=[...t];n.splice(e,1),"function"==typeof l&&l(n)};return(0,o.jsx)(o.Fragment,{children:t.map((e,t)=>(0,o.jsxs)("div",{className:s.default.cover,children:[(0,o.jsx)("div",{className:s.default.close,onClick:()=>n(t)}),(0,o.jsx)("img",{className:s.default.image,src:e.Url})]},e.Uri))})}function h(e){let t=(0,u.Z)(),{maxLength:l=4,value:a=[],onChange:r}=e;return(0,o.jsxs)("div",{className:s.default.container,children:[(0,o.jsx)(m,{dataList:a,onChange:r}),(0,o.jsx)(f,{onUpload:(e,o)=>{let{files:d}=e.target;if(d.length>l){c.F.info(`当前上传图片数量大于 ${l}`);return}for(let e=0;e<d.length;e++){if(d[e].size>10485760){c.F.info("当前上传图片尺寸大于10M");return}if(!v.includes(d[e].type)){c.F.info("当前上传图片是不支持的类型");return}}if(!t){c.F.info("图片上传服务不可用，请稍后再试");return}t.uploadFile(d).then(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r([...a,...e.map((e,t)=>(0,i._)((0,n._)({},e),{Url:window.URL.createObjectURL(d[t])}))]),"function"==typeof o&&o()}).catch(()=>c.F.info("图片上传失败，请重试"))},currentLength:a.length,maxLength:l})]})}},983195:function(e,t,l){"use strict";l.d(t,{g:function(){return r}});var n=l(563097);l(88648);var i=l(387098),o=l(713097),a=l.n(o);function r(e){let{className:t,text:l,textClassName:o}=e;return(0,n.jsxs)("div",{className:a()(i.default.container,t,"HideInLynxClassName"),children:[(0,n.jsx)("div",{className:i.default.loading}),l&&(0,n.jsx)("div",{className:a()(i.default.text,o),children:l})]})}},417992:function(e,t,l){"use strict";l.d(t,{u:function(){return _}});var n=l(563097),i=l(477667),o=l(88648),a=l(506467),r=l(34644),d=l(913029),s=l(713097),u=l.n(s),c=l(108095);let{ArrowUp:v,ArrowDown:f,W:m,S:h,Escape:p,N:g}=a.bf,_=e=>{let{children:t,title:l,visible:a,onCancel:s}=e,_=o.useCallback(()=>{s&&s(!1)},[]),x=o.useRef(null),w=e=>{e.stopPropagation()};return o.useEffect(()=>{let e="report/ui/Modal";return(0,r.o)({disableKey:[f,v,m,h,p,g].map(e=>e.code),pauseGlobalShortcut:!0},e),()=>{(0,r.m)(e)}},[]),o.useEffect(()=>{let{current:e}=x;if(e)return e.setAttribute("tabindex","0"),e.addEventListener("DOMMouseScroll",w),e.onwheel=e=>e.preventDefault(),e.focus(),()=>{e.removeEventListener("DOMMouseScroll",w)}},[a]),a?(0,n.jsx)("div",{className:d.default.mask,ref:x,onWheel:w,children:(0,n.jsxs)("div",{className:u()(d.default.modalContainer,e.className),"data-e2e":"report-container",children:[(0,n.jsx)("div",{className:d.default.close,onClick:_,"data-e2e":"report-container-close",children:(0,n.jsx)(c.n,{width:36,height:36,src:i.Z})}),l&&(0,n.jsx)("div",{className:d.default.title,children:l}),(0,n.jsx)("div",{className:d.default.content,children:t})]})}):null}},335976:function(e,t,l){"use strict";l.d(t,{E:function(){return s}});var n=l(563097),i=l(88648),o=l(713097),a=l.n(o),r=l(265555),d=l(664186);let s=e=>{let{className:t,column:l=1,optionList:o,value:s,onChange:u}=e,c=(0,i.useMemo)(()=>({width:`${100/l}%`}),[l]);return Array.isArray(o)?(0,n.jsx)("div",{className:a()(d.default.container,t),children:o.map(e=>(0,n.jsx)(r.Y,{className:d.default.radio,style:c,label:e.label,value:e.value,checked:s===e.value,onCheck:u},e.value))}):null}},265555:function(e,t,l){"use strict";l.d(t,{Y:function(){return r}});var n=l(563097);l(88648);var i=l(61061),o=l(713097),a=l.n(o);let r=e=>{let{label:t,value:l,checked:o,disabled:r,className:d,style:s,onCheck:u}=e;return(0,n.jsxs)("div",{className:a()(i.default.container,d),style:s,children:[(0,n.jsx)("div",{onClick:()=>{"function"==typeof u&&u(l)},className:a()(i.default.radio,{[i.default.checked]:o,[i.default.disabled]:r})}),t&&(0,n.jsx)("span",{className:i.default.label,children:t})]})}},108095:function(e,t,l){"use strict";l.d(t,{n:function(){return s}});var n=l(520739),i=l(563097),o=l(88648),a=l(867910),r=l(713097),d=l.n(r);let s=o.memo(e=>{let{src:t,width:l=18,height:o=18,color:r,viewBox:s,className:u="",onClick:c=()=>void 0,style:v={}}=e,f=r?(0,n._)({fill:r},v):(0,n._)({},v);return(0,i.jsx)(t,(0,n._)({className:d()(r?"":a.default.svg,u),width:l,height:o,viewBox:s||"0 0 36 36",onClick:c},f))})},717670:function(e,t,l){"use strict";l.d(t,{F:function(){return x}});var n,i=l(134761),o=l(520739),a=l(878389);l(268917),l(874386);var r=l(563097),d=l(713097),s=l.n(d),u=l(88648),c=l(309931),v=l(367366),f=l(497329);let m=null,h=null,p=null,g=null,_={text:"",duration:3e3};class x extends(n=u.Component){static create(e){if(m)return e&&e(m);p=document.body,!document.querySelector("#toastContainer")&&((g=document.createElement("div")).className=f.default.toastWrapper,g.id="toastContainer"),p.appendChild(g),c.render((0,r.jsx)(x,{ref:t=>{m=t,e&&e(m)}}),g)}static info(e,t){let l=(0,o._)({},_);"string"==typeof e?(l.text=e,l.root=t):"object"==typeof e&&null!==e&&(l=(0,o._)((0,a._)((0,o._)({},_),{root:t}),e));let n=document.fullscreenElement||document.getElementsByClassName("xgplayer-fullscreen-parent")[0];(0,v.r)()&&n&&(l.root=n),this.textList.push(l),this.create(e=>{!h&&e&&e.handleShowToast()})}handleShowToast(){h&&(clearTimeout(h),h=null);let e=x.textList.shift();this.setState({showToast:!0,options:e}),h=setTimeout(()=>{x.textList.length?this.handleCloseToast(()=>{setTimeout(this.handleShowToast.bind(this),50)}):(this.handleCloseToast(),this.destroy()),h=null},e.duration)}handleCloseToast(e){this.setState({showToast:!1},()=>e&&e())}destroy(){p.removeChild(g),m=null}render(){let{showToast:e,options:t}=this.state,l=e&&t&&(0,r.jsx)("div",{className:s()(f.default.toast,t.className,{[f.default.parentToastWrapper]:t.root||(0,v.r)()}),children:t.text});return(0,r.jsx)(u.Fragment,{children:t&&t.root?c.createPortal(l,t.root):l})}constructor(...e){super(...e),(0,i._)(this,"state",{showToast:!1})}}(0,i._)(x,"textList",[])},933380:function(e,t,l){"use strict";l.d(t,{e:function(){return p}});var n=l(520739),i=l(878389);l(874386),l(250440);var o=l(563097),a=l(88648),r=l(309931),d=l(55016),s=l(47914),u=l(108095),c=l(713097),v=l.n(c),f=l(619771),m=l(753443),h={left:"top",right:"top",top:"left",bottom:"left"};let p=e=>{let{type:t="left",text:l,offsetArrow:c,offsetContainer:p,className:g,children:_,onTipClick:x,renderContent:w,clickHidden:y=!1,target:j,offsetWidth:b=0}=e,[C,N]=(0,a.useState)({width:0,height:0}),[k,S]=(0,a.useState)(t),[E,L]=(0,a.useState)(!1),[I,M]=(0,a.useState)({}),R=(0,a.useRef)(null),T=(0,a.useRef)(),D=(0,a.useRef)(null),A=(0,a.useMemo)(()=>(0,f.h)(j),[j]),P=(0,a.useMemo)(()=>(0,m.d)(A,"HTMLBodyElement"),[A]),V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=window.innerWidth,o=window.innerHeight;return{left:e<0?e:0,top:t<0?t:0,right:e+l>i?i-e-l:0,bottom:t+n>o?o-t-n:0}},F=function(){clearTimeout(D.current),D.current=setTimeout(()=>{L(!1)},200)},B=(0,a.useCallback)(()=>{if(!R.current)return{};let e=T.current.getBoundingClientRect(),{width:l,height:o}=e,a=P?e.x:0,r=P?e.y:0,d=(C.width-l)/2,s=(C.height-o)/2;if(["left","right"].includes(t)){switch(t){case"left":a-=C.width+10;break;case"right":a+=l+10}"number"==typeof p?r+=p:r+=-s}else if(["top","bottom"].includes(t)){switch(t){case"top":r-=C.height+10;break;case"bottom":r+=o+10}"number"==typeof p?a+=p:a+=-d}if(P){let{top:e,left:n,right:i,bottom:d}=V(a,r,C.width,C.height);S(t),["left","right"].includes(t)?(e&&(r-=e),d&&(r+=d),n&&!i&&(a+=C.width+20+l,S("right")),i&&!n&&(a-=C.width+20+l,S("left"))):["top","bottom"].includes(t)&&(n&&(a-=n+b),i&&(a+=i-b),e&&!d&&(r+=C.height+20+o,S("bottom")),d&&!e&&(r-=C.height+20+o,S("top")))}return(0,i._)((0,n._)({},I),{left:`${a}px`,top:`${r}px`})},[I,C,p,t,P]),z=(0,a.useCallback)(()=>{let e=a.Children.only(_);return a.cloneElement(e,{onMouseEnter:t=>{var l,n;clearTimeout(D.current),L(!0),T.current=t.target,M(B()),null==e||null===(n=e.props)||void 0===n||null===(l=n.onMouseEnter)||void 0===l||l.call(n,t)},onMouseLeave:()=>{F()}})},[B,_]);(0,a.useEffect)(()=>{let e=e=>{if(!!E)M(B())};return document.addEventListener("scroll",e,!0),()=>{document.removeEventListener("scroll",e,!0)}},[B,E]),(0,a.useLayoutEffect)(()=>{if(!!R.current)N(R.current.getBoundingClientRect())},[E]),(0,a.useLayoutEffect)(()=>{T.current&&M(B())},[C]);let O=(0,a.useMemo)(()=>(0,o.jsxs)("div",{ref:R,style:(0,n._)({position:P?"fixed":"absolute"},I),onMouseEnter:e=>{clearTimeout(D.current)},onMouseLeave:()=>{F()},className:v()(d.default.tooltip,d.default[t],g),onClick:e=>{null==x||x(e),y&&L(!1)},children:[(0,o.jsx)(u.n,{width:4,height:17,src:s.Z,style:{[h[k]]:`${c}%`},className:v()(d.default.icon,d.default[k]),viewBox:"0 0 4 17"}),(0,o.jsx)("span",{className:"",children:w||l})]}),[k,g,y,c,x,w,l,I,t,P]);return(0,o.jsxs)(o.Fragment,{children:[E&&r.createPortal(O,A),z()]})}},257177:function(e,t,l){"use strict";let n;var i=l(134761);l(675373);var o=l(231755),a=l(670824),r=l.n(a);class d{initUploader(e,t){let{token:l,service_id:n,origin:i,template:o}=e,a=JSON.parse(l);this.bytedUploader=new(r())({userId:t,appId:1128,stsToken:a,imageConfig:{serviceId:n}}),this.uploaderOptions={stsToken:a,serviceId:n,origin:i,template:o}}uploadFile(e){let t=this.bytedUploader.addImageFile({file:Array.from(e).map(e=>new Blob([e])),stsToken:this.uploaderOptions.stsToken});return this.bytedUploader.start(t),new Promise((e,t)=>{this.bytedUploader.on("complete",t=>{e(t.uploadResult)}),this.bytedUploader.on("error",e=>{t(e.extra)})})}constructor(e){(0,i._)(this,"bytedUploader",null),(0,i._)(this,"uploaderOptions",null),(0,o.U2)("/aweme/v1/report/upload/auth/",{}).then(t=>{let{token:l,service_id:n,origin:i,template:o,status_code:a}=t;if(0===a)this.initUploader({token:l,service_id:n,origin:i,template:o},e.userId)})}}t.Z=function(e){return!n&&(n=new d({userId:e})),n}},994138:function(e,t,l){"use strict";l.d(t,{Z:function(){return q},Y:function(){return U}});var n=l("520739"),i=l("878389");l("927234"),l("874386"),l("675373"),l("237819"),l("779788");var o=l("563097"),a=l("88648"),r=l("713097"),d=l.n(r),s=l("301701"),u=l("592477"),c=l("782563"),v=l("176638"),f=l("658065"),m=l("399796"),h=l("746025"),p=l("726406"),g=l("375944"),_=l("804487"),x=l("44905"),w=l("782442"),y=l("330746"),j=l("831202"),b=l("637005"),C=l("367366"),N=l("267830"),k=l("572076"),S=l("101879");let E=(0,a.forwardRef)((e,t)=>(0,o.jsxs)("svg",(0,i._)((0,n._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,o.jsx)("path",{d:"M6.667 8.75a.833.833 0 1 1 1.666 0v2.083a.833.833 0 1 1-1.666 0V8.75zM12.5 7.917a.833.833 0 0 0-.833.833v2.083a.833.833 0 1 0 1.666 0V8.75a.833.833 0 0 0-.833-.833z",fill:"#0C0D0F"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.125 3.125c-.805 0-1.458.653-1.458 1.458v9.792c0 .805.653 1.458 1.458 1.458h4.083c.012 0 .023.005.03.014l1.997 2.162a1.042 1.042 0 0 0 1.53 0l1.996-2.162a.042.042 0 0 1 .03-.014h4.084c.805 0 1.458-.653 1.458-1.458V4.583c0-.805-.653-1.458-1.458-1.458H3.125zm-.208 1.458c0-.115.093-.208.208-.208h13.75c.115 0 .208.093.208.208v9.792a.208.208 0 0 1-.208.208h-4.083c-.36 0-.705.151-.95.416L10 16.995 8.157 15a1.292 1.292 0 0 0-.949-.416H3.125a.208.208 0 0 1-.208-.208V4.583z",fill:"#0C0D0F"})]})));var L=l("35730"),I=l("871212"),M=l("895623"),R=l("431811"),T=l("179414");let D=(0,a.forwardRef)((e,t)=>(0,o.jsxs)("svg",(0,i._)((0,n._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,o.jsx)("circle",{cx:18,cy:18,r:18,fill:"#EFF0F3"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 8.5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19zm-1.42 14.175c0 .73.611 1.325 1.363 1.325.753 0 1.363-.594 1.363-1.325s-.612-1.325-1.363-1.325c-.754 0-1.363.594-1.363 1.325zm3.318-4.47c.87-.72 1.438-1.286 1.705-1.703.265-.417.4-.86.397-1.327 0-.845-.361-1.585-1.087-2.22-.726-.637-1.7-.955-2.928-.955-1.165 0-2.108.314-2.826.942-.717.628-1.135 1.493-1.159 2.292-.023.798 1.89.632 1.96.238.074-.417.388-1.091.754-1.397.365-.305.82-.46 1.363-.46.562 0 1.012.148 1.343.441.332.295.5.647.5 1.058 0 .295-.096.566-.283.813-.121.156-.495.485-1.117.988-.622.501-1.038.954-1.246 1.357-.208.402-.312.914-.312 1.538l.003.184.006.321h1.94c-.01-.583.04-.988.148-1.213.109-.228.389-.527.84-.898z",fill:"#2F3035"})]})));var A=l("544933"),P=new A.h({feedbackShow:{eventName:"feedback_show",params:{enter_from:""}},feedbackClick:{eventName:"feedback_click",params:{enter_from:"",player_muted:1,player_volume:0,vtypes:[],system_volume_info:"",player_maxDb:0,has_analyser:0,equalize_volumeState:"",userAB:"",mute_icon_display:"",audio_ctx_state:"",css_droped:0,click_position:"",is_video_in_dom:0,logids:"",vtype:""}},feedbackReport:{eventName:"feedback_report",params:{}},settingPanelClick:{eventName:"setting_panel_click",params:{enter_from:"",menu:"",theme_color:void 0,if_reddot:void 0}}}),V=l("744796"),F=l("516599"),B=l("473677"),z=l("225825");let O=(0,c.DT)()?I.CLIENT_APP_ID.toString():I.APP_ID.toString(),U=e=>{window.open("https://www.douyin.com/help",(0,v.f)()?"_self":"_blank"),P.sendLog("settingPanelClick",{enter_from:(null==e?void 0:e.enterFrom)||(0,f.yW)(),menu:"常见问题"}),P.sendLog("feedbackClick",{enter_from:(null==e?void 0:e.enterFrom)||(0,f.yW)(),click_position:"help",logids:(0,V.Wf)()})};var q=function(e){let{isXiguaDomain:t,renderIconInSSR:r,version:v="",extra:A,enterFrom:q}=e,[Z,W]=(0,a.useState)(!1),H=(0,a.useRef)(!1),[$,G]=(0,a.useState)(""),J=(0,a.useRef)(null),K=(0,a.useRef)(null),Q=(0,a.useRef)(O),Y=(0,a.useRef)(""),X=(0,a.useRef)(document.createElement("div")),ee=(0,a.useRef)(null),et=(0,a.useRef)(null),[el,en]=(0,a.useState)(!1),{targetResource:ei}=(0,R.II)(e=>{let{targetResource:t}=e;return{targetResource:t}});(0,a.useEffect)(()=>{var e;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem("FeedBackFlag");G(t),"1"!==t&&(P.sendLog("feedbackShow",{enter_from:q||(0,f.yW)()}),setTimeout(()=>{var e;null===(e=localStorage)||void 0===e||e.setItem("FeedBackFlag","1"),G("1")},3e3))},[]),(0,a.useEffect)(()=>{if(Z){let e=e=>{var t,l,n;if((null===(t=e.data)||void 0===t?void 0:t.action)==="postFeedback"){let t=null===(n=e.data)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.content;ee.current=t}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}},[Z]);let{isFullscreen:eo}=(0,s.O)(),ea=async()=>{var e,t,o,a,r,d,s,E,R,D,B,z,O;let U=(await l.e("54213").then(l.t.bind(l,758646,23))).default,Z=m.Q.getItem({sKey:L.CookieKeys.Theme}),{stuff_detail:$}=ei||{},{theme:G}=$||{},et=G&&!G.is_support_light_theme?L.ThemeValues.Dark:(0,h.Dr)(Z);Y.current=et;let el=m.Q.getItem({sKey:L.CookieKeys.MonitorWebId}),en=m.Q.getItem({sKey:L.CookieKeys.MonitorDeviceId}),eo="";try{let[e,t]=await Promise.allSettled([(0,u.d)(),(0,M.a)()]),l=(0,V.L7)(e,[]),n=(0,V.L7)(t,[]);eo=l.concat(n).join(",")}catch(e){}let{device_manufacture:ea="",device_model:er="",guid:ed="",version:es=""}=(0,p.rp)(),{os:eu,version:ec}=(0,g.fV)(),ev=(0,_.$)().info,ef=null===(e=(0,x.Es)())||void 0===e?void 0:e.user_unique_id;J.current=new U(document.createElement("div"),{zIndex:I.FEEDBACK_Z_INDEX,appId:Q.current,bizId:I.BIDID,webId:ef,appName:I.APPNAME,height:570,extra_params:(0,i._)((0,n._)({},null!=A?A:{}),{MONITOR_WEB_ID:el,MONITOR_DEVICE_ID:en,abTestVids:eo,manufacturer:ea,version:v||(null===(t=window)||void 0===t?void 0:t.version),device_model:er,guid:ed,clientVersion:es,os:eu,gpuVender:ev,hardwareConcurrency:null!==(B=null===(o=navigator)||void 0===o?void 0:o.hardwareConcurrency)&&void 0!==B?B:-1,env:null===(a=w.Le.getConfig(w.gI.Env))||void 0===a?void 0:a.envService,custom_field_info:{env:null===(r=w.Le.getConfig(w.gI.Env))||void 0===r?void 0:r.envService,os:eu,clientVersion:es,domain:document.domain,version:v||(null===(d=window)||void 0===d?void 0:d.version),browserInfo:(0,y.Lq)(),osVersion:ec},vtype:null===(E=window)||void 0===E?void 0:null===(s=E.player)||void 0===s?void 0:s.vtype}),ext:{headerToggle:!0},sdkUrl:I.SDKURL,theme:et,getFeedbackResult:e=>{if(e){var t,l,o,a,r,d,s,u;let e=null!==(u=w.Le.getConfig(w.gI.FeedBackInfo))&&void 0!==u?u:{},c={page:(0,f.yW)(),web_id:el,devide_id:en},v=document.querySelectorAll(".xgplayer-error"),m={screenWidth:document.body.clientWidth,screenHeight:document.body.clientHeight,feedVideoCount:document.querySelectorAll('[data-e2e="feed-video"]').length,feedActiveVideoCount:document.querySelectorAll('[data-e2e="feed-active-video"]').length,isVideoError:Array.from(v).map(e=>(null==e?void 0:e.offsetParent)!==null),videoPosition:null===(t=document.querySelector('[data-e2e="feed-active-video"]'))||void 0===t?void 0:t.getBoundingClientRect(),slideListPosition:null===(l=document.querySelector('[data-e2e="slideList"]'))||void 0===l?void 0:l.getBoundingClientRect(),swiperTransfrom:null===(r=document.querySelector('[data-e2e="slideList"]'))||void 0===r?void 0:null===(a=r.firstChild)||void 0===a?void 0:null===(o=a.style)||void 0===o?void 0:o.cssText,calcTransfrom:((null===(s=document.querySelector('[data-e2e="feed-active-video"]'))||void 0===s?void 0:null===(d=s.getBoundingClientRect())||void 0===d?void 0:d.height)+12)*(null==e?void 0:e.activeIndex)};j.oe.event.info({name:j.Mo.SubmitFeedBack,report:(0,n._)({},e,c,m)}),F.F.info("已经提交反馈");let h=(0,i._)((0,n._)({},(0,V.Y3)()),{enter_from:(0,f.yW)(),content:ee.current});P.sendLog("feedbackReport",h)}},getInterfaceError:e=>{e&&F.F.info("接口状态异常")},onVisibleChange:async e=>{var t,l,n,i,o,a,r,d,s,u,v,m,h,p,g,_,x,y,j,E,L,I,M,R,D,A,F,B,z,O,U,Z,W,H,$,G,Q,Y,ee,et,el,en,ei,eo;null==b||null===(t=b.emit)||void 0===t||t.call(b,b.EVENT.feedbackVisibleChange,e);let ea=(0,C.r)()&&((0,N.W)()||document.getElementById("slideMode"))||document.getElementsByClassName("xgplayer-fullscreen-parent")[0],er=null===(l=J.current)||void 0===l?void 0:l._iframeContainer;if(w.Le.setConfig(w.gI.IsShowFeedBackModal,e),e){y=w.Le.getConfig(w.gI.FeedBackInfo);let e={};if((0,c.DT)())try{e=await k.invoke("getVolumeInfo")}catch(t){e="getSystemVolumeInfoError"}let t="",l=0,b=[],C="",N="";try{t=JSON.stringify(w.Le.getConfig(w.gI.AbtestData));let e=(0,S.t)();l=e instanceof Element&&"flex"===getComputedStyle(e).display?0:1,null===(M=window)||void 0===M||null===(I=M.player)||void 0===I||null===(L=I.plugins)||void 0===L||null===(E=L.mp4encryptplayer)||void 0===E||null===(j=E.reportBugPostPlayerLog)||void 0===j||j.call(E),null===(B=window)||void 0===B||null===(F=B.player)||void 0===F||null===(A=F.getPlugin)||void 0===A||null===(D=A.call(F,"VodLoggerPlugin"))||void 0===D||null===(R=D.reportBugPostPlayerLog)||void 0===R||R.call(D),null===(U=window)||void 0===U||null===(O=U.player)||void 0===O||null===(z=O.emit)||void 0===z||z.call(O,"xglog_cache"),b=w.Le.getConfig(w.gI.recentVtypes),C=null===(W=window)||void 0===W?void 0:null===(Z=W.player)||void 0===Z?void 0:Z.vtype,N=window.location.href}catch(e){}let J=null===(o=window.player)||void 0===o?void 0:null===(i=o.root)||void 0===i?void 0:null===(n=i.querySelector)||void 0===n?void 0:n.call(i,".xg-volume-mute"),ee=2;if((null===(a=window.player)||void 0===a?void 0:a.video)&&(ee=Number(!!window.player.video.parentNode)),P.sendLog("settingPanelClick",{enter_from:q||(0,f.yW)(),menu:"意见反馈"}),P.sendLog("feedbackClick",{enter_from:q||(0,f.yW)(),player_muted:Number(null!==($=null!==(H=null===(d=window.player)||void 0===d?void 0:null===(r=d.video)||void 0===r?void 0:r.muted)&&void 0!==H?H:null===(s=window.player)||void 0===s?void 0:s.muted)&&void 0!==$?$:-1),player_volume:null!==(G=null===(v=window.player)||void 0===v?void 0:null===(u=v.video)||void 0===u?void 0:u.volume)&&void 0!==G?G:null===(m=window.player)||void 0===m?void 0:m.volume,system_volume_info:e,player_maxDb:null!==(Q=null===(h=window.globalCtx)||void 0===h?void 0:h.maxDb)&&void 0!==Q?Q:-1,has_analyser:Number(null!==(Y=null===(p=window.globalCtx)||void 0===p?void 0:p.hasAnalyser)&&void 0!==Y&&Y),equalize_volumeState:null===(g=window.player)||void 0===g?void 0:g.equalizeVolumeState,mute_icon_display:J instanceof Element?getComputedStyle(J,null).display:"no_icon",audio_ctx_state:null===(x=window.globalCtx)||void 0===x?void 0:null===(_=x.audioCtx)||void 0===_?void 0:_.state,userAB:t,pageUrl:N,vtypes:b,vtype:C,css_droped:l,click_position:"feedback",is_video_in_dom:ee,logids:(0,V.Wf)()}),!K.current)return;ea?(er=ea,X.current.className=T.default.iframeContainer,X.current.appendChild(K.current),ea.appendChild(X.current)):er.appendChild(K.current)}else{if(!J.current)return;ea?null===(en=X.current)||void 0===en||null===(el=en.remove)||void 0===el||el.call(en):X.current&&(null===(eo=X.current)||void 0===eo||null===(ei=eo.remove)||void 0===ei||ei.call(eo)),K.current=J.current._sdkIframeEle,null===(et=J.current._sdkIframeEle)||void 0===et||null===(ee=et.remove)||void 0===ee||ee.call(et)}}}),W(!0),H.current=!0,K.current=J.current._sdkIframeEle,null===(D=J.current._sdkIframeEle)||void 0===D||null===(R=D.remove)||void 0===R||R.call(D),"/LynxFeedBack"===location.pathname&&(null===(z=(O=J.current).show)||void 0===z||z.call(O))};return(0,a.useEffect)(()=>{var e,t,l,n;null===(t=J.current)||void 0===t||null===(e=t.hide)||void 0===e||e.call(t),null===(n=X.current)||void 0===n||null===(l=n.remove)||void 0===l||l.call(n)},[eo]),(0,a.useEffect)(()=>{let e=b.listen(b.EVENT.showFeedback,()=>{var e,t;null===(t=J.current)||void 0===t||null===(e=t.show)||void 0===e||e.call(t)});return()=>e()},[]),(0,a.useEffect)(()=>{let e=()=>{if(!!Z){try{var e,t;null===(t=J.current)||void 0===t||null===(e=t.destroy)||void 0===e||e.call(t)}catch(e){}ea()}},t=b.listen(b.EVENT.changeTheme,t=>{let{theme:l}=t;Y.current&&Y.current!==l&&e()}),l=b.listen(b.EVENT.loginShowFeedback,t=>{let{isShow:l=!1}=t,n=l?"538982":O;Q.current!==n&&(Q.current=n,e()),l&&setTimeout(()=>{var e,t;null===(t=J.current)||void 0===t||null===(e=t.show)||void 0===e||e.call(t)},0)});return()=>{t(),l()}},[Z]),(0,a.useEffect)(()=>()=>{try{var e,t;null===(t=J.current)||void 0===t||null===(e=t.destroy)||void 0===e||e.call(t)}catch(e){}},[]),(0,a.useEffect)(()=>(ea(),()=>{}),[]),(0,o.jsxs)("div",{onMouseEnter:()=>{P.sendLog("feedbackShow",{enter_from:q||(0,f.yW)()})},className:d()(T.default.opContainer,T.default.hidebar,{[T.default.showText]:"1"!==$,[T.default.xiguaOpContainer]:t}),children:[t&&(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(z.e,{text:"反馈",isXiguaDomain:t,children:(0,o.jsx)("div",{className:T.default.icon,children:(0,o.jsx)(B.Z,{src:E,width:28,height:28,viewBox:"-4 -4 28 28"})})}),(0,o.jsx)("div",{className:T.default.topBar}),(0,o.jsx)("div",{className:T.default.bottomBar})]}),!t&&(0,o.jsxs)("div",{className:T.default.content,children:[(0,o.jsx)("div",{className:T.default.icon,onMouseEnter:()=>{en(!0)},onMouseLeave:()=>{clearTimeout(et.current),et.current=setTimeout(()=>{en(!1)},200)},children:(0,o.jsx)(B.Z,{src:D,width:36,height:36,needRenderInSSR:r})}),(0,o.jsxs)("div",{className:d()(T.default.menu,{[T.default.show]:el}),onMouseEnter:()=>clearTimeout(et.current),onMouseLeave:()=>en(!1),children:[(0,o.jsx)("div",{className:T.default.item,onClick:()=>{en(!1),U({enterFrom:q})},children:"常见问题"}),(0,o.jsx)("div",{className:T.default.item,onClick:()=>{var e,t;null===(t=J.current)||void 0===t||null===(e=t.show)||void 0===e||e.call(t)},children:"意见反馈"})]})]})]})}},744796:function(e,t,l){"use strict";l.d(t,{L7:function(){return x},Wf:function(){return E},Y3:function(){return S}});var n=l(520739),i=l(878389);l(250440),l(779788),l(874386);var o=l(35730),a=l(782442),r=l(782563),d=l(32167),s=l(804487),u=l(157526),c=l(972438),v=l(555106),f=l(40970),m=l(996503),h=l(795454),p=l(383212),g=l(540801),_=l(616175);let x=(e,t)=>"fulfilled"===e.status?e.value:t,w=function(e){var t;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=document.createElement("canvas"),i=n.getContext("2d");n.width=e.videoWidth,n.height=e.videoHeight,i.drawImage(e,0,0,n.width,n.height);let{data:o}=null===(t=i.getImageData)||void 0===t?void 0:t.call(i,0,0,n.width,n.height),a=!0;for(let e=0;e<o.length;e+=4)if(o[e]>l||o[e+1]>l||o[e+2]>l){a=!1;break}return a},y=()=>{let e=1===document.querySelectorAll('[data-e2e="feed-active-video"]').length,t=a.Le.getConfig(a.gI.HasLiveContent);return{current_video_type:e?0:t?1:-1,client_type:(0,r.DT)()?1:0}},j=()=>{var e,t,l,n,i,o,a,r,v,g,x,w,y,j,b;if(0===document.querySelectorAll('[data-e2e="feed-active-video"]').length||!window.player)return{};let{player:C}=window,N=C.video,k=null==N?void 0:N.getBoundingClientRect(),{preloadTime:S,preloadSize:E}=(0,h.P)(C);return{group_id:null===(e=C.config)||void 0===e?void 0:e.vid,enter_from:(0,d.vM)(),is_mute:C.muted?1:0,gear_name:null===(t=C.curDefinition)||void 0===t?void 0:t.gearName,decoder_mode:null===(i=C.video)||void 0===i?void 0:null===(n=i.getStats)||void 0===n?void 0:null===(l=n.call(i))||void 0===l?void 0:l.decoderMode,gpu_info:null===(o=(0,s.$)())||void 0===o?void 0:o.info,equalize_state:null!==(w=C.equalizeVolumeState)&&void 0!==w?w:"",lufs:null!==(y=null==C?void 0:C.lufs)&&void 0!==y?y:_.G7,use_new_mammon_worklet_processor:null!==(j=null==C?void 0:C.useMammonWorkletProcessorV3)&&void 0!==j&&j,hit_new_mammon_worklet_processor:null!==(b=null==C?void 0:C.hitMammonWorkletProcessorV3)&&void 0!==b&&b,cpu_core:null===(a=navigator)||void 0===a?void 0:a.hardwareConcurrency,duration:null===(r=C.config)||void 0===r?void 0:r.duration,video_width:null==N?void 0:N.videoWidth,video_height:null==N?void 0:N.videoHeight,video_ratio:(null==N?void 0:N.videoWidth)/(null==N?void 0:N.videoHeight),video_rect_width:null==k?void 0:k.width,video_rect_height:null==k?void 0:k.height,player_version:C.version,video_quality:null===(v=C.curDefinition)||void 0===v?void 0:v.qualityType,video_size:null===(g=C.curDefinition)||void 0===g?void 0:g.size,definition:null===(x=C.curDefinition)||void 0===x?void 0:x.definition,preload_time:S,preload_size:E,preload_type:(0,f.me)(C)?2:1,player_volume:C.volume,play_order:(0,p.G)(),first_video_after_cold_start:(0,u.R)(0)&&1===(0,p.G)(),is_video_support:Number((0,c.k)().isSupport),is_supported_265:(0,m.VV)()?1:0}},b=()=>{var e,t,l,n,i,o,r,d,s,u,c,v,f,h,p,g;if(0===document.querySelectorAll('[data-e2e="feed-active-video"]').length||!window.player)return{};let{player:_}=window,{lowdecodeVV:x=0,vv:w=0}=null!==(h=null===(t=_.video)||void 0===t?void 0:null===(e=t.getStats)||void 0===e?void 0:e.call(t))&&void 0!==h?h:{};return{drop_frame:null===(l=_.videoFrameInfo)||void 0===l?void 0:l.dropped,total_play_frame:null===(n=_.videoFrameInfo)||void 0===n?void 0:n.total,drop_frame_rate:null===(i=_.videoFrameInfo)||void 0===i?void 0:i.droppedRate,drop_frame_duration:null===(o=_.videoFrameInfo)||void 0===o?void 0:o.droppedDuration,decode_fps:null!==(p=null===(r=_.video)||void 0===r?void 0:r.decodeFps)&&void 0!==p?p:0,has_down_definition:!!_.definitionList.find(e=>{var t;return(null==e?void 0:e.definition)===(null===(t=_.curDefinition)||void 0===t?void 0:t.definition)+1}),current_vtype:_.vtype,internet_speed:a.Le.getConfig(a.gI.NetworkSpeed),reason:a.Le.getConfig(a.gI.SrDegradeCode),codec_format:(null===(d=_.curDefinition)||void 0===d?void 0:d.isH265)===2?"bytevc2":(null===(s=_.curDefinition)||void 0===s?void 0:s.isH265)===1?"bytevc":"h264",video_format:null!==(g=_.playerType)&&void 0!==g?g:"mp4",using_pcdn:(null===(c=_.bandwidth)||void 0===c?void 0:null===(u=c.pcdn)||void 0===u?void 0:u.size)>0?1:0,media_type:null===(v=_.config)||void 0===v?void 0:v.mediaType,definition:null===(f=_.curDefinition)||void 0===f?void 0:f.definition,h265_failure_rate:10===w?x/w:-1,is_265_degrade_web:(0,m.OS)({player:_})}},C=()=>{var e;if(0===document.querySelectorAll('[data-e2e="feed-active-video"]').length||!window.player)return{};let{player:t}=window;return{loading_icon_status:t.hasClass("xgplayer-isloading"),block_count:null===(e=t.config)||void 0===e?void 0:e.blockCount,is_black_screen:!!t.video&&w(t.video),current_position:t.currentTime,buffer_time:(0,g._)(t)}},N=()=>{var e,t,l,n;if(0===document.querySelectorAll('[data-e2e="feed-active-video"]').length||!window.player)return{};let{player:i}=window,o=null===(n=i.plugins)||void 0===n?void 0:null===(l=n.xgVodLogger)||void 0===l?void 0:null===(t=l.getCacheLog)||void 0===t?void 0:null===(e=t.call(l,"oneplay"))||void 0===e?void 0:e[0],a={};return o&&Object.keys(o).forEach(e=>{a[`xg_${e}`]=o[e]}),a},k=()=>{var e,t,l,n,i,o,a,r,d,s,u,c,v,f,m,h,p,g;if(0===document.querySelectorAll('[data-e2e="feed-active-video"]').length||!window.player)return{};let{player:_}=window,x=null===(l=_.plugins)||void 0===l?void 0:null===(t=l.xgVodLogger)||void 0===t?void 0:null===(e=t.getCacheLog)||void 0===e?void 0:e.call(t,"oneerror"),w=(null==x?void 0:null===(n=x.map)||void 0===n?void 0:n.call(x,e=>{var t;return{type:"one_error",local_time:e.local_time,vtype:_.vtype,codec_type:null===(t=_.curDefinition)||void 0===t?void 0:t.isH265,end_type:e.end_type,errc:e.errc,vsc_message:e.vsc_message}}))||[],y=null===(a=_.plugins)||void 0===a?void 0:null===(o=a.xgVodLogger)||void 0===o?void 0:null===(i=o.getCacheLog)||void 0===i?void 0:i.call(o,"oneevent"),j=(null==y?void 0:null===(s=y.filter)||void 0===s?void 0:null===(d=s.call(y,e=>["playCatch","progress_error","degrade"].includes(e.end_type)))||void 0===d?void 0:null===(r=d.map)||void 0===r?void 0:r.call(d,e=>({type:"oneevents",local_time:e.local_time,vtype:e.vtype,codec_type:e.codec_type,end_type:e.end_type,err_msg:e.err_msg,errc:e.errc,first_frame_interval:e.first_frame_interval,initial_type:e.initial_type,media_type:e.media_type,retry_count:e.retry_count})))||[],b=null===(v=_.plugins)||void 0===v?void 0:null===(c=v.xgVodLogger)||void 0===c?void 0:null===(u=c.getCacheLog)||void 0===u?void 0:u.call(c,"onetemp"),C=(null==b?void 0:null===(f=b.map)||void 0===f?void 0:f.call(b,e=>({type:"one_temp",local_time:e.local_time,vtype:e.vtype,codec_type:e.codec_type,end_type:e.end_type,try_err_c:e.try_err_c,accu_errc:e.accu_errc})))||[],N=null===(p=_.plugins)||void 0===p?void 0:null===(h=p.xgVodLogger)||void 0===h?void 0:null===(m=h.getCacheLog)||void 0===m?void 0:m.call(h,"oneopera");return JSON.stringify([...w,...j,...C,...(null==N?void 0:null===(g=N.map)||void 0===g?void 0:g.call(N,e=>({type:"one_temp",local_time:e.local_time,vtype:e.vtype,codec_type:e.codec_type,end_type:e.end_type,opera_type:e.opera_type,buffer_time:e.buffer_time,bu_acu_t:e.bu_acu_t,bc:e.bc})))||[]])},S=()=>(0,i._)((0,n._)({},y(),j(),b(),C(),N()),{events:k()}),E=()=>{let e="";try{let t=(0,v.$o)(o.LocalStorageKeys.logTrace).map(e=>({time:null==e?void 0:e.time,logId:null==e?void 0:e.logId,url:null==e?void 0:e.url}));e=JSON.stringify(t)}catch(t){e=""}return e}},573713:function(e,t,l){"use strict";l.d(t,{e:function(){return p}}),l(874386);var n=l(563097),i=l(428775),o=l.n(i),a=l(88648),r=l(713097),d=l.n(r),s=l(309931),u=l(747909),c=l(477667),v=l(201986),f=l(394561),m=l(516599);let h=e=>{let{portalRef:t,onClose:l}=e,[i,r]=(0,a.useState)([]),[h,p]=(0,a.useState)(""),[g,_]=(0,a.useState)(""),x=()=>{null==l||l(),s.unmountComponentAtNode(t),t.remove()},w=e=>{let t=e.target.value;t.length<=140&&_(t)},y=async()=>{try{var e,t;let l=await o().post("https://ug-seo-demo.bytedance.com/seo_api/backend/v1/kep/report",{url:location.href,domain:location.host,category:h,reason:g});(null==l?void 0:null===(t=l.data)||void 0===t?void 0:null===(e=t.status)||void 0===e?void 0:e.err_code)===0?(m.F.info("举报成功"),x()):m.F.info("网络错误")}catch(e){m.F.info("网络错误")}};return(0,a.useEffect)(()=>{let e=!1;return(async()=>{try{var t,l,n,i;let a=await o().get("https://ug-seo-demo.bytedance.com/seo_api/backend/v1/kep/get_report_cate_list",{params:{domain:location.host}});!e&&(null==a?void 0:null===(l=a.data)||void 0===l?void 0:null===(t=l.status)||void 0===t?void 0:t.err_code)===0&&(null==a?void 0:null===(n=a.data)||void 0===n?void 0:n.category_list)&&r(null===(i=a.data)||void 0===i?void 0:i.category_list)}catch(e){}})(),()=>{e=!1}},[]),(0,n.jsx)(f.T6,{children:(0,n.jsxs)("div",{className:v.default.modal,children:[(0,n.jsxs)("div",{className:v.default.header,children:[(0,n.jsx)("span",{children:"举报"}),(0,n.jsx)(c.Z,{className:v.default.close,onClick:x})]}),(0,n.jsx)("div",{className:v.default.divider}),(0,n.jsxs)("div",{className:v.default.content,children:[(0,n.jsxs)("div",{className:v.default.reportType,children:[(0,n.jsxs)("span",{children:["举报原因",(0,n.jsx)("span",{className:v.default.star,children:"*"})]}),(0,n.jsx)(u.RadioGroup,{className:v.default.reportTypeGroup,defaultValue:h,onChange:e=>{p(e.target.value)},children:i.map((e,t)=>(0,n.jsx)(u.Radio,{value:e,className:v.default.radioLabel,children:(0,n.jsx)("span",{className:v.default.radioText,children:e})},t))})]}),(0,n.jsxs)("div",{className:v.default.reportReason,children:[(0,n.jsx)("span",{children:"举报描述"}),(0,n.jsxs)("div",{className:d()(v.default.textareaWap,v.default.detailReason),children:[(0,n.jsx)("textarea",{onChange:e=>w(e),id:"message-textarea",maxLength:140,className:v.default.textarea,placeholder:"请详细描述举报原因，便于平台判断违规情况"}),(0,n.jsxs)("span",{className:d()(v.default.numLabel,{[v.default.warn]:g.length>=140}),children:[g.length,"/",140]})]})]}),(0,n.jsx)(u.Button,{theme:"solid",disabled:!h,className:v.default.confirmBtn,onClick:y,children:"提交"})]})]})})};function p(){let{onShow:e,onClose:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0,i=document.createElement("div"),o=document.body;l?(o=l,null==l||l.appendChild(i)):null==o||o.appendChild(i),null==e||e(),s.render((0,n.jsx)(h,{portalRef:i,onClose:t}),i)}},542775:function(e,t,l){"use strict";l.r(t),l.d(t,{SiderBar:function(){return et},default:function(){return el}}),l("675373"),l("874386"),l("250440");var n=l("563097"),i=l("88648"),o=l("309931"),a=l("713097"),r=l.n(a),d=l("877639"),s=l.n(d),u=l("338426"),c=l("606604"),v=l("301701"),f=l("770989"),m=l("406065"),h=l("734017"),p=l("637005"),g=l("813481"),_=l("30321"),x=l("599718"),w=l("452586"),y=l("520739"),j=l("878389");let b=(0,i.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,j._)((0,y._)({width:36,height:36,fill:"#0A0C20",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 8.36c0 .75.609 1.359 1.36 1.359h10.873a1.36 1.36 0 1 0 0-2.719H12.36C11.61 7 11 7.609 11 8.36zm.422 9.164a1.44 1.44 0 0 0 2.037 2.037l2.973-2.972V27.56a1.44 1.44 0 1 0 2.88 0V16.587l1.277 1.277 1.698 1.697a1.44 1.44 0 0 0 2.037-2.037l-5.238-5.238a1.715 1.715 0 0 0-2.426 0l-5.238 5.238z"})}))),C=(0,i.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,j._)((0,y._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.125 5.833a.625.625 0 1 0 0 1.25h13.75a.625.625 0 1 0 0-1.25H3.125zm7.317 3.308a.625.625 0 0 0-.884 0l-6.866 6.866a.625.625 0 0 0 .884.884L10 10.467l6.448 6.448a.625.625 0 1 0 .884-.884l-6.89-6.89z",fill:"#0C0D0F"})})));var N=l("460466"),k=l("473677"),S=l("994138");l("110006"),l("826893"),l("602157");var E=l("399796"),L=l("746025"),I=l("658065");let M=(0,i.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,j._)((0,y._)({width:36,height:36,viewBox:"0 0 22 19",fill:"#2F3035",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.842.797A1 1 0 0 1 7.419.98l.056.092c.74 1.242 2.052 2.047 3.528 2.047 1.475 0 2.786-.804 3.527-2.044l.055-.092A1 1 0 0 1 16.162.8l4.666 4.825c.61.631.61 1.64 0 2.271l-2.22 2.297a1.611 1.611 0 0 1-.24.204v6.255c0 .863-.686 1.624-1.607 1.624H5.245c-.921 0-1.606-.761-1.606-1.624v-6.25c-.087-.06-.17-.13-.246-.21L1.172 7.898a1.637 1.637 0 0 1 0-2.27l4.67-4.83zM3.086 6.762l2.718 2.854v6.496h10.398V9.616l2.712-2.854-3.357-3.472a6.216 6.216 0 0 1-4.554 1.995 6.217 6.217 0 0 1-4.557-1.998l-3.36 3.475z"})}))),R=(0,i.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,j._)((0,y._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("path",{d:"M10 .625c.345 0 .625.28.625.625v1.667a.625.625 0 1 1-1.25 0V1.25c0-.345.28-.625.625-.625z",fill:"#000"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.208 10a4.792 4.792 0 1 1 9.584 0 4.792 4.792 0 0 1-9.584 0zM10 6.458a3.542 3.542 0 1 0 0 7.084 3.542 3.542 0 0 0 0-7.084z",fill:"#000"}),(0,n.jsx)("path",{d:"M10.625 17.083a.625.625 0 0 0-1.25 0v1.667a.625.625 0 1 0 1.25 0v-1.667zM19.375 10c0 .345-.28.625-.625.625h-1.667a.625.625 0 0 1 0-1.25h1.667c.345 0 .625.28.625.625zM2.917 10.625a.625.625 0 1 0 0-1.25H1.25a.625.625 0 1 0 0 1.25h1.667zM16.63 16.63a.625.625 0 0 1-.885 0l-1.178-1.18a.625.625 0 1 1 .884-.883l1.178 1.178a.625.625 0 0 1 0 .884zM4.55 5.433a.625.625 0 0 0 .883-.883L4.255 3.37a.625.625 0 1 0-.884.884L4.55 5.433zM3.371 16.63a.625.625 0 0 1 0-.885l1.179-1.178a.625.625 0 1 1 .884.884l-1.179 1.178a.625.625 0 0 1-.884 0zM14.567 4.55a.625.625 0 1 0 .884.883l1.178-1.178a.625.625 0 1 0-.884-.884L14.567 4.55z",fill:"#000"})]})));var T=l("35730"),D=l("344453");let A=(0,i.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,j._)((0,y._)({width:24,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{opacity:".7",d:"M20.414 5.613a6.718 6.718 0 0 1-2.886-4.39A6.808 6.808 0 0 1 17.416 0h-4.732l-.008 19.29c-.079 2.16-1.827 3.895-3.969 3.895-.665 0-1.292-.17-1.845-.465a4.06 4.06 0 0 1-2.132-3.582c0-2.23 1.785-4.046 3.977-4.046.41 0 .802.07 1.174.187v-4.913a8.618 8.618 0 0 0-1.174-.087C3.907 10.28 0 14.254 0 19.14a8.898 8.898 0 0 0 3.718 7.255A8.557 8.557 0 0 0 8.708 28c4.803 0 8.71-3.974 8.71-8.86V9.357A11.12 11.12 0 0 0 24 11.51V6.696a6.47 6.47 0 0 1-3.586-1.083z",fill:"#E7E7EC"})}))),P=(0,i.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,j._)((0,y._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16z",fill:"#FE2C55"}),(0,n.jsx)("path",{d:"M4 7.5a1 1 0 0 0 0 1.415l2.342 2.28a1 1 0 0 0 1.415 0l.008-.008 4.65-4.772A1 1 0 0 0 11 5L7.05 9.073 5.414 7.5A1 1 0 0 0 4 7.5z",fill:"#fff"})]}))),V=(0,i.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,j._)((0,y._)({width:9,height:9,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{d:"M8.805 1.471A.667.667 0 1 0 7.862.53L4.667 3.724 1.47.529a.667.667 0 1 0-.942.942l3.195 3.196L.529 7.862a.667.667 0 0 0 .942.943l3.196-3.196 3.195 3.196a.667.667 0 1 0 .943-.943L5.609 4.667 8.805 1.47z",fill:"#fff"})})));var F=l("544933"),B=new F.h({changeThemeSetting:{eventName:"change_theme_setting",params:{theme:"light",enter_from:""}},themeSettingGuideConfirm:{eventName:"theme_setting_guide_confirm",params:{theme:"light"}},themeSettingGuideShow:{eventName:"theme_setting_guide_show",params:{theme:"light"}}}),z=l("579028"),O=l("66826"),U=l("225825");let q=e=>{var t;(null===(t=document.cookie.match(/theme=(\w+);/g))||void 0===t?void 0:t.length)>1&&E.Q.removeItem(T.CookieKeys.Theme,"/"),E.Q.setItem(T.CookieKeys.Theme,e?T.ThemeValues.Dark:T.ThemeValues.Light,1/0,"/",D.J,"",!0)},Z=e=>{let{TipComponent:t,isXiguaDomain:l}=e,o=E.Q.getItem({sKey:T.CookieKeys.Theme}),a=(0,L.Dr)(o)===T.ThemeValues.Dark,[d,s]=(0,i.useState)(a),[u,c]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{var e,t;let l=document.documentElement;null==l||null===(e=l.setAttribute)||void 0===e||e.call(l,"switch-theme",""),null==l||null===(t=l.setAttribute)||void 0===t||t.call(l,"video-opacity","")},[]),(0,i.useEffect)(()=>{(0,O.L)(d),l&&document.body.style.setProperty("--color-primary","#fe3355"),p.emit(p.EVENT.changeTheme,{theme:d?T.ThemeValues.Dark:T.ThemeValues.Light})},[d]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(t,{type:"left",showTip:u,tipClassName:z.default.tipContainer,content:(0,n.jsx)(W,{setShowTip:c,isDark:d,setIsDark:s,setThemeCookie:q}),children:[l&&(0,n.jsx)(U.e,{text:d?"切换浅色外观":"切换深色外观",isXiguaDomain:l,children:(0,n.jsx)("div",{className:r()(z.default.opContainer,{[z.default.xiguaOpContainer]:l}),onClick:()=>{s(e=>(B.sendLog("changeThemeSetting",{theme:e?T.ThemeValues.Light:T.ThemeValues.Dark,enter_from:(0,I.yW)()}),q(!e),!e))},children:(0,n.jsx)(k.Z,{src:R,width:24.7,height:20.3,viewBox:"0 0 22 19",color:"var(--color-text-t2)"})})}),!l&&(0,n.jsx)("div",{className:r()(z.default.opContainer),onClick:()=>{s(e=>(B.sendLog("changeThemeSetting",{theme:e?T.ThemeValues.Light:T.ThemeValues.Dark,enter_from:(0,I.yW)()}),q(!e),!e))},children:(0,n.jsx)(k.Z,{src:M,width:24.7,height:20.3,viewBox:"0 0 22 19"})})]})})},W=e=>{let{isDark:t,setIsDark:l,setShowTip:o,setThemeCookie:a}=e,d=e=>{B.sendLog("themeSettingGuideConfirm",{theme:e?T.ThemeValues.Dark:T.ThemeValues.Light})};return(0,i.useEffect)(()=>{B.sendLog("themeSettingGuideShow",{theme:t?T.ThemeValues.Dark:T.ThemeValues.Light})},[]),(0,n.jsxs)("div",{className:z.default.container,children:[(0,n.jsx)(k.Z,{className:z.default.close,onClick:()=>{d(t),a(t),o(!1)},src:V,width:9,height:9,viewBox:"0 0 9 9"}),(0,n.jsx)("div",{className:z.default.title,children:"背景切换"}),(0,n.jsx)("div",{className:z.default.description,children:"点击「换肤」按钮切换背景色"}),(0,n.jsxs)("div",{className:z.default.changeTheme,children:[(0,n.jsx)("div",{className:z.default.lightTheme,children:(0,n.jsxs)("div",{className:z.default.lightBox,onClick:()=>{d(!1),l(!1),a(!1),p.emit(p.EVENT.changeTheme,{theme:T.ThemeValues.Light}),setTimeout(()=>{o(!1)},2e3)},children:[(0,n.jsx)(k.Z,{className:z.default.vector,src:A,width:24,height:28,viewBox:"0 0 24 28"}),(0,n.jsx)(k.Z,{className:r()(z.default.check,{[z.default.hidden]:t}),src:P,width:16,height:16,viewBox:"0 0 16 16"})]})}),(0,n.jsx)("div",{className:z.default.darkTheme,children:(0,n.jsxs)("div",{className:z.default.darkBox,onClick:()=>{d(!0),l(!0),a(!0),p.emit(p.EVENT.changeTheme,{theme:T.ThemeValues.Dark}),setTimeout(()=>{o(!1)},2e3)},children:[(0,n.jsx)(k.Z,{className:z.default.vector,src:A,width:24,height:28,viewBox:"0 0 24 28"}),(0,n.jsx)(k.Z,{className:r()(z.default.check,{[z.default.hidden]:!t}),src:P,width:16,height:16,viewBox:"0 0 16 16"})]})})]})]})};var H=l("894729"),$=l("205457"),G=l("673043");let J=(0,i.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,j._)((0,y._)({width:22,height:19,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.724 1.958c-.774-1.314-2.675-1.314-3.448 0L1.025 15.986C.24 17.319 1.202 19 2.748 19h16.504c1.546 0 2.508-1.68 1.723-3.014L12.724 1.958zM11 7a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V8a1 1 0 0 1 1-1zm1 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z",fill:"#fff"})})));var K=l("573713");function Q(e){let{className:t}=e;return(0,n.jsx)("div",{className:r()(t,G.default.opContainer),onClick:()=>{(0,K.e)()},children:(0,n.jsxs)("div",{className:G.default.container,children:[(0,n.jsx)("div",{className:G.default.iconSvg,children:(0,n.jsx)(k.Z,{src:J,width:"22",height:"19",viewBox:"0 0 22 19"})}),(0,n.jsx)("span",{className:G.default.text,children:"举报"})]})})}var Y=l("233772"),X=l("978329");let ee=(0,u.ZP)(()=>l.e("90551").then(l.bind(l,647568)),{ssr:!1});function et(e){let{className:t="",showUpIconScrollY:l,children:a,isXiguaDomain:d,renderFeedBackIconInSSR:u,version:y,nowPathName:j,SlardarInstance:E,extra:L,abTestData:I,wrapStyle:M,splashAdStatus:R=c.QB.Normal,miniFeedBackWidth:T}=e,{isLogin:D}=(0,Y.Pc)(),[A,P]=(0,i.useState)(!1),[V,F]=(0,i.useState)(!1),[B,z]=(0,i.useState)(null),[O,q]=(0,i.useState)(!0),{isFullscreen:W}=(0,v.O)(),G=(0,i.useCallback)(e=>{P(e),p.emit(p.EVENT.isShowUp,e)},[]);(0,i.useEffect)(()=>{var e,t,n;F(!!(null===(n=window)||void 0===n?void 0:null===(t=n.CSS)||void 0===t?void 0:null===(e=t.supports)||void 0===e?void 0:e.call(t,"--testName: 0")));let i=s()(()=>{let{y:e}=(0,g.F)(B||window);e>(l||window.innerHeight)?A||G(!0):A&&G(!1)},300),o=B||document;return o.addEventListener("scroll",i),i(),()=>{o.removeEventListener("scroll",i)}},[l,A,G,V,B]),(0,i.useEffect)(()=>{P(!1)},[j]),(0,i.useEffect)(()=>{let e=p.listen(p.EVENT.globalScrollEl,e=>{if((0,_.dH)(location.pathname)){let e=document.getElementById("search-content-area"),t=(0,X.j)(e);t&&z(t)}else z(e)});return p.emit(p.EVENT.sideBarShow,!0),()=>{null==e||e()}},[]),(0,i.useEffect)(()=>{let e=()=>{innerWidth<=T?q(!1):q(!0)};return T>0&&(e(),window.addEventListener("resize",e)),()=>window.removeEventListener("resize",e)},[T]);let J=f.a.useClientDetect(),K=()=>{var e,t,l,n,i;let o=(0,h.zD)();return!!([m.NavigationMenuItemVal.Recommend,m.NavigationMenuItemVal.Friend].includes(o)&&(null===(e=document)||void 0===e?void 0:e.getElementById("douyin-right-container"))&&(null===(t=document)||void 0===t?void 0:t.querySelector(".xgplayer-playswitch"))||!W&&[m.NavigationMenuItemVal.Follow].includes(o)&&(null===(i=document)||void 0===i?void 0:null===(n=i.getElementsByClassName("recommend-out-switch-btn"))||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.parentElement))||!1},et=(()=>{let e=(0,h.zD)();if(K()){if([m.NavigationMenuItemVal.Follow].includes(e)){var t,l,n;return null===(n=document)||void 0===n?void 0:null===(l=n.getElementsByClassName("recommend-out-switch-btn"))||void 0===l?void 0:null===(t=l[0])||void 0===t?void 0:t.parentElement}return document.getElementById("douyin-right-container")}return document.body})();return et?(0,o.createPortal)((0,n.jsxs)("div",{id:"douyin-sidebar",className:r()(N.default.container,t,{[N.default.xiguaContainer]:d,[N.default.absolute]:K()}),style:M,children:[a,!J&&V&&d&&(0,n.jsx)(Z,{TipComponent:H.C,isXiguaDomain:d}),(0,x.mf)()&&(0,n.jsx)(Q,{className:N.default.zhuantiReport}),R===c.QB.Normal&&O&&(0,n.jsxs)(n.Fragment,{children:[0===I.feedbackOnline&&(0,n.jsx)($.k,{Slardar:E,componentName:"FeedBackDom",children:(0,n.jsx)(S.Z,{isXiguaDomain:d,renderIconInSSR:u,version:y,extra:L})}),1===I.feedbackOnline&&(0,n.jsx)($.k,{Slardar:E,componentName:"FeedBackOnline",children:(0,n.jsx)(ee,{isLogin:D,version:y,abTestData:I})})]}),d&&A&&(0,n.jsx)(U.e,{text:"回到顶部",isXiguaDomain:d,children:(0,n.jsx)("div",{className:r()(N.default.opContainer,{[N.default.xiguaOpContainer]:d}),onClick:()=>{(0,w.d)(null!=B?B:window,0,500)},children:(0,n.jsx)(k.Z,{src:C,width:32,height:32,viewBox:"-7 -7 36 36"})})}),!d&&A&&(0,n.jsx)("div",{className:r()(N.default.opContainer,{[N.default.xiguaOpContainer]:d}),onClick:()=>{(0,w.d)(null!=B?B:window,0,500)},children:(0,n.jsx)(k.Z,{src:b,width:32,height:32})})]}),et):null}var el=et},225825:function(e,t,l){"use strict";l.d(t,{e:function(){return h}});var n=l("520739"),i=l("878389");l("874386"),l("250440");var o=l("563097"),a=l("88648"),r=l("309931"),d=l("774765"),s=l("713097"),u=l.n(s),c=l("674095");let v=(0,a.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,i._)((0,n._)({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,o.jsx)("path",{d:"M0 0a8 8 0 0 0 2.168 5.476l1.174 1.25a2 2 0 0 1 0 2.738l-1.174 1.25A8 8 0 0 0 0 16.19V0z",fill:"#323442"})})));var f=l("473677"),m={left:"top",right:"top",top:"left",bottom:"left"};let h=e=>{let{type:t="left",text:l,offsetArrow:s,offsetContainer:h,className:p,children:g,delay:_=200,isXiguaDomain:x,onMouseEnter:w}=e,[y,j]=(0,a.useState)({width:0,height:0}),[b,C]=(0,a.useState)(t),[N,k]=(0,a.useState)(!1),[S,E]=(0,a.useState)({}),[L,I]=(0,a.useState)(s),M=(0,a.useRef)(null),R=(0,a.useRef)();(0,a.useRef)(null);let{run:T,cancel:D}=(0,d.Z)(k,_),A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=window.innerWidth,o=window.innerHeight;return{left:e<0?e:0,top:t<0?t:0,right:e+l>i?i-e-l:0,bottom:t+n>o?o-t-n:0}},P=(0,a.useCallback)(()=>{if(!M.current)return{};let{x:e,y:l,width:o,height:a}=R.current.getBoundingClientRect(),r=e,d=l,s=(y.width-o)/2,u=(y.height-a)/2;if(["left","right"].includes(t)){switch(t){case"left":r-=y.width+10;break;case"right":r+=o+10}"number"==typeof h?d+=h:d+=-u}else if(["top","bottom"].includes(t)){switch(t){case"top":d-=y.height+10;break;case"bottom":d+=a+10}"number"==typeof h?r+=h:r+=-s}let{top:c,left:v,right:f,bottom:m}=A(r,d,y.width,y.height);return C(t),["left","right"].includes(t)?(c&&(d-=c),m&&(d+=m),v&&!f&&(r+=y.width+20+o,C("right")),f&&!v&&(r-=y.width+20+o,C("left"))):["top","bottom"].includes(t)&&(v&&(I(v),r-=v),f&&(I(f),r+=f),c&&!m&&(d+=y.height+20+a,C("bottom")),m&&!c&&(d-=y.height+20+a,C("top"))),(0,i._)((0,n._)({},S),{left:`${r}px`,top:`${d}px`})},[S,y]),V=(0,a.useCallback)(()=>{let e=a.Children.only(g);return a.cloneElement(e,{onMouseEnter:e=>{D(),T(!0),R.current||(R.current=e.target),E(P()),null==w||w()},onMouseLeave:()=>{T(!1)}})},[y,g]);return(0,a.useEffect)(()=>{let e=e=>{if(!!N)E(P())};return document.addEventListener("scroll",e,!0),()=>{document.removeEventListener("scroll",e,!0)}},[P]),(0,a.useEffect)(()=>{if(!!M.current)j(M.current.getBoundingClientRect())},[N]),(0,a.useEffect)(()=>{R.current&&E(P())},[y]),(0,o.jsxs)(o.Fragment,{children:[N&&r.createPortal((0,o.jsxs)("div",{ref:M,style:(0,n._)({position:"fixed"},S),onMouseEnter:e=>{D()},onMouseLeave:()=>{T(!1)},className:u()(c.default.tooltip,c.default[t],p,{[c.default.xiguaTooltip]:x}),children:[(0,o.jsx)(f.Z,{width:4,height:17,src:v,style:{[m[b]]:L&&`calc(50% - ${L}px)`},className:u()(c.default.icon,c.default[b]),viewBox:"0 0 4 17"}),(0,o.jsx)("span",{className:"",children:l})]}),document.body),V()]})}},540801:function(e,t,l){"use strict";l.d(t,{U:function(){return n},_:function(){return i}});let n=(e,t)=>{var l,n,i,o;let a=(null==e?void 0:null===(l=e.buffered)||void 0===l?void 0:l.length)||0,r=null!==(n=e.removedBuffer)&&void 0!==n?n:0;if(!e||!e.buffered||a<=0)return Math.min(r,t);try{let l=0,{buffered:n}=e||{};for(let e=0;e<(null==n?void 0:n.length);e++)l+=(null==n?void 0:null===(i=n.end)||void 0===i?void 0:i.call(n,e))-(null==n?void 0:null===(o=n.start)||void 0===o?void 0:o.call(n,e));return Math.min(l+r,t)}catch(e){return Math.min(r,t)}},i=e=>{let t=null==e?void 0:e.getBufferedRange();return t&&t[1]?Math.round((t[1]-e.currentTime)*1e3):0}},795454:function(e,t,l){"use strict";l.d(t,{P:function(){return o}});var n=l(352165),i=l(40970);let o=e=>{let t={preloadTime:0,preloadSize:0,startBuffer:0,audioDuration:0,minDuration:0};if(!e)return t;try{var l,o,a,r;let{preLoadData:d,plugins:s}=e||{},{buffer:u=0,startBuffer:c=0}=null==e?void 0:null===(o=e.plugins)||void 0===o?void 0:null===(l=o.xglogger)||void 0===l?void 0:l.levelInfo;if(t.startBuffer=c,(0,i.me)(e)){let{duration:e,byteLength:l,audioDuration:n=0}=d||(null==s?void 0:null===(a=s.mp4encryptplayer)||void 0===a?void 0:a.preLoadData)||{};return t.preloadSize=l,t.preloadTime=e,t.audioDuration=1e3*n,t.minDuration=Math.min(1e3*e,1e3*n)||0,t}if(u>0){let l=u/1e3,i=(null==e?void 0:null===(r=e.curDefinition)||void 0===r?void 0:r.realBitrate)||0,o=(0,n.e)(l*i);t.preloadSize=o,t.preloadTime=l}return t}catch(e){return{preloadSize:0,preloadTime:0,startBuffer:0,audioDuration:0,minDuration:0}}}},725125:function(e,t,l){"use strict";l.d(t,{Jo:function(){return o},he:function(){return n},st:function(){return a},uo:function(){return i}});let n={enabled:!1,opacity:80,fontSize:1,region:0,speed:1},i=["超小","小号","适中","大号","超大"].map((e,t)=>({label:e,value:t})),o=["一行","两行","25%","50%","80%"].map((e,t)=>({label:e,value:t})),a=["较慢","适中","较快"].map((e,t)=>({label:e,value:t}))},176758:function(e,t,l){"use strict";l.d(t,{si:function(){return E},lI:function(){return S},ns:function(){return y}});var n=l("520739"),i=l("878389");l("874386");var o=l("563097"),a=l("88648"),r=l("128231"),d=l.n(r),s=l("504641"),u=l.n(s),c=l("967171"),v=l("134761");l("179133"),l("826893"),l("250440");var f=l("879146"),m=l.n(f);class h{on(e,t){return this.emitter.on(e,t),()=>{this.emitter.off(e,t)}}once(e,t){return this.emitter.once(e,t),()=>{this.emitter.off(e,t)}}emit(e,t){this.emitter.emit(e,t)}constructor(){(0,v._)(this,"emitter",void 0),this.emitter=new(m())}}var p=l("648490"),g=l("333681"),_=l("233772"),x=l("725125");let w=(0,a.createContext)(null),y=()=>(0,a.useContext)(w),j=[5,1,2,3,4],b=[1,5,2,3,4],C={playbackRate:1,definition:"__auto__",autoPlayNext:!1,paidContent:!1,wideScreen:!1,fullScreen:!1,playing:!1,loading:!1,working:!1,volume:50,muted:!1,pip:!1},N={modal:!1,input:"",settings:x.he},{sectionStorage:k}=(0,p.y)("player",{definition:C.definition,definitionLastTime:0,volume:C.volume/100,danmaku:x.he,nextautoplay:"0",miniwin:"0",isMute:0},{playbackratio:1}),S={shown:!1,played:0,total:0,rate:0,sent:0},E=e=>{let{children:t}=e,l=(0,a.useMemo)(()=>new g.k(C),[]),r=(0,a.useMemo)(()=>new g.k(N),[]),s=(0,a.useMemo)(()=>new g.k,[]),v=(0,a.useMemo)(()=>new g.k,[]),f=(0,a.useMemo)(()=>new h,[]),m=(0,a.useRef)((0,n._)({},S)),{isLogin:p}=(0,_.Pc)(),y=(0,a.useMemo)(()=>({danmakuPlayResultRef:m,emitter:f,control:l,userlog:v,channel:s,danmaku:r}),[]);return(0,a.useLayoutEffect)(()=>{p&&k.definitionLastTime+864e5>Date.now()&&l.dispatch("definition",k.definition),l.dispatch("playbackRate",k.playbackratio),l.dispatch("autoPlayNext","1"===String(k.nextautoplay)),l.dispatch("volume",u()(Math.round(100*k.volume),0,100)),l.dispatch("muted",1===k.isMute),l.dispatch("pip","1"===k.miniwin);let e=l.subscribe("playbackRate",e=>{k.playbackratio=e}),t=l.subscribe("autoPlayNext",e=>{k.nextautoplay=e?"1":"0"}),n=l.subscribe("definition",e=>{k.definition="__auto__"!==e?e:void 0,k.definitionLastTime=Date.now()}),i=l.subscribe("volume",e=>{k.volume=u()(e/100,0,1)}),o=l.subscribe("muted",e=>{k.isMute=e?1:0}),a=l.subscribe("pip",e=>{k.miniwin=e?"1":"0"});return()=>{e(),t(),n(),i(),o(),a()}},[]),(0,a.useLayoutEffect)(()=>{if(p){r.dispatch("settings",(0,n._)({},r.getValue("settings"),k.danmaku)),(0,c.Ri)({hardware_concurrency:navigator.hardwareConcurrency}).then(e=>{var t;if(null===(t=e.confList)||void 0===t?void 0:t.length){let[{speed:t,region:l,isOpen:o,opacity:a,fontSize:d}]=e.confList;r.dispatch("settings",(0,i._)((0,n._)({},r.getValue("settings")),{fontSize:j.findIndex(e=>e===d),region:b.findIndex(e=>e===l),enabled:o,speed:t-1,opacity:a}))}});let e=d()(e=>{let{enabled:t,region:l,speed:n,opacity:i,fontSize:o}=e;(0,c.RB)({isOpen:t,opacity:i,speed:n+1,region:b[l],fontSize:j[o]})},500);return r.subscribe("settings",t=>e(k.danmaku=t))}r.dispatch("settings",(0,i._)((0,n._)({},x.he),{enabled:!0}))},[p]),(0,o.jsx)(w.Provider,{value:y,children:t})}},648490:function(e,t,l){"use strict";l.d(t,{y:function(){return a}});var n=l(520739);l(209955),l(874386),l(779788);var i=l(688269),o=l.n(i);let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,n._)({},t,l),r=e=>{if(e in t)return window.localStorage;if(e in l)return window.sessionStorage;throw Error("never")},d=Object.create((0,n._)({},i));for(let[t,l]of Object.entries(i)){let n=`${o()(e)}_${o()(t)}`;Object.defineProperty(d,t,{enumerable:!0,get(){try{let e=r(t).getItem(n);if(e){let t=JSON.parse(e);if(typeof t==typeof l)return t}return l}catch(e){return l}},set(e){if(void 0===e)return r(t).removeItem(n);r(t).setItem(n,JSON.stringify(e))}})}return{sectionStorage:d,getSubsection:(t,l,n)=>a(`${e}_${t}`,l,n)}}},233772:function(e,t,l){"use strict";l.d(t,{Pc:function(){return u},hg:function(){return s},yw:function(){return d}}),l(675373);var n=l(553173),i=l(658065),o=l(176758),a=l(402971),r=l(358003);let d=0,s=0,u=()=>{let{userInfo:e,dispatch:t}=(0,a.useUserInfoContext)(),l=(0,o.ns)();return{dispatch:t,userInfo:e,isLogin:e.isLogin,requestLogin:(e,n)=>(d=1,new Promise(i=>{null==l||l.channel.dispatch("popover",{}),(0,r.default)({headerText:e,enterMethod:n,success(){null==t||t({type:"updateUserInfo"}),i(!0)},onClose(){d=0,i(!1)}})})),reportDanmaku:o=>(null==l||l.channel.dispatch("popover",{}),s=1,new Promise(l=>{var a,r;(0,n.m)({title:"举报弹幕",type:"danmaku",object_id:o,owner_id:(null==e?void 0:null===(a=e.info)||void 0===a?void 0:a.uid)||"",owner_sec_id:(null==e?void 0:null===(r=e.info)||void 0===r?void 0:r.secUid)||"",onClose:()=>{s=0,l()},logParams:{enter_method:"list"},loginDispatch:t,userInfo:null==e?void 0:e.info,pipeline_id:"",enter_from:(0,i.yW)(),isOrigin:!0},document.fullscreenElement||document.body)}))}}},895623:function(e,t,l){"use strict";l.d(t,{V:function(){return d},a:function(){return s}});var n=l(520739);l(675373),l(413806),l(826893);var i=l(496349),o=l(231755),a=l(543781);let{COMMON_SEARCH_PARAMS:r}=i||{};async function d(e,t){var l,i;let d=await (0,o.U2)("/aweme/v1/web/ab/params/",(0,n._)({},r,e),{},void 0,t,{psm:"aweme.api.pc_web",cluster:"default"});if((null==d?void 0:d.status_code)===0&&(null==d?void 0:null===(i=d.data)||void 0===i?void 0:null===(l=i.info)||void 0===l?void 0:l.parameters))try{let e=JSON.parse(d.data.info.parameters);return(0,a.nh)(e||{})}catch(e){}return{}}async function s(e,t){var l,i,a;let d=await (0,o.U2)("/aweme/v1/web/ab/params/",(0,n._)({},r,e),{},void 0,t,{psm:"aweme.api.pc_web",cluster:"default"});return(null==d?void 0:d.status_code)===0&&(null==d?void 0:null===(i=d.data)||void 0===i?void 0:null===(l=i.info)||void 0===l?void 0:l.version_name)?null===(a=d.data.info.version_name)||void 0===a?void 0:a.split(","):[]}},967171:function(e,t,l){"use strict";l.d(t,{FW:function(){return b},JV:function(){return y},N6:function(){return w},RB:function(){return x},Ri:function(){return _},YO:function(){return C},ob:function(){return j}});var n=l(520739),i=l(878389);l(779788),l(675373);var o=l(496349),a=l(349135),r=l(231755),d=l(871212),s=l(32167),u=l(658065);let{COMMON_SEARCH_PARAMS:c}=o||{};function v(e){let{conf_list:t,status_code:l,log_pb:n}=e;return{statusCode:l,confList:null==t?void 0:t.map(e=>{let{speed:t,region:l,switch:n,conf_end_type:i,opacity:o,font_size:a,from_default:r}=e||{};return{speed:t-1,region:l,isOpen:n,confEndType:i,opacity:o,fontSize:a,fromDefault:r}}),logPb:n&&JSON.stringify(n)}}function f(e){let{danmaku_list:t,status_code:l,log_pb:n,total:i,http_code:o}=e;return{statusCode:l,danmakuList:null==t?void 0:t.map(e=>({text:e.text,status:e.status,danmakuId:e.danmaku_id,itemId:e.item_id,userId:e.user_id,offsetTime:e.offset_time,diggType:e.digg_type,score:null==e?void 0:e.score})),total:i,logPb:n&&JSON.stringify(n),httpCode:o}}function m(e){let{danmaku_list:t,status_code:l,log_pb:n,total:i,has_more:o}=e;return{statusCode:l,danmakuList:null==t?void 0:t.map(e=>({text:e.text,status:e.status,danmakuId:e.danmaku_id,itemId:e.item_id,userId:e.user_id,offsetTime:e.offset_time,diggType:e.digg_type})),hasMore:o,logPb:n&&JSON.stringify(n)}}function h(e){let{danmaku_id:t,status_code:l,log_pb:n,isVerifyPassportError:i}=e;return{statusCode:l,danmakuId:t,logPb:n&&JSON.stringify(n),isVerifyPassportError:i}}function p(e){let{status_code:t,log_pb:l}=e;return{statusCode:null!=t?t:-1,logPb:l&&JSON.stringify(l)}}function g(e){let{status_code:t,log_pb:l}=e;return{statusCode:null!=t?t:-1,logPb:l&&JSON.stringify(l)}}async function _(e){let{ctx:t,hardware_concurrency:l}=e,o=await (0,r.U2)("/aweme/v1/web/danmaku/conf/get/",(0,i._)((0,n._)({},c),{conf_end_type:4,hardware_concurrency:l}),t?{timeout:1e3}:{},void 0,t);return(0,a.RL)(o,v)}async function x(e){let{opacity:t,fontSize:l,speed:o,region:a,isOpen:d}=e,s=await (0,r.v_)("/aweme/v1/web/danmaku/conf/set/",(0,n._)((0,i._)((0,n._)({},c),{conf_end_type:4,opacity:t,font_size:l,speed:o+1,region:a}),null!=d?{switch:d}:{}));return{statusCode:null==s?void 0:s.status_code}}async function w(e){let{awemeId:t="",startTime:l=0,endTime:o=0,authenticationToken:s="",duration:u=0,hasTotal:v,total:m}=e||{},h=await (0,r.U2)("/aweme/v1/web/danmaku/get_v2/",(0,i._)((0,n._)({},c),{app_name:d.APPNAME,format:"json",group_id:t,item_id:t,start_time:l,end_time:o,authentication_token:s,duration:u,has_total:v,total:m}));return(0,a.RL)(h,f)}async function y(e){let{awemeId:t="",offset:l=0,count:o=0}=e,s=await (0,r.U2)("/aweme/v1/web/danmaku/list/",(0,i._)((0,n._)({},c),{app_name:d.APPNAME,format:"json",group_id:t,item_id:t,offset:l,count:o}));return(0,a.RL)(s,m)}async function j(e){let{danmakuId:t="",awemeId:l="",type:o=0}=e,d=await (0,r.U2)("/aweme/v1/web/danmaku/digg/",(0,i._)((0,n._)({},c),{danmaku_id:t,aweme_id:l,action_type:o,enter_from:(0,s.vM)(),previous_page:(0,u.yW)()}));return(0,a.RL)(d,p)}async function b(e){let{item_id:t="",offset_time:l=0,text:o="",user_id:d=""}=e,v=await (0,r.v_)("/aweme/v1/web/danmaku/post_v2/",(0,i._)((0,n._)({},c),{item_id:t,offset_time:l,text:o,user_id:d,enter_from:(0,s.vM)(),previous_page:(0,u.yW)()}));return(0,a.RL)(v,h)}async function C(e){let{userType:t,danmakuId:l=""}=e,o=await (0,r.v_)("/aweme/v1/web/danmaku/delete_v2/",(0,i._)((0,n._)({},c),{app_name:d.APPNAME,format:"json",user_type:t,danmaku_id:l}));return(0,a.RL)(o,g)}},47914:function(e,t,l){"use strict";var n=l(520739),i=l(878389),o=l(563097),a=l(88648);let r=(0,a.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,i._)((0,n._)({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,o.jsx)("path",{d:"M0 0a8 8 0 0 0 2.168 5.476l1.174 1.25a2 2 0 0 1 0 2.738l-1.174 1.25A8 8 0 0 0 0 16.19V0z",fill:"#323442"})})));t.Z=r},661540:function(e,t,l){"use strict";var n=l(520739),i=l(878389),o=l(563097),a=l(88648);let r=(0,a.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,i._)((0,n._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,o.jsx)("path",{d:"M16.292 9.364a1.929 1.929 0 1 0-2.727 2.727l5.637 5.637-5.637 5.637a1.928 1.928 0 1 0 2.727 2.727l6.985-6.985.016-.015a1.929 1.929 0 0 0 0-2.728l-7-7z",fill:"#0A0C20"})})));t.Z=r},774765:function(e,t,l){"use strict";var n=l(88648),i=l(784492);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);if("Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l)return Array.from(e);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,n=Array(t);l<t;l++)n[l]=e[l];return n}t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.immediately,d=void 0!==r&&r,s=a.trailing,u=void 0===s||s,c=a.leading,v=void 0!==c&&c,f=(0,n.useRef)(),m=(0,n.useRef)(!1),h=(0,n.useRef)(!1),p=(0,n.useRef)(e);p.current=e;var g=(0,n.useRef)([]),_=(0,n.useCallback)(function(){f.current&&clearTimeout(f.current)},[]),x=(0,n.useCallback)(function(){for(var e,l=arguments.length,n=Array(l),i=0;i<l;i++)n[i]=arguments[i];if(g.current=n,d&&!m.current){p.current.apply(p,o(g.current)),m.current=!0;return}_(),v&&!1==h.current&&(p.current.apply(p,o(g.current)),h.current=!0),f.current=(e=u,window.setTimeout(function(){e&&p.current.apply(p,o(g.current)),h.current=!1},t))},[t,_]);return(0,i.Z)(function(){return x(),_},[].concat(o(l),[x])),(0,n.useEffect)(function(){return _},[]),{run:x,cancel:_}}},973954:function(e){e.exports=function(e,t,l){return e==e&&(void 0!==l&&(e=e<=l?e:l),void 0!==t&&(e=e>=t?e:t)),e}},504641:function(e,t,l){var n=l(973954),i=l(993893);e.exports=function(e,t,l){return void 0===l&&(l=t,t=void 0),void 0!==l&&(l=(l=i(l))==l?l:0),void 0!==t&&(t=(t=i(t))==t?t:0),n(i(e),t,l)}}}]);