(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["49756"],{129150:function(e,t,r){"use strict";r.d(t,{$u:function(){return n},DK:function(){return y},GB:function(){return i},Hv:function(){return v},IM:function(){return h},Lo:function(){return u},XJ:function(){return s},_3:function(){return b},_t:function(){return E},dF:function(){return m},de:function(){return g},dx:function(){return c},eD:function(){return _},eY:function(){return l},pt:function(){return p},ql:function(){return f},rS:function(){return o},tQ:function(){return d},vW:function(){return a}});var n={FollowRelationUnknown:-1,"-1":"FollowRelationUnknown",NoRelationStatus:0,0:"NoRelationStatus",FollowingStatus:1,1:"FollowingStatus",FollowEachOtherStatus:2,2:"FollowEachOtherStatus",FollowRequestStatus:4,4:"FollowRequestStatus"},a={Created:0,0:"Created",Preparing:1,1:"Preparing",Inflight:2,2:"Inflight",Succeeded:3,3:"Succeeded",Received:4,4:"Received",Failed:-1,"-1":"Failed",Rejected:-2,"-2":"Rejected",SelfVisible:-3,"-3":"SelfVisible"},o={light:"light",dark:"dark"},i={MEMBER:0,0:"MEMBER",OWNER:1,1:"OWNER",ADMIN:2,2:"ADMIN"},c={SCENE_TYPE_DEFAULT:0,0:"SCENE_TYPE_DEFAULT",SCENE_TYPE_REPLY_OTHER:1,1:"SCENE_TYPE_REPLY_OTHER",SCENE_TYPE_REPLY_SELF:2,2:"SCENE_TYPE_REPLY_SELF",SCENE_TYPE_AWEME_MENTION:3,3:"SCENE_TYPE_AWEME_MENTION",SCENE_TYPE_COMMENT_MENTION:4,4:"SCENE_TYPE_COMMENT_MENTION",SCENE_TYPE_SHARE:5,5:"SCENE_TYPE_SHARE",SCENE_TYPE_REPLY_INPUT:6,6:"SCENE_TYPE_REPLY_INPUT",SCENE_TYPE_NOTICE_REPLY_DIGG:7,7:"SCENE_TYPE_NOTICE_REPLY_DIGG",SCENE_TYPE_NOTICE_REPLY_COMMENT:8,8:"SCENE_TYPE_NOTICE_REPLY_COMMENT",SCENE_TYPE_NOTICE_REPLY_ATME:9,9:"SCENE_TYPE_NOTICE_REPLY_ATME"},s={AVAILABLE:0,0:"AVAILABLE",NOT_EXTST:1,1:"NOT_EXTST",INVISIBLE:2,2:"INVISIBLE",RECALLED:3,3:"RECALLED",DELETED:4,4:"DELETED"},u={AUDIT_NOT_PASS:1,1:"AUDIT_NOT_PASS",AUDIT_ONLY_SELF:2,2:"AUDIT_ONLY_SELF",REVIEWING:3,3:"REVIEWING",ONLY_FRIEND:4,4:"ONLY_FRIEND",ONLY_SELF:5,5:"ONLY_SELF",AUTHOR_SECRET:6,6:"AUTHOR_SECRET",DELETE:7,7:"DELETE",UNKNOWN:8,8:"UNKNOWN",STORY:9,9:"STORY",PART_SEE:10,10:"PART_SEE"},l={CHAT_NOTIFY:"chat_notif",CHAT_PANEL:"chat_panel",PUSH:"push",CLIENT_PUSH:"client_push"},_={GROUP:"group",PRIVATE:"private"},f={SYSTEM:"system",RECOMMAND:"recommend",INTERACTION:"interaction",FAVORITE:"favorite"},m={CHAT:"chat",CHAT_HEAD:"chat_head",CHAT_LIST:"chat_list"},p={CHAT:"chat"},h={ISME:"1",NOISME:"0"},d={REGULAR:0,0:"REGULAR",STRANGER:1,1:"STRANGER"},v={REGULAR:0,0:"REGULAR",REGULAR_USER:1,1:"REGULAR_USER",REGULAR_GROUP:2,2:"REGULAR_GROUP",REGULAR_SELF:3,3:"REGULAR_SELF",STARNGER_ITEM:4,4:"STARNGER_ITEM",STRANGER_BOX:5,5:"STRANGER_BOX",REGULAR_DAREN_USER:6,6:"REGULAR_DAREN_USER"},y={INIT_VALUE:0,0:"INIT_VALUE",DELETE_CONVERSATION:1,1:"DELETE_CONVERSATION",STICK_ON_TOP:2,2:"STICK_ON_TOP",REPORT:3,3:"REPORT",SET_MUTED:4,4:"SET_MUTED",BLOCK_USER:5,5:"BLOCK_USER",QUIT_GROUP:6,6:"QUIT_GROUP",ENABLE_PIGEON_SYNC:7,7:"ENABLE_PIGEON_SYNC",DISSOLVE_GROUP:8,8:"DISSOLVE_GROUP"},g={TEXT:1,1:"TEXT",PIC:2,2:"PIC",BIG_EMOJI:3,3:"BIG_EMOJI",VIDEO:4,4:"VIDEO"},b={LOGIN:0,0:"LOGIN",IM:1,1:"IM"},E={USE_VIDEO_INFO:0,0:"USE_VIDEO_INFO",USE_VIDEO_INFO_ISLOADING:1,1:"USE_VIDEO_INFO_ISLOADING",USE_VIDEO_INFO_NOT_ALLOW_LOOK:2,2:"USE_VIDEO_INFO_NOT_ALLOW_LOOK",USE_VIDEO_INFO_DEL_STATUS:3,3:"USE_VIDEO_INFO_DEL_STATUS",USE_VIDEO_MODAL_MAIN_URL:4,4:"USE_VIDEO_MODAL_MAIN_URL"}},958829:function(e,t,r){"use strict";r.d(t,{Q:function(){return s},i:function(){return c}});var n=r(520739),a=r(878389),o=r(16583);let i=(0,a._)((0,n._)({},o.xM),{chat_notif_show:{eventName:"chat_notif_show",params:{}},uc_login_notify:{eventName:"uc_login_notify",params:{}},uc_login_submit:{eventName:"uc_login_submit",params:{}},uc_login_result:{eventName:"uc_login_result",params:{}},chat_cell_show:{eventName:"chat_cell_show",params:{}},chat_cell_click:{eventName:"chat_cell_click",params:{}},enter_chat:{eventName:"enter_chat",params:{}},click_enter_chat_page:{eventName:"click_enter_chat_page",params:{}},chat_setting_show:{eventName:"chat_setting_show",params:{}},chat_setting_click:{eventName:"chat_setting_click",params:{}},chat_block_popup_show:{eventName:"chat_block_popup_show",params:{}},chat_block_popup_click:{eventName:"chat_block_popup_click",params:{}},send_message:{eventName:"send_message",params:{}},send_message_response:{eventName:"send_message_response",params:{}},follow:{eventName:"follow",params:{}},follow_cancel:{eventName:"follow_cancel",params:{}},emoji_tab_show:{eventName:"emoji_tab_show",params:{}},at_panel_show:{eventName:"at_panel_show",params:{}},send_at_message:{eventName:"send_at_message",params:{}},send_at_message_response:{eventName:"send_at_message_response",params:{}},message_function_show:{eventName:"message_function_show",params:{}},pc_im_story_image_load:{eventName:"pc_im_story_image_load",params:{loadDuration:0}},im_sdk_init_time:{eventName:"im_sdk_init_time",params:{}},message_function_click:{eventName:"message_function_click",params:{}},like_message:{eventName:"like_message",params:{}},forward_message:{eventName:"forward_message",params:{}},quote_message:{eventName:"quote_message",params:{}},recall_message:{eventName:"recall_message",params:{}},delete_message:{eventName:"delete_message",params:{}},unsupported_message_show:{eventName:"unsupported_message_show",params:{}},video_cover_show:{eventName:"video_cover_show",params:{}},video_cover_click:{eventName:"video_cover_click",params:{}},click_comment_button:{eventName:"click_comment_button",params:{}},share_menu_show:{eventName:"share_menu_show",params:{}},share_video_click_head:{eventName:"share_video_click_head",params:{}},share_video_click_more_friend:{eventName:"share_video_click_more_friend",params:{}},share_video:{eventName:"share_video",params:{}},share_user:{eventName:"share_user",params:{}},share_comment:{eventName:"share_comment",params:{}},share_search:{eventName:"share_search",params:{enter_from:"others_homepage"}},click_send_message:{eventName:"click_send_message",params:{}},im_push_show:{eventName:"im_push_show",params:{}},im_push_click:{eventName:"im_push_click",params:{}},im_push_close:{eventName:"im_push_close",params:{}},new_im_show:{eventName:"new_im_show",params:{}},share_video_click_more_group:{eventName:"share_video_click_more_group",params:{}},unknown_notif_show:{eventName:"unknown_notif_show",params:{}},unknown_notif_click:{eventName:"unknown_notif_click",params:{}},unknown_notif_hover:{eventName:"unknown_notif_hover",params:{}},unknown_notif_delete:{eventName:"unknown_notif_delete",params:{}},unknown_cell_show:{eventName:"unknown_cell_show",params:{}},chat_cell_click_all:{eventName:"chat_cell_click_all",params:{}},click_author_head:{eventName:"click_author_head",params:{click_from:"im",is_full_webscreen:"0",clarity:""}},click_fold_im:{eventName:"click_fold_im",params:{}},click_exit_chat:{eventName:"click_exit_chat",params:{}},imsdk_debug_read_index_greater:{eventName:"imsdk_debug_read_index_greater",params:{}},pc_im_upload_btn_click:{eventName:"pc_im_upload_btn_click",params:{confirmStatus:"1",isGroup:"0"}},im_customer_group_notify:{eventName:"im_customer_group_notify",params:{}},im_customer_notify:{eventName:"im_customer_notify",params:{}},im_customer_click:{eventName:"im_customer_click",params:{action:"1"}},livesdk_share_success:{eventName:"livesdk_share_success",params:{share_from:"",share_type:"message",user_id:"",anchor_id:"",room_id:"",enter_from_merge:"",enter_method:"",action_type:"",request_id:""}},send_link:{eventName:"send_link",params:{enter_from:"",chat_type:"private",conversation_id:"",to_user_id:"",link_type:""}},soraka_sli_report:{eventName:"soraka_sli_report",params:{}},pc_im_show:{eventName:"pc_im_show",params:{status:"",is_show_chat_room:!1,is_fold_chat_list:!1,unread_count:0}},pc_im_chat_detail_show:{eventName:"pc_im_chat_detail_show",params:{conversation_id:"",conversation_short_id:"",chat_type:"private"}},pc_im_click:{eventName:"pc_im_click",params:{click_type:"",module_type:""}},pc_im_conversation_detail_stay_time:{eventName:"pc_im_conversation_detail_stay_time",params:{duration:-1,chat_type:"private"}},pc_im_message_show:{eventName:"pc_im_message_show",params:{message_type:"",message_id:"",chat_type:"private",aweme_type:"",card_type:"",card_key:"",to_user_id:"",from_user_id:""}},pc_im_message_click:{eventName:"pc_im_message_click",params:{message_id:"",message_type:"",chat_type:"private",aweme_type:"",card_type:"",card_key:"",to_user_id:"",from_user_id:"",click_type:"click"}},pc_im_message_click_download:{eventName:"pc_im_message_click_download",params:{message_id:"",message_type:"",chat_type:"private",aweme_type:"",card_type:"",card_key:"",to_user_id:"",from_user_id:"",click_type:"click"}},pc_interaction_click:{eventName:"pc_interaction_click",params:{message_id:"",message_type:"",chat_type:"private",aweme_type:"",card_type:"",card_key:"",click_type:""}},pc_im_conversation_list_fps:{eventName:"pc_im_conversation_list_fps",params:{fps:-1,drop_fps:-1}},pc_im_message_list_fps:{eventName:"pc_im_message_list_fps",params:{fps:-1,drop_fps:-1}},pc_im_notice_list_fps:{eventName:"pc_im_notice_list_fps",params:{fps:-1,drop_fps:-1}},pc_im_window_show_perf:{eventName:"pc_im_window_show_perf",params:{duration_fmp:"",duration_fcp:""}},pc_im_conversation_detail_perf:{eventName:"pc_im_conversation_detail_perf",params:{duration_fmp:"",duration_fcp:""}},pc_im_message_perf:{eventName:"pc_im_message_perf",params:{duration_fmp:""}},pc_im_location_click:{eventName:"pc_im_location_click",params:{conversation_id:"",message_id:"",showImNewMeessage:""}},pc_im_voice_to_text_click:{eventName:"pc_im_voice_to_text_click",params:{isCancel:""}},im_image_zoom:{eventName:"im_image_zoom",params:{}},pc_share_fps:{eventName:"pc_share_fps",params:{fps:-1,drop_fps:-1}},pc_share_render:{eventName:"pc_share_render",params:{duration:-1,listNum:-1}},pc_share_search:{eventName:"pc_share_search",params:{searchNum:-1}},pc_share_stay_time:{eventName:"pc_share_stay_time",params:{duration:-1}},pc_im_entry_show:{eventName:"pc_im_entry_show",params:{duration:-2,ready_type:""}},im_login_notify:{eventName:"im_login_notify",params:{}},pc_im_stay_time:{eventName:"pc_im_stay_time",params:{duration:-1,close_type:"hover"}},chat_notif_hover:{eventName:"chat_notif_hover",params:{}},chat_detach_btn_show:{eventName:"chat_detach_btn_show",params:{}},chat_detach_btn_click:{eventName:"chat_detach_btn_click",params:{}},open_im_new_page:{eventName:"open_im_new_page",params:{}}});o.iL._initLog(i);let c=o.iL;var s={chat_page:"chat_page",chat_panel:"chat_panel",share_board:"share_board",share_message:"share_message",chat_notif:"chat_notif",push:"push",client_push:"client_push",hover_icon:"hover_icon",im_private:"im_private",recommend_side_card:"recommend_side_card"}},16583:function(e,t,r){"use strict";r.d(t,{OZ:function(){return m},Os:function(){return f},iL:function(){return l},xM:function(){return u},yW:function(){return _}});var n,a,o=r(520739);r(338172),r(250440);var i=r(544933),c=r(658065),s=r(32167);let u={pc_im_entry_show:{eventName:"pc_im_entry_show",params:{duration:-2,ready_type:""}},im_login_notify:{eventName:"im_login_notify",params:{}},pc_im_stay_time:{eventName:"pc_im_stay_time",params:{duration:-1,close_type:"hover"}},chat_notif_hover:{eventName:"chat_notif_hover",params:{}},pc_im_click:{eventName:"pc_im_click",params:{click_type:"",module_type:""}},other_share:{eventName:"other_share",params:{}},chat_vmok_perf:{eventName:"chat_vmok_perf",params:{duration_vmok_load:-1}},chat_entry_perf:{eventName:"chat_entry_perf",params:{duration_im_before_load:-1}}},l=new i.h(u),_=()=>(0,c.yW)(),f=()=>(0,s.vM)();let m=(null===(n=self.location.hostname)||void 0===n?void 0:n.startsWith("live.douyin.com"))?"live":(null===(a=self.location.pathname)||void 0===a?void 0:a.includes("/search/"))?"search":"douyin";t.ZP=(e,t)=>{try{l.sendLog(e,(0,o._)({page_host:m,enter_from:_(),previous_page:f()},t||{}))}catch(e){}}},677350:function(e,t,r){"use strict";r.d(t,{ZP:function(){return Q}});var n,a,o=r("88648"),i=r("784492"),c=r("948375"),s=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),this.value=void 0,this.type="memory",this.changeType=function(e){t.type=e},this.getValue=function(e){switch(t.type){case"memory":default:return t.value.get(e);case"localStorage":return JSON.parse(localStorage.getItem(e)||"{}")}},this.setValue=function(e,r){switch(t.type){case"memory":default:t.value.set(e,r);break;case"localStorage":localStorage.setItem(e,JSON.stringify(r))}},this.removeItem=function(e){switch(t.type){case"memory":default:t.value.delete(e);break;case"localStorage":localStorage.removeItem(e)}},this.value=new Map},u=function(e,t,r){var n=s.getValue(e);null!=n&&n.timer&&clearTimeout(n.timer);var a=void 0;t>-1&&(a=setTimeout(function(){s.removeItem(e)},t));var o={data:r,timer:a,startTime:new Date().getTime()};s.setValue(e,o)},l=function(e){var t=s.getValue(e);return{data:null==t?void 0:t.data,startTime:null==t?void 0:t.startTime}},_=function(e){s.changeType(e)},f=r("829743"),m=r.n(f),p=r("298478"),h=r.n(p);function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r("819117");function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var E=function(){var e,t,r;function n(e,t,r,a){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.options=void 0,this.requestFn=void 0,this.debounceFn=void 0,this.throttleFn=void 0,this.pollingTimer=void 0,this.count=0,this.unmountedFlag=!1,this.that=this,this.onChangeState=void 0,this.state={loading:!1,run:this.run.bind(this.that),data:void 0,error:void 0,isPolling:!1,cancel:this.cancel.bind(this.that),refresh:this.refresh.bind(this.that),refreshOptions:this.refreshOptions.bind(this.that),changeData:this.changeData.bind(this.that),unmount:this.unmount.bind(this.that),params:[]};var o=t.debounceInterval,i=t.throttleInterval,c=t.initData;this.requestFn=e,this.options=t,this.onChangeState=r,this.state.data=c,a&&(this.state=g(g({},this.state),a)),this.pollingTimer=void 0,this.debounceFn=o?m()(this._run.bind(this.that),o):void 0,this.throttleFn=i?h()(this._run.bind(this.that),i):void 0}return e=n,t=[{key:"setState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state=g(g({},this.state),e),this.onChangeState&&this.onChangeState(this.state)}},{key:"cancelPolling",value:function(){void 0!==this.pollingTimer&&(window.clearTimeout(this.pollingTimer),this.pollingTimer=void 0)}},{key:"dontPolling",value:function(){this.setState({isPolling:!1})}},{key:"_run",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];this.cancelPolling(),this.count+=1;var a=this.count;return this.setState({loading:!0,params:r,isPolling:!!this.options.pollingInterval}),this.requestFn.apply(this,r).then(function(t){if(!e.unmountedFlag&&a===e.count){var n=e.options.formatResult?e.options.formatResult(t):t;return e.setState({loading:!1,error:void 0,data:n}),e.options.onSuccess&&e.options.onSuccess(n,r,e.dontPolling.bind(e.that)),n}}).catch(function(t){if(!e.unmountedFlag&&a===e.count){if(e.setState({data:void 0,error:t,loading:!1}),e.options.onError&&e.options.onError(t,r,e.dontPolling.bind(e.that)),e.options.throwOnError)throw t;return t}}).finally(function(){if(!e.unmountedFlag&&a===e.count)e.options.pollingInterval&&e.state.isPolling&&(e.pollingTimer=window.setTimeout(function(){e._run.apply(e,r)},e.options.pollingInterval))})}},{key:"run",value:function(){var e=this.debounceFn,t=this.throttleFn;return(this.unmountedFlag=!1,e)?(e.apply(void 0,arguments),Promise.resolve(null)):t?(t.apply(void 0,arguments),Promise.resolve(null)):this._run.apply(this,arguments)}},{key:"cancel",value:function(){var e=this.debounceFn,t=this.throttleFn,r=this.pollingTimer;e&&e.cancel(),t&&t.cancel(),void 0!==r&&this.cancelPolling(),this.count+=1,this.setState({loading:!1,isPolling:!1})}},{key:"unmount",value:function(){this.unmountedFlag=!0,this.cancel()}},{key:"refresh",value:function(){return this.unmountedFlag=!1,this.run.apply(this,d(this.state.params))}},{key:"refreshOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=g(g({},this.options),e),this.run.apply(this,d(this.state.params))}},{key:"changeData",value:function(e){"function"==typeof e?this.setState({data:e(this.state.data)||{}}):this.setState({data:e})}}],b(e.prototype,t),n}();function O(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||N(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I="_BYTED_HOOKS_DEFAULT_KEY_",j=function(e){var t,r,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.staleTime,f=void 0===s?3e5:s,m=a.auto,p=void 0!==m&&m,h=a.defaultParams,d=void 0===h?[]:h,v=a.refreshDeps,y=a.initData,g=a.ready,b=void 0===g||g,S=a.cacheKey,w=a.cacheStoreType,j=void 0===w?"memory":w,k=a.cacheTime,R=void 0===k?3e5:k,A=a.loadingCheck,D=a.errorCheck,C=a.formatResult,L=a.requestKey,M=a.onError,U=a.onSuccess,F=(0,c.Z)(e),Y=(0,c.Z)(U),G=(0,c.Z)(M),x=C?(0,c.Z)(C):void 0,V=(0,c.Z)(L),q=(0,o.useCallback)(function(e,t){$(function(r){return T(T({},r),{},P({},e,t))})},[]),H=(0,o.useRef)(S);H.current=S;var K=(0,o.useRef)(b);K.current=b;var W=(0,o.useRef)(I),z=function(){if(H.current){var e=l(H.current)||{},t=e.data,r=e.startTime,n=-1===f||new Date().getTime()-(void 0===r?0:r)<=f;if(t&&n){W.current=t.currentRequestKey;var o={};return Object.keys(t.requests).forEach(function(e){var r=t.requests[e],n=new E(F,T(T({},a),{},{onSuccess:Y,onError:G,formatResult:x}),q.bind(null,e),{loading:r.loading,params:r.params,data:r.data,error:r.error});o[e]=n.state}),o}}return{}};var B=(r=2,function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(function(){return"memory"!==j&&_(j),z()}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&null!=c.return&&c.return()}finally{if(a)throw o}}return r}}(t,2)||N(t,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Z=B[0],$=B[1],X=(0,o.useRef)(Z);X.current=Z;var J=(0,o.useRef)(),Q=(0,o.useCallback)(function(){for(var e,t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];if(!b){J.current=n;return}if(L){var i=V.apply(void 0,n);W.current=i,t=X.current[i]}else t=X.current[W.current];if(!t){var c=new E(F,T(T({},a),{},{onSuccess:Y,onError:G,formatResult:x}),q.bind(null,W.current)).state;return $(function(e){return T(T({},e),{},P({},W.current,c))}),c.run.apply(c,n)}return(e=t).run.apply(e,n)},[L,b]);(0,i.Z)(function(){H.current&&u(H.current,R,{requests:Z,currentRequestKey:W.current})},[Z]);var ee=(0,o.useCallback)(function(){Object.values(X.current).forEach(function(e){e.unmount()}),W.current=I,$({}),X.current={}},[$]),et=(0,o.useRef)(!1);(0,i.Z)(function(){b&&(!et.current&&J.current&&Q.apply(void 0,O(J.current)),et.current=!0)},[b]),(0,o.useEffect)(function(){return"memory"!==j&&_(j),b&&p&&(Object.keys(z()).length>0?Object.values(Z).forEach(function(e){e.refresh()}):Q.apply(void 0,O(d))),function(){Object.values(X.current).forEach(function(e){e.unmount()})}},[b]),(0,i.Z)(function(){if(K.current&&p){var e=z();0===Object.keys(e).length?Object.values(Z).forEach(function(e){e.refresh()}):$(e)}},O(void 0===v?[]:v));var er=[a.debounceInterval,a.throttleInterval,a.pollingInterval];if((0,i.Z)(function(){Object.values(Z).forEach(function(e){e.refreshOptions({debounceInterval:a.debounceInterval,throttleInterval:a.throttleInterval,pollingInterval:a.pollingInterval})})},[].concat(er)),n=Z[W.current]?T(T({},Z[W.current]),{},{run:Q,reset:ee,requests:Z}):{loading:p&&b,isPolling:!1,data:y,error:void 0,params:[],cancel:function(){},unmount:function(){},reset:function(){},refresh:function(){},refreshOptions:function(){},changeData:function(){},run:Q,requests:Z},"undefined"!=typeof Proxy){var en=!(void 0!==A&&A),ea=!(void 0!==D&&D);return new Proxy(n,{get:function(e,t,r){return"data"===t||"loading"===t,e[t]}})}return n};function k(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){(function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&null!=c.return&&c.return()}finally{if(a)throw o}}return r}}(e,t)||C(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ready,n=void 0===r||r,a=t.resetDeps,c=t.refreshDeps,s=t.itemKey,u=t.initPageSize,l=void 0===u?10:u,_=t.ref,f=t.threshold,m=void 0===f?100:f,p=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}(t,["ready","resetDeps","refreshDeps","itemKey","initPageSize","ref","threshold"]),h=t.hasMoreHanlder,d=t.isNoMore,v=t.hasMoreHandler,y=t.noMoreHandler;y=y||v||h||d;var g=t.incrementSize||l,b=D((0,o.useState)(!1),2),E=b[0],O=b[1],N=D((0,o.useState)(1),2),S=N[0],w=N[1],T=(0,o.useRef)(0),P=(0,o.useRef)(new Date().getTime()),I={data:{list:[]},current:1,pageSize:l,offset:0,startTime:P.current},R="boolean"!=typeof p.auto||p.auto,C=D((0,o.useState)(),2),L=C[0],M=C[1],U=j(e,A(A({},p),{},{ready:n,auto:R,defaultParams:[I],requestKey:function(e){var t,r;return((null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(r=t.list)||void 0===r?void 0:r.length)||0)+P.current},onSuccess:function(){var e;null!=L&&null!==(e=L.list)&&void 0!==e&&e.length&&_&&_.current&&(_.current.scrollTop=0),M(void 0),O(!1),w(function(e){return e+1}),t.onSuccess&&t.onSuccess.apply(t,arguments)},onError:function(){O(!1),t.onError&&t.onError.apply(t,arguments)}})),F=U.data,Y=U.run,G=U.error,x=U.reset,V=U.loading,q=U.requests,H=(0,o.useMemo)(function(){var e=[],t=F||{};return Object.keys(q).sort(function(e,t){return Number(e)-Number(t)}).forEach(function(r){var n,a,o=q[r];null!==(n=o.data)&&void 0!==n&&n.list&&(e=e.concat(null===(a=o.data)||void 0===a?void 0:a.list)),!o.loading&&(t=o.data)}),A(A({},t),{},{list:e})},[q,F]),K=!!(!V&&!E&&(y?y(F,G,H):!F||!F.list.length||F.total&&H.list.length>=F.total)),W=(0,o.useCallback)(function(){var e,t,r,n=H.list;return{data:H,current:S,pageSize:1===S?l:g,offset:n.length,id:s&&n.length>0?(e=n[n.length-1],t=n.length-1,void 0===(r="function"==typeof s?s(e,t):e[s])?t:r):void 0,startTime:P.current}},[S,l,g,H]),z=(0,o.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!0===e&&M(H),x(),w(1),P.current=new Date().getTime(),Y(I)},[Y,x,H]),B=(0,o.useRef)(z);B.current=z,(0,i.Z)(function(){n&&R&&B.current()},[].concat(k(void 0===a?[]:a),k(void 0===c?[]:c)));var Z=(0,o.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(M(void 0),!K&&!V&&!E)O(!0),Y(A(A({},W()),e))},[K,V,E,Y,H,W]);(0,o.useEffect)(function(){if(!_||!_.current)return function(){};var e=function(){if(!!_&&!!_.current)T.current<_.current.scrollTop&&_.current.scrollHeight-_.current.scrollTop<=_.current.clientHeight+m&&Z(),T.current=_.current.scrollTop};return _.current.addEventListener("scroll",e),function(){_&&_.current&&_.current.removeEventListener("scroll",e)}},[_&&_.current,Z]);var $=(0,o.useMemo)(function(){var e;return null!=L&&null!==(e=L.list)&&void 0!==e&&e.length?L:H},[L,L,H]);return A(A({},U),{},{reset:B.current,current:S,data:$,reload:z,loading:V&&!!(null==L?void 0:L.list.length)||V&&0===H.list.length,loadMore:Z,loadingMore:E,noMore:K,hasMore:K})};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){(function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Y(e){return function(e){if(Array.isArray(e))return V(e)}(e)||x(e)||G(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}}function x(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var q=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.defaultPageSize,a=void 0===n?10:n,c=r.initCurrent,s=void 0===c?1:c,u=r.resetFirst,l=void 0!==u&&u,_=r.resetDeps,f=r.refreshDeps,m=(r.requestKey,function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}(r,["defaultPageSize","initCurrent","resetFirst","resetDeps","refreshDeps","requestKey"])),p=r.pageSize,h=r.current,d="boolean"!=typeof m.auto||m.auto,v=[F({current:s,pageSize:a},(null===(t=m.defaultParams)||void 0===t?void 0:t[0])||{})].concat(Y((m.defaultParams||[]).slice(1))),y=j(e,F(F({},m),{},{defaultParams:v,auto:d})),g=y.data,b=y.params,E=y.run,O=y.loading,N=b&&b[0]?b[0]:v[0]||{},S=N.current,w=void 0===S?s:S,T=N.pageSize,P=void 0===T?a:T,I=N.sorter,k=N.filters;p&&(P=p),h&&(w=h);var R=(0,o.useCallback)(function(e){var t,r=function(e){if(Array.isArray(e))return e}(t=b)||x(t)||G(t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],a=r.slice(1);return E.apply(void 0,[F(F({},n),e)].concat(Y(a)))},[E,b]),A=(null==g?void 0:g.total)||0,D=(0,o.useMemo)(function(){return Math.ceil(A/P)},[P,A]),C=(0,o.useCallback)(function(e,t){var r=e<=0?1:e,n=Math.ceil(A/(t<=0?1:t));return r>n&&(r=n),R({current:e,pageSize:t})},[A,R]);(0,o.useRef)(C).current=C;var L=(0,o.useCallback)(function(e){C(e,P)},[C,P]),M=(0,o.useCallback)(function(e){C(w,e)},[C,w]),U=(0,o.useRef)(L);U.current=L,(0,i.Z)(function(){d&&U.current(h||(l?1:s))},[].concat(Y(void 0===_?[]:_),Y(void 0===f?[]:f),[p,h]));var V=(0,o.useCallback)(function(e,t,r){R({current:void 0===e.current?s:e.current,pageSize:e.pageSize||a,filters:t,sorter:r})},[R]),q=(0,o.useCallback)(function(){E(v[0],v[1])},[]);return F(F({},y),{},{reset:q,loading:O,data:g,params:b,pagination:{current:w,pageSize:P,total:A,totalPage:D,onChange:C,changeCurrent:L,changePageSize:M},tableProps:{dataSource:(null==g?void 0:g.list)||[],loading:O,onChange:V,pagination:{current:w,pageSize:P,total:A}},sorter:void 0===I?{}:I,filters:void 0===k?{}:k})};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){(function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function W(e,t){if(e){if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function B(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++){if(r=o[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}return a}var Z=function(e){var t,r,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a.defaultValue,s=a.refreshDeps,u=a.debounceInterval,l=B(a,["defaultValue","refreshDeps","debounceInterval"]),_="boolean"!=typeof l.auto||l.auto;var f=(r=2,function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(c))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&null!=c.return&&c.return()}finally{if(a)throw o}}return r}}(t,2)||W(t,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=f[0],p=f[1],h=j(e,K(K({defaultParams:[c]},l),{},{debounceInterval:void 0===u?300:u,auto:!1})),d=h.run,v=B(h,["run"]);(0,i.Z)(function(){_&&d(m)},function(e){if(Array.isArray(e))return z(e)}(n=void 0===s?[]:s)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||W(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),(0,o.useEffect)(function(){d(m)},[m]);var y=(0,o.useCallback)(function(){return d(m)},[d,m]);return K(K({},v),{},{value:m,onChange:p,run:y})};function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){(function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}(n=a||(a={})).loadMore="loadMore",n.pagination="pagination",n.search="search";var J=o.createContext({});J.displayName="UseRequestConfigContext";J.Provider;var Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=X(X({},(0,o.useContext)(J)),t),n=r.mode;return n===a.loadMore?M(e,r):n===a.pagination?q(e,r):n===a.search?Z(e,r):j(e,r)}},829743:function(e){var t=0/0,r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt,c="object"==typeof window&&window&&window.Object===Object&&window,s="object"==typeof self&&self&&self.Object===Object&&self,u=c||s||Function("return this")(),l=Object.prototype.toString,_=Math.max,f=Math.min,m=function(){return u.Date.now()};function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if("symbol"==typeof(c=e)||(s=c)&&"object"==typeof s&&"[object Symbol]"==l.call(c))return t;if(p(e)){var c,s,u="function"==typeof e.valueOf?e.valueOf():e;e=p(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var _=a.test(e);return _||o.test(e)?i(e.slice(2),_?2:8):n.test(e)?t:+e}e.exports=function(e,t,r){var n,a,o,i,c,s,u=0,l=!1,d=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var r=n,o=a;return n=a=void 0,u=t,i=e.apply(o,r)}t=h(t)||0,p(r)&&(l=!!r.leading,o=(d="maxWait"in r)?_(h(r.maxWait)||0,t):o,v="trailing"in r?!!r.trailing:v);function g(e){var r=e-s,n=e-u;return void 0===s||r>=t||r<0||d&&n>=o}function b(){var e,r,n,a,i=m();if(g(i))return E(i);c=setTimeout(b,(r=(e=i)-s,n=e-u,a=t-r,d?f(a,o-n):a))}function E(e){return(c=void 0,v&&n)?y(e):(n=a=void 0,i)}function O(){var e,r=m(),o=g(r);if(n=arguments,a=this,s=r,o){if(void 0===c){;return u=e=s,c=setTimeout(b,t),l?y(e):i}if(d)return c=setTimeout(b,t),y(s)}return void 0===c&&(c=setTimeout(b,t)),i}return O.cancel=function(){void 0!==c&&clearTimeout(c),u=0,n=s=a=c=void 0},O.flush=function(){return void 0===c?i:E(m())},O}},298478:function(e){var t="Expected a function",r=0/0,n=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,s="object"==typeof window&&window&&window.Object===Object&&window,u="object"==typeof self&&self&&self.Object===Object&&self,l=s||u||Function("return this")(),_=Object.prototype.toString,f=Math.max,m=Math.min,p=function(){return l.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function d(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||(s=t)&&"object"==typeof s&&"[object Symbol]"==_.call(t))return r;if(h(e)){var t,s,u="function"==typeof e.valueOf?e.valueOf():e;e=h(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var l=o.test(e);return l||i.test(e)?c(e.slice(2),l?2:8):a.test(e)?r:+e}e.exports=function(e,r,n){var a=!0,o=!0;if("function"!=typeof e)throw TypeError(t);return h(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),function(e,r,n){var a,o,i,c,s,u,l=0,_=!1,v=!1,y=!0;if("function"!=typeof e)throw TypeError(t);function g(t){var r=a,n=o;return a=o=void 0,l=t,c=e.apply(n,r)}r=d(r)||0,h(n)&&(_=!!n.leading,i=(v="maxWait"in n)?f(d(n.maxWait)||0,r):i,y="trailing"in n?!!n.trailing:y);function b(e){var t=e-u,n=e-l;return void 0===u||t>=r||t<0||v&&n>=i}function E(){var e,t,n,a,o=p();if(b(o))return O(o);s=setTimeout(E,(t=(e=o)-u,n=e-l,a=r-t,v?m(a,i-n):a))}function O(e){return(s=void 0,y&&a)?g(e):(a=o=void 0,c)}function N(){var e,t=p(),n=b(t);if(a=arguments,o=this,u=t,n){if(void 0===s){;return l=e=u,s=setTimeout(E,r),_?g(e):c}if(v)return s=setTimeout(E,r),g(u)}return void 0===s&&(s=setTimeout(E,r)),c}return N.cancel=function(){void 0!==s&&clearTimeout(s),l=0,a=u=o=s=void 0},N.flush=function(){return void 0===s?c:O(p())},N}(e,r,{leading:a,maxWait:r,trailing:o})}}}]);