(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["42562"],{903514:function(e){"use strict";var t={single_source_shortest_paths:function(e,i,n){var r,o,s,a,u,l,c,f={},h={};h[i]=0;var d=t.PriorityQueue.make();for(d.push(i,0);!d.empty();)for(s in o=(r=d.pop()).value,a=r.cost,u=e[o]||{})u.hasOwnProperty(s)&&(l=a+u[s],c=h[s],(void 0===h[s]||c>l)&&(h[s]=l,d.push(s,l),f[s]=o));if(void 0!==n&&void 0===h[n])throw Error(["Could not find a path from ",i," to ",n,"."].join(""));return f},extract_shortest_path_from_predecessor_list:function(e,t){for(var i,n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,i,n){var r=t.single_source_shortest_paths(e,i,n);return t.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(e){var i,n=t.PriorityQueue,r={};for(i in e=e||{},n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},608166:function(e,t,i){let n=i(313145),r=i(196283),o=i(816522),s=i(80740);function a(e,t,i,o,s){let a=[].slice.call(arguments,1),u=a.length,l="function"==typeof a[u-1];if(!l&&!n())throw Error("Callback required as last argument");if(l){if(u<2)throw Error("Too few arguments provided");2===u?(s=i,i=t,t=o=void 0):3===u&&(t.getContext&&void 0===s?(s=o,o=void 0):(s=o,o=i,i=t,t=void 0))}else{if(u<1)throw Error("Too few arguments provided");return 1===u?(i=t,t=o=void 0):2===u&&!t.getContext&&(o=i,i=t,t=void 0),new Promise(function(n,s){try{let s=r.create(i,o);n(e(s,t,o))}catch(e){s(e)}})}try{let n=r.create(i,o);s(null,e(n,t,o))}catch(e){s(e)}}t.create=r.create,t.toCanvas=a.bind(null,o.render),t.toDataURL=a.bind(null,o.renderToDataURL),t.toString=a.bind(null,function(e,t,i){return s.render(e,i)})},313145:function(e){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},592377:function(e,t,i){let n=i(12524).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];let t=Math.floor(e/7)+2,i=n(e),r=145===i?26:2*Math.ceil((i-13)/(2*t-2)),o=[i-7];for(let e=1;e<t-1;e++)o[e]=o[e-1]-r;return o.push(6),o.reverse()},t.getPositions=function(e){let i=[],n=t.getRowColCoords(e),r=n.length;for(let e=0;e<r;e++)for(let t=0;t<r;t++){if((0!==e||0!==t)&&(0!==e||t!==r-1)&&(e!==r-1||0!==t))i.push([n[e],n[t]])}return i}},172909:function(e,t,i){let n=i(328621),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=n.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=45*r.indexOf(this.data[t]);i+=r.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(r.indexOf(this.data[t]),6)},e.exports=o},45236:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(let i=0;i<t;i++)this.putBit((e>>>t-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},608528:function(e){function t(e){if(!e||e<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,i,n){let r=e*this.size+t;this.data[r]=i,n&&(this.reservedBit[r]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,i){this.data[e*this.size+t]^=i},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},243149:function(e,t,i){let n=i(328621);function r(e){this.mode=n.BYTE,"string"==typeof e?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}r.getBitsLength=function(e){return 8*e},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){for(let t=0,i=this.data.length;t<i;t++)e.put(this.data[t],8)},e.exports=r},194915:function(e,t,i){let n=i(517979),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return r[(e-1)*4+0];case n.M:return r[(e-1)*4+1];case n.Q:return r[(e-1)*4+2];case n.H:return r[(e-1)*4+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return o[(e-1)*4+0];case n.M:return o[(e-1)*4+1];case n.Q:return o[(e-1)*4+2];case n.H:return o[(e-1)*4+3];default:return}}},517979:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,i){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw Error("Unknown EC Level: "+e)}}(e)}catch(e){return i}}},456231:function(e,t,i){let n=i(12524).getSymbolSize;t.getPositions=function(e){let t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},529326:function(e,t,i){let n=i(12524),r=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){let i=e.bit<<3|t,o=i<<10;for(;n.getBCHDigit(o)-r>=0;)o^=1335<<n.getBCHDigit(o)-r;return(i<<10|o)^21522}},154049:function(e,t){let i=new Uint8Array(512),n=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)i[t]=e,n[e]=t,256&(e<<=1)&&(e^=285);for(let e=255;e<512;e++)i[e]=i[e-255]}(),t.log=function(e){if(e<1)throw Error("log("+e+")");return n[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[n[e]+n[t]]}},41064:function(e,t,i){let n=i(328621),r=i(12524);function o(e){this.mode=n.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let i=r.toSJIS(this.data[t]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");i=(i>>>8&255)*192+(255&i),e.put(i,13)}},e.exports=o},490738:function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let i={N1:3,N2:3,N3:40,N4:10};t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){let t=e.size,n=0,r=0,o=0,s=null,a=null;for(let u=0;u<t;u++){r=o=0,s=a=null;for(let l=0;l<t;l++){let t=e.get(u,l);t===s?r++:(r>=5&&(n+=i.N1+(r-5)),s=t,r=1),(t=e.get(l,u))===a?o++:(o>=5&&(n+=i.N1+(o-5)),a=t,o=1)}r>=5&&(n+=i.N1+(r-5)),o>=5&&(n+=i.N1+(o-5))}return n},t.getPenaltyN2=function(e){let t=e.size,n=0;for(let i=0;i<t-1;i++)for(let r=0;r<t-1;r++){let t=e.get(i,r)+e.get(i,r+1)+e.get(i+1,r)+e.get(i+1,r+1);(4===t||0===t)&&n++}return n*i.N2},t.getPenaltyN3=function(e){let t=e.size,n=0,r=0,o=0;for(let i=0;i<t;i++){r=o=0;for(let s=0;s<t;s++)r=r<<1&2047|e.get(i,s),s>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|e.get(s,i),s>=10&&(1488===o||93===o)&&n++}return n*i.N3},t.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let i=0;i<n;i++)t+=e.data[i];return Math.abs(Math.ceil(100*t/n/5)-10)*i.N4};t.applyMask=function(e,i){let n=i.size;for(let r=0;r<n;r++)for(let o=0;o<n;o++)!i.isReserved(o,r)&&i.xor(o,r,function(e,i,n){switch(e){case t.Patterns.PATTERN000:return(i+n)%2==0;case t.Patterns.PATTERN001:return i%2==0;case t.Patterns.PATTERN010:return n%3==0;case t.Patterns.PATTERN011:return(i+n)%3==0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2==0;case t.Patterns.PATTERN101:return i*n%2+i*n%3==0;case t.Patterns.PATTERN110:return(i*n%2+i*n%3)%2==0;case t.Patterns.PATTERN111:return(i*n%3+(i+n)%2)%2==0;default:throw Error("bad maskPattern:"+e)}}(e,o,r))},t.getBestMask=function(e,i){let n=Object.keys(t.Patterns).length,r=0,o=1/0;for(let s=0;s<n;s++){i(s),t.applyMask(s,e);let n=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),n<o&&(o=n,r=s)}return r}},328621:function(e,t,i){let n=i(528997),r=i(985685);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw Error("Invalid mode: "+e);if(!n.isValid(t))throw Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){if(r.testNumeric(e))return t.NUMERIC;if(r.testAlphanumeric(e))return t.ALPHANUMERIC;if(r.testKanji(e))return t.KANJI;else return t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits};t.from=function(e,i){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw Error("Unknown mode: "+e)}}(e)}catch(e){return i}}},809068:function(e,t,i){let n=i(328621);function r(e){this.mode=n.NUMERIC,this.data=e.toString()}r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let t,i,n;for(t=0;t+3<=this.data.length;t+=3)n=parseInt(i=this.data.substr(t,3),10),e.put(n,10);let r=this.data.length-t;r>0&&(n=parseInt(i=this.data.substr(t),10),e.put(n,3*r+1))},e.exports=r},990274:function(e,t,i){let n=i(154049);t.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)i[r+o]^=n.mul(e[r],t[o]);return i},t.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let e=i[0];for(let r=0;r<t.length;r++)i[r]^=n.mul(t[r],e);let r=0;for(;r<i.length&&0===i[r];)r++;i=i.slice(r)}return i},t.generateECPolynomial=function(e){let i=new Uint8Array([1]);for(let r=0;r<e;r++)i=t.mul(i,new Uint8Array([1,n.exp(r)]));return i}},196283:function(e,t,i){let n=i(12524),r=i(517979),o=i(45236),s=i(608528),a=i(592377),u=i(456231),l=i(490738),c=i(194915),f=i(782e3),h=i(955536),d=i(529326),g=i(328621),p=i(516735);function v(e,t,i){let n,r;let o=e.size,s=d.getEncodedBits(t,i);for(n=0;n<15;n++)r=(s>>n&1)==1,n<6?e.set(n,8,r,!0):n<8?e.set(n+1,8,r,!0):e.set(o-15+n,8,r,!0),n<8?e.set(8,o-n-1,r,!0):n<9?e.set(8,15-n-1+1,r,!0):e.set(8,15-n-1,r,!0);e.set(o-8,8,1,!0)}t.create=function(e,t){let i,d;if(void 0===e||""===e)throw Error("No input text");let y=r.M;return void 0!==t&&(y=r.from(t.errorCorrectionLevel,r.M),i=h.from(t.version),d=l.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),function(e,t,i,r){let d;if(Array.isArray(e))d=p.fromArray(e);else if("string"==typeof e){let n=t;if(!n){let t=p.rawSplit(e);n=h.getBestVersionForData(t,i)}d=p.fromString(e,n||40)}else throw Error("Invalid data");let y=h.getBestVersionForData(d,i);if(!y)throw Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<y)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+y+".\n")}else t=y;let m=function(e,t,i){let r=new o;i.forEach(function(t){r.put(t.mode.bit,4),r.put(t.getLength(),g.getCharCountIndicator(t.mode,e)),t.write(r)});let s=n.getSymbolTotalCodewords(e),a=(s-c.getTotalCodewordsCount(e,t))*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);let u=(a-r.getLengthInBits())/8;for(let e=0;e<u;e++)r.put(e%2?17:236,8);return function(e,t,i){let r,o;let s=n.getSymbolTotalCodewords(t),a=s-c.getTotalCodewordsCount(t,i),u=c.getBlocksCount(t,i),l=s%u,h=u-l,d=Math.floor(s/u),g=Math.floor(a/u),p=g+1,v=d-g,y=new f(v),m=0,b=Array(u),P=Array(u),E=0,_=new Uint8Array(e.buffer);for(let e=0;e<u;e++){let t=e<h?g:p;b[e]=_.slice(m,m+t),P[e]=y.encode(b[e]),m+=t,E=Math.max(E,t)}let k=new Uint8Array(s),C=0;for(r=0;r<E;r++)for(o=0;o<u;o++)r<b[o].length&&(k[C++]=b[o][r]);for(r=0;r<v;r++)for(o=0;o<u;o++)k[C++]=P[o][r];return k}(r,e,t)}(t,i,d),b=new s(n.getSymbolSize(t));return!function(e,t){let i=e.size,n=u.getPositions(t);for(let t=0;t<n.length;t++){let r=n[t][0],o=n[t][1];for(let t=-1;t<=7;t++)if(!(r+t<=-1)&&!(i<=r+t))for(let n=-1;n<=7;n++)!(o+n<=-1)&&!(i<=o+n)&&(t>=0&&t<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===t||6===t)||t>=2&&t<=4&&n>=2&&n<=4?e.set(r+t,o+n,!0,!0):e.set(r+t,o+n,!1,!0))}}(b,t),!function(e){let t=e.size;for(let i=8;i<t-8;i++){let t=i%2==0;e.set(i,6,t,!0),e.set(6,i,t,!0)}}(b),!function(e,t){let i=a.getPositions(t);for(let t=0;t<i.length;t++){let n=i[t][0],r=i[t][1];for(let t=-2;t<=2;t++)for(let i=-2;i<=2;i++)-2===t||2===t||-2===i||2===i||0===t&&0===i?e.set(n+t,r+i,!0,!0):e.set(n+t,r+i,!1,!0)}}(b,t),v(b,i,0),t>=7&&!function(e,t){let i,n,r;let o=e.size,s=h.getEncodedBits(t);for(let t=0;t<18;t++)i=Math.floor(t/3),n=t%3+o-8-3,r=(s>>t&1)==1,e.set(i,n,r,!0),e.set(n,i,r,!0)}(b,t),!function(e,t){let i=e.size,n=-1,r=i-1,o=7,s=0;for(let a=i-1;a>0;a-=2)for(6===a&&a--;;){for(let i=0;i<2;i++)if(!e.isReserved(r,a-i)){let n=!1;s<t.length&&(n=(t[s]>>>o&1)==1),e.set(r,a-i,n),-1==--o&&(s++,o=7)}if((r+=n)<0||i<=r){r-=n,n=-n;break}}}(b,m),isNaN(r)&&(r=l.getBestMask(b,v.bind(null,b,i))),l.applyMask(r,b),v(b,i,r),{modules:b,version:t,errorCorrectionLevel:i,maskPattern:r,segments:d}}(e,i,y,d)}},782e3:function(e,t,i){let n=i(990274);function r(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},r.prototype.encode=function(e){if(!this.genPoly)throw Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=n.mod(t,this.genPoly),r=this.degree-i.length;if(r>0){let e=new Uint8Array(this.degree);return e.set(i,r),e}return i},e.exports=r},985685:function(e,t){let i="[0-9]+",n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=RegExp(n,"g"),t.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=RegExp(r,"g"),t.NUMERIC=RegExp(i,"g"),t.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");let o=RegExp("^"+n+"$"),s=RegExp("^"+i+"$"),a=RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return o.test(e)},t.testNumeric=function(e){return s.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},516735:function(e,t,i){let n=i(328621),r=i(809068),o=i(172909),s=i(243149),a=i(41064),u=i(985685),l=i(12524),c=i(903514);function f(e){return unescape(encodeURIComponent(e)).length}function h(e,t,i){let n;let r=[];for(;null!==(n=e.exec(i));)r.push({data:n[0],index:n.index,mode:t,length:n[0].length});return r}function d(e){let t,i;let r=h(u.NUMERIC,n.NUMERIC,e),o=h(u.ALPHANUMERIC,n.ALPHANUMERIC,e);return l.isKanjiModeEnabled()?(t=h(u.BYTE,n.BYTE,e),i=h(u.KANJI,n.KANJI,e)):(t=h(u.BYTE_KANJI,n.BYTE,e),i=[]),r.concat(o,t,i).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function g(e,t){switch(t){case n.NUMERIC:return r.getBitsLength(e);case n.ALPHANUMERIC:return o.getBitsLength(e);case n.KANJI:return a.getBitsLength(e);case n.BYTE:return s.getBitsLength(e)}}function p(e,t){let i;let u=n.getBestModeForData(e);if((i=n.from(t,u))!==n.BYTE&&i.bit<u.bit)throw Error('"'+e+'" cannot be encoded with mode '+n.toString(i)+".\n Suggested mode is: "+n.toString(u));switch(i===n.KANJI&&!l.isKanjiModeEnabled()&&(i=n.BYTE),i){case n.NUMERIC:return new r(e);case n.ALPHANUMERIC:return new o(e);case n.KANJI:return new a(e);case n.BYTE:return new s(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(p(t,null)):t.data&&e.push(p(t.data,t.mode)),e},[])},t.fromString=function(e,i){let r=function(e,t){let i={},r={start:{}},o=["start"];for(let s=0;s<e.length;s++){let a=e[s],u=[];for(let e=0;e<a.length;e++){let l=a[e],c=""+s+e;u.push(c),i[c]={node:l,lastCount:0},r[c]={};for(let e=0;e<o.length;e++){let s=o[e];i[s]&&i[s].node.mode===l.mode?(r[s][c]=g(i[s].lastCount+l.length,l.mode)-g(i[s].lastCount,l.mode),i[s].lastCount+=l.length):(i[s]&&(i[s].lastCount=l.length),r[s][c]=g(l.length,l.mode)+4+n.getCharCountIndicator(l.mode,t))}}o=u}for(let e=0;e<o.length;e++)r[o[e]].end=0;return{map:r,table:i}}(function(e){let t=[];for(let i=0;i<e.length;i++){let r=e[i];switch(r.mode){case n.NUMERIC:t.push([r,{data:r.data,mode:n.ALPHANUMERIC,length:r.length},{data:r.data,mode:n.BYTE,length:r.length}]);break;case n.ALPHANUMERIC:t.push([r,{data:r.data,mode:n.BYTE,length:r.length}]);break;case n.KANJI:t.push([r,{data:r.data,mode:n.BYTE,length:f(r.data)}]);break;case n.BYTE:t.push([{data:r.data,mode:n.BYTE,length:f(r.data)}])}}return t}(d(e,l.isKanjiModeEnabled())),i),o=c.find_path(r.map,"start","end"),s=[];for(let e=1;e<o.length-1;e++)s.push(r.table[o[e]].node);return t.fromArray(s.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[]))},t.rawSplit=function(e){return t.fromArray(d(e,l.isKanjiModeEnabled()))}},12524:function(e,t){let i;let n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw Error('"version" cannot be null or undefined');if(e<1||e>40)throw Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw Error('"toSJISFunc" is not a valid function.');i=e},t.isKanjiModeEnabled=function(){return void 0!==i},t.toSJIS=function(e){return i(e)}},528997:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},955536:function(e,t,i){let n=i(12524),r=i(194915),o=i(517979),s=i(328621),a=i(528997),u=n.getBCHDigit(7973);function l(e,t){return s.getCharCountIndicator(e,t)+4}t.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,i){if(!a.isValid(e))throw Error("Invalid QR Code version");void 0===i&&(i=s.BYTE);let o=n.getSymbolTotalCodewords(e),u=(o-r.getTotalCodewordsCount(e,t))*8;if(i===s.MIXED)return u;let c=u-l(i,e);switch(i){case s.NUMERIC:return Math.floor(c/10*3);case s.ALPHANUMERIC:return Math.floor(c/11*2);case s.KANJI:return Math.floor(c/13);case s.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,i){let n;let r=o.from(i,o.M);if(Array.isArray(e)){if(e.length>1)return function(e,i){for(let n=1;n<=40;n++)if(function(e,t){let i=0;return e.forEach(function(e){let n=l(e.mode,t);i+=n+e.getBitsLength()}),i}(e,n)<=t.getCapacity(n,i,s.MIXED))return n}(e,r);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,i,n){for(let r=1;r<=40;r++)if(i<=t.getCapacity(r,n,e))return r}(n.mode,n.getLength(),r)},t.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-u>=0;)t^=7973<<n.getBCHDigit(t)-u;return e<<12|t}},816522:function(e,t,i){let n=i(164492);t.render=function(e,t,i){var r,o,s;let a=i,u=t;void 0===a&&(!t||!t.getContext)&&(a=t,t=void 0),!t&&(u=function(){try{return document.createElement("canvas")}catch(e){throw Error("You need to specify a canvas element")}}()),a=n.getOptions(a);let l=n.getImageWidth(e.modules.size,a),c=u.getContext("2d"),f=c.createImageData(l,l);return n.qrToImageData(f.data,e,a),r=c,o=u,s=l,r.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px",c.putImageData(f,0,0),u},t.renderToDataURL=function(e,i,n){let r=n;void 0===r&&(!i||!i.getContext)&&(r=i,i=void 0),!r&&(r={});let o=t.render(e,i,r),s=r.type||"image/png",a=r.rendererOpts||{};return o.toDataURL(s,a.quality)}},80740:function(e,t,i){let n=i(164492);function r(e,t){let i=e.a/255,n=t+'="'+e.hex+'"';return i<1?n+" "+t+'-opacity="'+i.toFixed(2).slice(1)+'"':n}function o(e,t,i){let n=e+t;return void 0!==i&&(n+=" "+i),n}t.render=function(e,t,i){let s=n.getOptions(t),a=e.modules.size,u=e.modules.data,l=a+2*s.margin,c=s.color.light.a?"<path "+r(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",f="<path "+r(s.color.dark,"stroke")+' d="'+function(e,t,i){let n="",r=0,s=!1,a=0;for(let u=0;u<e.length;u++){let l=Math.floor(u%t),c=Math.floor(u/t);!l&&!s&&(s=!0),e[u]?(a++,!(u>0&&l>0&&e[u-1])&&(n+=s?o("M",l+i,.5+c+i):o("m",r,0),r=0,s=!1),!(l+1<t&&e[u+1])&&(n+=o("h",a),a=0)):r++}return n}(u,a,s.margin)+'"/>',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+('viewBox="0 0 '+l+" "+l)+'" shape-rendering="crispEdges">'+c+f+"</svg>\n";return"function"==typeof i&&i(null,h),h}},164492:function(e,t){function i(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");let i=parseInt(t.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:255&i,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){!e&&(e={}),!e.color&&(e.color={});let t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:t,color:{dark:i(e.color.dark||"#000000ff"),light:i(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,i){let n=t.getScale(e,i);return Math.floor((e+2*i.margin)*n)},t.qrToImageData=function(e,i,n){let r=i.modules.size,o=i.modules.data,s=t.getScale(r,n),a=Math.floor((r+2*n.margin)*s),u=n.margin*s,l=[n.color.light,n.color.dark];for(let t=0;t<a;t++)for(let i=0;i<a;i++){let c=(t*a+i)*4,f=n.color.light;t>=u&&i>=u&&t<a-u&&i<a-u&&(f=l[o[Math.floor((t-u)/s)*r+Math.floor((i-u)/s)]?1:0]),e[c++]=f.r,e[c++]=f.g,e[c++]=f.b,e[c]=f.a}}},12395:function(e,t,i){"use strict";i.d(t,{Im:function(){return a},Pw:function(){return o},ZD:function(){return r},_3:function(){return u},tn:function(){return n},wo:function(){return s}});var n=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],r=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],o=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],s="data-xgplayerid",a={BUFFER_CONTROLS:"buffer_control"},u={PLAYING:"playing",WAITING:"waiting"}},261234:function(e,t,i){"use strict";i.d(t,{ZP:function(){return eO}});var n,r,o,s=i("879146"),a=i.n(s),u=JSON.parse('"3.0.0-alpha.171"'),l=i("928673");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n.key),n)}}var h={1:"network",2:"network",3:"decoder",4:"format"};var d=(n=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null,src:null};!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e);var n=t&&t.i18n?t.i18n.ERROR_TYPES:null;if(null!=t&&t.video){var r=i.mediaError?i.mediaError:t.video.error||{},o=t.duration,s=t.currentTime,a=t.ended,c=t.src,f=t.currentSrc,h=t.video,d=h.readyState,g=h.networkState,p={playerVersion:u,domain:document.domain,currentTime:s,duration:o,ended:a,readyState:d,networkState:g,src:i.src||c||f,errorType:i.errorType,errorCode:i.errorCode||r.code,message:i.errorMessage||r.message,mediaError:r,originError:i.originError?i.originError.stack:"",host:l.ZP.getHostFromUrl(c||f)};return i.ext&&Object.keys(i.ext).map(function(e){p[e]=i.ext[e]}),p}if(arguments.length>1){for(var v={playerVersion:u,domain:document.domain},y=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],m=0;m<arguments.length;m++)v[y[m]]=arguments[m];return v.ex=n?(n[arguments[0]]||{}).msg:"",v}},Object.defineProperty(n,"prototype",{writable:!1}),n),g=i("767449"),p=i("85002");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==v(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function b(){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}}).apply(this,arguments)}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if(!!this&&!!this.emit)"error"===e?this.errorHandler(e,t.error):this.emit(e,t)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(a,e);var t,i,n,r,o,s=(t=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=E(t);return e=i?Reflect.construct(n,arguments,E(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this,e))._hasStart=!1,t._currentTime=0,t._duration=0,t._internalOp={},t._lastMuted=!1,t.vtype=e.vtype||"MP4",t.bizType="number"==typeof e.bizType&&e.bizType>=0?e.bizType:0,t._rate=-1,t.videoConfig=Object.assign({},{controls:!1,autoplay:e.autoplay,playsinline:e.playsinline,"x5-playsinline":e.playsinline,"webkit-playsinline":e.playsinline,"x5-video-player-fullscreen":e["x5-video-player-fullscreen"]||e.x5VideoPlayerFullscreen,"x5-video-orientation":e["x5-video-orientation"]||e.x5VideoOrientation,airplay:e.airplay,"webkit-airplay":e.airplay,tabindex:0|e.tabindex,mediaType:e.mediaType||"video","data-index":-1},e.videoConfig,e.videoAttributes);var t,i=e["x5-video-player-type"]||e.x5VideoPlayerType;return p.Z.isWeixin&&p.Z.os.isAndroid&&i&&(t.videoConfig["x5-video-player-type"]=i,delete t.videoConfig.playsinline,delete t.videoConfig["webkit-playsinline"],delete t.videoConfig["x5-playsinline"]),e.loop&&(t.videoConfig.loop="loop"),t.video=l.ZP.createDom(t.videoConfig.mediaType,"",t.videoConfig,""),e.defaultPlaybackRate&&(t.video.defaultPlaybackRate=t.video.playbackRate=e.defaultPlaybackRate),"Number"===l.ZP.typeOf(e.volume)&&(t.volume=e.volume),e.autoplayMuted&&(t.video.muted=!0,t._lastMuted=!0),e.autoplay&&(t.video.autoplay=!0),t._interval={},t.videoEventMiddleware={},t.attachVideoEvents(),t}return n=a,r=[{key:"setEventsMiddleware",value:function(e){var t=this;Object.keys(e).map(function(i){t.videoEventMiddleware[i]=e[i]})}},{key:"removeEventsMiddleware",value:function(e){var t=this;Object.keys(e).map(function(e){delete t.videoEventMiddleware[e]})}},{key:"attachVideoEvents",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!this.evHandlers&&(this._evHandlers=g.NW.map(function(e){var i,n,r,o,s,a;return o={},s=e,a=(i=e,(n=t)[r="on".concat(i.charAt(0).toUpperCase()).concat(i.slice(1))]&&"function"==typeof n[r]&&n.on(i,n[r]),function(e,t){var r={player:n,eventName:i,originalEvent:e,detail:e.detail||{},timeStamp:e.timeStamp,currentTime:n.currentTime,duration:n.duration,paused:n.paused,ended:n.ended,isInternalOp:!!n._internalOp[e.type],muted:n.muted,volume:n.volume,host:l.ZP.getHostFromUrl(n.currentSrc),vtype:n.vtype};if(n.removeInnerOP(e.type),"timeupdate"===i&&(n._currentTime=n.video&&n.video.currentTime),"ratechange"===i){var o=n.video?n.video.playbackRate:0;if(o&&n._rate===o)return;n._rate=n.video&&n.video.playbackRate}if("durationchange"===i&&(n._duration=n.video.duration),"volumechange"===i&&(r.isMutedChange=n._lastMuted!==n.muted,n._lastMuted=n.muted),"error"===i&&(r.error=t||n.video.error),n.videoEventMiddleware[i]){var s=_.bind(n,i,r);try{n.videoEventMiddleware[i].call(n,r,s)}catch(e){throw _.call(n,i,r),e}}else _.call(n,i,r)}),(s=m(s))in o?Object.defineProperty(o,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[s]=a,o})),!e&&(e=this.video),this._evHandlers.forEach(function(t){var n=Object.keys(t)[0];(0===i.length||i.indexOf(n)>-1)&&e.addEventListener(n,t[n],!1)})}},{key:"detachVideoEvents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!e&&(e=this.video),this._evHandlers.forEach(function(i){var n=Object.keys(i)[0];(0===t.length||t.indexOf(n)>-1)&&e.removeEventListener(n,i[n],!1)})}},{key:"_attachSourceEvents",value:function(e,t){var i=this;e.removeAttribute("src"),e.load(),e.removeEventListener("loadeddata",this._vLoadeddata),t.forEach(function(e){i.video.appendChild(l.ZP.createDom("source","",{src:"".concat(e.src),type:"".concat(e.type||"")}))});var n=e.children;if(!!n){this._videoSourceCount=n.length,this._vLoadeddata=function(e){i.emit(g.ov,{src:e.target.currentSrc,host:l.ZP.getHostFromUrl(e.target.currentSrc)})};for(var r=null,o=0;o<this._evHandlers.length;o++)if("error"===Object.keys(this._evHandlers[o])[0]){r=this._evHandlers[o];break}this._sourceError||(this._sourceError=function(e){if(i._videoSourceCount--,0===i._videoSourceCount){var t={code:4,message:"sources_load_error"};r?r.error(e,t):i.errorHandler("error",t)}var n=h["4"];i.emit(g.RS,new d(i,{errorType:n,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:e.target.src}))});for(var s=0;s<n.length;s++)n[s].addEventListener("error",this._sourceError);e.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(e){var t=e.children;if(!!t&&0!==t.length&&!!this._sourceError){for(var i=0;i<t.length;i++)t[i].removeEventListener("error",this._sourceError);for(;t.length>0;)e.removeChild(t[0]);this._vLoadeddata&&e.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.video&&(this.video.error||t)){var i=this.video.error||t,n=i.code?h[i.code]:"other",r=i.message||"";!this.video.currentSrc&&(i={code:6,message:r="empty_src_".concat(i.message)}),this.emit(e,new d(this,{errorType:n,errorCode:i.code,errorMessage:i.message||"",mediaError:i}))}}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){"boolean"==typeof e&&(this._hasStart=e,this.emit("hasstart"))}},{key:"destroy",value:function(){var e=this;for(var t in this.video&&(this.video.pause&&(this.video.pause(),this.video.muted=!0),this.video.removeAttribute("src"),this.video.load()),this._currentTime=0,this._duration=0,this._hasStart=!1,this.videoConfig=null,this._interval)Object.prototype.hasOwnProperty.call(this._interval,t)&&(clearInterval(this._interval[t]),this._interval[t]=null);this.detachVideoEvents(),this._evHandlers.map(function(t){var i=Object.keys(t)[0],n="on".concat(i.charAt(0).toUpperCase()).concat(i.slice(1));"function"==typeof e[n]&&e.off(i,e[n])}),this._evHandlers=null,this.video=null,this.videoEventMiddleware={},this.removeAllListeners()}},{key:"play",value:function(){return this.video?this.video.play():null}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"load",value:function(){this.video&&this.video.load()}},{key:"canPlayType",value:function(e){return!!this.video&&this.video.canPlayType(e)}},{key:"getBufferedRange",value:function(e){var t=[0,0];if(!this.video)return t;!e&&(e=this.video.buffered);var i=this.video.currentTime;if(e)for(var n=0,r=e.length;n<r&&(t[0]=e.start(n),t[1]=e.end(n),!(t[0]<=i)||!(i<=t[1]));n++);return t[0]-i<=0&&i-t[1]<=0?t:[0,0]}},{key:"autoplay",get:function(){return!!this.video&&this.video.autoplay},set:function(e){this.video&&(this.video.autoplay=e)}},{key:"buffered",get:function(){return this.video?this.video.buffered:null}},{key:"buffered2",get:function(){return this.video?l.ZP.getBuffered2(this.video.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.video)return e;var t=this.video.buffered;if(!t||0===t.length)return e;for(var i=0;i<t.length;i++)if((t.start(i)<=this.currentTime||.1>t.start(i))&&t.end(i)>=this.currentTime)return{start:t.start(i),end:t.end(i)};return e}},{key:"crossOrigin",get:function(){return this.video?this.video.crossOrigin:""},set:function(e){this.video&&(this.video.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.video?this.video.currentSrc:""},set:function(e){this.video&&(this.video.currentSrc=e)}},{key:"currentTime",get:function(){return this.video?void 0!==this.video.currentTime?this.video.currentTime:this._currentTime:0},set:function(e){this.video&&(this.video.currentTime=e)}},{key:"defaultMuted",get:function(){return!!this.video&&this.video.defaultMuted},set:function(e){this.video&&(this.video.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return!!this.video&&this.video.ended}},{key:"error",get:function(){return this.video&&this.video.error?["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][this.video.error.code-1]:null}},{key:"loop",get:function(){return!!this.video&&this.video.loop},set:function(e){this.video&&(this.video.loop=e)}},{key:"muted",get:function(){return!!this.video&&this.video.muted},set:function(e){if(!!this.video&&this.video.muted!==e)this._lastMuted=this.video.muted,this.video.muted=e}},{key:"networkState",get:function(){return this.video?this.video.networkState:0}},{key:"paused",get:function(){return!this.video||this.video.paused}},{key:"playbackRate",get:function(){return this.video?this.video.playbackRate:0},set:function(e){if(!!this.video&&e!==1/0)this.video.defaultPlaybackRate=e,this.video.playbackRate=e}},{key:"played",get:function(){return this.video?this.video.played:null}},{key:"preload",get:function(){return!!this.video&&this.video.preload},set:function(e){this.video&&(this.video.preload=e)}},{key:"readyState",get:function(){return this.video?this.video.readyState:0}},{key:"seekable",get:function(){return!!this.video&&this.video.seekable}},{key:"seeking",get:function(){return!!this.video&&this.video.seeking}},{key:"src",get:function(){return this.video?this.video.src:""},set:function(e){this.video.src=e}},{key:"volume",get:function(){return this.video?this.video.volume:0},set:function(e){if("number"==typeof e&&!(e<0)&&!(e>1)&&!!this.video)this.video.volume=e}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,t){for(var i,n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(i=b(E(a.prototype),"emit",this)).call.apply(i,[this,e,t].concat(r))}},{key:"on",value:function(e,t){for(var i,n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(i=b(E(a.prototype),"on",this)).call.apply(i,[this,e,t].concat(r))}},{key:"once",value:function(e,t){for(var i,n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(i=b(E(a.prototype),"once",this)).call.apply(i,[this,e,t].concat(r))}},{key:"off",value:function(e,t){for(var i,n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(i=b(E(a.prototype),"off",this)).call.apply(i,[this,e,t].concat(r))}},{key:"offAll",value:function(){b(E(a.prototype),"removeAllListeners",this).call(this)}}],y(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(a());function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==C(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(n.key),n)}}var S=function(){var e,t,i;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=e}return e=n,t=[{key:"openDB",value:function(e){var t=this,i=this,n=this.myDB.version||1,r=i.indexedDB.open(i.myDB.name,n);r.onerror=function(e){},r.onsuccess=function(n){t.myDB.db=n.target.result,e.call(i)},r.onupgradeneeded=function(e){var t,n=e.target.result;e.target.transaction,!n.objectStoreNames.contains(i.myDB.ojstore.name)&&n.createObjectStore(i.myDB.ojstore.name,{keyPath:i.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){this.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(e,t){for(var i,n=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=0;r<t.length;r++)(i=n.add(t[r])).onerror=function(){},i.onsuccess=function(){}}},{key:"putData",value:function(e,t){for(var i,n=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=0;r<t.length;r++)(i=n.put(t[r])).onerror=function(){},i.onsuccess=function(){}}},{key:"getDataByKey",value:function(e,t,i){var n=this,r=this.myDB.db.transaction(e,"readwrite").objectStore(e).get(t);r.onerror=function(){i.call(n,null)},r.onsuccess=function(e){var t=e.target.result;i.call(n,t)}}},{key:"deleteData",value:function(e,t){this.myDB.db.transaction(e,"readwrite").objectStore(e).delete(t)}},{key:"clearData",value:function(e){this.myDB.db.transaction(e,"readwrite").objectStore(e).clear()}}],w(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),n}(),T=i("12395"),O=i("758454"),A=i("962190");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function N(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==R(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}var L=function(){var e,t,i;function n(){var e,t,i,r=this;if(!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=this,t="__trigger",i=function(e){var t=new Date().getTime();r.timeStamp=t;for(var i=0;i<e.length;i++)r.__runHandler(e[i].target)},(t=N(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.__handlers=[],this.timeStamp=0,this.observer=null,!!window.ResizeObserver)try{this.observer=new window.ResizeObserver((0,l.P2)(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(e){}}return e=n,t=[{key:"addObserver",value:function(e,t){if(!!this.observer){this.observer&&this.observer.observe(e);for(var i=e.getAttribute(T.wo),n=this.__handlers,r=-1,o=0;o<n.length;o++)n[o]&&e===n[o].target&&(r=o);r>-1?this.__handlers[r].handler=t:this.__handlers.push({target:e,handler:t,playerId:i})}}},{key:"unObserver",value:function(e){var t=-1;this.__handlers.map(function(i,n){e===i.target&&(t=n)});try{this.observer&&this.observer.unobserve(e)}catch(e){}this.observer&&this.observer.unobserve(e),t>-1&&this.__handlers.splice(t,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(e){for(var t=this.__handlers,i=0;i<t.length;i++)if(t[i]&&e===t[i].target){try{t[i].handler(e)}catch(e){}return!0}return!1}}],I(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),n}(),x=null,Z={pluginGroup:{},init:function(e){var t,i,n=e._pluginInfoId;!n&&(n=new Date().getTime(),e._pluginInfoId=n),e.config.closeResizeObserver||(t=e.root,i=function(){e.getVideoSize()},x||(x=new L),x.addObserver(t,i)),this.pluginGroup[n]={_originalOptions:e.config||{},_plugins:{}}},formatPluginInfo:function(e,t){var i=null,n=null;return e.plugin&&"function"==typeof e.plugin?(i=e.plugin,n=e.options):(i=e,n={}),t&&(n.config=t||{}),{PLUFGIN:i,options:n}},checkPluginIfExits:function(e,t){for(var i=0;i<t.length;i++)if(e.toLowerCase()===t[i].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(e,t){for(var i=Object.keys(t),n=null,r=0;r<i.length;r++)if(e.toLowerCase()===i[r].toLowerCase()){n=t[i[r]];break}return"Object"===l.ZP.typeOf(n)?{root:n.root,position:n.position}:{}},lazyRegister:function(e,t){var i=this,n=t.timeout||1500;return Promise.race([t.loader().then(function(t){var n;n=t&&t.__esModule?t.default:t,i.register(e,n,t.options)}),new Promise(function(e,t){setTimeout(function(){t(Error("timeout"))},n)})])},register:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!t||"function"!=typeof t||void 0===t.prototype)return;var n=e._pluginInfoId;if(!n||!this.pluginGroup[n])return;!this.pluginGroup[n]._plugins&&(this.pluginGroup[n]._plugins={});var r=this.pluginGroup[n]._plugins,o=this.pluginGroup[n]._originalOptions;i.player=e;var s=i.pluginName||t.pluginName;if(!s)throw Error("The property pluginName is necessary");if(!t.isSupported||!!t.isSupported()){!i.config&&(i.config={});for(var a=Object.keys(o),u=0;u<a.length;u++)if(s.toLowerCase()===a[u].toLowerCase()){var c=o[a[u]];"Object"===l.ZP.typeOf(c)&&(i.config=Object.assign({},i.config,o[a[u]]));break}t.defaultConfig&&Object.keys(t.defaultConfig).forEach(function(e){void 0===i.config[e]&&(i.config[e]=t.defaultConfig[e])}),i.root?"string"==typeof i.root&&(i.root=e[i.root]):i.root=e.root,i.index=i.config.index||0;try{r[s.toLowerCase()]&&this.unRegister(n,s.toLowerCase());var f=new t(i);return r[s.toLowerCase()]=f,r[s.toLowerCase()].func=t,f&&"function"==typeof f.afterCreate&&f.afterCreate(),f}catch(e){throw e}}},unRegister:function(e,t){e._pluginInfoId&&(e=e._pluginInfoId),t=t.toLowerCase();var i=null;try{(i=this.pluginGroup[e]._plugins[t])&&(i.pluginName&&i.__destroy(),delete this.pluginGroup[e]._plugins[t])}catch(e){}return i},deletePlugin:function(e,t){var i=e._pluginInfoId;i&&this.pluginGroup[i]&&this.pluginGroup[i]._plugins&&delete this.pluginGroup[i]._plugins[t]},getPlugins:function(e){var t=e._pluginInfoId;return t&&this.pluginGroup[t]?this.pluginGroup[t]._plugins:{}},findPlugin:function(e,t){var i=e._pluginInfoId;if(!i||!this.pluginGroup[i])return null;var n=t.toLowerCase();return this.pluginGroup[i]._plugins[n]},beforeInit:function(e){var t=this;function i(e){return e&&e.then?e:new Promise(function(e){e()})}return new Promise(function(n){var r;if(!!t.pluginGroup)return(r=e._loadingPlugins&&e._loadingPlugins.length?Promise.all(e._loadingPlugins):Promise.resolve()).then(function(){var r=e._pluginInfoId;if(!t.pluginGroup[r]){n();return}var o=t.pluginGroup[r]._plugins,s=[];Object.keys(o).forEach(function(e){if(o[e]&&o[e].beforePlayerInit)try{var t=o[e].beforePlayerInit();s.push(i(t))}catch(e){throw s.push(i(null)),e}}),Promise.all([].concat(s)).then(function(){n()}).catch(function(e){n()})})})},afterInit:function(e){var t=e._pluginInfoId;if(!!t&&!!this.pluginGroup[t]){var i=this.pluginGroup[t]._plugins;Object.keys(i).forEach(function(e){i[e]&&i[e].afterPlayerInit&&i[e].afterPlayerInit()})}},setLang:function(e,t){var i=t._pluginInfoId;if(!!i&&!!this.pluginGroup[i]){var n=this.pluginGroup[i]._plugins;Object.keys(n).forEach(function(t){if(n[t].updateLang)n[t].updateLang(e);else try{n[t].lang=e}catch(e){}})}},reRender:function(e){var t=this,i=e._pluginInfoId;if(!!i&&!!this.pluginGroup[i]){var n=[],r=this.pluginGroup[i]._plugins;Object.keys(r).forEach(function(e){"controls"!==e&&r[e]&&(n.push({plugin:r[e].func,options:r[e].__args}),t.unRegister(i,e))}),n.forEach(function(i){t.register(e,i.plugin,i.options)})}},onPluginsReady:function(e){var t=e._pluginInfoId;if(!!t&&!!this.pluginGroup[t]){var i=this.pluginGroup[t]._plugins||{};Object.keys(i).forEach(function(e){i[e].onPluginsReady&&"function"==typeof i[e].onPluginsReady&&i[e].onPluginsReady()})}},destroy:function(e){var t,i,n=e._pluginInfoId;if(!!this.pluginGroup[n]){t=e.root,x.unObserver(t,void 0);for(var r=this.pluginGroup[n]._plugins,o=0,s=Object.keys(r);o<s.length;o++){var a=s[o];this.unRegister(n,a)}delete this.pluginGroup[n],delete e._pluginInfoId}}},B=i("55637");function D(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:(0,l.VQ)(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}function j(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return F(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var M=function(e,t){var i,n,r,o=r=t.preset&&t.options?new t.preset(t.options,e.config):new t({},e.config),s=o.plugins,a=o.ignores,u=o.icons,l=void 0===u?{}:u,c=o.i18n,f=void 0===c?[]:c;!e.config.plugins&&(e.config.plugins=[]),!e.config.ignores&&(e.config.ignores=[]),(i=e.config.plugins).push.apply(i,j(void 0===s?[]:s)),(n=e.config.ignores).push.apply(n,j(void 0===a?[]:a)),Object.keys(l).map(function(t){!e.config.icons[t]&&(e.config.icons[t]=l[t])});var h=e.config.i18n||[];f.push.apply(f,j(h)),e.config.i18n=f},U=i("553894");function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function V(){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}}).apply(this,arguments)}function G(e,t){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,i){return(t=J(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function J(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==H(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===H(t)?t:String(t)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(a,e);var t,i,n,r,o,s=(t=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=W(t);return e=i?Reflect.construct(n,arguments,W(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return K(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return Y(K(e=s.call.apply(s,[this].concat(i))),"onMouseEnter",function(t){var i=K(e),n=i.player;i.playerConfig.closeControlsBlur&&n.focus({autoHide:!1})}),Y(K(e),"onMouseLeave",function(){K(e).player.focus()}),e}return n=a,o=[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}],r=[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.controls&&(e.config.disable=!e.player.config.controls),!e.config.mode&&"mobile"===p.Z.device&&(e.config.mode="flex"),e.player.config.marginControls&&(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,t=this.config,i=t.disable,n=t.height,r=t.mode,o=t.autoHide;if(!i){"flex"===r&&this.player.addClass(B.Z.FLEX_CONTROLS),o&&this.player.addClass(B.Z.AUTOHIDE);var s={height:"".concat(n,"px")};Object.keys(s).map(function(t){e.root.style[t]=s[t]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(g.VF,function(t){t?l.ZP.addClass(e.root,"mini-controls"):l.ZP.removeClass(e.root,"mini-controls")});var a=this.playerConfig.isMobileSimulateMode;"mobile"!==p.Z.device&&"mobile"!==a&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"unFocus",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&l.ZP.addClass(this.root,"control_autohide")}},{key:"pauseAutoHide",value:function(){l.ZP.removeClass(this.root,"control_autohide")}},{key:"show",value:function(){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(!!this.root){var n=e.defaultConfig||{};if(!t.root){switch(t.position?t.position:t.config&&t.config.position?t.config.position:n.position){case O.kd.CONTROLS_LEFT:t.root=this.left;break;case O.kd.CONTROLS_RIGHT:t.root=this.right;break;case O.kd.CONTROLS_CENTER:t.root=this.center;break;case O.kd.CONTROLS:t.root=this.root;break;default:t.root=this.left}return V(W(a.prototype),"registerPlugin",this).call(this,e,t,i)}}}},{key:"destroy",value:function(){"mobile"!==p.Z.device&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var e=this.config,t=e.mode,i=e.autoHide,n=e.initShow;if(!e.disable){var r=l.ZP.classNames({"xgplayer-controls":!0},{"flex-controls":"flex"===t},{"bottom-controls":"bottom"===t},{control_autohide:i},{controls_permanent:!i},{"xgplayer-controls-initshow":n||!i});return'<xg-controls class="'.concat(r,'" unselectable="on">\n    <xg-inner-controls class="xg-inner-controls xg-pos">\n      <xg-left-grid class="xg-left-grid">\n      </xg-left-grid>\n      <xg-center-grid class="xg-center-grid"></xg-center-grid>\n      <xg-right-grid class="xg-right-grid">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>')}}}],z(n.prototype,r),o&&z(n,o),Object.defineProperty(n,"prototype",{writable:!1}),a}(O.ZP),q=i("862783");function X(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var ee={lang:{},langKeys:[],textKeys:[]};function et(e,t){return Object.keys(t).forEach(function(i){var n,r=l.ZP.typeOf(t[i]),o=l.ZP.typeOf(e[i]);"Array"===r?("Array"!==o&&(e[i]=[]),(n=e[i]).push.apply(n,X(t[i]))):"Object"===r?("Object"!==o&&(e[i]={}),et(e[i],t[i])):e[i]=t[i]}),e}function ei(){Object.keys(ee.lang.en).map(function(e){ee.textKeys[e]=e})}function en(e,t){var i=e.LANG;if(!t&&(t=ee),!!t.lang){var n=e.TEXT||{};"zh"===i&&(i="zh-cn"),t.lang[i]?et(t.lang[i],n):(t.langKeys.push(i),t.lang[i]=n),ei()}}en({LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}});var er={get textKeys(){return ee.textKeys},get langKeys(){return ee.langKeys},get lang(){var eo={};return ee.langKeys.map(function(e){eo[e]=ee.lang[e]}),ee.lang["zh-cn"]&&(eo.zh=ee.lang["zh-cn"]||{}),eo},extend:function(e,t){var i=[];if(!t&&(t=ee),!!t.lang){i="Array"!==l.ZP.typeOf(e)?Object.keys(e).map(function(t){return{LANG:"zh"===t?"zh-cn":t,TEXT:e[t]}}):e;var n=t.lang;i.map(function(e){"zh"===e.LANG&&(e.LANG="zh-cn"),n[e.LANG]?et(n[e.LANG]||{},e.TEXT||{}):en(e,t)}),ei()}},use:en,init:function(e){var t,i={lang:{},langKeys:[],textKeys:{},pId:e};return et(i.lang,ee.lang),(t=i.langKeys).push.apply(t,X(ee.langKeys)),et(i.textKeys,ee.textKeys),i}};function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==es(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==es(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===es(t)?t:String(t)}(n.key),n)}}function eu(e,t){return(eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function el(e){return(el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ec={},ef=null,eh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eu(e,t)}(a,e);var t,i,n,r,o,s=(t=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=el(t);return e=i?Reflect.construct(n,arguments,el(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===es(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),s.apply(this,arguments)}return n=a,r=[{key:"add",value:function(e){if(!!e)ec[e.playerId]=e,1===Object.keys(ec).length&&this.setActive(e.playerId,!0)}},{key:"remove",value:function(e){if(!!e){var t=e.isUserActive;delete ec[e.playerId]}}},{key:"_iterate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var i in ec)if(Object.prototype.hasOwnProperty.call(ec,i)){var n=ec[i];if(t){if(e(n))break}else e(n)}}},{key:"forEach",value:function(e){this._iterate(e)}},{key:"find",value:function(e){var t=null;return this._iterate(function(i){var n=e(i);return n&&(t=i),n},!0),t}},{key:"findAll",value:function(e){var t=[];return this._iterate(function(i){e(i)&&t.push(i)}),t}},{key:"setActive",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!!ec[e]){if(t){var i=!1;this.forEach(function(t){e===t.playerId?(!t.isUserActive&&(i=!0),t.isUserActive=!0,t.isInstNext=!1):t.isUserActive=!1}),i&&this.emit("activeChanged")}else ec[e].isUserActive=t;return e}}},{key:"getActiveId",value:function(){for(var e=Object.keys(ec),t=0;t<e.length;t++){var i=ec[e[t]];if(i&&i.isUserActive)return e[t]}return null}},{key:"setNext",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!!ec[e])return t?this.forEach(function(t){e===t.playerId?(t.isUserActive=!1,t.isInstNext=!0):t.isInstNext=!1}):ec[e].isInstNext=t,e}}],o=[{key:"getInstance",value:function(){return ef||(ef=new a),ef}}],r&&ea(n.prototype,r),o&&ea(n,o),Object.defineProperty(n,"prototype",{writable:!1}),a}(s.EventEmitter);function ed(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function eg(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(i),!0).forEach(function(t){e_(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ed(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ev(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ek(n.key),n)}}function ey(){return(ey="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eE(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}}).apply(this,arguments)}function em(e,t){return(em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eb(e,t){if(t&&("object"===ep(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eP(e)}function eP(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eE(e){return(eE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e_(e,t,i){return(t=ek(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ek(e){var t=function(e,t){if("object"!==ep(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==ep(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ep(t)?t:String(t)}var eC=["play","pause","replay","retry","playnext"],ew=0,eS=0,eT=null,eO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&em(e,t)}(a,e);var t,i,n,r,o,s=(t=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eE(t);return e=i?Reflect.construct(n,arguments,eE(this).constructor):n.apply(this,arguments),eb(this,e)});function a(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);var t,i=l.ZP.deepMerge(D(),e);e_(eP(t=s.call(this,i)),"canPlayFunc",function(){if(!!t.config){var e=t.config,i=e.autoplay,n=e.startTime,r=e.defaultPlaybackRate;q.Z.logInfo("player","canPlayFunc, startTime",n),n&&(t.currentTime=n>t.duration?t.duration:n,t.config.startTime=0),t.playbackRate=r,i&&t.videoPlay(),t.off(g.rQ,t.canPlayFunc),t.removeClass(B.Z.ENTER)}}),e_(eP(t),"onFullscreenChange",function(e,i){var n=function(){l.ZP.setTimeout(eP(t),function(){t.getVideoSize()},100)},r=l.ZP.getFullScreenEl();t._fullActionFrom?t._fullActionFrom="":t.emit(g.xf,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:t.currentTime,duration:t.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var o=(0,l.F7)(r,t.playerId,T.wo);if(i||r&&(r===t._fullscreenEl||o))n(),t.config.closeFocusVideoFocus||t.video.focus(),t.fullscreen=!0,t.emit(g.GS,!0,t._fullScreenOffset),t.cssfullscreen&&t.exitCssFullscreen();else if(t.fullscreen){n();var s=eP(t),a=s._fullScreenOffset;s.config.needFullscreenScroll?(window.scrollTo(a.left,a.top),l.ZP.setTimeout(eP(t),function(){t.fullscreen=!1,t._fullScreenOffset=null},100)):(t.config.closeFocusVideoFocus||t.video.focus(),t.fullscreen=!1,t._fullScreenOffset=null),t.cssfullscreen?t.removeClass(B.Z.FULLSCREEN):t.recoverFullStyle(t.root,t._fullscreenEl,B.Z.FULLSCREEN),t._fullscreenEl=null,t.emit(g.GS,!1)}}),e_(eP(t),"_onWebkitbeginfullscreen",function(e){t._fullscreenEl=t.video,t.onFullscreenChange(e,!0)}),e_(eP(t),"_onWebkitendfullscreen",function(e){t.onFullscreenChange(e,!1)}),(0,U.ZP)(eP(t),eC),t.config=i,t._pluginInfoId=l.ZP.generateSessionId(),(0,q.w)(eP(t));var n=t.constructor.defaultPreset;if(t.config.presets.length){var r=t.config.presets.indexOf("default");r>=0&&n&&(t.config.presets[r]=n)}else n&&t.config.presets.push(n);return(t.userTimer=null,t.waitTimer=null,t.isReady=!1,t.isPlaying=!1,t.isError=!1,t.isSeeking=!1,t.isCanplay=!1,t._runPending=!1,t.rotateDeg=0,t.isActive=!1,t.isBufferControlPaused=!1,t.isCssfullScreen=!1,t.fullscreen=!1,t._fullscreenEl=null,t._cssfullscreenEl=null,t.curDefinition=null,t._orgCss="",t._fullScreenOffset=null,t._videoHeight=0,t._videoWidth=0,t.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},t.sizeInfo={width:0,height:0,left:0,top:0},t._accPlayed={t:0,acc:0,loopAcc:0},t.innerContainer=null,t.controls=null,t.topBar=null,t.topBar=null,t.root=null,t.__i18n=er.init(),p.Z.os.isAndroid&&p.Z.osVersion>0&&p.Z.osVersion<6&&(t.config.autoplay=!1),t.database=new S,t.isUserActive=!1,t._onceSeekCanplay=null,t._isPauseBeforeSeek=0,t.innerStates={isActiveLocked:!1},t.instManager=eT,t._initDOM())?(t._bindEvents(),t._registerPresets(),t._registerPlugins(),Z.onPluginsReady(eP(t)),l.ZP.setTimeout(eP(t),function(){t.emit(g.Rc),t.onReady&&t.onReady(),t.isReady=!0},0),t.getInitDefinition(),t.syncFullstate(),(t.config.videoInit||t.config.autoplay)&&!t.hasStart&&t.start(),t):eb(t)}return n=a,r=[{key:"_initDOM",value:function(){var e,t=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var i=this.config.el;if(!i||1!==i.nodeType)return this.emit(g.pn,new d("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),!1;this.root=i}var n=function(e){for(var t=Object.keys(ec),i=0;i<t.length;i++){var n=ec[t[i]];if(n.root===e)return n}return null}(this.root);n&&(q.Z.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),n.destroy()),this.root.setAttribute(T.wo,this.playerId),null===(e=eT)||void 0===e||e.add(this),Z.init(this),this._initBaseDoms();var r=this.constructor.XgVideoProxy;if(r&&this.videoConfig.mediaType===r.mediaType){var o=this.innerContainer||this.root;this.detachVideoEvents(this.video);var s=new r(o,this.config,this.videoConfig);this.attachVideoEvents(s),this.video=s}if(this.video.setAttribute(T.wo,this.playerId),this.config.controls){var a=Z.register(this,Q);this.controls=a}var u="mobile"===this.config.isMobileSimulateMode?"mobile":p.Z.device;if(this.addClass("".concat(B.Z.DEFAULT," ").concat(B.Z.ACTIVE," xgplayer-").concat(u," ").concat(this.config.controls?"":B.Z.NO_CONTROLS)),this.config.autoplay?this.addClass(B.Z.ENTER):this.addClass(B.Z.NO_START),this.config.fluid){var l={"max-width":"100%",width:"100%",height:"0","padding-top":"".concat(100*this.config.height/this.config.width,"%"),position:"position",top:"0",left:"0"};Object.keys(l).map(function(e){t.root.style[e]=l[e]})}else["width","height"].map(function(e){t.config[e]&&("number"!=typeof t.config[e]?t.root.style[e]=t.config[e]:t.root.style[e]="".concat(t.config[e],"px"))});var c=this.root.getBoundingClientRect(),f=c.width,h=c.height,v=c.left,y=c.top;return this.sizeInfo.width=f,this.sizeInfo.height=h,this.sizeInfo.left=v,this.sizeInfo.top=y,!0}},{key:"_initBaseDoms",value:function(){this.topBar=l.ZP.createDom("xg-bar","",{"data-index":-1},"xg-top-bar"),this.leftBar=l.ZP.createDom("xg-bar","",{"data-index":-1},"xg-left-bar"),this.rightBar=l.ZP.createDom("xg-bar","",{"data-index":-1},"xg-right-bar"),this.config.marginControls&&(this.innerContainer=l.ZP.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer)),this.root.appendChild(this.topBar),this.root.appendChild(this.leftBar),this.root.appendChild(this.rightBar)}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach(function(t){e.on(t,e["on"+t.charAt(0).toUpperCase()+t.slice(1)])}),T.tn.forEach(function(t){document&&document.addEventListener(t,e.onFullscreenChange)}),p.Z.os.isIos&&(this.video.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.video.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once("loadeddata",this.getVideoSize),this.playFunc=function(){!e.config.closeFocusVideoFocus&&e.video.focus()},this.once("play",this.playFunc),this.on(g.SV,this.onBufferControl)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),T.tn.forEach(function(t){document.removeEventListener(t,e.onFullscreenChange)}),this.playFunc&&this.off("play",this.playFunc),this.off("canplay",this.canPlayFunc),this.video.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.video.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_startInit",value:function(e){var t=this;if(!!this.video&&(!!e&&""!==e&&("Array"!==l.ZP.typeOf(e)||0!==e.length)||(e="",this.emit(g.nc),q.Z.logWarn("config.url is null, please get url and run player._startInit(url)"),!this.config.nullUrlStart))){this._detachSourceEvents(this.video),"Array"===l.ZP.typeOf(e)&&e.length>0?this._attachSourceEvents(this.video,e):this.video.src&&this.video.src===e?!e&&this.video.removeAttribute("src"):this.video.src=e,"Number"===l.ZP.typeOf(this.config.volume)&&(this.volume=this.config.volume);var i=this.innerContainer?this.innerContainer:this.root;this.video instanceof window.Element&&!i.contains(this.video)&&i.insertBefore(this.video,i.firstChild);var n=this.video.readyState;q.Z.logInfo("_startInit readyState",n),this.config.autoplay&&(l.ZP.isMSE(this.video)||this.load(),(p.Z.os.isIpad||p.Z.os.isPhone)&&this.videoPlay()),n>=2?this.canPlayFunc():this.once(g.rQ,this.canPlayFunc),l.ZP.setTimeout(this,function(){t.isComplete=!0,t.emit(g.ly)},1),!this.hasStart&&Z.afterInit(this),this.hasStart=!0}}},{key:"_registerPlugins",value:function(){var e=this,t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this._loadingPlugins=[];var i=this.config.ignores||[],n=this.config.plugins||[],r=this.config.i18n||[];t&&er.extend(r,this.__i18n);var o=i.join("||").toLowerCase().split("||"),s=this.plugins;n.forEach(function(i){try{var n=i.plugin?i.plugin.pluginName:i.pluginName;if(!n)return;var r=n.toLowerCase(),a=e.config[r]||e.config[n];if("Boolean"===l.ZP.typeOf(a)&&!a||o.indexOf(r)>-1||!t&&s[r])return;if(i.lazy&&i.loader){var u=Z.lazyRegister(e,i);i.forceBeforeInit&&(u.then(function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(u),1)}).catch(function(t){q.Z.logError("_registerPlugins:loadingPlugin",t),e._loadingPlugins.splice(e._loadingPlugins.indexOf(u),1)}),e._loadingPlugins.push(u));return}return e.registerPlugin(i)}catch(e){q.Z.logError("_registerPlugins:",e)}})}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach(function(t){M(e,t)})}},{key:"_getRootByPosition",value:function(e){var t=null;switch(e){case O.kd.ROOT_RIGHT:t=this.rightBar;break;case O.kd.ROOT_LEFT:t=this.leftBar;break;case O.kd.ROOT_TOP:t=this.topBar;break;default:t=this.innerContainer||this.root}return t}},{key:"registerPlugin",value:function(e,t){var i=Z.formatPluginInfo(e,t),n=i.PLUFGIN,r=i.options,o=this.config.plugins;Z.checkPluginIfExits(n.pluginName,o)||o.push(n);var s=Z.getRootByConfig(n.pluginName,this.config);s.root&&(r.root=s.root),s.position&&(r.position=s.position);var a=r.position?r.position:r.config&&r.config.position||n.defaultConfig&&n.defaultConfig.position;return!r.root&&"string"==typeof a&&a.indexOf("controls")>-1?this.controls&&this.controls.registerPlugin(n,r,n.pluginName):(!r.root&&(r.root=this._getRootByPosition(a)),Z.register(this,n,r))}},{key:"deregister",value:function(e){var t,i,n=Z.unRegister(this,"string"==typeof e?e:e.pluginName);n&&null!==(t=this.config)&&void 0!==t&&t.unregisterPluginFromControls&&(null===(i=this.controls)||void 0===i||i.unregisterPlugin(n))}},{key:"unRegisterPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!!e)this.deregister(e),t&&this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var t;if("string"==typeof e?t=e:e instanceof A.ZP&&(t=e.pluginName),!!t){for(var i=this.config.plugins.length-1;i>-1;i--)if(this.config.plugins[i].pluginName.toLowerCase()===t.toLowerCase()){this.config.plugins.splice(i,1);break}}}},{key:"plugins",get:function(){return Z.getPlugins(this)}},{key:"getPlugin",value:function(e){var t=Z.findPlugin(this,e);return t&&t.pluginName?t:null}},{key:"addClass",value:function(e){if(!!this.root)!l.ZP.hasClass(this.root,e)&&l.ZP.addClass(this.root,e)}},{key:"removeClass",value:function(e){if(!!this.root)l.ZP.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(!!this.root)return l.ZP.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,t){if(!!this.root)this.root.setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){if(!!this.root)this.root.removeAttribute(e,t)}},{key:"start",value:function(e){var t=this;if(!this.hasStart)return!e&&!this.config.url&&this.getInitDefinition(),this.hasStart=!0,this._registerPlugins(!1),Z.beforeInit(this).then(function(){if(!!t.config){!e&&(e=t.url||t.config.url);var i=t.preProcessUrl(e);return t._startInit(i.url)}}).catch(function(e){throw e.fileName="player",e.lineNumber="236",q.Z.logError("start:beforeInit:",e),e})}},{key:"switchURL",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i=e;"Object"===l.ZP.typeOf(e)&&(i=e.url);var n=this.currentTime,r=this.paused&&!this.isError;return this.src=i,new Promise(function(e){var i=function(){t.currentTime=n,r&&t.once("canplay",function(){t.pause()}),e()};p.Z.os.isAndroid?t.once("timeupdate",function(){i()}):t.once("canplay",function(){i()}),t.play()})}},{key:"videoPlay",value:function(){var e=this;if(!this.hasStart){this.removeClass(B.Z.NO_START),this.addClass(B.Z.ENTER);var t=this.start();t&&t.then(function(t){e.config.autoplay||e.videoPlay()});return}!this.isPlaying&&(this.removeClass(B.Z.NO_START),this.isCanplay||this.addClass(B.Z.ENTER));var i=ey(eE(a.prototype),"play",this).call(this);return void 0!==i&&i&&i.then?i.then(function(){e.removeClass(B.Z.NOT_ALLOW_AUTOPLAY),e.addClass(B.Z.PLAYING),!e.isPlaying&&(q.Z.logInfo(">>>>playPromise.then"),e.isPlaying=!0,e.emit(g.Pl))}).catch(function(t){if(q.Z.logWarn(">>>>playPromise.catch",t.name),e.video&&e.video.error){e.onError(),e.removeClass(B.Z.ENTER);return}"NotAllowedError"===t.name&&(e._errorTimer=l.ZP.setTimeout(e,function(){e._errorTimer=null,e.emit(g.lB),e.addClass(B.Z.NOT_ALLOW_AUTOPLAY),e.removeClass(B.Z.ENTER),e.pause()},0)),"AbortError"===t.name&&(e._errorTimer=l.ZP.setTimeout(e,function(){e._errorTimer=null,e.emit(g.mL)},0))}):(q.Z.logWarn("video.play not return promise"),!this.isPlaying&&(this.isPlaying=!0,this.removeClass(B.Z.NOT_ALLOW_AUTOPLAY),this.removeClass(B.Z.NO_START),this.removeClass(B.Z.ENTER),this.addClass(B.Z.PLAYING),this.emit(g.Pl))),i}},{key:"videoPause",value:function(){ey(eE(a.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;this.removeClass(B.Z.PAUSED),(0,U.rl)(this,"play",function(){e.videoPlay()})}},{key:"pause",value:function(e){var t=this;(0,U.rl)(this,"pause",function(){e===T.Im.BUFFER_CONTROLS?!t.isBufferControlPaused&&(t.isBufferControlPaused=!0,t.emit(g.SV,{type:T._3.WAITING})):t.isBufferControlPaused&&(t.isBufferControlPaused=!1,t.emit(g.SV,{type:T._3.PLAYING})),ey(eE(a.prototype),"pause",t).call(t)},e)}},{key:"seek",value:function(e,t){var i=this;if(!(!this.video||Number.isNaN(Number(e)))&&!!this.hasStart){var n=this.config,r=n.isSeekedPlay,o=n.seekedStatus,s=t||(r?"play":o);e=e<0?0:e>this.duration?parseInt(this.duration,10):e,this._isPauseBeforeSeek||(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(g.kL,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(i.removeClass(B.Z.ENTER),i.isSeeking=!1,s){case"play":i.play();break;case"pause":i.pause();break;default:i._isPauseBeforeSeek>1||i.paused?i.pause():i.play()}i._isPauseBeforeSeek=0,i._onceSeekCanplay=null},this.once(g.kL,this._onceSeekCanplay),this.isPlaying?this.currentTime=e:(this.removeClass(B.Z.NO_START),this.currentTime=e,this.play())}}},{key:"getInitDefinition",value:function(){var e=this,t=this.config,i=t.definition;!t.url&&i&&i.list&&i.list.length>0&&i.defaultDefinition&&i.list.map(function(t){t.definition===i.defaultDefinition&&(e.config.url=t.url,e.curDefinition=t.definition)})}},{key:"changeDefinition",value:function(e,t){var i=this,n=this.config.definition;if(Array.isArray(null==n?void 0:n.list)&&n.list.forEach(function(t){(null==e?void 0:e.definition)===t.definition&&(i.curDefinition=t)}),null!=e&&e.bitrate&&"number"!=typeof e.bitrate&&(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(g.Hr,{from:t,to:e}),!this.hasStart){this.config.url=e.url;return}var r=this.switchURL(e.url);r&&r.then?r.then(function(){i.emit(g.o8,{from:t,to:e})}):this.emit(g.o8,{from:t,to:e})}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once("loadeddata",this.reloadFunc)}},{key:"resetState",value:function(){var e=this,t=B.Z.NOT_ALLOW_AUTOPLAY,i=B.Z.PLAYING,n=B.Z.NO_START,r=B.Z.PAUSED,o=B.Z.REPLAY,s=B.Z.ENTER,a=B.Z.ENDED,u=B.Z.ERROR,l=B.Z.LOADING;this.hasStart=!1,this.isError=!1,this.isPlaying=!1,this.videoPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,[t,i,n,r,o,s,a,u,l].forEach(function(t){e.removeClass(t)}),this.addClass(B.Z.ENTER),this.emit(g.td)}},{key:"reset",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;if(this.resetState(),!!this.plugins){if(t.map(function(t){e.deregister(t)}),i){var n=D();Object.keys(this.config).keys(function(t){"undefined"!==e.config[t]&&("plugins"===t||"presets"===t||"el"===t||"id"===t)&&(e.config[t]=n[t])})}}}},{key:"destroy",value:function(){var e,t=this,i=this.innerContainer,n=this.root,r=this.video;if(!!n&&!!r){if(n.removeAttribute(T.wo),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.video),l.ZP.clearAllTimers(this),this.emit(g.Kn),null===(e=eT)||void 0===e||e.remove(this),Z.destroy(this),(0,U.Qs)(this),ey(eE(a.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root)try{this.exitFullscreen()}catch(e){}if(i){for(var o=i.children,s=0;s<o.length;s++)i.removeChild(o[s])}!i&&r instanceof window.Node&&n.contains(r)&&r.parentNode.removeChild(r),["topBar","leftBar","rightBar","innerContainer"].map(function(e){t[e]&&n.removeChild(t[e]),t[e]=null});var u=n.className.split(" ");u.length>0?n.className=u.filter(function(e){return 0>e.indexOf("xgplayer")}).join(" "):n.className="",this.removeAttribute("data-xgfill"),["isReady","isPlaying","isSeeking","isCanplay","isActive","isCssfullScreen","fullscreen"].map(function(e){t[e]=!1})}}},{key:"replay",value:function(){var e=this;this.removeClass(B.Z.ENDED),this.currentTime=0,this.isSeeking=!1,(0,U.rl)(this,"replay",function(){e.once(g.kL,function(){var t=e.videoPlay();t&&t.catch&&t.catch(function(e){})}),e.play(),e.emit(g.t6),e.onPlay()})}},{key:"retry",value:function(){var e=this;this.removeClass(B.Z.ERROR),this.addClass(B.Z.LOADING),(0,U.rl)(this,"retry",function(){var t=e.currentTime;e.src=e.config.url,e.config.isLive||(e.currentTime=t),e.once(g.rQ,function(){e.videoPlay()})})}},{key:"syncFullstate",value:function(){var e=l.ZP.getFullScreenEl();e&&e===this.config.fullscreenTarget&&(this.fullscreen=!0,this._fullscreenEl=e,!this._orgPCss&&(this._orgPCss=l.ZP.filterStyleFromText(e)))}},{key:"changeFullStyle",value:function(e,t,i,n){if(!!e)!n&&(n=B.Z.PARENT_FULLSCREEN),!this._orgCss&&(this._orgCss=l.ZP.filterStyleFromText(e)),l.ZP.addClass(e,i),t&&t!==e&&!this._orgPCss&&(this._orgPCss=l.ZP.filterStyleFromText(t),l.ZP.addClass(t,n),t.setAttribute(T.wo,this.playerId))}},{key:"recoverFullStyle",value:function(e,t,i,n){!n&&(n=B.Z.PARENT_FULLSCREEN),this._orgCss&&(l.ZP.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),l.ZP.removeClass(e,i),t&&t!==e&&this._orgPCss&&(l.ZP.setStyleFromCsstext(t,this._orgPCss),this._orgPCss="",l.ZP.removeClass(t,n),t.removeAttribute(T.wo))}},{key:"getFullscreen",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget,i=this.root,n=this.video;if(!t&&(t=i),this._fullScreenOffset={top:l.ZP.scrollTop(),left:l.ZP.scrollLeft()},this._fullscreenEl=t,this._fullActionFrom="get",this.emit(g.ml),l.ZP.getFullScreenEl()===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var r=0;r<T.ZD.length;r++){var o=function(){var i=T.ZD[r];if(t[i]){var n="webkitRequestFullscreen"===i?t.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):t[i]();return n&&n.then?(n.then(function(){"get"===e._fullActionFrom&&e.changeFullStyle(e.root,t,B.Z.FULLSCREEN)}).catch(function(e){q.Z.logWarn("".concat(i,": ").concat((null==e?void 0:e.message)||"getFullscreen fail"))}),{v:n}):(e.changeFullStyle(e.root,t,B.Z.FULLSCREEN),{v:Promise.resolve()})}}();if("object"===ep(o))return o.v}if(n.fullscreenEnabled||n.webkitSupportsFullscreen)return n.webkitEnterFullscreen(),Promise.resolve();return Promise.reject(Error("call getFullscreen fail"))}catch(e){return Promise.reject(e)}}},{key:"exitFullscreen",value:function(e){if(!!this._fullscreenEl||!!l.ZP.getFullScreenEl()){var t=this.root,i=this.video;e&&(e=t),this._fullActionFrom="exit";for(var n=0;n<T.Pw.length;n++){var r=T.Pw[n];if(document[r]){var o=document[r]();if(o&&o.then)return o;return Promise.resolve()}}return i&&i.webkitSupportsFullscreen?(i.webkitExitFullScreen(),Promise.resolve()):Promise.reject(Error("call exitFullscreen fail"))}}},{key:"getCssFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.fullscreen&&this.exitFullscreen(),this._cssfullscreenEl=e,this.changeFullStyle(this.root,e,e?B.Z.INNER_FULLSCREEN:B.Z.CSS_FULLSCREEN),this.isCssfullScreen=!0,this.emit(g.HW,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?B.Z.INNER_FULLSCREEN:B.Z.CSS_FULLSCREEN;this.fullscreen?this.removeClass(e):this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this._cssfullscreenEl=null,this.isCssfullScreen=!1,this.emit(g.HW,!1)}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};if(this.isActive){this.onFocus(e);return}this.emit(g.FU,eg({paused:this.paused,ended:this.ended},e))}},{key:"blur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ignorePaused:!1};if(!this.isActive){this.onBlur(e);return}this.emit(g.Z$,eg({paused:this.paused,ended:this.ended},e))}},{key:"onFocus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!0,delay:3e3},i=this.innerStates;if(this.isActive=!0,this.removeClass(B.Z.ACTIVE),this.userTimer&&(l.ZP.clearTimeout(this,this.userTimer),this.userTimer=null),void 0!==t.isLock&&(i.isActiveLocked=t.isLock),!1===t.autoHide||!0===t.isLock||i.isActiveLocked){this.userTimer&&(l.ZP.clearTimeout(this,this.userTimer),this.userTimer=null);return}var n=t&&t.delay?t.delay:this.config.inactive;this.userTimer=l.ZP.setTimeout(this,function(){e.userTimer=null,e.blur()},n)}},{key:"onBlur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ignorePaused:!1};if(!!this.isActive&&!this.innerStates.isActiveLocked){var t=this.config.closePauseVideoFocus;this.isActive=!1,(e.ignorePaused||t||!this.paused&&!this.ended)&&this.addClass(B.Z.ACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.hasStart&&this.removeClass(B.Z.ENTER),this.isBufferControlPaused||this.removeClass(B.Z.LOADING),this.isCanplay=!0,this.waitTimer&&l.ZP.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){this.isError=!1}},{key:"onPlay",value:function(){this.removeClass(B.Z.PAUSED),this.ended&&this.removeClass(B.Z.ENDED),this.config.closePlayVideoFocus||this.focus()}},{key:"onPause",value:function(){this.isBufferControlPaused||this.addClass(B.Z.PAUSED),this.updateAcc("pause"),!this.config.closePauseVideoFocus&&(this.userTimer&&(l.ZP.clearTimeout(this,this.userTimer),this.userTimer=null),this.focus())}},{key:"onEnded",value:function(){this.isBufferControlPaused=!1,this.updateAcc("ended"),this.addClass(B.Z.ENDED)}},{key:"onError",value:function(){this.isBufferControlPaused=!1,this.isError=!0,this.updateAcc("error"),this.removeClass(B.Z.NOT_ALLOW_AUTOPLAY),this.removeClass(B.Z.NO_START),this.removeClass(B.Z.ENTER),this.removeClass(B.Z.LOADING),this.addClass(B.Z.ERROR)}},{key:"onSeeking",value:function(){!this.isSeeking&&this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(B.Z.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&l.ZP.clearTimeout(this,this.waitTimer),this.removeClass(B.Z.LOADING),this.removeClass(B.Z.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&l.ZP.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=l.ZP.setTimeout(this,function(){e.addClass(B.Z.LOADING),l.ZP.clearTimeout(e,e.waitTimer),e.waitTimer=null},200)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1;var t=B.Z.NO_START,i=B.Z.PAUSED,n=B.Z.ENDED,r=B.Z.ERROR,o=B.Z.REPLAY,s=B.Z.LOADING;[t,i,n,r,o,s].forEach(function(t){e.removeClass(t)})}},{key:"onTimeupdate",value:function(){this._videoHeight||this.getVideoSize(),(this.waitTimer||this.hasClass(B.Z.LOADING))&&this.video.readyState>2&&(this.isBufferControlPaused||this.removeClass(B.Z.LOADING),l.ZP.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&!this.isPlaying&&this.duration&&(this.isPlaying=!0,this.emit(g.Pl)),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){"Number"===l.ZP.typeOf(this.config.volume)&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"onBufferControl",value:function(e){if(!!this.isPlaying)"waiting"===e.type?(this.isBufferControlPaused=!0,this.addClass(B.Z.LOADING),this.removeClass(B.Z.PAUSED)):"playing"===e.type&&(this.isBufferControlPaused=!1,this.removeClass(B.Z.LOADING),this.paused&&this.addClass(B.Z.PAUSED))}},{key:"emitUserAction",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!!this.video&&!!t&&!!e){var n="String"===l.ZP.typeOf(e)?e:e.type||"";"switch_play_pause"===t&&("Undefined"===l.ZP.typeOf(i.paused)&&(i.paused=this.paused),i.isFirstStart=!this.playing),this.emit(g.xf,eg({eventType:n,action:t,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},i))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var t=new Date().getTime(),i=t-this._accPlayed.t;if(!(i<0))this._accPlayed.acc+=i,this._accPlayed.t="get"===e?t:0,("ended"===e||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(e){var t=this.video.buffered;if(!t||0===t.length||!this.duration)return!0;for(var i=parseInt(1e3*(e||this.video.currentTime||0),10),n=t.length,r=0;r<n;r++)if(parseInt(1e3*t.start(r),10)+200<=i&&parseInt(1e3*t.end(r),10)-200>i)return!0;return!1}},{key:"resizePosition",value:function(){var e=this.videoPos,t=e.rotate,i=e.vy,n=e.vx,r=e.h,o=e.w;if(t<0&&r<0&&o<0)return;var s=this.videoPos._pi;if(!s&&this.video.videoHeight&&(s=this.video.videoWidth/this.video.videoHeight*100),!!s){this.videoPos.pi=s;var a={},u=0,c=0,f=1,h=t<0?0:Math.abs(t/90),d=this.root,g=this.innerContainer,p=d.offsetWidth,v=g?g.offsetHeight:d.offsetHeight,y=v,m=p,b={width:p,height:v};if(h%2==0)f=r>0?100/r:o>0?100/o:1,a.scale=f,u=i>0?(100-r)/2-i:0,a.y=2===h?0-u:u,c=n>0?(100-o)/2-n:0,a.x=2===h?0-c:c,b.width=m,b.height=y;else if(h%2==1){m=v,y=p;var P=v-p;c=-P/2/m*100,a.x=3===h?c+i/2:c-i/2,u=P/2/y*100,a.y=3===h?u+n/2:u-n/2,a.scale=f,b.width=m,b.height=y}var E=this.video;t>=0&&["width","height"].forEach(function(e){E.style[e]="".concat(b[e],"px")}),a.rotate=t<0?0:t;var _=l.ZP.getTransformStyle(a,this.video.style.transform||this.video.style.webkitTransform);E.style.transform=_,E.style.webkitTransform=_}}},{key:"position",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{h:0,y:0,x:0,w:0};if(!!this.video&&!!e&&!!e.h){var t=this.videoPos;t.h=100*e.h||0,t.w=100*e.w||0,t.vx=100*e.x||0,t.vy=100*e.y||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{deepMerge:!1};if(!!e)Object.keys(e).map(function(n){if("plugins"!==n){i.deepMerge&&"Object"===l.ZP.typeOf(t.config[n])?l.ZP.deepMerge(t.config[n],e[n]):t.config[n]=e[n];var r=t.plugins[n.toLowerCase()];r&&"Function"===l.ZP.typeOf(r.setConfig)&&r.setConfig(e[n],i)}})}},{key:"playNext",value:function(e){var t=this;this.resetState(),this._currentTime=0,this._duration=0,this.isPlaying=!1,this.setConfig(e),this.vtype="MP4",(0,U.rl)(this,"playnext",function(){t.start(),t.emit(g.mW,e)})}},{key:"getVideoSize",value:function(){var e=this;if(!this.video)return;var t=this.root.getBoundingClientRect();this.sizeInfo.width=t.width,this.sizeInfo.height=t.height,this.sizeInfo.left=t.left,this.sizeInfo.top=t.top;var i=this.video,n=i.videoWidth,r=i.videoHeight,o=this.config,s=o.fitVideoSize,a=o.videoFillMode;if(("fill"===a||"cover"===a||"contain"===a)&&this.setAttribute("data-xgfill",a),!!r&&!!n){this._videoHeight=r,this._videoWidth=n;var u=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,l=t.width,c=t.height-u,f=parseInt(n/r*1e3,10),h=parseInt(l/c*1e3,10),d=l,p=c,v={};"auto"===s&&h>f||"fixWidth"===s?(p=l/f*1e3,this.config.fluid?v.paddingTop="".concat(100*p/d,"%"):v.height="".concat(p+u,"px")):("auto"===s&&h<f||"fixHeight"===s)&&(d=f*c/1e3,v.width="".concat(d,"px")),!this.fullscreen&&!this.cssfullscreen&&Object.keys(v).forEach(function(t){e.root.style[t]=v[t]}),("fillHeight"===a&&h<f||"fillWidth"===a&&h>f)&&this.setAttribute("data-xgfill","cover");var y={videoScale:f,vWidth:d,vHeight:p,cWidth:d,cHeight:p+u};this.resizePosition(),this.emit(g.km,y)}}},{key:"updateObjectPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.video.updateObjectPosition){this.video.updateObjectPosition(e,t);return}this.video.style.objectPosition="".concat(100*e,"% ").concat(100*t,"%")}},{key:"preProcessUrl",value:function(e,t){var i=this.config,n=i.preProcessUrl,r=Object.assign({},i.preProcessUrlOptions,t);return l.ZP.isBlob(e)||"function"!=typeof n?{url:e}:n(e,r)}},{key:"src",get:function(){return this.video?this.video.src:""},set:function(e){if(!!this.video){if(this.emit(g.ij,e),this.emit(g.hs),this._currentTime=0,this._duration=0,l.ZP.isMSE(this.video)){this.onWaiting();return}e=this.preProcessUrl(e).url,this._detachSourceEvents(this.video),"Array"===l.ZP.typeOf(e)?this._attachSourceEvents(this.video,e):e?this.video.src=e:this.video.removeAttribute("src"),this.load()}}},{key:"definitionList",get:function(){return this.config&&this.config.definition&&this.config.definition.list||[]},set:function(e){var t=this,i=this.config.definition;i.list=e,this.emit("resourceReady",e);var n=null,r=null;e.map(function(e){t.curDefinition===e.definition&&(n=e),i.defaultDefinition===e.definition&&(r=e)}),!r&&e.length>0&&(r=e[0]),n?this.changeDefinition(n):r&&this.changeDefinition(r)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.video||!this.video.getVideoPlaybackQuality)return e;var t=this.video.getVideoPlaybackQuality();return e.dropped=t.droppedVideoFrames||0,e.total=t.totalVideoFrames||0,e.corrupted=t.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){if(0!==er.langKeys.filter(function(t){return t===e}).length||"zh"===e)this.config.lang=e,Z.setLang(e,this)}},{key:"i18n",get:function(){var e=this.config.lang;return"zh"===e&&(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return u}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&&this.plugins.poster.update(e)}},{key:"readyState",get:function(){var e=ey(eE(a.prototype),"readyState",this);return this.i18n[e]||e}},{key:"error",get:function(){var e=ey(eE(a.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){var e=ey(eE(a.prototype),"networkState",this);return this.i18n[e]||e}},{key:"fullscreenChanging",get:function(){return null!==this._fullScreenOffset}},{key:"cumulateTime",get:function(){var e=this._accPlayed;return this.updateAcc("get"),e.acc}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){if((e=l.ZP.convertDeg(e))%90==0&&e!==this.videoPos.rotate)this.videoPos.rotate=e,this.resizePosition()}},{key:"avgSpeed",get:function(){return eS},set:function(e){eS=e}},{key:"realTimeSpeed",get:function(){return ew},set:function(e){ew=e}},{key:"hook",value:function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],U.z3.call.apply(U.z3,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){return U.xn.call.apply(U.xn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){return U.v8.call.apply(U.v8,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,t,i){for(var n=arguments.length,r=Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];return U.bR.call.apply(U.bR,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,t,i){for(var n=arguments.length,r=Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];return U.g2.call.apply(U.g2,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,t){var i;"boolean"==typeof t&&t!==this.muted&&(this.addInnerOP("volumechange"),this.muted=t),null===(i=eT)||void 0===i||i.setActive(this.playerId,e)}}],o=[{key:"debugger",get:function(){return q.Z.config.debug},set:function(e){q.Z.config.debug=e}},{key:"instManager",get:function(){return eT},set:function(e){eT=e}},{key:"pluginsManager",get:function(){return Z}},{key:"getCurrentUserActivePlayerId",value:function(){var e;return null===(e=eT)||void 0===e?void 0:e.getActiveId()}},{key:"setCurrentUserActive",value:function(e,t){var i;null===(i=eT)||void 0===i||i.setActive(e,t)}},{key:"isHevcSupported",value:function(){return p.Z.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return p.Z.probeConfigSupported(e)}},{key:"install",value:function(e,t){!a.plugins&&(a.plugins={}),!a.plugins[e]&&(a.plugins[e]=t)}},{key:"use",value:function(e,t){!a.plugins&&(a.plugins={}),a.plugins[e]=t}}],r&&ev(n.prototype,r),o&&ev(n,o),Object.defineProperty(n,"prototype",{writable:!1}),a}(k);e_(eO,"defaultPreset",null),e_(eO,"XgVideoProxy",null),eO.instManager=eh.getInstance()}}]);