"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["22151"],{720509:function(e,t,i){i.d(t,{a:function(){return f}});var n=i(520739),l=i(878389),o=i(368200);i(268917),i(874386),i(413806),i(826893);var a=i(563097),r=i(88648),s=i(529719),u=i(713097),d=i.n(u),c=i(327984);let f=e=>{let{href:t="",children:i,style:u,className:f,spa:h,isNeedSeoOpt:v=!1,refEl:m}=e,g=(0,o._)(e,["href","children","style","className","spa","isNeedSeoOpt","refEl"]),_=(0,r.useRef)(null),p=(0,r.useMemo)(()=>{let e,i;if(!t)return;let n=t.indexOf("#");-1!==n?(e=t.slice(0,n),i=t.slice(n+1)):(e=t,i="");let l=e.indexOf("?"),o="",a="";-1!==l?(o=e.slice(0,l),a=e.slice(l+1)):(o=e,a="");let r=[];return(a&&r.push(a),r.length>0)?[o,r.join("&")].join("?")+(i&&`#${i}`):o+(i&&`#${i}`)},[t]),y=p;return v&&!h&&y&&([y]=y.split("#"),[y]=y.split("?")),h?(0,a.jsx)(c.Link,(0,l._)((0,n._)({to:p,className:d()(s.default.aLink,f),style:u},g),{children:i})):(0,a.jsx)("a",(0,l._)((0,n._)({href:y,className:d()(s.default.aLink,f),style:u,ref:e=>{_.current=e,m&&(m.current=e)}},g),{target:g.target,onClick:e=>{try{var t;_.current.href=p,null==g||null===(t=g.onClick)||void 0===t||t.call(g,e)}catch(e){}},children:i}))}},228495:function(e,t,i){i.d(t,{q:function(){return s}}),i(874386);var n=i(563097),l=i(88648),o=i(44402),a=i(713097),r=i.n(a);let s=e=>{let{type:t="default",src:i,alt:a="",isSpider:s=!1}=e,[u,d]=(0,l.useState)(0),c=i&&(1===u||s),f=()=>{d(1)};return(0,l.useEffect)(()=>{if(!i)return;let e=!1,t=new Image;t.onload=function(){if(!e)e=!0,f(),t=null},t.onerror=function(){if(!e)e=!0,d(-1),t=null};let n=setTimeout(()=>{e=!0,f()},3e3);return t.src=i,()=>{t&&(t.onload=null,t.onerror=null),clearTimeout(n)}},[i]),(0,n.jsx)("div",{className:r()(o.default.avatar,o.default[t]),children:c?(0,n.jsx)("img",{src:i,alt:a,className:o.default.image,onError:()=>{d(-1)},onLoad:f}):(0,n.jsx)("div",{className:o.default.icon,children:(0,n.jsx)("div",{className:r()(o.default[t],o.default.avatarIcon)})})})}},312065:function(e,t,i){i.d(t,{C:function(){return n}});var n={iframe:"iframe",liveCard:"live_card",liveSmallCard:"live_small_card",liveCarousel:"live_carousel",liveDetail:"live_detail",mediaDetail:"live_media_detail",smallWindow:"live_small_window",liveCollege:"live_college",liveSearch:"live_search",liveSlider:"live_slider",liveFeedFull:"live_feed_full",liveModal:"live_modal"}},469554:function(e,t,i){i.d(t,{EJ:function(){return c},G3:function(){return h},J2:function(){return d},eD:function(){return f}});var n=i(563097);i(88648);var l=i(713097),o=i.n(l),a=i(199013),r=i(234216),s=i(960103),u=i(473677);let d=e=>{let{className:t="",svgClassName:i=""}=e;return(0,n.jsxs)("div",{className:o()(a.default.PictureWordIconContainer,t),children:[(0,n.jsx)(u.Z,{className:o()(a.default.icon,i),src:r.Z,width:12,height:12,viewBox:"0 0 12 12"}),"图文"]})},c=e=>{let{className:t="",svgClassName:i=""}=e;return(0,n.jsxs)("div",{className:o()(a.default.PictureWordIconContainer,t),children:[(0,n.jsx)(u.Z,{className:o()(a.default.icon,i),src:s.Z,width:12,height:12,viewBox:"0 0 12 12"}),"动图"]})},f=e=>{let{className:t=""}=e;return(0,n.jsx)("div",{className:o()(a.default.PictureIconContainer,t),children:(0,n.jsx)(u.Z,{src:r.Z,width:12,height:12,viewBox:"0 0 12 12"})})},h=e=>{let{className:t=""}=e;return(0,n.jsx)("div",{className:o()(a.default.PictureIconContainer,t),children:(0,n.jsx)(u.Z,{src:s.Z,width:12,height:12,viewBox:"0 0 12 12"})})}},235755:function(e,t,i){i.d(t,{IT:function(){return l},hp:function(){return n},ie:function(){return o},nz:function(){return a}}),i(927234),i(527785),i(675373),i(874386),i(352982),i(309931);async function n(e){var t;let{pipId:i,width:n,height:l}=e,o=await documentPictureInPicture.requestWindow({width:n,height:l});return o.name=i,t=o,Array.from(document.styleSheets).forEach(e=>{try{let i=Array.from(e.cssRules).map(e=>e.cssText).join(""),n=document.createElement("style");n.textContent=i,t.document.head.appendChild(n)}catch(n){let i=document.createElement("link");if(null===e.href)return;i.rel="stylesheet",i.type=e.type,i.media=e.media.toString(),i.href=e.href,t.document.head.appendChild(i)}}),!function(e){let t=new MutationObserver(t=>{try{let i=t.reduce((e,t)=>"childList"!==t.type?e:e.concat(Array.from(t.addedNodes).filter(e=>e instanceof HTMLLinkElement||e instanceof HTMLStyleElement)),[]);if(0===i.length)return;let n=document.createDocumentFragment();i.forEach(e=>n.appendChild(e.cloneNode())),e.document.head.appendChild(n)}catch(e){}});t.observe(document.head,{attributes:!1,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!1}),e.addEventListener("pagehide",()=>{t.disconnect()})}(o),o}let l=e=>{var t,i;return"undefined"!=typeof window&&(null===(i=window.documentPictureInPicture)||void 0===i?void 0:null===(t=i.window)||void 0===t?void 0:t.name)===e};function o(){if("undefined"==typeof document)return;let e=document.createElement("div");return e.classList.add("pip-anchor"),e}function a(){try{let{innerHeight:e,outerHeight:t}=documentPictureInPicture.window;return t-e>4}catch(e){return!1}}},138593:function(e,t,i){i.d(t,{T3:function(){return h}});var n=i("520739"),l=i("878389"),o=i("368200");i("874386");var a=i("563097"),r=i("88648"),s=i("713097"),u=i.n(s),d=i("330746"),c=i("782563"),f=i("173018");let h=e=>{var t,i,s,h,v,m,g,_,p;let y;let{awemeInfo:w,useServerFilterCover:x=(0,d.b_)()||(0,d.Sb)()||(0,c.tq)(),className:S,maskClassName:A,abtestData:C,priorityServerBackupBg:N}=e,b=(0,o._)(e,["awemeInfo","useServerFilterCover","className","maskClassName","abtestData","priorityServerBackupBg"]),k=!1,I=!1,E=!!(null==w?void 0:null===(t=w.video)||void 0===t?void 0:t.gaussianCover);x||(0,d.G6)()?E&&!(0,d.G6)()?(k=!0,y="low"):I=!0:N&&E&&(k=!0,y="low");let P=(0,d.GP)(),D=!1,T=(null==w?void 0:null===(i=w.video)||void 0===i?void 0:i.originCover)||(null==w?void 0:null===(m=w.cellRoom)||void 0===m?void 0:null===(v=m.rawdata)||void 0===v?void 0:null===(h=v.cover)||void 0===h?void 0:null===(s=h.url_list)||void 0===s?void 0:s[0])||(null==w?void 0:null===(p=w.varietyVideo)||void 0===p?void 0:null===(_=p.cover)||void 0===_?void 0:null===(g=_.url_list)||void 0===g?void 0:g[0]);I?T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAALQAQMAAAD1s08VAAAAA1BMVEUAAACnej3aAAAAlElEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOD24JAAAAAAQND/154wAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqwDE3wABfajOdgAAAABJRU5ErkJggg==":k&&E&&(T=w.video.gaussianCover,D=!0);let[L,j]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:u()(S,{[f.default.backgroundImg]:!I,[f.default.backgroundImgSarari]:I,[f.default.backgroundImgQq]:P,[f.default.backgroundImgFirefox]:(0,d.vU)(),[f.default.hideFilterBlur]:D&&E,[f.default.isError]:L}),children:[(0,a.jsx)("img",(0,l._)((0,n._)({},b),{fetchPriority:(null==b?void 0:b.fetchPriority)||y,src:T,onError:()=>j(!0)})),(0,a.jsx)(r.Fragment,{children:!I&&(0,a.jsx)("div",{className:u()(f.default.backgroundMask,A)})})]})}},172451:function(e,t,i){i.d(t,{L:function(){return n}}),i(874386),i(927234),i(284961),i(826893),i(563097),i(88648),i(734123),i(567754),i(713097);var n={Comment:"comment",VideoInfoTitle:"videoInfoTitle",SearchVideoInfo:"searchVideoInfo",VideoDetailTitle:"videoDetailTitle"}},42589:function(e,t,i){i.d(t,{$:function(){return h}});var n=i("88648");i("874386");var l=i("35730"),o=i("555106"),a=i("637005"),r=i("573473");let s=e=>{if(e&&r.N.realHasInit){var t;return null===(t=r.N.userSettingInfo)||void 0===t?void 0:t.aiEntryClosed}return(0,o.$o)(l.LocalStorageKeys.aiEntryClose)},u=e=>{let{isLogin:t}=e,[i,l]=(0,n.useState)(!s(t));return(0,n.useEffect)(()=>{l(!s(t))},[t]),(0,n.useEffect)(()=>{let e=a.listen(a.EVENT.aiEntrySwitchChange,e=>{let{isClose:t}=e;l(!t)});return()=>{e()}},[]),{showAiEntryByConfig:i}};var d=i("256277"),c=i("330746"),f=i("558518");let h=e=>{let{isLogin:t,awemeInfo:i,checkAiNote:l=!0}=e,{showAiEntryByConfig:o}=u({isLogin:t});return{aiEntryVisible:(0,n.useMemo)(()=>{var e;let t=!(0,c.km)(78)&&(null==i?void 0:null===(e=i.douyinPcVideoExtra)||void 0===e?void 0:e.aiNote)===1,n=!(0,c.km)(80);return(l&&t||n)&&!(0,d.Jt)(i)&&(0,f.b2)(i)&&o},[o,i,l])}}},895599:function(e,t,i){i(874386);var n=i(563097),l=i(88648),o=i(734123),a=i(713097),r=i.n(a),s=i(877639),u=i.n(s),d=i(782442),c=i(32167),f=i(330746),h=i(161045),v=i(696332),m=i(208987),g=i(555164),_=i(826110);t.Z=l.memo(e=>{let{children:t,lineClamp:i=2,btnClassName:a,onlyKey:s="",maxLine:p=999,btnOnShow:y,btnOnClick:w,renderContent:x,lineHeight:S=20,renderButton:A,player:C,showExpandButton:N=!0,alwaysShowExpandButton:b=!1,renderBeforeContent:k,isMobile:I,isActive:E,optimizeReflow:P=!1,showExpandButtonInner:D}=e,[T,L]=(0,l.useState)(!1),[j,R]=(0,l.useState)(!0),[B,M]=(0,l.useState)(!1),[H,O]=(0,l.useState)(0),F=(0,l.useRef)(p);F.current=p;let[U,q]=(0,l.useState)(i),{isFullScreen:K,isCssFullScreen:W}=(0,l.useContext)(m.C),V=(0,l.useRef)(null),[Z,G]=(0,l.useState)(!1),[z,Q]=(0,l.useState)(!1),[Y,J]=(0,l.useState)(()=>{let e=d.Le.getConfig(d.gI.IsInModalVideo),t=(null==e?void 0:e.isInModal)||!1;return"video_detail"===(0,c.vM)()&&!K&&!W&&!t&&!0}),X=(0,l.useRef)(!1),$=(0,l.useCallback)(e=>{D?(L(!0),R(e)):L(e)},[D]);(0,l.useEffect)(()=>{if(C){let e=e=>{let t=d.Le.getConfig(d.gI.IsInModalVideo),i=(null==t?void 0:t.isInModal)||!1;"video_detail"!==(0,c.vM)()||e||W||i?J(!1):J(!0)};return C.on(o.Events.FULLSCREEN_CHANGE,e),()=>{C.off(o.Events.FULLSCREEN_CHANGE,e)}}},[]),(0,l.useEffect)(()=>{G((0,f.i7)()&&!(0,f.GP)())},[]);let ee=(0,l.useCallback)(()=>{(0,l.startTransition)(()=>{if((null==V?void 0:V.current)&&!B){let{scrollHeight:e,clientHeight:t}=null==V?void 0:V.current;t>0&&(e-t>15||e>=S*i+15)?$(!0):$(!1)}})},[S,i,B,$]),et=e=>{var t;if(!B){let e=(0,_.Y)(S,C);e&&(F.current=e)}q(e=>e===i?F.current:i),M(e=>!e),w&&w(B),(null==e?void 0:e.target)&&e.target.blur(),null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e)};return(0,l.useEffect)(()=>{if(!B){var e,t;(null===(e=d.Le.getConfig(d.gI.AbtestData))||void 0===e?void 0:e.useCache)!==1&&(null===(t=V.current)||void 0===t||t.scrollTo(0,0))}},[B]),(0,l.useEffect)(()=>{let e=null;return V.current&&(e=h.Z.bind(V.current,ee)),()=>{e&&(null==e||e())}},[ee]),(0,l.useEffect)(()=>{M(!1),q(i),$(!1),ee()},[s,i,S,D]),(0,l.useEffect)(()=>{!E&&(M(!1),q(i),P||($(!1),ee()))},[E,i,P]),(0,l.useEffect)(()=>{if(V.current&&B&&C){var e,t,i,n,l;let o=e=>{var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e)},a=e=>{var t,i;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),(null==V?void 0:null===(i=V.current)||void 0===i?void 0:i.scrollTop)?Q(!0):Q(!1)},r=u()(()=>{var e,t,i,n;O(((null==C?void 0:null===(n=C.config)||void 0===n?void 0:null===(i=n.el)||void 0===i?void 0:null===(t=i.getBoundingClientRect)||void 0===t?void 0:null===(e=t.call(i))||void 0===e?void 0:e.height)-48)/4)},200);return r(),null===(e=V.current)||void 0===e||e.addEventListener("wheel",o),null===(t=V.current)||void 0===t||t.addEventListener("scroll",a),null===(i=V.current)||void 0===i||i.addEventListener("mousedown",o),null===(n=V.current)||void 0===n||n.addEventListener("pointerdown",o),null===(l=V.current)||void 0===l||l.addEventListener("touchstart",o),window.addEventListener("resize",r),()=>{var e,t,i,n,l;null===(e=V.current)||void 0===e||e.removeEventListener("wheel",o),null===(t=V.current)||void 0===t||t.removeEventListener("scroll",a),null===(i=V.current)||void 0===i||i.removeEventListener("mousedown",o),null===(n=V.current)||void 0===n||n.removeEventListener("pointerdown",o),null===(l=V.current)||void 0===l||l.removeEventListener("touchstart",o),window.removeEventListener("resize",r)}}},[B,C]),(0,l.useEffect)(()=>{let e=T&&!j||T&&j&&N;E&&e&&!X.current&&(null==y||y({isShow:!0})),X.current=E&&e},[y,N,T,j,E]),(0,n.jsxs)("div",{className:r()(g.default.wrapper,{[g.default.notChrome]:!Z,[g.default.isSafari]:(0,f.G6)(),[g.default.isDetailSearch]:Y,[g.default.isFixAfter]:!N,[g.default.expandMask]:z}),children:[(0,n.jsxs)("div",{ref:V,className:r()(g.default.text,{[g.default.showButton]:T,[g.default.expandText]:B,[g.default.isMobile]:I,[g.default.lowChome]:(0,f.h5)("69.0"),[g.default.isSafari]:(0,f.G6)()}),style:{"--lineClamp":U,"--lineHeight":`${S}px`,"--maxHeight":`${S*U}px`,maxHeight:B?H:""},children:[k&&k(T),x&&x({isUnfold:B}),"function"==typeof t?t(T):t,T&&!j&&(0,n.jsx)("button",{type:"button",onClick:et,className:r()(a,g.default.btn,g.default.inlineBtn),children:A?A(B):B?v.a.t("fold",{},"收起"):v.a.t("expand",{},"展开")})]}),(0,n.jsx)("div",{className:r()(g.default.btnWrap,{[g.default.btnShow]:(T||b)&&j,[g.default.isUnfold]:B}),style:{height:`${S-2}px`},children:N&&(0,n.jsx)("button",{type:"button",onClick:et,className:r()(a,g.default.btn),children:A?A(B):B?v.a.t("fold",{},"收起"):v.a.t("expand",{},"展开")})})]})})},673024:function(e,t,i){i.d(t,{h:function(){return U}});var n=i("563097"),l=i("88648"),o=i("713097"),a=i.n(o),r=i("79307"),s=i("32167"),u=i("544933"),d=new u.h({hover_bottom_bar:{eventName:"hover_bottom_bar",params:{enter_from:"",bar_type:"",player_display_mode:"",group_id:""}},compilationEntranceShow:{eventName:"compilation_entrance_show",params:{enter_from:"recommend",group_id:"",author_id:"",compilation_id:"",entrance_cnt:1,is_update:0}},hotEntranceShow:{eventName:"hot_entrance_show",params:{enter_from:"recommend",group_id:"",author_id:"",trending_topic:"",first_tag_name:"",top:0,entrance_cnt:1}},compilationEntranceClick:{eventName:"compilation_entrance_click",params:{enter_from:"recommend",group_id:"",author_id:"",compilation_id:"",entrance_cnt:1,is_update:0}},hotEntranceClick:{eventName:"hot_entrance_click",params:{enter_from:"recommend",group_id:"",author_id:"",trending_topic:"",first_tag_name:"",top:0,entrance_cnt:1}},moreVideoEntranceShow:{eventName:"more_video_entrance_show",params:{enter_from:"recommend",group_id:"",author_id:"",entrance_cnt:1}},moreVideoEntranceClick:{eventName:"more_video_entrance_click",params:{enter_from:"recommend",group_id:"",author_id:"",entrance_cnt:1}},trendingWordsShow:{eventName:"trending_words_show",params:{words_source:"related_search_anchor_v2",enter_from:"",words_content:"",enter_group_id:"",words_position:0,entrance_cnt:1,words_num:0,group_id:"",impr_id:""}},trendingWordsClick:{eventName:"trending_words_click",params:{words_source:"related_search_anchor_v2",enter_from:"",words_content:"",enter_group_id:"",words_position:0,entrance_cnt:1,words_num:0,group_id:"",impr_id:""}},relatedVideoEntranceShow:{eventName:"related_video_entrance_show",params:{enter_from:"recommend",group_id:"",author_id:"",entrance_cnt:1}},relatedVideoEntranceClick:{eventName:"related_video_entrance_click",params:{enter_from:"recommend",group_id:"",author_id:"",entrance_cnt:1}},bottomBarShow:{eventName:"bottom_bar_show",params:{playlet_id:"",compilation_id:"",group_id:"",enter_from:"recommend",enter_from_merge:"",bar_type:"",entrance_cnt:0,is_update:0,item_duration_ms:0,bar_tag_name:"",player_display_mode:""}},bottomBarClick:{eventName:"bottom_bar_click",params:{playlet_id:"",compilation_id:"",group_id:"",enter_from:"recommend",enter_from_merge:"",bar_type:"",entrance_cnt:0,is_update:0,item_duration_ms:0,bar_tag_name:"",action:"open",player_display_mode:""}},relatedVideoClick:{eventName:"related_video_click",params:{enter_from:"",enter_from_merge:"",group_id:"",author_id:0}},compilationNextVideoShow:{eventName:"compilation_next_video_show",params:{enter_from:"",group_id:"",compilation_id:""}},compilationNextVideoHover:{eventName:"compilation_next_video_hover",params:{enter_from:"",group_id:"",compilation_id:""}},compilationNextVideoClick:{eventName:"compilation_next_video_click",params:{enter_from:"",group_id:"",compilation_id:""}},aiChatButtonShow:{eventName:"ai_chat_button_show",params:{enter_from:"",group_id:"",ai_chat_button_position:""}},aiChatButtonClick:{eventName:"ai_chat_button_click",params:{enter_from:"",group_id:"",ai_chat_button_position:""}}}),c=i("127321"),f=i("520739"),h=i("734123"),v=i("330746"),m=i("792429"),g=i("658065"),_=i("782563"),p=i("637005"),y=i("254457"),w=i("801021"),x=i("878389");let S=(0,l.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,x._)((0,f._)({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("g",{filter:"url(#aiDouyinIcon_svg__filter0_d_36_3185)",children:(0,n.jsx)("path",{d:"M6.867 1.965a2.346 2.346 0 0 1 1.627.83c.353.42.556.962.535 1.544l-.002.057c-.008.147-.033.29-.068.429l-.06.232 1.018-.262.058-.013c1.234-.285 2.5.423 2.832 1.625l.027.095c.129.563.034 1.126-.228 1.601l-.016-.039a1.232 1.232 0 0 0-.816-.707c.058-.197.07-.409.02-.622l-.01-.038a1.275 1.275 0 0 0-1.51-.91h-.005l-3.892.994h-.001c-.007.002-.014 0-.02-.005a.025.025 0 0 1-.01-.02l.007-.106.07-1.16a1.28 1.28 0 0 0 1.528-1.037 1.228 1.228 0 0 0-.156-.817l-.029-.047a1.275 1.275 0 0 0-.962-.579l-.039-.004a1.272 1.272 0 0 0-1.344 1.135v.004l-.245 3.95a.024.024 0 0 1-.028.02h-.006l-.086-.034-1.114-.43c.088-.148.148-.317.164-.512l.003-.048a1.266 1.266 0 0 0-.654-1.169L3.41 5.9l-.055-.025a1.287 1.287 0 0 0-.781-.08l-.054.012a1.265 1.265 0 0 0-.872.757 1.251 1.251 0 0 0 .679 1.611l.004.001 3.742 1.45c.016.007.02.025.01.036l-.059.07-.76.911a1.21 1.21 0 0 0-.409-.297l-.036-.014-.045-.018a1.307 1.307 0 0 0-1.329.25l-.036.034a1.247 1.247 0 0 0 .098 1.857 1.29 1.29 0 0 0 1.763-.138l.002-.002.002-.001 2.556-3.055a.028.028 0 0 1 .021-.009c.007 0 .012.003.016.007l.004.005.049.076.445.687c-.215.464-.44.924-.677 1.377l-.408.756-.242.432a2.341 2.341 0 0 1-.128-.261l-.09-.221-.668.8c-.808.968-2.252 1.156-3.255.406l-.048-.037a2.287 2.287 0 0 1-.864-1.595l-.004-.058a2.271 2.271 0 0 1 .838-1.912l.186-.153-.98-.378C.82 8.717.192 7.39.648 6.207a2.319 2.319 0 0 1 1.328-1.325 2.374 2.374 0 0 1 2.11.194l.203.126.062-1.035v.001a2.355 2.355 0 0 1 2.45-2.207l.065.004zm2.415 5.18c.017.17.07.343.173.51l.02.028a1.228 1.228 0 0 0-.21.285l-.046.097-.33.776-.87-1.341-.002-.005a.023.023 0 0 1 .017-.03l.089-.022 1.159-.298z",fill:"#fff"})}),(0,n.jsx)("g",{filter:"url(#aiDouyinIcon_svg__filter1_d_36_3185)",children:(0,n.jsx)("path",{d:"M11.869 10.005c.464 1.09.992 2.17 1.57 3.205l.344.619-.792.4-.425-.8-.166-.32-.014-.025-.027-.007a5.762 5.762 0 0 0-2.935 0l-.028.008-.012.024-.167.32-.424.8-.793-.4.344-.62a33.897 33.897 0 0 0 1.57-3.203L10.342 9c.365.066.734.066 1.1 0l.427 1.005zm3.63-1.532a2.83 2.83 0 0 0-.13.684c-.017.254-.025.512-.025.768v2.258c0 .256.008.515.025.769.015.23.059.46.13.684h-1.177c.072-.224.117-.454.132-.684.016-.257.025-.516.025-.769V9.925c0-.253-.008-.512-.025-.768-.015-.23-.06-.46-.132-.684H15.5zm-4.868 1.93a33.791 33.791 0 0 1-.725 1.647l-.05.107.115-.017a6.679 6.679 0 0 1 1.84 0l.117.017-.051-.107c-.258-.546-.502-1.1-.725-1.647l-.26-.638-.261.638z",fill:"#fff"})}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"aiDouyinIcon_svg__filter0_d_36_3185",x:"-.715",y:1.351,width:14.821,height:14.246,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:".608"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:".608"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_36_3185"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_36_3185",result:"shape"})]}),(0,n.jsxs)("filter",{id:"aiDouyinIcon_svg__filter1_d_36_3185",x:6.033,y:7.49,width:11.434,height:9.69,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:".983"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:".983"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_36_3185"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_36_3185",result:"shape"})]})]})]})));var A=i("767872");let C=(0,l.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,x._)((0,f._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("g",{filter:"url(#semi-icons-search_svg__filter0_d_2327_94143)",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.25 2a4.25 4.25 0 1 0 2.428 7.739l2.042 2.041a.75.75 0 1 0 1.06-1.06L9.74 8.678A4.25 4.25 0 0 0 6.25 2zM3.5 6.25a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0z",fill:"#fff"})}),(0,n.jsx)("defs",{children:(0,n.jsxs)("filter",{id:"semi-icons-search_svg__filter0_d_2327_94143",x:1,y:1,width:12,height:12,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{}),(0,n.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_2327_94143"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_2327_94143",result:"shape"})]})})]})));var N=i("473677"),b=i("283628");let k=e=>{let{tag:t,awemeInfo:i,feedbarCount:o,isActive:u,player:c,reportExtraParams:x,abTestData:k,hiddenAiSearchEntry:I,onAiSearchTagClick:E,onAiSearchTagHover:P,onMouseLeave:D}=e,{searchWord:T,index:L,itemClassName:j,textClassName:R,hintText:B,word:M,wordsNum:H}=t,{word:O,wordId:F}=T||{},U=!(0,v.km)(80)&&t.type===r.WZ.AiSearch&&!I,{awemeId:q,groupId:K}=i||{},W=(0,l.useMemo)(()=>(0,m.U)(i).impr_id,[i]);(0,l.useEffect)(()=>{(void 0===u||u)&&(U?d.sendLog("aiChatButtonShow",(0,f._)({enter_from:"homepage_hot",ai_chat_button_position:"bottom_bar",words_content:O,enter_group_id:q,words_position:L,entrance_cnt:o,words_num:H,group_id:F,impr_id:W},x||{},(null==x?void 0:x.search_params)||{})):d.sendLog("trendingWordsShow",(0,f._)({words_source:"related_search_anchor_v2",enter_from:(0,g.yW)(),words_content:O,enter_group_id:q,words_position:L,entrance_cnt:o,words_num:H,group_id:F,impr_id:W},x||{},(null==x?void 0:x.search_params)||{})))},[O,q,L,u,F]);let V=(0,l.useMemo)(()=>({source:"related_search_anchor_v2",enter_from:(0,s.vM)(),aweme_id:q,gid:K}),[q,K,s.vM]);return(0,n.jsx)("div",{className:A.default.root,children:(0,n.jsxs)(b.Z,{className:a()(j,A.default.searchRelatedTag,A.default.tag,A.default.entranceCardHover),query:O,params:V,onClick:e=>{var t;if(U){d.sendLog("aiChatButtonClick",(0,f._)({enter_from:"homepage_hot",ai_chat_button_position:"bottom_bar",words_content:O,enter_group_id:q,words_position:L,entrance_cnt:o,words_num:H,group_id:F,impr_id:W},x||{},(null==x?void 0:x.search_params)||{})),null==E||E(e,{query:O,from:w.jE.BottomBar});return}d.sendLog("trendingWordsClick",(0,f._)({words_source:"related_search_anchor_v2",enter_from:(0,g.yW)(),words_content:O,enter_group_id:q,words_position:L,entrance_cnt:o,words_num:H,group_id:F,impr_id:W},x||{},(null==x?void 0:x.search_params)||{}));let i=null==k?void 0:k.searchOpenCurrentTab;((null==i?void 0:i.save_status)!==1||(0,_.DT)()||(null===(t=window)||void 0===t?void 0:t.location.pathname)==="/")&&p.emit(p.EVENT.videoPause,"RelatedSearchTagItem_clickSearchText_cover"),null==c||c.emit(h.Events.USER_ACTION,{action:"click_related_search"})},onMouseEnter:e=>{null==P||P(e,{from:w.jE.BottomBar})},onMouseLeave:D,isAiSearch:U,children:[(0,n.jsx)("span",{className:a()(A.default.tagBg)}),U?(0,n.jsx)(N.Z,{className:a()(A.default.searchIcon,A.default.aiSearchIcon,A.default.aiDouyinIcon),src:S,width:18,height:18,viewBox:"0 0 18 18"}):(0,n.jsx)(N.Z,{className:A.default.searchIcon,src:C,width:14,height:14,viewBox:"0 0 14 14"}),(0,n.jsx)("div",{className:a()(A.default.text,R),children:B?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:A.default.hintText,children:[U?"AI抖音":B,"："]}),(0,n.jsx)("span",{className:a()(A.default.titleWord,A.default.rsBarOpt),children:M})]}):(0,n.jsx)("span",{className:a()(A.default.titleWord,A.default.rsBarOpt),children:O})}),U?null:(0,n.jsx)(N.Z,{className:a()(A.default.enterIcon),src:y.Z,width:12,height:12,viewBox:"0 0 12 12"})]})})};i("874386"),i("209955"),i("819117"),i("675373");var I=i("410665"),E=i("602394");i("338172"),i("733306");var P=i("168998"),D=i("576669");r.WZ.Mix,r.WZ.Series,r.WZ.Hot;let T=(e,t)=>{let{seriesInfo:i,mixInfo:n,authorInfo:l,createTime:o,awemeId:a}=t;return e===r.WZ.Series&&i.seriesId?(0,P.Ab)({cursor:i.currentEpisode,seriesId:i.seriesId,count:1}).then(e=>{let{data:[t]}=e;return t}):e===r.WZ.Mix&&n.mixId?(0,D.FF)({cursor:n.currentEpisode,mixId:n.mixId,count:1}).then(e=>{let{data:[t]}=e;return t}):Promise.resolve()};var L=i("655109"),j=i("937173");let R=(0,l.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,x._)((0,f._)({width:10,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("mask",{id:"hot_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:-2,width:10,height:14,children:(0,n.jsx)("path",{d:"M.5-1.05h9.208v8.234A4.516 4.516 0 0 1 5.192 11.7 4.692 4.692 0 0 1 .5 7.008V-1.05z",fill:"#C4C4C4"})}),(0,n.jsxs)("g",{mask:"url(#hot_svg__a)",children:[(0,n.jsx)("path",{d:"M8.393 3.553c.961 1.063 1.315 2.125 1.315 3.188 0 1.416-.067 1.796 0 1.77-1.858.738-5.122-.93-6.02-3.187-.899-2.257.38-4.25 2.353-5.312.078-.042.126.027.126.132 0 1.638 1.265 2.347 2.226 3.41z",fill:"url(#hot_svg__paint0_linear_23665_194053)"}),(0,n.jsx)("path",{d:"M9.545 8.872c.191-.348.557 1.057.164-1.226.354-1.967-1.142-2.745-2.125-2.322-1.645.709-2.48.709-3.542.355-.69-.23-1.638-.709-1.934-1.771-.329 1.416.66 4.065 2.157 4.964 1.497.899 5.09.348 5.28 0z",fill:"url(#hot_svg__paint1_linear_23665_194053)"}),(0,n.jsx)("path",{d:"M1.775 3.339C1.534 3.58.5 4.826.5 6.816c0 1.99 1.063 4.884 4.604 4.884 3.542 0 4.931-1.406 5.313-3.255-3.188 1.77-5.656 0-6.021-.354-.9-.872-2.125-2.412-2.338-4.604-.029-.302-.042-.39-.283-.148z",fill:"url(#hot_svg__paint2_linear_23665_194053)"})]}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"hot_svg__paint0_linear_23665_194053",x1:3.536,y1:".28",x2:7.934,y2:6.743,gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{offset:".021",stopColor:"#FADF32"}),(0,n.jsx)("stop",{offset:".451",stopColor:"#EB9B46"}),(0,n.jsx)("stop",{offset:".782",stopColor:"#EB5854"})]}),(0,n.jsxs)("linearGradient",{id:"hot_svg__paint1_linear_23665_194053",x1:2.616,y1:4.79,x2:10.598,y2:9.517,gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#FFC533"}),(0,n.jsx)("stop",{offset:".436",stopColor:"#F26461"}),(0,n.jsx)("stop",{offset:".809",stopColor:"#FF0544"})]}),(0,n.jsxs)("linearGradient",{id:"hot_svg__paint2_linear_23665_194053",x1:8.195,y1:11.127,x2:".577",y2:4.974,gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{offset:".134",stopColor:"#FA0951"}),(0,n.jsx)("stop",{offset:".354",stopColor:"#FA3E65"}),(0,n.jsx)("stop",{offset:".881",stopColor:"#F2AE49"}),(0,n.jsx)("stop",{offset:".998",stopColor:"#FAC032"})]})]})]}))),B={[r.WZ.Mix]:"compilation",[r.WZ.Series]:"playlet",[r.WZ.Hot]:"trending_topic",[r.WZ.RelatedSearch]:"related_search_anchor_v2"};r.WZ.Mix,N.Z,L.Z,r.WZ.Mix,r.WZ.Series,N.Z,j.Z,r.WZ.Series,r.WZ.Hot,N.Z,r.WZ.Hot;let M=(0,l.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,x._)((0,f._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsxs)("g",{filter:"url(#newMix_svg__filter0_d_3478_27938)",fill:"#fff",children:[(0,n.jsx)("path",{d:"M2.74 6.194a.849.849 0 0 1 0-1.49L7.085 2.24a1.862 1.862 0 0 1 1.828 0l4.347 2.463a.849.849 0 0 1 0 1.491L8.914 8.658c-.564.32-1.264.32-1.828 0L2.739 6.194z"}),(0,n.jsx)("path",{d:"M2.083 7.752a.613.613 0 0 1 .822-.204L7.39 10.09c.376.213.842.213 1.218 0l4.486-2.542a.613.613 0 0 1 .822.204.565.565 0 0 1-.212.79l-4.486 2.542a2.483 2.483 0 0 1-2.438 0L2.295 8.542a.565.565 0 0 1-.212-.79z"}),(0,n.jsx)("path",{d:"M2.905 10.144a.614.614 0 0 0-.822.204.565.565 0 0 0 .212.79l4.486 2.542a2.483 2.483 0 0 0 2.438 0l4.486-2.542a.565.565 0 0 0 .212-.79.613.613 0 0 0-.822-.204L8.61 12.686a1.241 1.241 0 0 1-1.218 0l-4.486-2.542z"})]}),(0,n.jsx)("defs",{children:(0,n.jsxs)("filter",{id:"newMix_svg__filter0_d_3478_27938",x:1.5,y:1.5,width:14,height:14,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:".5",dy:".5"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.7 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3478_27938"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_3478_27938",result:"shape"})]})})]}))),H=new Map([[r.WZ.Mix,(0,n.jsx)(N.Z,{src:M,width:16,height:16,viewBox:"0 0 16 16"},r.WZ.Mix)],[r.WZ.Series,(0,n.jsx)(N.Z,{src:j.Z,width:14,height:14,viewBox:"0 0 14 14"},r.WZ.Series)],[r.WZ.Hot,(0,n.jsx)(N.Z,{src:R,width:12,height:12,viewBox:"0 0 12 12"},r.WZ.Hot)]]),O=e=>{var t,i;let{item:o,children:r,awemeInfo:s,abTestData:u,onClick:c}=e,f=(0,l.useRef)(null),h={enter_from:(0,g.yW)(),group_id:s.awemeId,compilation_id:(null===(t=s.mixInfo)||void 0===t?void 0:t.mixId)||(null===(i=s.seriesInfo)||void 0===i?void 0:i.seriesId)};return(0,l.useEffect)(()=>{d.sendLog("compilationNextVideoShow",h)},[]),(0,n.jsxs)("div",{className:A.default.tagWithNextContainer,children:[r,(0,n.jsxs)("div",{className:a()(o.itemClassName,A.default.tag,A.default.nextTag,A.default.entranceCardHover),onMouseEnter:()=>{d.sendLog("compilationNextVideoHover",h)},onClick:()=>{(f.current||(f.current=T(o.type,s))).then(e=>{if(!e)throw Error("暂无下一集");c(e)}).catch(e=>{E.F.info((null==e?void 0:e.message)||"暂无下一集"),f.current=null}).finally(()=>{d.sendLog("compilationNextVideoClick",h)})},children:[(0,n.jsx)("span",{className:a()(A.default.tagBg)}),(0,n.jsx)("span",{className:a()(A.default.tagText,o.textClassName),children:"下一集"}),(0,n.jsx)(N.Z,{className:a()(A.default.nextMixIcon),src:y.Z,width:12,height:12,viewBox:"0 0 12 12"})]})]})},F=e=>{let{item:t,awemeInfo:i,feedbarCount:o,isShowUpdateText:u,player:c,reportExtraParams:v,abTestData:m,showMiniTag:p=!1,hiddenMixUpdateText:y=!1,hiddenNextBtn:w=!1,onMouseLeave:x}=e,{awemeId:S,mixInfo:C,relatedVideo:N,seriesInfo:b}=i,k=(0,l.useMemo)(()=>{let{totalEpisode:e,currentEpisode:t}=(null==i?void 0:i.mixInfo)||{};return u&&(null==i?void 0:i.mixInfo.mixId)?e===t?"已是最新集":`更新至第${e}集`:null},[u,i,null==i?void 0:i.mixInfo]),E=(0,l.useMemo)(()=>{let{totalEpisode:e,currentEpisode:t}=(null==i?void 0:i.seriesInfo)||{};return u&&(null==i?void 0:i.seriesInfo.seriesId)?e===t?"已是最新集":`更新至第${e}集`:null},[u,i,null==i?void 0:i.seriesInfo]),P=(0,I.x)(()=>{var e,n,l,a,u,c,h,m;if(t.type===r.WZ.Mix&&d.sendLog("compilationEntranceShow",{enter_from:(0,g.yW)(),group_id:S,author_id:null==i?void 0:null===(u=i.authorInfo)||void 0===u?void 0:u.uid,compilation_id:null==C?void 0:C.mixId,entrance_cnt:o,is_update:(null==i?void 0:null===(c=i.mixInfo)||void 0===c?void 0:c.totalEpisode)===(null==i?void 0:null===(h=i.mixInfo)||void 0===h?void 0:h.currentEpisode)?0:1}),t.type===r.WZ.Hot){let{trending_topic:e,first_tag_name:n,top:l}=t.customProps||{};d.sendLog("hotEntranceShow",{enter_from:(0,g.yW)(),group_id:S,author_id:null==i?void 0:null===(m=i.authorInfo)||void 0===m?void 0:m.uid,trending_topic:e,first_tag_name:n,top:l,entrance_cnt:o})}let _=0;_=(null==b?void 0:b.seriesId)?(null==b?void 0:b.totalEpisode)===(null==b?void 0:b.currentEpisode)?0:1:(null==C?void 0:C.totalEpisode)===(null==C?void 0:C.currentEpisode)?0:1,d.sendLog("bottomBarShow",(0,f._)({playlet_id:null==b?void 0:b.seriesId,compilation_id:null==C?void 0:C.mixId,group_id:S,enter_from:(0,g.yW)(),enter_from_merge:(0,s.vM)(),bar_type:B[t.type],entrance_cnt:o,is_update:_,item_duration_ms:(null==i?void 0:null===(e=i.video)||void 0===e?void 0:e.duration)||0,bar_tag_name:null==i?void 0:null===(a=i.webRawData)||void 0===a?void 0:null===(l=a.CTR)||void 0===l?void 0:null===(n=l.recommendScore)||void 0===n?void 0:n.relateAiTag,player_display_mode:(0,s.Ok)()},v||{}))}),D=e=>{var n,l,a,u,m,_,p,y;if(t.onClick({awemeInfo:e}),t.type===r.WZ.Mix&&(d.sendLog("compilationEntranceClick",{enter_from:(0,g.yW)(),group_id:S,author_id:null==i?void 0:null===(m=i.authorInfo)||void 0===m?void 0:m.uid,compilation_id:C.mixId,entrance_cnt:o,is_update:(null==e?void 0:null===(_=e.mixInfo)||void 0===_?void 0:_.totalEpisode)===(null==e?void 0:null===(p=e.mixInfo)||void 0===p?void 0:p.currentEpisode)?0:1}),null==c||c.emit(h.Events.USER_ACTION,{action:"click_compilation"})),t.type===r.WZ.Hot){let{trending_topic:e,first_tag_name:n,top:l}=(null==t?void 0:t.customProps)||{};d.sendLog("hotEntranceClick",{enter_from:(0,g.yW)(),group_id:S,author_id:null==i?void 0:null===(y=i.authorInfo)||void 0===y?void 0:y.uid,trending_topic:e,first_tag_name:n,top:l,entrance_cnt:o}),null==c||c.emit(h.Events.USER_ACTION,{action:"click_hot"})}t.type===r.WZ.Series&&(null==c||c.emit(h.Events.USER_ACTION,{action:"click_series"}));let w=0;w=(null==b?void 0:b.seriesId)?(null==b?void 0:b.totalEpisode)===(null==b?void 0:b.currentEpisode)?0:1:(null==C?void 0:C.totalEpisode)===(null==C?void 0:C.currentEpisode)?0:1,d.sendLog("bottomBarClick",(0,f._)({playlet_id:null==b?void 0:b.seriesId,compilation_id:null==C?void 0:C.mixId,group_id:S,enter_from:(0,g.yW)(),enter_from_merge:(0,s.vM)(),bar_type:B[t.type],entrance_cnt:o,is_update:w,item_duration_ms:(null==e?void 0:null===(n=e.video)||void 0===n?void 0:n.duration)||0,bar_tag_name:null==e?void 0:null===(u=e.webRawData)||void 0===u?void 0:null===(a=u.CTR)||void 0===a?void 0:null===(l=a.recommendScore)||void 0===l?void 0:l.relateAiTag,player_display_mode:(0,s.Ok)()},v||{}))},{isSeries2Mix:T,darkIconUrl:L}=null!=b?b:{},j=(0,n.jsxs)("div",{className:a()(t.itemClassName,A.default.tag,A.default.entranceCardHover),ref:P,onClick:()=>D(i),onMouseLeave:x,children:[(0,n.jsx)("span",{className:a()(A.default.tagBg)}),(0,n.jsx)("span",{className:a()(A.default.tagIcon,{[A.default.mixIcon]:t.type===r.WZ.Mix}),children:T&&L&&t.type===r.WZ.Series?(0,n.jsx)("img",{height:18,src:L}):H.get(t.type)}),(0,n.jsx)("span",{className:a()(A.default.tagText,t.textClassName,{[A.default.miniTag]:p}),children:t.title}),!y&&t.type===r.WZ.Mix&&u&&(0,n.jsxs)("div",{className:a()(A.default.updateTextContainer),children:[(0,n.jsx)("div",{className:a()(A.default.divide)}),(0,n.jsx)("div",{className:a()(A.default.updateText),children:k})]}),!y&&t.type===r.WZ.Series&&u&&(0,n.jsxs)("div",{className:a()(A.default.updateTextContainer),children:[(0,n.jsx)("div",{className:a()(A.default.divide)}),(0,n.jsx)("div",{className:a()(A.default.updateText),children:E})]})]},t.type);return(0,_.tq)()||(0,_._1)()||(0,_.iO)()||"undefined"==typeof window||"/"!==window.location.pathname||(t.type!==r.WZ.Mix||!(i.mixInfo.totalEpisode>i.mixInfo.currentEpisode))&&(t.type!==r.WZ.Series||!(i.seriesInfo.totalEpisode>i.seriesInfo.currentEpisode))?(0,n.jsx)("div",{className:A.default.root,children:j}):(0,n.jsx)("div",{className:A.default.root,children:w?(0,n.jsx)(n.Fragment,{children:j}):(0,n.jsx)(O,{item:t,awemeInfo:i,abTestData:m,onClick:D,children:j})})},U=e=>{let{tagList:t,awemeInfo:i,reportExtraParams:o,isShowUpdateText:u,isActive:f,player:h,onAiSearchTagHover:v,onAiSearchTagClick:m,abTestData:g,showMiniTag:_,hiddenMixUpdateText:p,hiddenNextBtn:y,hiddenAiSearchEntry:w}=e,x=(0,l.useCallback)(e=>{let t=B[e];if(!!t)d.sendLog("hover_bottom_bar",{enter_from:(0,s.mo)(),bar_type:t,player_display_mode:(0,s.Ok)(),group_id:null==i?void 0:i.awemeId})},[]);return(0,n.jsx)("div",{className:a()("feedbar-new-style","feedbar-new-style-adapter",c.default.root,{feedbarHeight36:!0}),children:t.map(e=>e.type===r.WZ.RelatedSearch||e.type===r.WZ.AiSearch?(0,n.jsx)(k,{isActive:f,tag:e,awemeInfo:i,feedbarCount:t.length,player:h,reportExtraParams:o,onAiSearchTagClick:m,onAiSearchTagHover:v,abTestData:g,onMouseLeave:()=>x(e.type),hiddenAiSearchEntry:w},e.type):(0,n.jsx)(F,{showMiniTag:_,hiddenMixUpdateText:p,hiddenNextBtn:y,item:e,awemeInfo:i,feedbarCount:t.length,isShowUpdateText:u,player:h,reportExtraParams:o,abTestData:g,onMouseLeave:()=>x(e.type)},e.type))})}},530240:function(e,t,i){i.d(t,{K:function(){return r}});var n=i(520739);i(602157);var l=i(563097),o=i(88648);let a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):"function"==typeof o.memo&&(0,o.memo)(e=>null).$$typeof;function r(e){let t=a&&e.$$typeof===a?e:(0,o.memo)(e);return function(e){let{isActive:i=!1,forceDelayUpdate:a=!1}=e,r=(0,o.useDeferredValue)(e),s=!i||a?r:e;return(0,l.jsx)(t,(0,n._)({},s))}}},706077:function(e,t,i){i.d(t,{u:function(){return a}}),i(874386);var n=i(88648),l=i(782442),o=i(828564);let a=e=>{var t,i,a,r;let{awemeId:s,defaultCount:u,selfUid:d,defaultCollectStatus:c}=e,f=l.Le.getConfig(l.gI.CollectStatusCache),[h,v]=(0,n.useState)(null!==(a=null==f?void 0:null===(t=f[s])||void 0===t?void 0:t.count)&&void 0!==a?a:u),[m,g]=(0,n.useState)(null!==(r=null==f?void 0:null===(i=f[s])||void 0===i?void 0:i.collectStatus)&&void 0!==r?r:c);return(0,n.useEffect)(()=>{var e,t,i,n;v(null!==(i=null==f?void 0:null===(e=f[s])||void 0===e?void 0:e.count)&&void 0!==i?i:u),g(null!==(n=null==f?void 0:null===(t=f[s])||void 0===t?void 0:t.collectStatus)&&void 0!==n?n:c)},[c,u,s]),(0,n.useEffect)(()=>{let e=o.a.addCb(e=>{let{selfUid:t,awemeId:i,action:n}=e,o=t===d,a=void 0===t||void 0===d;if((o||a)&&i===s&&("collect"===n||"unCollect"===n)){var r,f,h;let e=null===(r=l.Le.getConfig(l.gI.CollectStatusCache))||void 0===r?void 0:r[s];v(null!==(f=null==e?void 0:e.count)&&void 0!==f?f:u),g(null!==(h=null==e?void 0:e.collectStatus)&&void 0!==h?h:c)}});return()=>{e()}},[d,s,u,c]),{count:Math.max(h,0),collectStatus:m}}},868872:function(e,t,i){i.d(t,{P:function(){return a}}),i(874386);var n=i(88648),l=i(782442),o=i(828564);let a=e=>{var t,i,a;let{awemeId:r,defaultCount:s,selfUid:u,defaultDiggStatus:d}=e,c=null===(t=l.Le.getConfig(l.gI.DiggStatusCache))||void 0===t?void 0:t[r],[f,h]=(0,n.useState)(null!==(i=null==c?void 0:c.count)&&void 0!==i?i:s),[v,m]=(0,n.useState)(null!==(a=null==c?void 0:c.diggStatus)&&void 0!==a?a:d);return(0,n.useEffect)(()=>{var e,t;h(null!==(e=null==c?void 0:c.count)&&void 0!==e?e:s),m(null!==(t=null==c?void 0:c.diggStatus)&&void 0!==t?t:d)},[d,s,r]),(0,n.useEffect)(()=>{let e=o.a.addCb(e=>{let{selfUid:t,awemeId:i,action:n}=e,o=t===u,a=void 0===t||void 0===u;if((o||a)&&i===r&&("digg"===n||"unDigg"===n)){var c,f,v;let e=null===(c=l.Le.getConfig(l.gI.DiggStatusCache))||void 0===c?void 0:c[r];h(null!==(f=null==e?void 0:e.count)&&void 0!==f?f:s),m(null!==(v=null==e?void 0:e.diggStatus)&&void 0!==v?v:d)}});return()=>{e()}},[u,r,s,d]),{count:Math.max(f,0),diggStatus:v}}},53038:function(e,t,i){i.d(t,{K:function(){return r}}),i(874386);var n=i(88648),l=i(480596),o=i(598053),a=i(782442);let r=()=>{var e;let[t,i]=(0,n.useState)((null===(e=a.Le.getConfig(a.gI.TccData))||void 0===e?void 0:e[l.TccKey.PcRechargeConfig])||l.TCC_DEFAULT_VALUE_MAP.get(l.TccKey.PcRechargeConfig));return(0,n.useEffect)(()=>{let e=!1;return(async()=>{let t=await o.get({key:l.TccKey.PcRechargeConfig,defaultValue:l.TCC_DEFAULT_VALUE_MAP.get(l.TccKey.PcRechargeConfig)});!e&&i(t)})(),()=>{e=!0}},[]),{rechargeConfig:t}}},399083:function(e,t,i){i.d(t,{Cy:function(){return v},p7:function(){return u}});var n=i(520739),l=i(878389);i(874386);var o=i(88648),a=i(128231),r=i.n(a),s=i(161045),u={Margin:"Margin",PlayIcon:"PlayIcon",PlayerTime:"PlayerTime",DanMuInput:"DanMuInput",DanMuIcon:"DanMuIcon",SettingList:"SettingList",InnerAutoPlayer:"InnerAutoPlayer",AutoPlayer:"AutoPlayer",Clear:"Clear",Subtitles:"Subtitles",FakeScreen:"FakeScreen",PlayBackRatio:"PlayBackRatio",Volume:"Volume",PageFullScreen:"PageFullScreen",Fullscreen:"Fullscreen",WatchLater:"WatchLater",NativePicture:"NativePicture",ChapterIcon:"ChapterIcon",AiNoteIcon:"AiNoteIcon"};let d=e=>{let{showInnerAutoplay:t,showAutoPlay:i,showClear:o,showFakeScreen:a,showSubtitles:r,showPlayBackRatio:s,showNativePicture:u,showWatchLater:d,isClientMiniWin:c,hasChapter:f,hasAiNote:h}=e,v=new Map([["Margin",74],["PlayIcon",32],["PlayerTime",100],["Clear",72],["Volume",36],["PageFullScreen",36],["Fullscreen",36]]),m=new Map;u&&v.set("NativePicture",36),t?c&&(v.set("InnerAutoPlayer",92),m.set("InnerAutoPlayer",{className:"hideInnerAutoPlayer",width:92}),v.delete("AutoPlayer"),m.delete("AutoPlayer")):(v.delete("InnerAutoPlayer"),m.delete("InnerAutoPlayer"),i&&v.set("AutoPlayer",72),i&&m.set("AutoPlayer",{className:"hideAutoPlayer",width:72})),v.set("DanMuIcon",55),v.set("SettingList",36),f&&v.set("ChapterIcon",14),h&&v.set("AiNoteIcon",14),o&&m.set("Clear",{className:"hideImmersivePlayer",width:72}),r?(v.set("Subtitles",72),m.set("Subtitles",{className:"hideSubtitles",width:72})):(v.delete("Subtitles"),m.delete("Subtitles")),a?(v.set("FakeScreen",46),m.set("FakeScreen",{className:"hideFakeScreen",width:46})):(v.delete("FakeScreen"),m.delete("FakeScreen")),s?(v.set("PlayBackRatio",44),m.set("PlayBackRatio",{className:"hidePlayBackRatio",width:44})):(v.delete("PlayBackRatio"),m.delete("PlayBackRatio")),d?(v.set("WatchLater",36),m.set("WatchLater",{className:"hideWatchLater",width:36})):(v.delete("WatchLater"),m.delete("WatchLater"));let g=0;return v.forEach(e=>g+=e),[...m].forEach((e,t,i)=>{let[o,a]=e;i[t-1]&&(g-=i[t-1][1].width),m.set(o,(0,l._)((0,n._)({},a),{minWidth:g}))}),{pluginWidthMap:v,hideMap:m}},c=e=>{var t,i,n,l,o,a;let{pluginWidthMap:r,hasChapter:s,hasAiNote:u,player:d,abtestData:c}=e,f=0;r.forEach(e=>f+=e);let h=(null==c?void 0:c.danmakuBarType)?235:205;return f+=h-55,s&&(d?f+=null!==(n=null===(i=d.root.querySelector(".chapterContainer"))||void 0===i?void 0:null===(t=i.getBoundingClientRect())||void 0===t?void 0:t.width)&&void 0!==n?n:285:f+=285),u&&(d?f+=null!==(a=null===(o=d.root.querySelector(".ai-note-container"))||void 0===o?void 0:null===(l=o.getBoundingClientRect())||void 0===l?void 0:l.width)&&void 0!==a?a:90:f+=90),f},f=e=>{let{pluginWidthMap:t,hasAiNote:i,player:n}=e,l=0;if(t.forEach(e=>l+=e),l-=14,i){if(n){var o,a,r;l+=null!==(r=null===(a=n.root.querySelector(".ai-note-container"))||void 0===a?void 0:null===(o=a.getBoundingClientRect())||void 0===o?void 0:o.width)&&void 0!==r?r:90}else l+=90}return l},h=e=>{let{pluginWidthMap:t}=e,i=0;return t.forEach(e=>i+=e),i-=14},v=e=>{let{isActive:t,player:i,abtestData:n,hasChapter:l=!1,hasAiNote:a=!1,isMiniWin:u=!1,showInnerAutoplay:v,showAutoPlay:m,showClear:g,showFakeScreen:_,showSubtitles:p,showPlayBackRatio:y,showNativePicture:w=!1,showWatchLater:x=!1,isClientMiniWin:S=!1}=e,[A,C]=(0,o.useState)(!1),[N,b]=(0,o.useState)(!1),[k,I]=(0,o.useState)(!1),[E,P]=(0,o.useState)(),[D,T]=(0,o.useState)([]),L=(0,o.useRef)(D);return(0,o.useEffect)(()=>{var e,o;let A;if(!t||!i||u)return()=>{};let{pluginWidthMap:N,hideMap:k}=d({showInnerAutoplay:v,showAutoPlay:m,showClear:g,showFakeScreen:_,showSubtitles:p,showPlayBackRatio:y,showNativePicture:w,showWatchLater:x,isClientMiniWin:S,hasChapter:l,hasAiNote:a}),E=r()(e=>{var t;let{target:o,contentRect:r}=(null==e?void 0:e[0])||{};if(!r||!r.width)return;let{width:s}=r;k.forEach(e=>{s<e.minWidth?(o.classList.add(e.className),e.hide=!0):(o.classList.remove(e.className),e.hide=!1)}),!v&&o.classList.contains("hideInnerAutoPlayer")&&o.classList.remove("hideInnerAutoPlayer");let u=[...k].filter(e=>e[1].hide);if((u.length!==(null===(t=L.current)||void 0===t?void 0:t.length)||u.some((e,t)=>{var i;return(null==e?void 0:e[0])!==(null===(i=L.current[t])||void 0===i?void 0:i[0])}))&&T(u),s<c({pluginWidthMap:N,hasChapter:l,hasAiNote:a,abtestData:n,player:i})?C(!0):C(!1),l){let e=f({pluginWidthMap:N,hasAiNote:a,player:i});if(s<e+110)b(!0),P(void 0);else{b(!1);P(s>e+285?void 0:s-e)}}a&&(s<h({pluginWidthMap:N})+90?I(!0):I(!1))},50,{trailing:!0}),D=(null==i?void 0:null===(e=i.root)||void 0===e?void 0:e.querySelector(".xgplayer-controls"))||(null==i?void 0:null===(o=i.root)||void 0===o?void 0:o.querySelector(".douyin-player-controls"));return D&&(A=s.Z.bind(D,E)),()=>{null==A||A()}},[t,i,n,u,l,a,v,_,p,m,g,y,x]),L.current=D,{isDanmuIcon:A,hideList:D,isChapterIcon:N,isAiNoteIcon:k,chapterMaxWidth:E}}},625029:function(e,t,i){i.d(t,{AN:function(){return D},u_:function(){return P}});var n=i(88648),l=i(734123),o=i(35730),a=i(702726),r=i(598467),s=i(602394),u=i(782442),d=i(555106),c=i(637005),f=i(32167),h=i(150566),v=i(914815),m=i(658065),g=i(820303),_=i(734017),p=i(901414),y=i(779214),w=i(597321),x=i(709409),S=i(764942),A=i(226355),C=i(903868);let N=e=>("KeyD"===e.code||"ArrowRight"===e.code)&&!1===e.altKey&&!1===e.shiftKey&&!1===e.metaKey&&!1===e.ctrlKey,b=()=>{let e=(0,u.AQ)();return!!e&&new Date(1e3*e).toDateString()===new Date().toDateString()||!1},k=()=>!!(0,d.$o)(o.LocalStorageKeys.IsRatePageShow),I=()=>b()&&!k(),E=!1,P=e=>{let{player:t,isActive:i,isLongPressOn:g,disableLongPress:b,awemeInfo:k,abtestData:P}=e,D=(0,n.useRef)(null),T=(0,n.useRef)(k);T.current=k;let{pipWindow:L,isListenVideoMiniWin:j}=(0,C.Iq)(e=>{let{pipWindow:t,isListenVideoMiniWin:i}=e;return{pipWindow:t,isListenVideoMiniWin:i}}),R=(0,n.useCallback)(e=>{var i,n,l,r,f,h;let{pausePlayControlShortcut:v}=u.Le.getConfig(u.gI.PlayerShortcutConf)||{};if(!E&&!!N(e)&&!!(null==t?void 0:t.isUserActive)&&(null==e?void 0:null===(i=e.target)||void 0===i?void 0:i.nodeName)!=="INPUT"&&(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.nodeName)!=="TEXTAREA"&&(null==e?void 0:null===(l=e.target)||void 0===l?void 0:l.contentEditable)!=="true"&&(null==t?!void 0:null===(h=t.plugins)||void 0===h?!void 0:null===(f=h.keyboard)||void 0===f?!void 0:null===(r=f.config)||void 0===r?!void 0:!r.disable)&&!v)e.preventDefault(),E=!0,D.current=setTimeout(()=>{if(D.current=null,!b)if(u.Le.getConfig(u.gI.disableSpeed)&&!u.Le.getConfig(u.gI.IsMiniWin))c.emit(c.EVENT.loginBlockKeyBoard,{speed:!0});else{var e;u.Le.setConfig(u.gI.PlayRatioBeforeLongPress,t.playbackRate),t.emit(w.B.ChangePlayRate,{rate:2,notStorage:!0,click_method:"longPress"}),I()&&(s.F.info({text:"2.0x播放中",duration:1e3}),(0,d.qQ)(o.LocalStorageKeys.IsRatePageShow,!0)),a.logInstance.sendLog("holdVideoSpeed",{group_id:null===(e=T.current)||void 0===e?void 0:e.awemeId})}},200)},[t,b]),B=(0,n.useCallback)(e=>{var i,n,o,a,s,d,c,g,C,b,k,I,P;let{pausePlayControlShortcut:L}=u.Le.getConfig(u.gI.PlayerShortcutConf)||{};if(!!N(e)&&!!(null==t?void 0:t.isUserActive)&&(null==e?void 0:null===(i=e.target)||void 0===i?void 0:i.nodeName)!=="INPUT"&&(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.nodeName)!=="TEXTAREA"&&(null==e?void 0:null===(o=e.target)||void 0===o?void 0:o.contentEditable)!=="true"&&(null==t?!void 0:null===(d=t.plugins)||void 0===d?!void 0:null===(s=d.keyboard)||void 0===s?!void 0:null===(a=s.config)||void 0===a?!void 0:!a.disable)&&!L){if(clearTimeout(D.current),D.current){if(!t)return;let{currentTime:e,paused:i,duration:n}=t,o=e+5,a=!!(null===(g=T.current)||void 0===g?void 0:null===(c=g.chapterInfo)||void 0===c?void 0:c.status);y.Z.sendLog("progressClick",{play_current_time:Math.floor(e||0),enter_from_merge:(0,f.vM)(),tab_name:(0,_.zD)()||(0,h.Rs)("tab_name")||"",group_id:null===(C=T.current)||void 0===C?void 0:C.awemeId,author_id:null===(k=T.current)||void 0===k?void 0:null===(b=k.authorInfo)||void 0===b?void 0:b.uid,is_chapter_bar:a?1:0,chapter_index:(0,v.P)({awemeInfo:T.current,currentTime:o}),position:o||0,enter_from:(0,m.yW)(),click_method:"hot_key",rate:o/n,action:"forward",is_small_window:(0,S.f)()?"1":"0",small_window_scene:(0,S.f)()?A.h.getState().smallWindowScene:"",vduration:null===(P=T.current)||void 0===P?void 0:null===(I=P.video)||void 0===I?void 0:I.duration,is_ting_window:p.e.activeScene===r.d.ListenVideo?1:0,if_continued_play:u.Le.getConfig(u.gI.PlayRecord)?(0,x.v)(T.current.awemeId)?1:0:"",before_rate:e/n,before_position:e,player_display_mode:(0,f.Ok)()}),t.seek(o,i?"pause":"play"),t.emit(l.Events.USER_ACTION,{action:w.B.DyUserSeek,currentTime:o,prePlayTime:e})}else{let e=u.Le.getConfig(u.gI.PlayRatioBeforeLongPress);t.emit(w.B.ChangePlayRate,{rate:e||1,click_method:"longPress"}),u.Le.setConfig(u.gI.PlayRatioBeforeLongPress,0)}E=!1,D.current=null}},[t,P]);(0,n.useEffect)(()=>g&&i?(document.addEventListener("keydown",R),document.addEventListener("keyup",B),()=>{document.removeEventListener("keydown",R),document.removeEventListener("keyup",B)}):()=>null,[e,i,g,B,R]),(0,n.useEffect)(()=>{if(g&&i&&L)return L.addEventListener("keydown",R),L.addEventListener("keyup",B),()=>{L.removeEventListener("keydown",R),L.removeEventListener("keyup",B)}},[L,i,g,B,R]),(0,n.useEffect)(()=>{if(g&&i&&j){let e=p.e.getPipWindow({scene:r.d.ListenVideo});if(e)return e.addEventListener("keydown",R),e.addEventListener("keyup",B),()=>{e.removeEventListener("keydown",R),e.removeEventListener("keyup",B)}}},[j,i,g,B,R])},D=()=>{let e=u.Le.getConfig(u.gI.PlayRatioBeforeLongPress);e&&(0,g.t_)(o.SessionStorageKeys.PlayerPlaybackratio,e)}},312540:function(e,t,i){i.d(t,{M:function(){return X},Q:function(){return $}});var n=i("520739");i("874386"),i("250440");var l=i("88648"),o=i("734123"),a=i("507217"),r=i("598467"),s=i("746864"),u=i("256277"),d=i("17750"),c=i("506467"),f=i("782442"),h=i("256229"),v=i("32167"),m=i("150566"),g=i("914815"),_=i("387787"),p=i("734017");i("777180");var y=i("658065"),w=i("367366"),x=i("637005"),S=i("782563"),A=i("362501"),C=i("794593"),N=i("597321"),b=i("396877"),k=i("631493"),I=i("550339"),E=i("901414");let P=e=>e.metaKey||e.ctrlKey||e.shiftKey,D=(e,t)=>t&&e.metaKey===t.includes(b.cQ.Meta)&&e.shiftKey===t.includes(b.cQ.Shift)&&e.ctrlKey===t.includes(b.cQ.Ctrl),T=(e,t)=>{if(!e||(null==e?void 0:e.musicMute))return;if(e.muted){e.muted=!1,e.volume="up"===t?.1:0;return}let i="up"===t?e.volume+.05:e.volume-.05;i=Math.max(i=Math.min(i,1),0),e.volume=Number(i.toFixed(3))},L=e=>{C.Z.report("pc_hot_key_click",e)},j=(e,t)=>{var i,n,l,a,s,u,d,c,v,m,g,_,p,C,j,R,B,M,H,O,F,U,q,K,W,V,Z,G,z,Q,Y,J,X,$,ee,et,ei,en,el,eo,ea;let er=null==e?void 0:null===(i=e.target)||void 0===i?void 0:i.tagName;if("INPUT"===er||"TEXTAREA"===er||(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.contentEditable)==="true")return;let{player:es,shortcut:eu={},isKeyWorkCancalLike:ed,isAd:ec,enableCustomKey:ef,pipWindow:eh,abtestData:ev}=t;if((null==ef?void 0:ef.length)>0&&!(null==ef?void 0:ef.includes(e.code)))return;let em=(null==ev?void 0:ev.rmShortcutKeyList)||[];if("Minus"===e.code&&D(e,[b.cQ.Shift])&&!(null==em?void 0:em.includes("volume"))&&(T(es,"down"),null==es||es.emit(N.B.CustomShortCut,{action:"volumeDown"}),(0,h.hB)(),L({hot_key:"Shift +",function:"volumeDown"})),"Equal"===e.code&&D(e,[b.cQ.Shift])&&!(null==em?void 0:em.includes("volume"))&&(null==es||es.emit(N.B.CustomShortCut,{action:"volumeUp"}),T(es,"up"),(0,h.hB)(),L({hot_key:"Shift -",function:"volumeUp"})),e.code===(null===(l=eu.like)||void 0===l?void 0:l.code)&&!P(e)&&(null==es||es.emit("shortcutTopic",!0),es.emit("onStar",{event:e,clickMethod:"hot_key",isKeyWorkCancalLike:ed}),(0,h.hB)("like"),L({hot_key:null===(U=eu.like)||void 0===U?void 0:U.code,function:"like"})),e.code===(null===(a=eu.recommend)||void 0===a?void 0:a.code)&&!P(e)&&(null==es||es.emit("shortcutTopic",!0),null==es||es.emit(o.Events.USER_ACTION,{action:"shortcut_recommend"}),(0,h.hB)(),L({hot_key:null===(q=eu.recommend)||void 0===q?void 0:q.code,function:"recommend"})),e.code===(null===(s=eu.comment)||void 0===s?void 0:s.code)&&!P(e)&&(null==es||es.emit("shortcutTopic",!0),es.emit("showComment",{clickMethod:"hot_key"}),(0,h.hB)("comment"),"video_detail"===(0,y.yW)()&&!(0,w.r)()&&x.emit(x.EVENT.commentFocus),L({hot_key:null===(K=eu.comment)||void 0===K?void 0:K.code,function:"comment"})),e.code===(null===(u=eu.watchLater)||void 0===u?void 0:u.code)&&!P(e)&&(null==es||es.emit("shortcutTopic",!0),es.emit("onWatchLater",{e,clickMethod:"hot_key"}),(0,h.hB)(),L({hot_key:null===(W=eu.watchLater)||void 0===W?void 0:W.code,function:"watchLater"})),e.code===(null==eu?void 0:null===(d=eu.pip)||void 0===d?void 0:d.code)&&!P(e)){let t=E.e.activeScene===r.d.WebVideo;if((0,S.DT)()&&t||!(0,S.DT)()){es.emit("switchPIP",{e,clickMethod:"hot_key"});let t=!!e.target;es.emit("onPipShortcutKeyDown",{action:t?"open":"close"}),(0,h.hB)(),L({hot_key:null===(V=eu.pip)||void 0===V?void 0:V.code,function:"pip"})}}if(e.code===(null===(c=eu.collect)||void 0===c?void 0:c.code)&&!P(e)&&(null==es||es.emit("shortcutTopic",!0),es.emit("onCollect",{clickMethod:"hot_key"}),(0,h.hB)(),L({hot_key:null===(Z=eu.collect)||void 0===Z?void 0:Z.code,function:"collect"})),e.code===(null===(v=eu.related)||void 0===v?void 0:v.code)&&!P(e)&&(null==es||es.emit("shortcutTopic",!0),es.emit("onRelated",{e,clickMethod:"hot_key"}),(0,h.hB)(),L({hot_key:null===(G=eu.related)||void 0===G?void 0:G.code,function:"related"})),e.code===(null===(m=eu.share)||void 0===m?void 0:m.code)&&!P(e)&&(es.emit("showShareCode",{clickMethod:"hot_key"}),(0,h.hB)(),L({hot_key:null===(z=eu.share)||void 0===z?void 0:z.code,function:"share"})),e.code===(null===(g=eu.dislike)||void 0===g?void 0:g.code)&&!P(e)&&(es.emit(N.B.Dislike,{clickMethod:"hot_key"}),(0,h.hB)(),L({hot_key:null===(Q=eu.dislike)||void 0===Q?void 0:Q.code,function:"dislike"})),e.code===(null===(_=eu.avatar)||void 0===_?void 0:_.code)&&!P(e)&&(null==es||es.emit("shortcutTopic",!0),es.emit("onAvatar"),(0,h.hB)("avatar"),L({hot_key:null===(Y=eu.avatar)||void 0===Y?void 0:Y.code,function:"avatar"})),e.code===(null===(p=eu.follow)||void 0===p?void 0:p.code)&&!P(e)&&(null==es||es.emit("shortcutTopic",!0),es.emit("onFollow",{clickMethod:"hot_key"}),(0,h.hB)(),L({hot_key:null===(J=eu.follow)||void 0===J?void 0:J.code,function:"follow"})),e.code===(null===(C=eu.fullscreen)||void 0===C?void 0:C.code)&&!P(e)){if((0,A.QD)()&&x.emit(x.EVENT.changeMinWindows,{event:"close",isMiniWin:!1,clickMethod:"hotkey_fullScreen"}),null==eh?void 0:eh.close)eh.close(),es.getFullscreen(),es.emit("switch_fullscreen",{fullscreen:!0});else{if(null==es?void 0:null===(X=es.openGeneralSearchModalSlide)||void 0===X?void 0:X.call(es,{from:"fullscreen"}))return;(0,h.hB)(),L({hot_key:null===($=eu.fullscreen)||void 0===$?void 0:$.code,function:"fullscreen"}),(0,w.r)()?(es.exitFullscreen(),es.emit("switch_fullscreen",{fullscreen:!1})):f.Le.getConfig(f.gI.disableFullScrren)&&!f.Le.getConfig(f.gI.IsMiniWin)?x.emit(x.EVENT.loginBlockKeyBoard,{fullscreen:!0}):(es.getFullscreen(),es.emit("switch_fullscreen",{fullscreen:!0}))}}if(e.code===(null===(j=eu.pageFullScreen)||void 0===j?void 0:j.code)&&!P(e)&&(null==es?void 0:es.isUserActive)&&(null==es?void 0:null===(R=es.getPlugin)||void 0===R?void 0:R.call(es,"PageFullScreenPlugin"))){if(null==es?void 0:null===(ee=es.openGeneralSearchModalSlide)||void 0===ee?void 0:ee.call(es,{from:"pageFullscreen"}))return;(0,h.hB)(),L({hot_key:null===(et=eu.pageFullScreen)||void 0===et?void 0:et.code,function:"pageFullScreen"});let e=!k.s.getPlayerIsPageFullscreen(es.playerId);k.s.setPageFullscreen({playerId:es.playerId,isPageFullscreen:e}),x.emit(x.EVENT.pageFullScreen,{clickMethod:"hot_key",fullScreen:e,playerId:es.playerId})}if(e.code===(null===(B=eu.immersivePlayer)||void 0===B?void 0:B.code)&&!P(e)&&(null==es||es.emit(N.B.UpdateImmersiveSwitch,{logParams:{enter_method:"hot_key"}}),(0,h.hB)(),L({hot_key:null===(ei=eu.immersivePlayer)||void 0===ei?void 0:ei.code,function:"immersivePlayer"})),e.code===(null===(M=eu.danmaku)||void 0===M?void 0:M.code)&&!P(e)&&(null==es||es.emit(N.B.ChangeDanmaku),(0,h.hB)(),L({hot_key:null===(en=eu.danmaku)||void 0===en?void 0:en.code,function:"danmaku"})),e.code===(null===(H=eu.autoPlay)||void 0===H?void 0:H.code)&&!P(e)){let e={switchBy:I.l7.Shortcut,logParams:{enter_method:"hot_key"}};f.Le.getConfig(f.gI.IsInMixCard)&&f.Le.setConfig(f.gI.AutoPlayChanged,{changed:!0}),null==es||es.emit(N.B.UpdateAutoPlaySwitch,e),x.emit(x.EVENT.syncAutoPlaySetting),(0,h.hB)(),L({hot_key:null===(el=eu.autoPlay)||void 0===el?void 0:el.code,function:"autoPlay"})}e.code===(null===(O=eu.showAdDetail)||void 0===O?void 0:O.code)&&ec&&!P(e)&&(x.emit(x.EVENT.openAdSideCard,{from:"keyboard"}),(0,h.hB)(),L({hot_key:null===(eo=eu.showAdDetail)||void 0===eo?void 0:eo.code,function:"showAdDetail"})),e.code===(null===(F=eu.listenVideo)||void 0===F?void 0:F.code)&&!ec&&!P(e)&&(es.emit("onListenVideo",{clickMethod:"hot_key"}),(0,h.hB)(),L({hot_key:null===(ea=eu.listenVideo)||void 0===ea?void 0:ea.code,function:"listenVideo"})),"Enter"===e.code&&!P(e)&&(null==es||es.emit(N.B.danmakuInputFocus),(0,h.hB)(),L({hot_key:"Enter",function:"danmakuInputFocus"}))};var R=i("625029"),B=i("680475"),M=i("764942"),H=i("779214"),O=i("709409"),F=i("226355"),U=i("966648"),q=i("860684"),K=i("903868");let{AwemeType:W}=a,V=[W.LiveCard,W.Lvideo,W.Normal,W.WordCupCard,W.XgVideo,W.NewNormal,W.Canvas],{D:Z,A:G,ArrowLeft:z,ArrowRight:Q,Space:Y}=c.bf,J=[z,Q,G,Z,Y].map(e=>e.code),X=()=>{(0,l.useEffect)(()=>{let e=e=>{let{pausePlayControlShortcut:t,disableKey:i=[]}=f.Le.getConfig(f.gI.PlayerShortcutConf)||{};[...t?[...J]:[],...i].includes(e.code)&&e.stopPropagation()};return document.addEventListener("keydown",e,!0),document.addEventListener("keyup",e,!0),document.addEventListener("keypress",e,!0),()=>{document.removeEventListener("keydown",e,!0),document.removeEventListener("keyup",e,!0),document.removeEventListener("keypress",e,!0)}},[])},$=e=>{let{isActive:t=!1,abtestData:i,isSliderVideo:a,isKeyWorkCancalLike:c,shortcutDisable:y,shortcutInclude:w,shortcutExclude:x,awemeInfo:S,showAdMenu:A=!1,disableShortCut:C=!1,disableAllNativeShortCut:b=!1,isClientMiniWin:k=!1,pipWindow:I,isLogin:P}=e,[D,T]=(0,l.useState)(null==e?void 0:e.player);D!==(null==e?void 0:e.player)&&T(null==e?void 0:e.player);let L=(0,q.g)(),{isListenVideoMiniWin:W}=(0,K.Iq)(e=>{let{isListenVideoMiniWin:t}=e;return{isListenVideoMiniWin:t}});(0,l.useEffect)(()=>{if(L&&t&&W){let e=E.e.getPipWindow({scene:r.d.ListenVideo});if(e){let t=e=>{D.plugins.keyboard._onBodyKeyDown(e)};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}}},[W,t,D]),(0,R.u_)({player:D,isActive:t,isLongPressOn:!C&&(null==S?void 0:S.awemeType)!==s.e.Note,disableLongPress:(0,u.Jt)(S)&&(0,u.Gu)(S),awemeInfo:S,abtestData:i}),X();let{isShortcutListShow:Y}=(0,U.y)({player:D,isLogin:P,isActive:t}),J=(0,l.useMemo)(()=>d.getShortcut({disable:y,include:w,exclude:x}),[y,w,x,Y]);(0,l.useEffect)(()=>{if(C)return()=>null;if(t&&D){(0,h.z5)();let e=e=>{let{pauseCustomShortcut:t,enableCustomKey:n}=f.Le.getConfig(f.gI.PlayerShortcutConf)||{};if(!(t||!D.isUserActive||f.Le.getConfig(f.gI.IsAlreadyExsitReportModal)))j(e,{player:D,shortcut:J,isSliderVideo:a,isKeyWorkCancalLike:c,enableCustomKey:n,abtestData:i,isAd:A,pipWindow:I})},t=t=>{var i,n;(null===(i=t.data)||void 0===i?void 0:i.type)==="KEY_DOWN"&&(null===(n=t.data)||void 0===n?void 0:n.data)&&e(t.data.data)};return document.addEventListener("keydown",e),window.addEventListener("message",t),()=>{document.removeEventListener("keydown",e),window.removeEventListener("message",t)}}},[D,t,i,J,a,c,C,A]),(0,l.useEffect)(()=>{if(D&&V.includes(null==S?void 0:S.awemeType)){var e,t,i,l;if(b&&(null==D?void 0:null===(e=D.plugins)||void 0===e?void 0:e.keyboard))return(0,B.K)(D);if(!C){let e=e=>()=>{var t,i,n;let{currentTime:l,paused:a,duration:s}=D,u="forward"===e?l+5:l-5,{pausePlayControlShortcut:d}=f.Le.getConfig(f.gI.PlayerShortcutConf)||{};if(d)return;let c=!!(null==S?void 0:null===(t=S.chapterInfo)||void 0===t?void 0:t.status);H.Z.sendLog("progressClick",{play_current_time:Math.floor(l||0),position:u||0,enter_from:(0,v.mo)(),click_method:"hot_key",rate:u/s,action:e,is_small_window:(0,M.f)()?"1":"0",small_window_scene:(0,M.f)()?F.h.getState().smallWindowScene:"",enter_from_merge:(0,v.vM)(),tab_name:(0,p.zD)()||(0,m.Rs)("tab_name")||"",is_chapter_bar:c?1:0,chapter_index:(0,g.P)({awemeInfo:S,currentTime:u}),group_id:null==S?void 0:S.awemeId,author_id:null==S?void 0:null===(i=S.authorInfo)||void 0===i?void 0:i.uid,vduration:null==S?void 0:null===(n=S.video)||void 0===n?void 0:n.duration,if_continued_play:f.Le.getConfig(f.gI.PlayRecord)?(0,O.v)(S.awemeId)?1:0:"",before_rate:l/s,before_position:l,is_ting_window:E.e.activeScene===r.d.ListenVideo?1:0,player_display_mode:(0,v.Ok)()}),D.seek(u,a?"pause":"play"),D.emit(o.Events.USER_ACTION,{action:N.B.DyUserSeek,currentTime:u,prePlayTime:l})},a={left:{keyCode:z.keyCode,action:e("rewind"),disable:!1,noBodyTarget:!1},letterA:{keyCode:G.keyCode,action:e("rewind"),disable:!1,noBodyTarget:!1},letterD:{keyCode:Z.keyCode,action:e("forward"),disable:!0,noBodyTarget:!1},right:{keyCode:Q.keyCode,action:e("forward"),disable:!0,noBodyTarget:!1}};if(null==D?void 0:null===(t=D.plugins)||void 0===t?void 0:t.keyboard){let t=(null==D?void 0:null===(l=D.plugins)||void 0===l?void 0:null===(i=l.keyboard)||void 0===i?void 0:i.keyCodeMap)||{},o=(0,_.x)();return!k||o?D.plugins.keyboard.keyCodeMap=(0,n._)({},t,a):D.plugins.keyboard.keyCodeMap=(0,n._)({},t,{left:{keyCode:z.keyCode,action:e("rewind"),disable:!1,noBodyTarget:!1},right:{keyCode:Q.keyCode,action:e("forward"),disable:!1,noBodyTarget:!1}}),()=>{var i,l;(null===(l=D.plugins)||void 0===l?void 0:null===(i=l.keyboard)||void 0===i?void 0:i.keyCodeMap)&&(D.plugins.keyboard.keyCodeMap=(0,n._)({},t,{left:{keyCode:z.keyCode,action:e("rewind"),disable:!1,noBodyTarget:!1},right:{keyCode:Q.keyCode,action:e("forward"),disable:!1,noBodyTarget:!1}}))}}}}},[D,S,b,C,k,i])}},777480:function(e,t,i){i.d(t,{Jy:function(){return eu},Cf:function(){return es},Xf:function(){return ec},ZL:function(){return ef}});var n=i("134761"),l=i("520739"),o=i("878389");i("874386"),i("268917"),i("250440");var a=i("563097"),r=i("88648"),s=i("489478"),u=i("732365"),d=i("713097"),c=i.n(d),f=i("734123"),h=i("948375"),v=i("877639"),m=i.n(v),g=i("823685"),_=i("35730"),p=i("147613"),y=i("507217"),w=i("746864"),x=i("375944"),S=i("820303"),A=i("658065"),C=i("32167"),N=i("349998"),b=i("637005"),k=i("358003"),I=i("860684"),E=i("77741"),P=i("224071"),D=i("679126");i("611050");var T=i("597321"),L=i("252376"),j=i("399818");let R=e=>{let{awemeInfo:t,abtestData:i,enableDash:n}=e;return(0,j.QF)({awemeInfo:t,abtestData:i,enableDash:n,disableBitRateFilter:!0,enableCodecMix:!1,codecMixType:0}).definition};var B=i("261745"),M=i("371738"),H=i("782442");class O{static addAutoSwitchCount(e){e.autoSwitchCount?e.autoSwitchCount++:e.autoSwitchCount=1}static resetAutoSwitchCount(e){e.autoSwitchCount=0}static getAutoSwitchCount(e){return e.autoSwitchCount}static getIsInAutoSwitch(e){return e.autoSwitchCount>0}static subAutoSwitchCount(e){e.autoSwitchCount&&e.autoSwitchCount--}}let F=e=>{try{var t,i,n,l,o,a,r;if(!e||!(null===(t=H.Le.getConfig(H.gI.AbtestData))||void 0===t?void 0:t.autoClarityReselect))return;let{curDefinition:s}=e;null===(o=e.plugins.bitrateselector.bitRateAdapter)||void 0===o||null===(l=o.selector)||void 0===l||null===(n=l._rule)||void 0===n||null===(i=n.setCurrent)||void 0===i||i.call(n,{bitrate:null==s?void 0:s.bitrate,_xgOrgBitrate:null==s?void 0:s.bitrate,duration:null==s?void 0:s.duration}),null===(r=e.plugins.bitrateselector.bitRateAdapter)||void 0===r||null===(a=r.selector)||void 0===a||a._updateInfo()}catch(e){}};i("779788");var U=i("663153"),q=i("300277"),K=i.n(q),W={Up:1,1:"Up",Down:2,2:"Down",Auto:0,0:"Auto"},V={start:1,1:"start",process:2,2:"process",end:3,3:"end"},Z={auto:"auto",mannual:"mannual",abr:"abr"},G=i("77651"),z=i("460302");let Q=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i]},Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(e).length>0){var t,i;return{ufq_src:null==e?void 0:e.src,ufq_enh:null==e?void 0:e.enh,ufq_trans:null==e?void 0:e.trans,ufq_playback_ori:null==e?void 0:null===(t=e.playback)||void 0===t?void 0:t.ori,ufq_playback_srv1:null==e?void 0:null===(i=e.playback)||void 0===i?void 0:i.srv1}}return{}},J={[E.hq.HD4KHDR]:E.rT.HD4KHDR,[E.hq.HD4K]:E.rT.HD4K,[E.hq.HD2K]:E.rT.HD2K,[E.hq.Hd]:E.rT.Hd,[E.hq.Clear]:E.rT.Clear,[E.hq.Smooth]:E.rT.Smooth,[E.hq.Fast]:E.rT.Fast,[E.hq.Auto]:E.rT.Auto},X={[E.hq.HD4KHDR]:E.YB.HD4KHDR,[E.hq.HD4K]:E.YB.HD4K,[E.hq.HD2K]:E.YB.HD2K,[E.hq.Hd]:E.YB.Hd,[E.hq.Clear]:E.YB.Clear,[E.hq.Smooth]:E.YB.Smooth,[E.hq.Auto]:E.YB.Auto};class ${start(){if(2!==this._status&&0!==this._status)this._initPlayClarity(),this.initSwitchDefinationInfos(),this._status=2}reset(){this._status=1,this._switchDefinationInfos=[],this._count=0,this._startTime=0,this._srStatus=0}isHas2K(){return(0,x.fR)()}IsReady(){return 1===this._status}getClarityTypeByDefination(){let e=(0,S.G)(_.SessionStorageKeys.manualSwitch)||{};return(null==e?void 0:e.gearClarity)||(null===E.hq||void 0===E.hq?void 0:E.hq.Auto)}setClarity(e){this._nowClarity=e}_initPlayClarity(){let e=this._clarityTransform(this.getClarityTypeByDefination());this._initClarity=e,this._nowClarity=e}bindFunc(){(null===this||void 0===this?void 0:this._player)&&(this._player.getSwitchDefinationInfos=this.getSwitchDefinationInfos.bind(this),this._player.getIsInSwitching=this.getIsInSwitching.bind(this),this._player.getClarity=this.getClarity.bind(this))}unbindFunc(){(null===this||void 0===this?void 0:this._player)&&(this._player.getSwitchDefinationInfos=void 0,this._player.getIsInSwitching=void 0,this._player.getClarity=void 0)}init(){this._initPlayClarity(),this._initListener(),this.bindFunc(),this._status=1}getClarity(e){return e?this._initClarity:this._nowClarity}getAdjustPlayDuration(e){return Math.round(e<0?0:e)}getSwitchDefinationInfos(){let{_switchDefinationInfos:e}=this,t=this.findLatestSwitchSuccessItem();if(t){let e=this._calcPlayDuration();t.definationInfo.play_duration=t.definationInfo.play_duration+this.getAdjustPlayDuration(e),t.definationInfo.is_super_resolution=this.getSuperResolution(!0),this._recordStartTime()}let i={start_play_clarity_type:this._initClarity,switch_down_cnt:0,switch_up_cnt:0,abr_down_cnt:0,abr_up_cnt:0,switch_to_auto_cnt:0,switch_from_auto_cnt:0,switch_up_duration:[],switch_down_duration:[],switch_to_auto_duration:[],switch_from_auto_duration:[],switch_info:""},n=[];e.forEach(e=>{let{stage:t,switchEndTime:l,switchStartTime:o,switchFromAuto:a,switchToAuto:r,switchOption:s,definationInfo:u,isABR:d}=e;if(t!==V.start){let e=l-o;s===W.Up&&(d?i.abr_up_cnt++:i.switch_up_cnt++,i.switch_up_duration.push(e)),s===W.Down&&(d?i.abr_down_cnt++:i.switch_down_cnt++,i.switch_down_duration.push(e)),r&&(i.switch_to_auto_cnt++,i.switch_to_auto_duration.push(e)),a&&(i.switch_from_auto_cnt++,i.switch_from_auto_duration.push(e))}u&&(u.play_duration=u.play_duration||0,n.push(u))});try{i.switch_info=JSON.stringify(n||[])}catch(e){i.switch_info=""}return Q("getSwitchDefinationInfos",i),i}getIsInSwitching(){let e=this.getLatestSwitchDefinationInfo();return e?(null==e?void 0:e.status)===3?1:0:0}_clarityTransform(e){let t=this.isHas2K()?X:J;return null==t?void 0:t[e]}_calcPlayDuration(){var e,t;return(null===(e=this._player)||void 0===e?void 0:e.cumulateTime)?this.getAdjustPlayDuration(((null===(t=this._player)||void 0===t?void 0:t.cumulateTime)||0)-this._startTime):0}_recordStartTime(){var e;this._startTime=(null===(e=this._player)||void 0===e?void 0:e.cumulateTime)||0}_getCodec(){return(0,z.U)({awemeInfo:this._awemeInfo,player:this._player,abtestData:this._abtestData})}initSwitchDefinationInfos(){var e;let{_player:t}=this;this._recordStartTime();let{curDefinition:i={}}=t||{},n=(null==i?void 0:i.bitrate)||(null==i?void 0:i.realBitrate)||0,o=(null==i?void 0:null===(e=i.audioDefinition)||void 0===e?void 0:e.bitrate)||0,a=(null==i?void 0:i.realBitrate)||0,r={stage:V.start,status:1,definationInfo:(0,l._)({switch_order:this._count++,clarity_now:this._initClarity,video_quality:null==i?void 0:i.qualityType,is_bytevc1:this._getCodec(),video_bitrate:n,audio_bitrate:o,play_bitrate:a,is_super_resolution:this.getSuperResolution(),play_duration:0,switch_type:Z.auto,video_format:(null==i?void 0:i.format)||""},Y((null==i?void 0:i.ufq)||{}))};this.addSwitchDefinationInfo(r)}getSuperResolution(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t,i,n;let e=null===(i=this._player)||void 0===i?void 0:null===(t=i.superResolution)||void 0===t?void 0:t.is_super_resolution;return K()(e)&&(e=null===(n=(0,G.B)({player:this._player}))||void 0===n?void 0:n.is_super_resolution),e||0}let{is_super_resolution:l}=(0,G.B)({player:this._player});return l}onBeforeDefinitionChange(){this._srStatus=this.getSuperResolution()}_calcPlayTimeForPreItem(){let e=this.findLatestSwitchSuccessItem(1);if(e){var t;let i=this._calcPlayDuration();this._recordStartTime(),e.definationInfo=(0,o._)((0,l._)({},e.definationInfo),{is_super_resolution:this._srStatus,play_duration:(null==e?void 0:null===(t=e.definationInfo)||void 0===t?void 0:t.play_duration)+this.getAdjustPlayDuration(i)})}}onABRDefinitionChangeSuccess(e){var t;let{_player:i}=this,{curDefinition:n={}}=i||{};this._calcPlayTimeForPreItem();let{orgDefinition:o,currentDefinition:a}=e,r=(null==n?void 0:n.bitrate)||(null==n?void 0:n.realBitrate)||0,s=(null==n?void 0:null===(t=n.audioDefinition)||void 0===t?void 0:t.bitrate)||0,u=(null==n?void 0:n.realBitrate)||0,d=null==n?void 0:n.qualityType,c=a<o?W.Up:W.Down,f=(0,l._)({switch_order:this._count++,clarity_now:this._clarityTransform(E.hq.Auto),video_quality:d,video_bitrate:r,audio_bitrate:s,play_bitrate:u,play_duration:0,is_super_resolution:this.getSuperResolution(),switch_type:Z.abr,is_bytevc1:this._getCodec(),video_format:(null==n?void 0:n.format)||""},Y((null==n?void 0:n.ufq)||{}));this.addSwitchDefinationInfo({switchOption:c,switchFromAuto:!1,switchToAuto:!1,switchStartTime:0,switchEndTime:0,isABR:!0,status:1,definationInfo:f}),this.recordSrStatus()}onDefinitionChangeFail(){}onDefinitionChangeSuccess(e){var t,i;if(O.getIsInAutoSwitch(this._player))return;let{hack:n}=e,a=this.findLatestSwitchSuccessItem(1);if(a){let e=this._calcPlayDuration();this._recordStartTime(),a.definationInfo=(0,o._)((0,l._)({},a.definationInfo),{play_duration:(null==a?void 0:null===(i=a.definationInfo)||void 0===i?void 0:i.play_duration)+e})}let r=this.findLatestSwitchSuccessItem(3);this.setClarity(null==r?void 0:null===(t=r.definationInfo)||void 0===t?void 0:t.clarity_now),r&&(r.switchEndTime=n?null==r?void 0:r.switchStartTime:Date.now(),r.status=1,r.definationInfo=(0,o._)((0,l._)({},r.definationInfo),{is_super_resolution:this._srStatus,play_duration:0})),this.recordSrStatus()}recordSrStatus(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._timer=setTimeout(()=>{this._srStatus=this.getSuperResolution(),this._timer=null},1e3)}addSwitchDefinationInfo(e){this._switchDefinationInfos.push(e)}removeSwitchDefinationInfo(e){this._switchDefinationInfos.shift()}clearSwitchDefinationInfo(){this._switchDefinationInfos=[]}onDefinitionChange(e){if(O.getIsInAutoSwitch(this._player))return;let{to:t,from:i,hack:n=0}=e||{},{_player:a}=this,{clarityChange:r}=(null==a?void 0:a.config)||{},{from:s,to:u}=r||{};if(s&&u){var d,c,f;let e;let{clarity:i}=u,{clarity:a}=s,r=a===E.hq.Auto,h=i===E.hq.Auto;e=r||h?W.Auto:Number(i)>Number(a)?W.Up:W.Down;let v={};if(n){let e=null===this||void 0===this?void 0:null===(d=this._player)||void 0===d?void 0:d.curDefinition,n=(null==e?void 0:e.bitrate)||(null==e?void 0:e.realBitrate)||0,o=(null==e?void 0:null===(c=e.audioDefinition)||void 0===c?void 0:c.bitrate)||0,a=(null==e?void 0:e.realBitrate)||0;v=(0,l._)({switch_order:this._count++,clarity_now:this._clarityTransform(i),video_quality:null==t?void 0:t.qualityType,video_bitrate:n,audio_bitrate:o,play_bitrate:a,play_duration:0,switch_type:Z.mannual,is_bytevc1:this._getCodec(),video_format:(null==e?void 0:e.format)||""},Y((null==e?void 0:e.ufq)||{}))}else{let e=(null==t?void 0:t.bitrate)||(null==t?void 0:t.realBitrate)||0,n=(null==t?void 0:null===(f=t.audioDefinition)||void 0===f?void 0:f.bitrate)||0,o=(null==t?void 0:t.realBitrate)||0;v=(0,l._)({switch_order:this._count++,clarity_now:this._clarityTransform(i),video_quality:null==t?void 0:t.qualityType,video_bitrate:e,audio_bitrate:n,play_bitrate:o,play_duration:0,switch_type:Z.mannual,is_bytevc1:this._getCodec(),video_format:(null==t?void 0:t.format)||""},Y((null==t?void 0:t.ufq)||{}))}let m={switchOption:e,switchFromAuto:r,switchToAuto:h,switchStartTime:Date.now(),status:3,definationInfo:v};this.addSwitchDefinationInfo(m);let g=this.findLatestSwitchSuccessItem(1);g&&(g.definationInfo=(0,o._)((0,l._)({},g.definationInfo),{is_super_resolution:this._srStatus}))}}onUserAction(e){}onEnded(){}_initListener(){let{_player:e}=this;null==e||e.on(f.Events.USER_ACTION,this.onUserAction),null==e||e.on(es.BeforeDefinitionChange,this.onBeforeDefinitionChange),null==e||e.on(U._c.ABR_DEFINITION_REAL_CHANGE,this.onABRDefinitionChangeSuccess),null==e||e.on(es.DefinitionChange,this.onDefinitionChange),null==e||e.on(es.DefinitionChangeSuccess,this.onDefinitionChangeSuccess),null==e||e.on(es.DefinitionChangeFail,this.onDefinitionChangeFail),null==e||e.on(f.Events.ENDED,this.onEnded)}_uninitListener(){let{_player:e}=this;null==e||e.off(f.Events.USER_ACTION,this.onUserAction),null==e||e.off(es.BeforeDefinitionChange,this.onBeforeDefinitionChange),null==e||e.off(es.DefinitionChange,this.onDefinitionChange),null==e||e.off(es.DefinitionChangeSuccess,this.onDefinitionChangeSuccess),null==e||e.off(es.DefinitionChangeFail,this.onDefinitionChangeFail),null==e||e.off(f.Events.ENDED,this.onEnded),1===this._abtestData.fixOOM&&(null==e||e.off(U._c.ABR_DEFINITION_REAL_CHANGE,this.onABRDefinitionChangeSuccess))}destroy(){this._uninitListener(),this.clearSwitchDefinationInfo(),this._initClarity=null,this.unbindFunc(),this._player=null,this._status=null,this._timer&&(clearTimeout(this._timer),this._timer=null)}getLatestSwitchDefinationInfo(){var e,t;return null===(t=this._switchDefinationInfos)||void 0===t?void 0:t[(null===(e=this._switchDefinationInfos)||void 0===e?void 0:e.length)-1]}findLatestSwitchSuccessItem(e){var t;let i;let n=null===(t=this._switchDefinationInfos)||void 0===t?void 0:t.length,l=e||1;for(let e=n-1;e>=0;e--){let t=this._switchDefinationInfos[e];if((null==t?void 0:t.status)===l){i=t;break}}return i}constructor(e){(0,n._)(this,"_switchDefinationInfos",[]),(0,n._)(this,"_player",void 0),(0,n._)(this,"_startTime",void 0),(0,n._)(this,"_initClarity",void 0),(0,n._)(this,"_count",0),(0,n._)(this,"_timer",null),(0,n._)(this,"_status",void 0),(0,n._)(this,"_nowClarity",void 0),(0,n._)(this,"_abtestData",void 0),(0,n._)(this,"_srStatus",void 0),(0,n._)(this,"_awemeInfo",void 0);let{player:t,awemeInfo:i,abtestData:l}=e;this._switchDefinationInfos=[],this._player=t,this._abtestData=l,this._awemeInfo=i,this._status=0,this.onBeforeDefinitionChange=this.onBeforeDefinitionChange.bind(this),this.onDefinitionChangeFail=this.onDefinitionChangeFail.bind(this),this.onDefinitionChangeSuccess=this.onDefinitionChangeSuccess.bind(this),this.onDefinitionChange=this.onDefinitionChange.bind(this),this.onABRDefinitionChangeSuccess=this.onABRDefinitionChangeSuccess.bind(this),this.onUserAction=this.onUserAction.bind(this),this.onEnded=this.onEnded.bind(this)}}let ee=e=>{let{player:t,gearList:i,abtestData:n,isActive:l,awemeInfo:o}=e,a=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e,l;return t?(a.current=new $({player:t,gearList:i,abtestData:n,awemeInfo:o}),null===(e=a.current)||void 0===e||e.init(),null===(l=a.current)||void 0===l||l.start(),()=>{var e;null===(e=a.current)||void 0===e||e.destroy(),a.current=null}):()=>{}},[t,n]),(0,r.useEffect)(()=>{var e,i;if(!!t)l?null===(e=a.current)||void 0===e||e.start():null===(i=a.current)||void 0===i||i.reset()},[l]),(0,r.useEffect)(()=>{var e,i;if(!!t)null===(e=a.current)||void 0===e||e.reset(),null===(i=a.current)||void 0===i||i.start()},[null==o?void 0:o.awemeId])};var et=i("692784");let ei="xgplayer-playclarity-setting-v2",en="xgplayer-playclarity-setting-v2-hdr4k",el=e=>{let{indexSelected:t,abtestData:i,uniqueKey:n}=e,l=(0,r.useCallback)(e=>{if((0,x.fR)()||(null==i?void 0:i.exposureDefination))try{var t;let i=e&&e!==E.hq.Auto?0:1,l="xgplayer-playclarity-setting-unique-"+n,o=null===(t=document.getElementsByClassName(l))||void 0===t?void 0:t[0];if(!o)return;let a=o.className.indexOf(ei)>-1?0:1,r=e===E.hq.HD4KHDR||o.className.indexOf(en)>-1;if(i!==a||r){let t=`xgplayer-playclarity-setting ${l}`;!i&&(t+=` ${ei}`),e===E.hq.HD4KHDR&&(t+=` ${en}`),o.className=t}}catch(e){}},[i,n]);(0,r.useEffect)(()=>{l(t)},[t])},eo=e=>{let{player:t,action:i,awemeInfo:n,isActive:l,abtestData:o}=e;(0,r.useEffect)(()=>{if(l||!(null==o?void 0:o.switchClarityTiming))return()=>{};let e=b.listen(b.EVENT.syncDefination,e=>{let{awemeId:t}=e;if((null==n?void 0:n.awemeId)!==t)i()});return()=>{e()}},[t,i,n,o])},ea=e=>{let{player:t,awemeInfo:i,isActive:n}=e;(0,r.useEffect)(()=>{if(!t||!n)return;let e=()=>{F(t)};return window.addEventListener("beforeunload",e),t.once(T.B.BeforeDestroy,e),()=>{e(),t.off(T.B.BeforeDestroy,e),window.removeEventListener("beforeunload",e)}},[t,i,n])},er=(e,t)=>{let i={key:E.hq.HD4KHDR,label:E.cJ.HD4KHDR,val:(0,a.jsxs)("div",{className:"clarity-wrapper",children:[(0,a.jsx)("img",{className:"hdr4k",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIkAAAAXCAYAAAA/SGz6AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABAZSURBVHgB7Vp5c1vXdT/34lGmYncIdknLxg4By4rjqi7BpknGbloCnjqt3bok4klnMkkr0m3+cLqI6hcgmQ9QktPFbdOUpNNOZtw0kJxGzqRjA3KmVseph5SdVI6UGGCsWFnGIWRbIol3l5xz7n0PD3jgImf7R0c28XDfXc/5nfVCQA+yG/UsbPVn6VkMDTXgJ0x241JOKZUDBRD0qzUxmG/CdfqpUdCrMQwzE0KqJX6+9HKpb+iWGj1vXqrnAnngKIARUkprDLUaASBt/GmMCCBY7gaX/t63ZqzRZzNXdU3kdxd62ApnBIhJwBnVVlDCphpcp58a9QQJaNRm/CcEfREdr6xRs9RmrLb83VqByOBeQlhqE6FoHbP1ej4JBqXCSSnEcNgvRXipUcXhj8oMAs3ayXhynAloBm0K/IRIwQ7zrVfqKVBpAVMHh/INuE4/dopBsvlyvQhk36lJ6xGQiAdjBdIIvuOO+LZhjGpgG760OZaqhSbCpOmAY8lFZfH9QNiH7gJgLV5Jm6YBGoM2x0IJuxeNguMgDK5LmLTCAdK6/oRQS9NDoROm3EFAkIE3S1vfvDCPM0/zelI0Dt58Wz75fvOb5yfxY4kwiiddueHt75hKzbF+fhXnKNA+cZZK/9vf8YHd1rxSPzeL5neGzoIWeO7G/O2zvfpt1s/lrBR1fMS1hTg4fHvH8a82XqR3uc5Rnmcg1lBPiecrB/N31HrNf7VxzrD6RSSSw2EDeX7WaLty021HlqMubUtiwyp1FkJZjeAA4wajwOdJgAq/HBziDedb9fMFLWGVNB2BsXjjsDvw1fXzC9jhryydz5hscnM33Hzr6Gb9QhGkmcSvY3xQY05CJnNZa+rBf/Brhrh4FJcu0gFwgTkCZ/dhb1SZNxWnkBCMVtNxg0730a0Q0MohC6yQXZaU51g/N4PKMuLQSnsTfw17EflmNLs8p4jF0pOsUsCKCOl+lpllnaUH4S0+KytRwRBwLUxe+cYLszceunMutQ2tRIwLJ19L3sDppB3EliI+j71x4fmRmw7/2nHqFrQXVw3skLOOJ96DWA86S34k5lZLhwVkHk+Oq8TWQqvtphQZHi6Rvd10MH+4Bj6+eKP+1cJN+SONK9/4yoxICMIYTXvPRi3I2mP40Yy+0+EOSFHeK67ZiYwOq3wmETEpLQjagyD4W8JQ5+vXzj8/iSCa5S8SNqTUpYP50cbeCytrnHis2gUiW1tbEATCAcDaFEK1Cn0YwNQw/gF7I8/EQCQnHDt7+cXVywPvHF1IjicAWgYVyQ7WsD97AbcldPOWPQFNMH35xefWB975roUYJG/J/0o+yQgpYcktJu75mcN31qJ3m/XVnNZqxijBYJcZHYNEWjuCLHB7sQZ2IwQIj0NwkqSGoQ1C3q+xbtu4SBYPnLUJs7htbBbeBL1xfvWY0TrnFfAyNmV7GAogaKBMhW1vh2nz3GquZcN5416htRQP3XT7PgBC50HfamwkDSN264vWgmI1wRai+51R8a4MZEqDd7TX38D9SasrqL8FwaGAndmory4P5kebyX1E7gZTjHLH+NXVrLhBoZu1E97KjGPzwg6BKzLJsBljVY7o9XNfLqqW/awFPegiBvHxVqhyl889V+VhKszxASjX6ZcxeF772nNLwDEMLGvInE5uDAPYqW6raoU+hk0T1IreZxq0Pdt+G4DqT8Q6+6SNc2dyuL9pF0OIFXJneIYBY3sILAy9GN0peXx9NdvaRJesIOs8sZ0bPPLeE7BPMqTBfLje1qtNW2jtnBXuZUnQXaCVZivO+0wS8RUFXRJ923Wyxtg0AG+oAiSyQ8OujF2DwGyic/zoaHPjhTOLOHbCtdgi/WWQvPbVZ5dwSC7Cg7VhDkM2lB+ZJDvf/P9nGYmGFtM66wJK8fGBI++eJfTBgTCLLVnw/g3/WxzMvytGr1VktC0JpShR4htf+d+zkLFlYeRLxrQ833jWNvu8FiltF0ijYs2y20JcQRv5wpla9s67SrBf0jCDGVkOF2qYEOagD2Me59ZThO4UAil5fREx5fWr8+gucv7b4uCdd8/CNRAJxzlwSLqLNG1hn4xyDr4HkeXV3uoKSAfvLOi1L60ht8acU7UjkAAJWSLiN00vQaUXUFuYiAQsi4g5DBKNQSZKpxgFQTQBYRglQ8sUeEPYrrQ5nRHipJVwevBX716IN/X8M1M4NMdA6QvWBo+850QXg87itho4b87DuIBiz1kjL+M6AxCtF7kYz4MoGhMe+gnFtrsyuos2Vp+eQOZOegktDo6+r/H9tafBZyZpaaAl1VrHK2yc/RLVeI6CC9LWBehZuEYyqiVAegthdnM3bEmEO2i6m3Xuwu897DmDNmo9cinCWZT2eAYr1xrElug11qC8lXfudp3anLtR+qTmNLZN2As724KPok9gHNvE2BwDHb1sdGbm1dWnl5wvkmwCOXon7dtWAxur1bXB0VIjmmtwhAG1sLH6PwWQegxdzwTZ8y2Qo1Gffvx/O/G85RnWft/Pn9vc1t/xbi9CCzKPhRU+9M/+eonBzVkCW6geAkNTg6E3eGmMaAOT4HL0dSlFCc92zUEzxwJGRiZz5ntffnImNvuJdEMp4qmJ1k7NY0O0yj5UaQXhDotp6ye2pmsOlpWfONCQu3TmCW7HrDKL3mMcLcExEJqljmetcT/6Mzj6m8vfffaLa5lM3zhtEKupi7jZaczVCqTQKP/FX3h3iQd8//+qGBjpcTJHbiMcYrqzo/aR1uMWc9i13L13XIdiCfp/MWp79bknUUthGrGbDTxfKPoPhAu/I7+s4Ar377OYcsorx3/+N35nX/HAqygMo7hmY1VfELsntBSRR0tnN/QOjPUCLUTt+Lz2c++9twFvhgzxycRxCR/N1Zs63E+cRiYsa5K0ccBg17uDnugwjIBHn7mObTiQuPECnpLWG2qt21Gy28R6qMUcfU0ErpkCTjBLM7dkawVL62jZeAaRrCVg5TQbe3IBy07jqAYgKC6ZsC7C2Hf2oUM1SW4qEclHKVwU3XO6FumVIZdlgEz/niBBLcE7oNasYwqsDI22BWx1CN6BpdNM1FYu1zBO5RrGJVga4Ixq4tvPnJr+pbvvX4BrJLyLwlpa7EEd+AUXzLh20g7MrE9Re+ddFJPQQB4jexcUMc3Hudi10cSNjvHOynCBHPwfkzBZ/qFmM8HU0F338dg2SFQ4YLxMqOZtXFDjgW+OfufM58eQWScNprhRbviLd90/ldzAd545hVG1zcne54NXnnl8ImMz4wzxvgOLb33P+9ciZNMQvBG6tWNAUpPQGqBlq7L6a7MvEEqjsLLKqWDDZIK5jqk1aaRk7U4RvtMmUgVJtYQVFOU8rY1Nf/PdaqX21lL5mjIsjEk4VXNeC2aHfmt8rle/S9VKzmao4ip6eRsGieW4E6HU2sHdKHKirNmpHJrHu0o2YHx5wroaVBahM+FDvua2gXL+fQ/ELrVdTLNh1jhI4R5VVhspojgcNfqoQ75sAGUqkSlLMQIBJMHf6qQJ930MwVdk7dm+ssKN2qWGTq+g7mJDaFcR4+oJpVv+zGL3GgwRMruolZqIKooIsqVXnq44tcEmrpc4E5l9pVapUmHpl8fKx92e0MpgfGX9VcHbiuWFb9UqI7jtSdY8ISr1amU0XyrvPzahOgkFrDvwLkkuXoJOJYmmcfxiKytA9hyvLbpXbybpaqXjnQq9BSF/Hh4fKn2oQd8vVj9TxfMWiR/oQ6giPRuNiUESqnDQzyZw4iIJ2/q0FCc8S3c0KKV1KyIx9jicVQNWw45VAETxiM9SxNuKD9YSh45zdydUtGlse6OgLp5QQFQj2IMU/pOGMz0akKOCndAuyLFew7zPHADO7BKMNHTD6YNH/6Jl4fgBo4rGZWjDfXhfg80l2CcZKjxZA7BHVraF/wItY9fTTZzC8rbQoYS9lQUzmIILd1CxhOyweFbHxTi86E+OCcmyFX0Z51i9UlnIl50StN0NXeq5SiQp2zgipWYNl90pETl+S+mDNep28anHZqx3QheffCzKWdmHUsnYrZjmxMXqYxTzZLmjdVEzkUKtlYLDXxGENu+mS5MKAN2NfIpjlR00KEm4pSZq5Okkn227FM8BqXGxEH2p4a5iZpJPB7phAfcjCCKyGhe/+O9ltCJVcGll8eX//vTMLfd+aA72Q1ExDQB2hbirk3A82zM7V9orFKawXSkwCjYr3/I63Stlo6E4TwdIYvfuNhU/4TlqjS98qiYcUHgebG7f3dSrn84hQ8fAxd9kOYpU94hvghNi0zo8La0oRrUUT6IjZbPpiqjeVkXpLnwIdGcTE7LRp5GhRHfjLYmIgrfIwhh3p8KL7aGNRDeX/oj2sKOmr3/h3+o4TxaZuD78ex/p6EeZj/QuTSdQdvP7P7y2furROXw572+oZ+tPfOp0/r4/rsEehK4Yse1jCdij4qpkzMjUPBSURow2sFQ/tcSPqHiYUFweRkuO1xga3O0PLOd//yON5HgKXPmTQNalazZUc1gDK/rC5nT9c584mX/gozUGiWyZo+16AQZ5CBBBt7QsPUpp2xMN3/thYkzN/3QgTRnVzP/uVAok6IrGtXbm2wpzon3o9l0EnqrR7g8RK3x2w2Ygt193sxcZTCU5pO35UsfhbLfNGr7/TxYap/71t3GgS/ENVOpPLI3m75tqwC6k0E1I603ubtsnSxJEPOnlblhR3M0tKjMFgFGG5A2lzwJFQ/TJlJUzPiYhErLzVib/wFSt/vi/1Ix3v9iRrEktqFeWsobTRF6sjki6B1eoWgIJxKsu1T/3yTX8dIGabvUGCL9Dy/Rfn3SL/sGfTtEnroGWSo2xSZCikb//oVq8aaP8b40s3PrAn+WTUyHzcxHz65//5wIWo1adt9jb3exF/qoAejk3/1MBB+deBa1t8ZCV4ajnURYrfBU8Yylfnto5kEV3Y6QzArv/UiC+u7G9/LYJQ18odgB3cZwvG7guTbR+iwH0L+T/ML2f6KcGnKltpaWI7n9OuHst6jV2ofJIMaCDvfT4J2rYRkHZo4fGP9qgAyMTqv52lmiYUlu6z4lqFkQisvs2jXnsVIsPJrZnQLsKpk3EIzw08tVd7GDwbm+vvnTynwb4wjA0Is7IYe/sZi9Ct8kADsCkGJkBXVNa3+Pep3/LQjyrVx4p6UiRgCxOH+xGWJdexmJqzT2n52zTVtOEWPQL/OpdhBycQrfgvgRBHOsEgcRzyGa+/HADdiG0JLFrPfTBv0z1PVx+uHbhP/62FMlTBUGDRVM/+Y/HMPaYPlR+uEOTv155ZBJBSlXYHAKWLopYFSJz305V42KXjYpg2LB46MGPceBz4bP/UBWuCotxhyzdkTjI1//z7+uR1Tr84J93QOXCZ/6OgFqMy9cOJHUlM/fcsQczrtOPjhxUzeaKhP6T3S9vKz+8jB/L8EPS4Q98bOdU0ZrjdoffhwSZsKxUUEB4ZKkPViybmYyqHS7/xfVfz/8E6QdtWEFYqPWD1QAAAABJRU5ErkJggg=="}),!1===e?(0,a.jsx)("span",{className:"loginV2",children:"登录即享"}):null]}),stat:E.hq.HD4KHDR,quality:0,defaultQuality:1,gearName:"",gearType:E.EA.HD4KHDR},n={key:E.hq.HD4K,label:E.cJ.HD4K,val:(0,a.jsxs)("div",{className:"clarity-wrapper",children:[(0,a.jsx)("span",{children:E.cJ.HD4K}),!1===e?(0,a.jsx)("span",{className:"loginV2",children:"登录即享"}):null]}),stat:E.hq.HD4K,quality:0,defaultQuality:1,gearName:"",gearType:E.EA.HD4K},l={key:E.hq.HD2K,label:E.cJ.HD2K,val:(0,a.jsxs)("div",{className:"clarity-wrapper",children:[(0,a.jsx)("span",{children:E.cJ.HD2K}),!1===e?(0,a.jsx)("span",{className:"loginV2",children:"登录即享"}):null]}),stat:E.hq.HD2K,quality:0,defaultQuality:1,gearName:"",gearType:E.EA.HD2K},o=[{key:E.hq.Hd,label:E.cJ.Hd,val:(0,a.jsxs)("div",{className:"clarity-wrapper",children:[(0,a.jsx)("span",{children:E.cJ.Hd}),!1===e?(0,a.jsx)("span",{className:"loginV2",children:"登录即享"}):null]}),stat:E.hq.Hd,quality:0,defaultQuality:1,gearName:"",gearType:E.EA.Hd},{key:E.hq.Clear,label:E.cJ.Clear,val:E.cJ.Clear,stat:E.hq.Clear,quality:0,defaultQuality:10,gearName:"",gearType:E.EA.Clear},{key:E.hq.Smooth,label:E.cJ.Smooth,val:E.cJ.Smooth,stat:E.hq.Smooth,quality:0,defaultQuality:20,gearName:"",gearType:E.EA.Smooth},{key:E.hq.Auto,label:E.cJ.Auto,val:E.cJ.Auto,stat:E.hq.Auto,quality:0,gearName:"",gearType:E.EA.Auto}],r=[{key:E.hq.Hd,label:E.QM.Hd,val:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:E.QM.Hd}),!1===e?(0,a.jsx)("span",{className:"login",children:"登录即享"}):null]}),stat:E.hq.Hd,quality:0,defaultQuality:1,gearName:"",gearType:E.EA.Hd},{key:E.hq.Clear,label:E.QM.Clear,val:E.QM.Clear,stat:E.hq.Clear,quality:0,defaultQuality:10,gearName:"",gearType:E.EA.Clear},{key:E.hq.Smooth,label:E.QM.Smooth,val:E.QM.Smooth,stat:E.hq.Smooth,quality:0,defaultQuality:20,gearName:"",gearType:E.EA.Smooth},{key:E.hq.Fast,label:E.QM.Fast,val:E.QM.Fast,stat:E.hq.Fast,quality:0,defaultQuality:24,gearName:"",gearType:E.EA.Fast},{key:E.hq.Auto,label:E.QM.Auto,val:E.QM.Auto,stat:E.hq.Auto,quality:0,gearName:"",gearType:E.EA.Auto}];return(0,x.fR)()?[i,n,l].concat(o):(null==t?void 0:t.exposureDefination)?o:r};var es={BeforeDefinitionChange:"BeforeDefinitionChange",DefinitionChange:"DefinitionChange",DefinitionChangeSuccess:"DefinitionChangeSuccess",DefinitionChangeFail:"DefinitionChangeFail",DefinitionChangeOnlyForSr:"DefinitionChangeOnlyForSr"};let eu=e=>{let{awemeInfo:t,userInfo:i={},player:n,isActive:a,currentDefinition:s,userSelectDefinition:d,abtestData:c,isInnerFeed:f,srSceneType:h,isModalVideo:v,modalEnterFrom:y}=e,{isLogin:w}=i,A=(0,r.useMemo)(()=>(0,x.fR)()?E.cJ:E.QM,[c]),[C,N]=(0,r.useState)(""),[b,k]=(0,r.useState)(A.Auto);(0,r.useEffect)(()=>{n&&(n.curClarity=C)},[C]);let I=(0,r.useMemo)(()=>{let e=er(w,c),i=R({awemeInfo:t,abtestData:c,enableDash:!0});if((null==c?void 0:c.switchUseSR)&&(0,et.CM)({abtestData:c,awemeInfo:t,isInnerFeed:f,isModalVideo:v,modalEnterFrom:y})&&i.list.forEach(e=>{(0,et.Ak)({srSceneType:h,player:n,abtestData:c,awemeInfo:t,isActive:a,curDefinition:e})&&(e.enableSr=!0)}),e=er(w,c).filter(e=>{if(e.gearType===E.EA.Auto)return!0;let t=Array.isArray(i.list)&&i.list.find(t=>t.definition===e.gearType);if(t&&!(null==t?void 0:t.isBackup))return!0;{let n=E.i4[e.gearType];if(!n)return null==t?void 0:t.isBackup;let l=Array.isArray(i.list)&&i.list.find(e=>e.definition===n&&(null==e?void 0:e.enableSr));return l?(e.isSr=!0,e.srInfo=l,!0):null==t?void 0:t.isBackup}}),a){var l,o;let i=null!==(o=null==c?void 0:c.clarityMap)&&void 0!==o?o:g.ClarityMap,a=[];((null==t?void 0:null===(l=t.video)||void 0===l?void 0:l.bitRateList)||[]).forEach(t=>{a.push(t.gearName),Object.keys(i).forEach(n=>{let l=e.findIndex(e=>{if(null==e||!e.isSr)return e.key===n;{let t=null===E.vk||void 0===E.vk?void 0:E.vk[e.key];return!!t&&t===n}});l>-1&&i[n].includes(t.gearName)&&(e[l].quality=t.qualityType,e[l].gearName=t.gearName)})});let r=(0,S.G)(_.SessionStorageKeys.manualSwitch)||{};r.clarityReal=a,(0,S.t_)(_.SessionStorageKeys.manualSwitch,r),n&&(n.gearList=e,n.allowList=i)}return e},[w,t,s,a,d,c,f]),P=(0,r.useCallback)(m()(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=(0,S.G)(_.SessionStorageKeys.manualSwitch)||{};if(i.gearClarity&&i.gearClarity!==E.hq.Auto){let l,o=!1,a=null==i?void 0:i.gearClarity;if(c.switchUseSR&&(l=I.find(e=>{let t=(null==e?void 0:e.isSr)?null===E.i4||void 0===E.i4?void 0:E.i4[e.gearType]:e.gearType;return e.key===a&&t===Number(null==n?void 0:n.curDefinition.definition)})),!l&&((0,x.fR)()||(null==c?void 0:c.exposureDefination))){if(!(l=I.find(e=>e.key===a))&&(null==I?void 0:I.length)>1){let e=null==I?void 0:I[0],t=null==I?void 0:I[I.length-2];l=Number(a)>Number(null==e?void 0:e.key)?null==I?void 0:I[0]:Number(a)<Number(null==t?void 0:t.key)?[...I].reverse().find(e=>Number(e.key)>Number(a)):I.find(e=>Number(e.key)<Number(a))}l&&!function(e){var t;let{item:i,player:n,onBeforeSwitch:l,awemeInfo:o,abtestData:a}=e,{gearType:r,isSr:s}=i,{curDefinition:u}=n,d=s?null===E.i4||void 0===E.i4?void 0:E.i4[r]:Number(r);if(d===Number(u.definition))return n.emit(es.DefinitionChangeOnlyForSr);let c=R({awemeInfo:o,abtestData:a,enableDash:!0});if(!(null===(t=c.list)||void 0===t?void 0:t.length))return;if(n.plugins.dashplugin){let e=R({awemeInfo:o,abtestData:a,enableDash:!1});c.list=n.plugins.dashplugin.onPreChangeDefinition(c.list,e.list)}let f=c.list.find(e=>Number(e.definition)===d);f&&(n.config.definition.list=c.list,f.definition!==u.definition&&(l(),setTimeout(()=>{n.changeDefinition(f,u)},1e3)))}({onBeforeSwitch:()=>{O.addAutoSwitchCount(n)},abtestData:c,item:l,awemeInfo:t,player:n})}if(l&&(N(l.key),k(l.label),o=!0),!o)for(let t of I)if(e){if(i.gearClarity===t.key){N(t.key),k(t.label),o=!0;break}}else{let e=t.gearType;if(c.switchUseSR&&(e=(null==t?void 0:t.isSr)&&(null===E.i4||void 0===E.i4?void 0:E.i4[t.gearType])||t.gearType),Number(null==n?void 0:n.curDefinition.definition)===e||Number(null==n?void 0:n.curDefinition.definition)===E.EA.Fast&&e===E.EA.Smooth){N(t.key),k(t.label),o=!0;break}}!o&&(k(A.Auto),N(E.hq.Auto))}else k(A.Auto),N(E.hq.Auto)},500),[I,n,c,A]);(0,p.o)(()=>{P()},[P]),eo({player:n,action:P,awemeInfo:t,isActive:a,abtestData:c}),(0,r.useEffect)(()=>(null==c?void 0:c.switchClarityTiming)?()=>{}:(null==n||n.on("UpdateSyncText",P),()=>{null==n||n.off("UpdateSyncText",P)}),[P,n,c]);let[D,L]=(0,r.useState)(B.N.Off);(0,r.useEffect)(()=>{if(n){let e=e=>{n.emit("DefinitionChange",(0,o._)((0,l._)({},e),{hack:!1}))},t=e=>{n.emit("DefinitionChangeSuccess",{defination:e,hack:!1})};return n.on(u.W.DEFINITION_CHANGE,e),n.on(u.W.DEFINITION_CHANGE_HINT,t),()=>{n.off(u.W.DEFINITION_CHANGE,e),n.off(u.W.DEFINITION_CHANGE_HINT,t)}}},[n]),(0,r.useEffect)(()=>{if(n){let e;let t=B.N.Off,i=i=>{t=i,L(i),clearTimeout(e),e=setTimeout(()=>{t=B.N.Off,L(B.N.Off)},1e3)},l=()=>{if(!((null==n?void 0:n.curClarity)===E.hq.Auto||O.getIsInAutoSwitch(n)))i(B.N.Switching)},o=()=>{if((null==n?void 0:n.curClarity)!==E.hq.Auto){if(O.getIsInAutoSwitch(n)){O.subAutoSwitchCount(n);return}setTimeout(()=>{i(B.N.SwitchSuccess)},t===B.N.Off?0:500),n.emit(T.B.UpdateDebugInfo)}},a=()=>{if(O.getIsInAutoSwitch(n)){O.subAutoSwitchCount(n);return}setTimeout(()=>{i(B.N.SwitchFail)},t===B.N.Off?0:500),n.emit(T.B.UpdateDebugInfo)};return n.on("DefinitionChange",l),n.on("DefinitionChangeSuccess",o),n.on("DefinitionChangeFail",a),()=>{n.off("DefinitionChange",l),n.off("DefinitionChangeSuccess",o),n.off("DefinitionChangeFail",a),clearTimeout(e)}}},[n]);let j=(0,r.useRef)({indexSelected:C,current:b});return(0,r.useEffect)(()=>{D===B.N.SwitchSuccess&&(j.current={current:b,indexSelected:C})},[D,C,b]),{indexSelectedState:[C,N],currentState:[b,k],lists:I,swichStatus:D,syncSelectText:P}},ed=e=>{let{awemeInfo:t,onMouseLeave:i,dispatch:n,player:s,abtestData:u,timeStamp:d}=e,[v,m]=(0,r.useState)(!1),g=null==t?void 0:t.awemeId,[p,y]=(0,r.useState)(e.userInfo),{isLogin:w}=p,I=(0,L.H)("clarity"),{indexSelectedState:[D,j],currentState:[H,U],lists:q,swichStatus:K,syncSelectText:W}=eu((0,o._)((0,l._)({},e),{userInfo:p}));el({indexSelected:D,abtestData:u,current:H,uniqueKey:`${null==t?void 0:t.awemeId}-${d}`}),(0,r.useEffect)(()=>{if(s){var e;s.videoList=null==t?void 0:null===(e=t.video)||void 0===e?void 0:e.bitRateList}},[t,s]);let V=(0,r.useCallback)((e,t)=>{let i=(0,S.G)(_.SessionStorageKeys.manualSwitch)||{};i.done=1;let n=e||t===E.hq.Auto&&(null==q?void 0:q[(null==q?void 0:q.length)-1]);n&&(i.gearClarity=n.key,i.qualityType=n.quality||(null==e?void 0:e.defaultQuality),i.gearName=n.label,i.gearType=n.gearType),(0,S.t_)(_.SessionStorageKeys.manualSwitch,i)},[q]),Z=(0,h.Z)(e=>{V(e),s.curClarity=e.key;let{curDefinition:i}=s||{};s.config.clarityChange={from:{clarity:D,defination:null==i?void 0:i.definition},to:{clarity:e.key,defination:e.gearType}},!function(e){var t,i,n,l,o;let{item:a,player:r,indexSelected:s,awemeInfo:u,abtestData:d}=e,c=null==d?void 0:d.autoClarityReselect;if(a.key===E.hq.Auto){let e,t=!1,{curDefinition:a}=r;if(c&&s!==E.hq.Auto){let s=R({awemeInfo:u,abtestData:d,enableDash:!0});if(null===(i=s.list)||void 0===i?void 0:i.length){if(r.plugins.dashplugin){let e=R({awemeInfo:u,abtestData:d,enableDash:!1});s.list=r.plugins.dashplugin.onPreChangeDefinition(s.list,e.list)}F(r);let i=null==r?void 0:null===(o=r.plugins)||void 0===o?void 0:null===(l=o.bitrateselector)||void 0===l?void 0:null===(n=l.getSuitableBitrate)||void 0===n?void 0:n.call(l,s.list,void 0);(t=i&&(null==i?void 0:i.definition)!==a.definition)&&(e=i,r.config.definition.list=s.list)}else t=!1}t?(r.emit(es.BeforeDefinitionChange),r.changeDefinition(e,a)):(r.emit(es.DefinitionChange,{hack:!0}),setTimeout(()=>{r.emit(es.DefinitionChangeSuccess,{hack:!0})},1e3),(null==d?void 0:d.switchUseSR)&&r.emit(es.DefinitionChangeOnlyForSr));return}let{gearType:f,isSr:h}=a,{curDefinition:v}=r,m=h?null===E.i4||void 0===E.i4?void 0:E.i4[f]:Number(f);if(m===Number(v.definition)){r.emit(es.BeforeDefinitionChange),(s===E.hq.Auto||s!==a.key)&&(r.emit(es.DefinitionChange,{hack:!0}),setTimeout(()=>{r.emit(es.DefinitionChangeSuccess,{hack:!0})},1e3)),(null==d?void 0:d.switchUseSR)&&r.emit(es.DefinitionChangeOnlyForSr);return}let g=R({awemeInfo:u,abtestData:d,enableDash:!0});if(!(null===(t=g.list)||void 0===t?void 0:t.length)){r.emit(es.DefinitionChangeFail);return}if(r.plugins.dashplugin){let e=R({awemeInfo:u,abtestData:d,enableDash:!1});g.list=r.plugins.dashplugin.onPreChangeDefinition(g.list,e.list)}let _=g.list.find(e=>Number(e.definition)===m);_?_.definition!==v.definition&&(r.config.definition.list=g.list,r.emit(es.BeforeDefinitionChange),F(r),O.resetAutoSwitchCount(r),r.changeDefinition(_,v),(null==d?void 0:d.switchClarityTiming)&&b.emit(b.EVENT.syncDefination,{awemeId:null==u?void 0:u.awemeId})):r.emit(es.DefinitionChangeFail)}({item:e,player:s,indexSelected:D,awemeInfo:t,abtestData:u}),m(!1),j(e.key),U(e.label)}),G=(0,h.Z)(function(e){var a;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null==i||i(),s.emit(f.Events.USER_ACTION,{action:"switch_clarity",pluginName:"clarity",clarity:e});let u=(0,S.G)(_.SessionStorageKeys.manualSwitch)||{};if(P.Z.sendLog("clarityCellClick",(0,l._)({group_id:g,action:e.key,item_duration_ms:(null==t?void 0:null===(a=t.video)||void 0===a?void 0:a.duration)||0,enter_from_merge:(0,A.yW)(),enter_from:(0,C.mo)(),enter_method:"clarity_panel",player_display_mode:(0,C.Ok)()},(0,N.t)(),r)),!1===w&&[E.hq.HD4KHDR,E.hq.HD4K,E.hq.HD2K,E.hq.Hd].includes(e.key)){(0,k.default)({headerText:"登录后即可享受高清画质",success:()=>{var t,i;n({type:"updateUserInfo"}),(null==s?void 0:s.config)&&(s.config.userSelectDefinition=1),y(e=>(0,o._)((0,l._)({},e),{isLogin:!0})),null==s||null===(i=s.plugins)||void 0===i||null===(t=i.playclaritysettingplugin)||void 0===t||t.renderRoot(),Z(e)},enterMethod:"clarity_panel",clarity:u.gearClarity,isAuto:u.done?0:1,gearName:u.gearName});return}Z(e)}),[,z]=(0,r.useState)({});(0,r.useEffect)(()=>{var e;let t=null==b?void 0:b.listen(null==b?void 0:null===(e=b.EVENT)||void 0===e?void 0:e.clarityRel,e=>{if(e.hdLogin&&(null==s?void 0:s.isUserActive)){(null==s?void 0:s.config)&&(s.config.userSelectUpdate=Date.now());let e=q.find(e=>[E.hq.HD4KHDR,E.hq.HD4K,E.hq.HD2K,E.hq.Hd].includes(e.key));e&&Z(e),y(e=>(0,o._)((0,l._)({},e),{isLogin:!0}))}if(e.autoSwitch){let e=q.find(e=>e.key===E.hq.Auto);e&&Z(e),s.config.userSelectUpdate=Date.now(),z({})}e.exitInner&&(s.config.userSelectUpdate=Date.now(),W(!0),z({}))});return()=>{t()}},[s,u,q]),(0,r.useEffect)(()=>{let e=e=>{let{item:t,logParams:i}=e;G(t,i)};if(s)return null==s||s.on(T.B.UpdateClarity,e),()=>{null==s||s.off(T.B.UpdateClarity,e)}},[s]),(0,r.useEffect)(()=>{s&&q&&(s.config.clearLists=q)},[s,q]);let Q=!!q.find(e=>[E.hq.HD4KHDR,E.hq.HD4K,E.hq.HD2K,E.hq.Hd].includes(e.key));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:c()("gear",{hover:v,isClarityLogin:!((0,x.fR)()||(null==u?void 0:u.exposureDefination))&&(w||!Q),isSmoothSwitchClarity:((0,x.fR)()||(null==u?void 0:u.exposureDefination))&&!w,isSmoothSwitchClarityLogin:!(((0,x.fR)()||(null==u?void 0:u.exposureDefination))&&!w)}),ref:I,onMouseOver:e=>{if(!e.target.closest(".semi-portal"))m(!0),!v&&P.Z.sendLog("clarityCellShow",(0,l._)({group_id:null==t?void 0:t.awemeId},(0,N.t)()))},onMouseOut:()=>{m(!1)},children:[(0,a.jsx)("div",{className:"virtual",children:null==q?void 0:q.map(e=>(0,a.jsx)("div",{className:c()("item",{selected:e.key===D}),onClick:()=>G(e),children:e.val},e.key))}),(0,a.jsx)(M.A,{visible:K!==B.N.Off,getPopupContainer:()=>I.current,swichStatus:K,current:H,children:(0,a.jsx)("div",{className:c()("btn",{btnV2:((0,x.fR)()||(null==u?void 0:u.exposureDefination))&&D&&D!==E.hq.Auto,btnHDR:D===E.hq.HD4KHDR}),children:H})})]}),(0,a.jsx)("div",{className:"login-tooltip-slot"}),(0,a.jsx)("div",{className:"smart-tooltip-slot"})]})};class ec extends f.Plugin{static get pluginName(){return"PlayClaritySettingPlugin"}static get defaultConfig(){return{position:s.POSITIONS.CONTROLS_RIGHT,index:7,className:"xgplayer-playclarity-setting"}}beforePlayerInit(){this.renderRoot()}updateConfig(e){this.config=(0,l._)({},this.config,e),this.renderRoot()}afterCreate(){this.bind("mouseenter",this.onMouseenter),this.bind("mouseleave",this.onMouseleave),this.renderRoot()}destroy(){this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),(0,D.v)(this)}renderRoot(){var e,t,i,n,r,s,u,d,c;if((null===(t=this.config)||void 0===t?void 0:null===(e=t.awemeInfo)||void 0===e?void 0:e.awemeType)===(null==y?void 0:null===(i=w.e)||void 0===i?void 0:i.Note))return;let f=(0,a.jsx)(ed,(0,o._)((0,l._)({onMouseEnter:this.onMouseenter,onMouseLeave:this.onMouseleave},this.config),{player:this.player,currentDefinition:null===(u=this.player)||void 0===u?void 0:null===(s=u.getPlugin)||void 0===s?void 0:null===(r=s.call(u,"bitrateselector"))||void 0===r?void 0:null===(n=r.curBitRate)||void 0===n?void 0:n.definition,userSelectDefinition:null===(d=this.player)||void 0===d?void 0:d.config.userSelectDefinition,userSelectUpdate:null===(c=this.player)||void 0===c?void 0:c.config.userSelectUpdate}));(0,D.s)(this,f)}render(){var e,t,i;return`
    <xg-icon class="xgplayer-playclarity-setting xgplayer-playclarity-setting-unique-${null===(t=this.config)||void 0===t?void 0:null===(e=t.awemeInfo)||void 0===e?void 0:e.awemeId}-${null===(i=this.config)||void 0===i?void 0:i.timeStamp}" data-state="normal">
    </xg-icon>`}constructor(...e){super(...e),(0,n._)(this,"onMouseleave",()=>{this.emit("icon_mouseleave",{pluginName:this.pluginName})}),(0,n._)(this,"onMouseenter",()=>{this.emit("icon_mouseenter",{pluginName:this.pluginName})})}}let ef=e=>{let{userInfo:{isLogin:t},awemeInfo:i,abtestData:n,isActive:a}=e,s=(0,I.n)();(0,p.o)(()=>{if(s&&(null==i?void 0:i.awemeType)!==w.e.Note&&!(null==n?void 0:n.innerSlideSmooth))return s.registerPlugin(ec,(0,o._)((0,l._)({},e),{player:s,timeStamp:Date.now()})),()=>{s.getPlugin("PlayClaritySettingPlugin")&&s.unRegisterPlugin("PlayClaritySettingPlugin",!0)}},[s,t,i,n]);let u=(0,r.useMemo)(()=>(null==i?void 0:i.awemeType)===w.e.Note,[i]);return(0,p.o)(()=>{if(s&&!u&&(null==n?void 0:n.innerSlideSmooth))return s.registerPlugin(ec,(0,o._)((0,l._)({},e),{player:s,timeStamp:Date.now()})),()=>{s.getPlugin("PlayClaritySettingPlugin")&&s.unRegisterPlugin("PlayClaritySettingPlugin",!0)}},[s,n,u]),(0,p.o)(()=>{let t=null==s?void 0:s.getPlugin("PlayClaritySettingPlugin");t&&t.updateConfig((0,l._)({},e))},[t,i]),(0,r.useEffect)(()=>{s&&a&&s.emit("UpdateSyncText")},[a,s]),ee({isActive:a,player:s,abtestData:n,awemeInfo:i}),ea({isActive:a,player:s,awemeInfo:i}),null}},692784:function(e,t,i){i.d(t,{Ak:function(){return v},CM:function(){return c},RH:function(){return m},m2:function(){return u}});var n=i(35730),l=i(555106),o=i(782442),a=i(782563),r=i(77741),s=i(156053);let u=e=>!!e&&e>1&&e<10,d=e=>{var t;let{abtestData:i,curDefinition:a}=e;if((0,l.$o)(n.LocalStorageKeys.srDegradePermanently)||o.Le.getConfig(o.gI.SrDegrade))return!1;if(!u(null==a?void 0:a.definition))return!1;return(null==i?!!void 0:null===(t=i.SR)||void 0===t?!!void 0:!!t.improvePictureQuality)||!1},c=e=>!!(0,a.DT)()||(0,s.YO)(e),f=e=>{var t,i;let{abtestData:n,curDefinition:l}=e;return!!((null==l?void 0:l.qualityType)>9)&&(null==n?!!void 0:null===(i=n.SR)||void 0===i?!!void 0:!!i.improvePictureQuality)||(null==n?!!void 0:null===(t=n.SR)||void 0===t?!!void 0:!!t.enable1080)&&(null==l?void 0:l.definition)===1||!1},h=e=>{let{abtestData:t,awemeInfo:i,curDefinition:n}=e,{isAds:l}=i;if((null==n?void 0:n.qualityType)>9&&!l){var o;if(null==t?void 0:null===(o=t.SRMultiScene)||void 0===o?void 0:o.improvePictureQuality)return!0}return!1},v=e=>(0,a.DT)()?(null==e?void 0:e.srSceneType)===r.dd.douyinClientMulti?h(e):f(e):d(e),m=e=>{let{abtestData:t,player:i,awemeInfo:n}=e,l=!0;if(null==t?void 0:t.switchUseSR){let e=(null==i?void 0:i.curClarity)||r.hq.Auto;if(e===r.hq.Auto)l=!0;else{var o;l=r.l4[e]!==Number(null==i?void 0:null===(o=i.curDefinition)||void 0===o?void 0:o.definition)}}return l}},371738:function(e,t,i){i.d(t,{A:function(){return r}});var n=i(563097),l=i(88648),o=i(747909),a=i(261745);let r=e=>{let{current:t,swichStatus:i,children:r,getPopupContainer:s,visible:u}=e,d=(0,l.useRef)("");return i===a.N.SwitchFail?d.current="清晰度切换失败，请稍后再试":i===a.N.Switching?d.current=`正在切换到 ${t} ...`:i===a.N.SwitchSuccess&&(d.current=`清晰度已经切换至 ${t}`),(0,n.jsx)(o.Tooltip,{position:"top",visible:u,getPopupContainer:s,trigger:"custom",rePosKey:String(u),zIndex:10,content:(0,n.jsx)("div",{children:d.current}),children:r})}},77741:function(e,t,i){i.d(t,{EA:function(){return s},QM:function(){return d},Ts:function(){return v},YB:function(){return o},cJ:function(){return c},dd:function(){return p},g:function(){return g},hq:function(){return a},i4:function(){return u},jH:function(){return f},l4:function(){return h},rT:function(){return l},sY:function(){return m},vk:function(){return r},y8:function(){return _}});var n=i(696332),l={HD4KHDR:8,8:"HD4KHDR",HD4K:7,7:"HD4K",HD2K:6,6:"HD2K",Hd:5,5:"Hd",Clear:4,4:"Clear",Smooth:3,3:"Smooth",Fast:2,2:"Fast",Auto:1,1:"Auto"},o={HD4KHDR:7,7:"HD4KHDR",HD4K:6,6:"HD4K",HD2K:5,5:"HD2K",Hd:4,4:"Hd",Clear:3,3:"Clear",Smooth:2,2:"Smooth",Auto:1,1:"Auto"},a={HD4KHDR:"30",HD4K:"20",HD2K:"10",Hd:"5",Clear:"4",Smooth:"3",Fast:"2",Auto:"0"};let r={5:"4",4:"3",3:"2"};var s={HD4KHDR:-3,"-3":"HD4KHDR",HD4K:-2,"-2":"HD4K",HD2K:-1,"-1":"HD2K",Hd:1,1:"Hd",Clear:2,2:"Clear",Smooth:3,3:"Smooth",Fast:4,4:"Fast",Auto:0,0:"Auto"};let u={[-1]:1,1:2,2:3,3:4},d={Hd:n.a.t("hd",{},"高清"),Clear:n.a.t("clarity",{},"清晰"),Smooth:n.a.t("smooth",{},"流畅"),Fast:n.a.t("fast",{},"极速"),Auto:n.a.t("smart",{},"智能")},c={HD4KHDR:n.a.t("ultra_4k_hdr",{},"超清4K HDR"),HD4K:n.a.t("ultra_4k",{},"超清 4K"),HD2K:n.a.t("ultra_2k",{},"超清 2K"),Hd:n.a.t("hd",{},"高清 1080P"),Clear:n.a.t("clarity",{},"高清 720P"),Smooth:n.a.t("smooth",{},"标清 540P"),Fast:n.a.t("fast",{},"极速"),Auto:n.a.t("smart",{},"智能")};var f={low:"当前网络较差，",high:"当前网络良好，",lowTail:"更流畅",highTail:"更清晰"};let h={5:1,4:2,3:3,2:4,0:0},v=864e5,m=158112e5,g={highTimestamp:0,highTimes:0,lowTimestamp:0},_=["volume","fullscreen","playbacksettingplugin","autoplaysettingplugin","innerautoplayplugin","immersiveswitchsettingplugin","playclaritysettingplugin","pagefullscreenplugin"];var p={douyinWeb:0,0:"douyinWeb",douyinClient:1,1:"douyinClient",douyinClientMulti:2,2:"douyinClientMulti"}},261745:function(e,t,i){i.d(t,{N:function(){return n}});var n={Off:0,0:"Off",Switching:1,1:"Switching",SwitchSuccess:2,2:"SwitchSuccess",SwitchFail:3,3:"SwitchFail"}},224071:function(e,t,i){var n=i(544933);t.Z=new n.h({clarityNotifyShow:{eventName:"clarity_notify_show",params:{group_id:"",clarity:"",is_auto:1,gear_name:""}},clarityNotifyClick:{eventName:"clarity_notify_click",params:{group_id:"",action:"",clarity:"",is_auto:1,gear_name:""}},clarityCellShow:{eventName:"clarity_cell_show",params:{group_id:"",clarity:"",is_auto:1,gear_name:""}},clarityCellClick:{eventName:"clarity_cell_click",params:{group_id:"",action:"",clarity:"",is_auto:1,gear_name:"",enter_from_merge:"",enter_from:"",item_duration_ms:0,player_display_mode:""}},clarityBubbleShow:{eventName:"clarity_bubble_show",params:{group_id:"",clarity:"",is_auto:1,method:"",gear_name:""}}})},681799:function(e,t,i){i.d(t,{_:function(){return x}}),i(874386);var n=i(563097),l=i(88648),o=i(734123),a=i(713097),r=i.n(a),s=i(596876),u=i(784492),d=i(79307),c=i(746864),f=i(701523),h=i(330746),v=i(161045),m=i(161457),g=i(860684),_=i(948750),p=i(692876),y=i(138593),w=i(356650);let x=e=>{var t,i,a,x,S,A;let{isActive:C,awemeInfo:N,className:b,imgPlaceHolderClassName:k,showImg:I=!0,isPlaying:E=!1,controlHeight:P,abtestData:D}=e,T=(0,g.n)(),[L,j]=(0,l.useState)(!0),[R,B]=(0,l.useState)(!1),[M,H]=(0,l.useState)(E),[O,F]=(0,l.useState)(null),U=(0,l.useRef)(0),q=(0,h.vU)();U.current=(null==N?void 0:null===(t=N.video)||void 0===t?void 0:t.width)/(null==N?void 0:null===(i=N.video)||void 0===i?void 0:i.height);let[K,W]=(0,l.useState)(!1);(0,s.Z)(()=>{W(!0)},[N]);let V=(0,l.useCallback)(()=>{W(!1),O&&U.current&&(O.offsetWidth/U.current>=O.offsetHeight-(null!=P?P:d.fp.Default)?j(!0):j(!1))},[O,P]),Z=(0,l.useCallback)(()=>{R||B(!0)},[R]);(0,l.useEffect)(()=>{if(O&&V){let e=v.Z.bind(O,V);return()=>{e&&e()}}},[O,V]),(0,l.useEffect)(()=>{!C&&H(!1)},[C]);let G=(0,_.l)();return(0,l.useEffect)(()=>{var e,t,i;let n=()=>{H(!0)};if(T)return null===(e=T.on)||void 0===e||e.call(T,o.Events.CANPLAY,n),null===(t=T.once)||void 0===t||t.call(T,o.Events.TIME_UPDATE,n),()=>{var e,t;null===(e=T.off)||void 0===e||e.call(T,o.Events.CANPLAY,n),null===(t=T.off)||void 0===t||t.call(T,o.Events.TIME_UPDATE,n)};{let e=e=>{e.once(o.Events.CANPLAY,n)};return null==G||null===(i=G.on)||void 0===i||i.call(G,p.V.PlayerCreated,e),()=>{var t;null==G||null===(t=G.off)||void 0===t||t.call(G,p.V.PlayerCreated,e)}}},[T]),(0,u.Z)(()=>{B(!1),H(!1)},[N]),(0,n.jsxs)("div",{className:r()(b,m.default.imgBackground,m.default.playerShowInfo,{[m.default.isFirefox]:q,hiddenImgbackgroundPlugin:C&&M&&!(0,w.GP)(N),[m.default.displayNone]:(null==N?void 0:N.awemeType)===c.e.Note&&I,inlinePlayerImgbackgroundPlugin:!1},"imgBackground"),ref:F,children:[!R&&I&&(0,n.jsx)("img",{src:(null==N?void 0:null===(a=N.video)||void 0===a?void 0:a.originCover)||(null==N?void 0:null===(A=N.varietyVideo)||void 0===A?void 0:null===(S=A.cover)||void 0===S?void 0:null===(x=S.url_list)||void 0===x?void 0:x[0]),className:r()("backgroundCover",{[m.default.baseWidth]:!L,[m.default.baseHeight]:L,[m.default.isHide]:K,[m.default.splashAd]:(0,f.p)(N)},m.default.imgPlaceHolder,k),onLoad:V,onError:Z}),(0,n.jsx)(y.T3,{className:r()(m.default.backgroundImg,"background",{[m.default.backgroundImgFirefox]:q}),maskClassName:m.default.backgroundMask,awemeInfo:N,abtestData:D,priorityServerBackupBg:!1})]})}},943695:function(e,t,i){i.d(t,{zf:function(){return H},iu:function(){return O},Ot:function(){return q},KM:function(){return R},zQ:function(){return B}});var n=i("134761"),l=i("520739"),o=i("878389");i("874386");var a=i("563097"),r=i("88648"),s=i("309931"),u=i("713097"),d=i.n(u),c=i("734123"),f=i("489478"),h=i("35730"),v=i("746864"),m=i("555106"),g=i("782442"),_=i("362501"),p=i("32167"),y=i("658065"),w=i("54517"),x=i("330746"),S=i("637005"),A=i("875784"),C=i("423780"),N=i("792076"),b=i("544933"),k=new b.h({autoPlayModePanelShow:{eventName:"auto_play_mode_panel_show",params:{group_id:"",enter_from_merge:"",enter_from:""}},autoPlayModePanelClick:{eventName:"auto_play_mode_panel_click",params:{group_id:"",enter_from_merge:"",enter_from:"",auto_play_mode:""}}}),I=i("754386"),E=i("860684"),P=i("473677"),D=i("597321"),T=i("252376"),L=i("903868"),j=i("17750"),R={Nomal:0,0:"Nomal",Reverse:1,1:"Reverse",Cycle:2,2:"Cycle"};let B=["顺序连播","倒序连播","循环播放"],M=["order","reverse","loop"],H=[A.Z,C.Z,N.Z],O=e=>{let{isSetLog:t,awemeInfo:i,plugin:n,defaultModeRef:l,pipWindow:o,isListenVideoMiniWin:a}=e,[s,u]=(0,r.useState)(()=>{var e;let t=(0,m.$o)(h.LocalStorageKeys.PLAYER_INNER_NEXT_AUTOPLAY),i=null===(e=g.Le.getConfig(g.gI.InnerAutoPlay))||void 0===e?void 0:e.modeIndex;if("number"==typeof i)return i;if(Number(t))return 2===Number(t)?1:0;return null===t?0:2});return(0,r.useEffect)(()=>{var e;let r=e=>{var o,r;let s=null==e?void 0:null===(o=e.target)||void 0===o?void 0:o.tagName;if("INPUT"!==s&&"TEXTAREA"!==s&&(null==e?void 0:null===(r=e.target)||void 0===r?void 0:r.contentEditable)!=="true")(null==e?void 0:e.code)===j.SHORTCUT_KEY.autoPlay.code&&!(0,_.QD)()&&!a&&u(e=>(l&&(l.current=!1),"reverse"===M[(e+1)%3]&&(0,m.qQ)(h.LocalStorageKeys.HasUseFlashBack,!0),t&&k.sendLog("autoPlayModePanelClick",{group_id:null==i?void 0:i.awemeId,enter_from:(0,p.mo)(),enter_from_merge:(0,y.yW)(),auto_play_mode:M[e]}),n.stopFlag=0,(e+1)%3))};return document.addEventListener("keydown",r),null==o||null===(e=o.addEventListener)||void 0===e||e.call(o,"keydown",r),()=>{var e;document.removeEventListener("keydown",r),null==o||null===(e=o.removeEventListener)||void 0===e||e.call(o,"keydown",r)}},[o,i,t,n,a]),(0,r.useEffect)(()=>{!l.current&&(0===s?(0,m.qQ)(h.LocalStorageKeys.PLAYER_INNER_NEXT_AUTOPLAY,"1"):1===s?(0,m.qQ)(h.LocalStorageKeys.PLAYER_INNER_NEXT_AUTOPLAY,"2"):(0,m.qQ)(h.LocalStorageKeys.PLAYER_INNER_NEXT_AUTOPLAY,"0")),g.Le.setConfig(g.gI.InnerAutoPlay,{modeIndex:s,mode:M[s]})},[s]),[s,u]},F=e=>{let{playPrevFunc:t,playNextFunc:i,ablePlayPrev:n,ablePlayNext:o,player:s,isActive:u,innerAutoPlayWeight:f,awemeInfo:_,onMouseLeave:A,hide:C=!1,plugin:N,pipWindow:b,isListenVideoMiniWin:E}=e,L=(0,r.useRef)(!0),[R,F]=O({isSetLog:!0,awemeInfo:_,plugin:N,defaultModeRef:L,pipWindow:b,isListenVideoMiniWin:E}),[U,q]=(0,r.useState)(!1),K=(0,T.H)("auto_play"),W=(0,r.useRef)(null),V=(0,r.useRef)();(0,r.useEffect)(()=>{if(s&&u){let e=e=>{if((null==e?void 0:e.pluginName)==="innerautoplayplugin"){var t;clearTimeout(V.current),q(!0),!U&&k.sendLog("autoPlayModePanelShow",{group_id:null==_?void 0:_.awemeId,enter_from:(0,p.mo)(),enter_from_merge:(0,y.yW)()}),null===(t=W.current)||void 0===t||t.close()}};return s.on("icon_mouseenter",e),()=>{null==s||s.off("icon_mouseenter",e)}}},[s,_,u]);let Z=(0,r.useCallback)(()=>{if(f>=0&&0===R&&i&&o&&(null==N?void 0:N.stopFlag)===0)(0,w.i0)(w.CK.Auto),null==i||i({from:"auto"}),g.Le.setConfig(g.gI.VideoPlayMethod,"auto_play_open");else if(f>=0&&1===R&&n&&t&&(null==N?void 0:N.stopFlag)===0)(0,w.i0)(w.CK.Auto),null==t||t({from:"auto"}),g.Le.setConfig(g.gI.VideoPlayMethod,"auto_play_open");else{let e=()=>{s.replay(),s.replayed=!0,g.Le.setConfig(g.gI.VideoPlayMethod,"auto")};(0,x.G6)()?setTimeout(e,50):e()}},[s,o,n,t,i,R,f]);(0,r.useEffect)(()=>{if(s&&u&&(null==_?void 0:_.awemeType)===v.e.Note){let e=()=>{var e;return null==s?void 0:null===(e=s.replay)||void 0===e?void 0:e.call(s)};return s.on(c.Events.ENDED,e),()=>{s.off(c.Events.ENDED,e)}}},[s,u,_]),(0,r.useEffect)(()=>{if(s&&u&&Z&&(null==_?void 0:_.awemeType)!==v.e.Note)return s.on(c.Events.ENDED,Z),()=>{s.off(c.Events.ENDED,Z)}},[s,u,Z,_]),(0,r.useEffect)(()=>{if(s&&u){s.replayed=!1;let e=S.listen(S.EVENT.changeInnerAutoPlay,e=>{"reverse"===M[e]&&(0,m.qQ)(h.LocalStorageKeys.HasUseFlashBack,!0),F(e),L.current=!1});return()=>{e()}}},[u,s,R]);let G=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N.stopFlag=0,null==A||A(),q(!1),k.sendLog("autoPlayModePanelClick",(0,l._)({group_id:null==_?void 0:_.awemeId,enter_from:(0,p.mo)(),enter_from_merge:(0,y.yW)(),auto_play_mode:M[e]},t)),"reverse"===M[e]&&(0,m.qQ)(h.LocalStorageKeys.HasUseFlashBack,!0),g.Le.getConfig(g.gI.IsInMixCard)&&g.Le.setConfig(g.gI.AutoPlayChanged,{changed:!0}),F(e),L.current=!1};return(0,r.useEffect)(()=>{let e=e=>{let{index:t,logParams:i}=e;G(t,i)};if(s)return null==s||s.on(D.B.UpdateAutoPlay,e),()=>{null==s||s.off(D.B.UpdateAutoPlay,e)}},[s,G]),(0,a.jsxs)("div",{className:d()("xgplayer-icon",I.default.innerAutoplay,I.default.iconBox),onMouseLeave:()=>{V.current=setTimeout(()=>{q(!1)},300)},onMouseEnter:()=>{clearTimeout(V.current)},ref:K,children:[U&&(0,a.jsxs)("div",{className:d()(I.default.itemContainer,"inner-auto-box","isDark"),children:[B.map((e,t)=>(0,a.jsxs)("div",{className:d()(I.default.innerItem,{[I.default.selected]:t===R}),onClick:()=>G(t),children:[(0,a.jsx)(P.Z,{className:"noTransform",width:24,height:24,viewBox:"0 0 24 24",src:H[t]}),(0,a.jsx)("span",{children:e})]},e)),!!j.SHORTCUT_KEY.autoPlay.badgeText&&(0,a.jsxs)("div",{className:I.default.label,children:[j.SHORTCUT_KEY.autoPlay.badgeText,"键快捷切换"]})]}),(0,a.jsxs)("div",{className:d()("inner-autoplay-item",I.default.outerContent),children:[(0,a.jsx)(P.Z,{className:"noTransform",width:24,height:24,viewBox:"0 0 24 24",src:H[R]}),(0,a.jsx)("div",{className:"inner-autoplay-name",children:B[R]})]})]})};class U extends c.Plugin{static get pluginName(){return"InnerAutoPlayPlugin"}static get defaultConfig(){return{position:f.POSITIONS.CONTROLS_RIGHT,index:9,className:"xgplayer-inner-autplay"}}beforePlayerInit(){this.renderRoot()}updateConfig(e){this.config=(0,l._)({},this.config,e),this.renderRoot()}afterCreate(){this.bind("mouseenter",this.onMouseenter),this.bind("mouseleave",this.onMouseleave),this.renderRoot()}destroy(){this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),s.unmountComponentAtNode(this.root)}renderRoot(){this.root&&s.hydrate((0,a.jsx)(F,(0,o._)((0,l._)({onMouseEnter:this.onMouseenter,onMouseLeave:this.onMouseleave},this.config),{player:this.player,plugin:this})),this.root)}render(){return`
    <xg-icon class="xgplayer-inner-autoplay automatic-continuous" data-state="normal">
    </xg-icon>`}constructor(...e){super(...e),(0,n._)(this,"stopFlag",0),(0,n._)(this,"onMouseleave",()=>{this.emit("icon_mouseleave",{pluginName:this.pluginName})}),(0,n._)(this,"onMouseenter",()=>{this.emit("icon_mouseenter",{pluginName:this.pluginName})})}}let q=e=>{let{playPrevFunc:t,playNextFunc:i,ablePlayPrev:n,ablePlayNext:a,isActive:s,hide:u,awemeInfo:d}=e,c=(0,E.n)(),{pipWindow:f,isListenVideoMiniWin:h}=(0,L.Iq)(e=>{let{pipWindow:t,isListenVideoMiniWin:i}=e;return{pipWindow:t,isListenVideoMiniWin:i}});return(0,r.useEffect)(()=>{if(c&&s)return c.registerPlugin(U,(0,o._)((0,l._)({},e),{player:c,innerAutoPlayWeight:0})),()=>{c.getPlugin("InnerAutoPlayPlugin")&&c.unRegisterPlugin("InnerAutoPlayPlugin",!0)}},[c,s,u]),(0,r.useEffect)(()=>{var t;let i=null==c?void 0:null===(t=c.getPlugin)||void 0===t?void 0:t.call(c,"InnerAutoPlayPlugin");c&&s&&i&&i.updateConfig((0,o._)((0,l._)({},e),{pipWindow:f,isListenVideoMiniWin:h}))},[c,s,i,t,a,n,u,f,h]),(0,r.useEffect)(()=>{var e;let t=null==c?void 0:null===(e=c.getPlugin)||void 0===e?void 0:e.call(c,"InnerAutoPlayPlugin");c&&s&&t&&(t.stopFlag=0)},[d]),(0,r.useEffect)(()=>{if(c&&s){var e;let t=null==c?void 0:null===(e=c.getPlugin)||void 0===e?void 0:e.call(c,"InnerAutoPlayPlugin");if(t){let e=S.listen(S.EVENT.videoStopPlayNext,e=>{if(!1===c.isUserActive)return;let{openSideCard:i}=e||{};i?t.stopFlag+=1:t.updateConfig({innerAutoPlayWeight:t.config.innerAutoPlayWeight>-1?t.config.innerAutoPlayWeight-1:-1})}),i=S.listen(S.EVENT.videoRemoveStopPlayNext,e=>{if(!1===c.isUserActive)return;let{openSideCard:i}=e||{};i?t.stopFlag=Math.max(t.stopFlag-1,0):t.updateConfig({innerAutoPlayWeight:t.config.innerAutoPlayWeight<0?t.config.innerAutoPlayWeight+1:0})});return()=>{null==e||e(),null==i||i(),t.updateConfig({innerAutoPlayWeight:0})}}}},[c,s,u]),null}},765027:function(e,t,i){i.d(t,{D:function(){return y},I:function(){return w}});var n=i(520739),l=i(563097),o=i(88648),a=i(713097),r=i.n(a),s=i(637005),u=i(782442),d=i(54517),c=i(647645),f=i(450344),h=i(507217),v=i(205457);i(309976);var m=i(860684),g=i(894416),_=i(254897),p=i(903868);let y=e=>{let{playPrevFunc:t,playNextFunc:i,disablePrev:n,disableNext:a,className:v,style:g,playSwitchRef:p,mouseHandler:y,playSwitchCb:w}=e,x=(0,m.n)(),S=(0,o.useRef)(null),A=(0,o.useRef)(null),C=(0,o.useCallback)(e=>{if(!n){if(t&&x){var i;null===(i=x.emit)||void 0===i||i.call(x,"playSwitchPrevBefore",!1),s.emit(s.EVENT.reportPlayPrev,{clickFrom:"click_button"}),null==w||w(),t()}}},[x,t,n]),N=(0,o.useCallback)(e=>{if(!a){if(i&&x){var t;null===(t=x.emit)||void 0===t||t.call(x,"playSwitchNextBefore",!1),s.emit(s.EVENT.reportPlayNext,{clickFrom:"click_button"}),null==w||w(),i()}}},[x,i,a]);return(0,o.useEffect)(()=>{if(S.current&&A.current){let e=e=>{(0,u.Vv)(h.PagingType.click),(0,d.i0)(d.CK.User),C(e)},t=e=>{(0,u.Vv)(h.PagingType.click),(0,d.i0)(d.CK.User),N(e)};return S.current.addEventListener("click",e),A.current.addEventListener("click",t),()=>{S.current&&A.current&&(S.current.removeEventListener("click",e),A.current.removeEventListener("click",t))}}},[C,N]),(0,l.jsx)("div",{ref:p,onMouseMove:y,onClick:y,className:r()("xgplayer-playswitch",v),"data-state":"normal",style:g,children:(0,l.jsx)("div",{className:"xgplayer-icon",children:(0,l.jsxs)("div",{className:"xgplayer-playswitch-tab",children:[(0,l.jsx)("div",{"data-e2e":"video-switch-prev-arrow",className:r()("xgplayer-playswitch-prev",{disabled:n}),ref:S,children:(0,l.jsx)(_.z,{svg:(0,l.jsx)(c.Z,{}),needRenderInSSR:!0})}),(0,l.jsx)("div",{"data-e2e":"video-switch-next-arrow",className:r()("xgplayer-playswitch-next",{disabled:a}),ref:A,children:(0,l.jsx)(_.z,{svg:(0,l.jsx)(f.Z,{}),needRenderInSSR:!0})})]})})})},w=e=>{let t=(0,g.N)(),{removeSlideListButton:i}=(0,p.Iq)(e=>{let{removeSlideListButton:t}=e;return{removeSlideListButton:t}});return i?null:(0,l.jsx)(v.k,{componentName:"PlaySwitch",Slardar:t,children:(0,l.jsx)(y,(0,n._)({},e))})}},71575:function(e,t,i){i.d(t,{r:function(){return c}});var n=i(520739),l=i(563097);i(88648);var o=i(713097),a=i.n(o),r=i(556307),s=i(894416),u=i(205457);let d=e=>{let{children:t,style:i={},className:n}=e;return(0,l.jsx)("div",{className:a()(r.default.customPluginBottomWrapNew,null==n?void 0:n.bottom,"player-position-box-bottom"),style:i,children:t})},c=e=>{let t=(0,s.N)();return(0,l.jsx)(u.k,{componentName:"PositionBoxBottom",Slardar:t,children:(0,l.jsx)(d,(0,n._)({},e))})}},270116:function(e,t,i){let n;i.d(t,{n:function(){return x}});var l=i(520739);i(874386);var o=i(563097),a=i(88648),r=i(713097),s=i.n(r),u=i(734123),d=i(79307),c=i(637005),f=i(161045),h=i(330746),v=i(556307),m=i(860684),g=i(894416),_=i(205457),p=i(903868);let y={isHideChangeGlobal:!1,newMiniAvatarGlobal:!1,newMiniFontSizeGlobal:!1,newMiniSpacingGlobal:!1,newMiniIconGlobal:!1,initializated:!1},w=e=>{let[t,i]=(0,a.useState)(!1),{children:r,awemeInfo:g,style:_={},className:w,isMiniWin:x=!1,abtestData:S,from:A,immediatelyResize:C=!1}=e,[N,b]=(0,a.useState)(null==y?void 0:y.newMiniIconGlobal),[k,I]=(0,a.useState)(null==y?void 0:y.newMiniAvatarGlobal),[E,P]=(0,a.useState)(null==y?void 0:y.newMiniFontSizeGlobal),[D,T]=(0,a.useState)(null==y?void 0:y.newMiniSpacingGlobal),[L,j]=(0,a.useState)(null==y?void 0:y.newMiniIconGlobal),R=(0,m.n)(),[B,M]=(0,a.useState)({}),H=(0,a.useRef)(),{isWebMiniWin:O}=(0,p.Iq)(e=>{let{isWebMiniWin:t}=e;return{isWebMiniWin:t}}),F=e=>{var t,i,n;let{contentRect:l}=(null==e?void 0:e[0])||{},o=(null==l?void 0:l.height)||(null==R?void 0:null===(t=R.root)||void 0===t?void 0:t.offsetHeight)||(null===(n=H.current)||void 0===n?void 0:null===(i=n.parentNode)||void 0===i?void 0:i.offsetHeight);if(!o)return;let{MaxHeight:r,MiniAvatar:s,MiniText:u,MiniPadding:f,MiniIocn:h,OldHideChangeVideo:v}=d.nl,m=o>r?o/2/425:1;(null==S?void 0:S.innerSlideSmooth)?(1!==m&&M({transform:`scale(${m})`}),c.emit(c.EVENT.InteractionWidthChange,{width:66*m,awemeId:null==g?void 0:g.awemeId})):M({transformOrigin:"right bottom",transform:`scale(${m})`});let _=72,p=o<v+72,w=o<=s+72,x=o<=u+72,A=o<=f+72,C=o<=h+72;(0,a.startTransition)(()=>{b(p),I(w),P(x),T(A),j(C)}),y={isHideChangeGlobal:p,newMiniAvatarGlobal:w,newMiniFontSizeGlobal:x,newMiniSpacingGlobal:A,newMiniIconGlobal:C,initializated:!0}};return(0,a.useLayoutEffect)(()=>{var e;let t=(null==R?void 0:R.root)||(null===(e=H.current)||void 0===e?void 0:e.parentNode);if((C||!(null==y?void 0:y.initializated)&&R)&&F(t),t&&!x){let e=f.Z.bind(t,F);return()=>{e&&(null==e||e())}}},[R,x,null==S?void 0:S.feedFlowEntrance,A,C]),(0,a.useEffect)(()=>{if(void 0===n&&(n=(0,h.vU)()),n&&R)return R.on(u.Events.FULLSCREEN_CHANGE,i),()=>{R.off(u.Events.FULLSCREEN_CHANGE,i)}},[R]),(0,o.jsx)("div",{className:s()(v.default.customPluginRightWrap,null==w?void 0:w.right,"positionBox",{[v.default.isFireFox]:n&&!t&&(null==g?void 0:g.awemeType)!==68,[v.default.customPluginRightWrapMini]:O,[v.default.rightWrap]:(null==S?void 0:S.innerSlideSmooth)&&((0,h.i7)()||(0,h.un)()),hideChangeVideo:N,newMiniAvatar:k,newMiniFontSize:E,newMiniSpacing:D,newMiniIcon:L}),style:(0,l._)({},_,B),ref:H,children:r})},x=e=>{let t=(0,g.N)();return(0,o.jsx)(_.k,{componentName:"PositionBoxRight",Slardar:t,children:(0,o.jsx)(w,(0,l._)({},e))})}},383639:function(e,t,i){i.d(t,{r:function(){return P},y:function(){return D}});var n=i("520739");i("675373"),i("874386");var l=i("563097"),o=i("88648"),a=i("338426"),r=i("713097"),s=i.n(r),u=i("641193"),d=i.n(u),c=i("702726"),f=i("337499"),h=i("32167"),v=i("637005"),m=i("857631"),g=i("537985"),_=i("544933"),p=new _.h({abstractClick:{eventName:"search_result_click",params:{token_type:"video",search_type:"general",is_aladdin:0,enter_from:"general_search",button_type:"click_abstract",impr_id:""}},abstractMove:{eventName:"search_result_click",params:{token_type:"video",search_type:"general",is_aladdin:0,enter_from:"general_search",button_type:"click_abstract_move",impr_id:""}}}),y=i("878389");let w=(0,o.forwardRef)((e,t)=>(0,l.jsxs)("svg",(0,y._)((0,n._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,l.jsx)("circle",{cx:10,cy:10,r:10,transform:"matrix(-1 0 0 1 20 0)",fill:"#fff",fillOpacity:".34"}),(0,l.jsx)("circle",{cx:10,cy:10,r:9.75,transform:"matrix(-1 0 0 1 20 0)",stroke:"#fff",strokeOpacity:".16",strokeWidth:".5"}),(0,l.jsx)("path",{d:"M11.14 6.162a.857.857 0 0 1 1.212 1.212L9.847 9.879l2.505 2.505a.857.857 0 0 1-1.212 1.213l-3.104-3.105-.007-.007a.857.857 0 0 1 0-1.212l3.111-3.111z",fill:"#fff",fillOpacity:".75"})]}))),x=(0,o.forwardRef)((e,t)=>(0,l.jsxs)("svg",(0,y._)((0,n._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,l.jsx)("circle",{cx:10,cy:10,r:10,fill:"#fff",fillOpacity:".34"}),(0,l.jsx)("circle",{cx:10,cy:10,r:9.75,stroke:"#fff",strokeOpacity:".16",strokeWidth:".5"}),(0,l.jsx)("path",{d:"M9.241 6.162A.857.857 0 1 0 8.03 7.374l2.505 2.505-2.505 2.505a.857.857 0 0 0 1.212 1.213l3.104-3.105a.857.857 0 0 0 .007-1.22l-3.11-3.11z",fill:"#fff",fillOpacity:".75"})]}))),S=(0,o.forwardRef)((e,t)=>(0,l.jsx)("svg",(0,y._)((0,n._)({width:16,height:16,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,l.jsx)("path",{d:"M4 8c0-1.598.096-2.742.206-3.529.125-.885.924-1.324 1.738-.956.655.296 1.572.76 2.82 1.485a31.73 31.73 0 0 1 2.865 1.85c.821.605.821 1.695 0 2.3A31.743 31.743 0 0 1 8.765 11c-1.25.726-2.166 1.19-2.82 1.485-.815.368-1.614-.071-1.739-.956C4.096 10.742 4 9.598 4 8z"})})));var A=i("682644"),C=i("339391"),N=i("161045"),b=i("860684");let k=(0,a.ZP)(()=>i.e("46505").then(i.bind(i,620117)),{ssr:!1}),I=(e,t)=>{let{videoAbstract:i}=t||{};if(!i||!i.sections)return -1;let{sections:n}=i;return d()(n,t=>t.jumpTime<=e&&t.endTime>=e)},E=e=>{let{text:t,active:i,onClick:a,index:r,logParams:u}=e,d=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{if(!d.current)d.current=!0,c.logInstance.sendLog("videoAbstractShow",(0,n._)({enter_from:(0,h.vM)(),abstract_rank:r},null==u?void 0:u.search_params))},[u,r]),(0,l.jsxs)("div",{className:s()(g.default.horizontalItem,{[g.default.activeItem]:i}),onClick:a,children:[i?(0,l.jsx)(k,{data:m,hidden:!1,loop:!0,autoplay:!0,className:s()("mr-2",g.default.lottie)}):(0,l.jsx)(S,{className:"mr-2"}),(0,l.jsx)("p",{className:"line-clamp-1",children:t})]})},P=e=>{let{awemeInfo:t,player:i,isActive:a,logParams:r,isInnerFeed:u,isModal:d,openSpecificTab:m}=e,[_,y]=(0,o.useState)(-1),S=(0,o.useRef)(null);S.current=i;let{scrollRef:k,btnGroupState:P,onLocalItemClick:D,onLeftButtonClick:T,onRightButtonClick:L}=function(e){let{awemeInfo:t}=e,i=(0,o.useRef)(null),n=(0,b.n)(),[l,a]=(0,o.useState)({shouldButtonGroupShow:!1,shouldLeftButtonDisabled:!1,shouldRightButtonDisabled:!1}),r=(0,o.useCallback)(()=>{if(!i.current)return;let{scrollLeft:e,clientWidth:t,scrollWidth:n}=i.current;a(()=>({shouldButtonGroupShow:n>t,shouldLeftButtonDisabled:e<=0,shouldRightButtonDisabled:Math.ceil(e+t)>=n}))},[]),s=(0,o.useCallback)(e=>{if(!e||!i.current)return;let t=e.offsetLeft>=i.current.scrollLeft,n=e.offsetLeft+e.clientWidth-i.current.scrollLeft<i.current.clientWidth-60;return t&&n},[]),u=(0,o.useCallback)(e=>{if(i.current&&(l.shouldButtonGroupShow||i.current.scrollWidth>i.current.clientWidth)){let t=e.offsetLeft,n=t+e.clientWidth,l=i.current.scrollLeft,o=l+i.current.clientWidth-90;n>o?(0,A.y)({left:n-o+26,behavior:"smooth"},i.current):t<l&&(0,A.y)({left:t-l-26,behavior:"smooth"},i.current)}},[l,t]),d=(0,o.useCallback)(()=>{if(!i.current||l.shouldRightButtonDisabled)return;let e=null,{childNodes:t,scrollWidth:n}=i.current;for(let i=0;i<t.length-1;i++){let n=t[i],l=t[i+1];s(n)&&!s(l)&&(e=l)}(0,A.X)({left:e?e.offsetLeft:n,behavior:"smooth"},i.current)},[l,s]),c=(0,o.useCallback)(()=>{if(!i.current||l.shouldLeftButtonDisabled)return;let e=null,{childNodes:t}=i.current;for(let i=t.length-1;i>0;i--){let n=t[i],l=t[i-1];s(n)&&!s(l)&&(e=l)}e&&(0,A.X)({left:e.offsetLeft+e.clientWidth-i.current.clientWidth+60,behavior:"smooth"},i.current)},[l,s]);return(0,o.useEffect)(()=>{let e=i.current;if(!e)return;r();let t=()=>{(0,C.U)(r)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}},[t,r]),(0,o.useEffect)(()=>{if(n){let e=N.Z.bind(n.root,r);return()=>{null==e||e()}}},[n,r]),{scrollRef:i,btnGroupState:l,onLocalItemClick:u,onRightButtonClick:d,onLeftButtonClick:c}}({awemeInfo:t}),j=(0,o.useMemo)(()=>d||u,[d,u]),R=(0,o.useCallback)((e,t)=>{if(_!==e)y(e),e>=0&&t&&D(t)},[_,D]),B=(0,o.useCallback)((e,l)=>{if(i){var o;null===(o=i.play)||void 0===o||o.call(i),j&&(null==m||m(f.L.AbstractList)),j||p.sendLog("abstractClick",(0,n._)({},(null==r?void 0:r.search_params)||{})),j&&c.logInstance.sendLog("videoAbstractClick",(0,n._)({enter_from:(0,h.vM)(),abstract_rank:l,button_type:"click_abstract"},null==r?void 0:r.search_params)),i.currentTime=t.videoAbstract.sections[l].jumpTime/1e3,R(l,e.currentTarget)}},[R,i,t,j]);(0,o.useEffect)(()=>{let e=null;if(a&&(null==i?void 0:i.isUserActive)){let i=()=>{let n=I(1e3*S.current.currentTime,t);v.emit(v.EVENT.UpdateActiveAbstract,{index:n}),e=setTimeout(i,1e3)};return i(),()=>{clearTimeout(e)}}},[a,t,null==i?void 0:i.isUserActive]),(0,o.useEffect)(()=>{if(a){let e=v.listen(v.EVENT.UpdateActiveAbstract,e=>{var t,i,n;let{index:l}=e;if(null===(t=S.current)||void 0===t?void 0:t.isUserActive){let e=null===(n=k.current)||void 0===n?void 0:null===(i=n.childNodes)||void 0===i?void 0:i[l];R(l,e)}});return()=>{null==e||e()}}},[R,a]);let M=(0,o.useCallback)(e=>()=>{j&&c.logInstance.sendLog("videoAbstractClick",(0,n._)({enter_from:(0,h.vM)(),button_type:"click_abstract_move"},null==r?void 0:r.search_params)),j||p.sendLog("abstractMove",(0,n._)({},(null==r?void 0:r.search_params)||{})),"left"===e?T():L()},[r,T,L,j]);return(0,o.useMemo)(()=>{var e;return Array.isArray(null==t?void 0:null===(e=t.videoAbstract)||void 0===e?void 0:e.sections)&&t.videoAbstract.sections.length>0},[t])?(0,l.jsxs)("div",{className:g.default.container,children:[(0,l.jsx)("div",{className:g.default.scrollContainer,ref:k,children:t.videoAbstract.sections.map((e,t)=>(0,l.jsx)(E,{index:t,text:e.playerDisplayText,active:t===_,onClick:e=>B(e,t),logParams:r},e.playerDisplayText))}),P.shouldButtonGroupShow&&(0,l.jsxs)("div",{className:s()(g.default.buttonGroup),children:[(0,l.jsx)(w,{className:s()(g.default.button,{[g.default.disabled]:P.shouldLeftButtonDisabled}),width:20,height:20,viewBox:"0 0 20 20",onClick:M("left")}),(0,l.jsx)(x,{className:s()(g.default.button,{[g.default.disabled]:P.shouldRightButtonDisabled}),width:20,height:20,viewBox:"0 0 20 20",onClick:M("right")})]})]}):(0,l.jsx)(l.Fragment,{})},D=e=>{let{showVideoInfo:t}=e;return t?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)("div",{className:g.default.wrapper,children:(0,l.jsx)(P,(0,n._)({},e))})}},437515:function(e,t,i){i.d(t,{P:function(){return w}});var n=i(520739),l=i(878389);i(429532),i(250440);var o=i(563097),a=i(88648),r=i(498871),s=i(957201),u=i(79307),d=i(399818),c=i(356650),f=i(189370),h=i(860684),v=i(894416),m=i(205457),g=i(774314),_=i(40970),p=i(174554);let y=e=>{let{isActive:t,awemeInfo:i,abtestData:o,scene:v,enablePip:m}=e,y=(0,h.n)(),w=(0,a.useRef)(i||null);return(0,a.useEffect)(()=>{var e,a,h,x,S,A,C,N,b,k,I;if(y&&i&&w.current&&(null==i?void 0:i.awemeId)!==(null===(e=w.current)||void 0===e?void 0:e.awemeId)){!t&&y.pause();let e=Object.assign((0,p.k)({awemeInfo:i,abtestData:o}),(0,d.QF)({awemeInfo:i,abtestData:o}));v===u.lT.CreatorCenter&&(e.ignores=["poster","definition","mobile","fullscreen"]),(0,g.Zf)({config:e,awemeInfo:i,abtestData:o}),(0,_.LX)({config:e,awemeInfo:i,abtestData:o}),(0,c.Ni)(i)&&(e.secretKey=null==i?void 0:null===(b=i.video)||void 0===b?void 0:null===(N=b.bitRateList)||void 0===N?void 0:null===(C=N[0])||void 0===C?void 0:C.playerAccessKey),e.pip&&(e.pip.showIcon=m),(null==e?void 0:null===(a=e.plugins)||void 0===a?void 0:a.includes(r.default))?(y.unRegisterPlugin(s.default.pluginName,!0),!(null==y?void 0:null===(k=y.plugins)||void 0===k?void 0:k.dashplugin)&&y.registerPlugin(r.default)):(null==e?void 0:null===(h=e.plugins)||void 0===h?void 0:h.includes(s.default))?(y.unRegisterPlugin(r.default.pluginName,!0),!(null==y?void 0:null===(I=y.plugins)||void 0===I?void 0:I.mp4encryptplayer)&&y.registerPlugin(s.default)):(y.unRegisterPlugin(r.default.pluginName,!0),y.unRegisterPlugin(s.default.pluginName,!0)),null===(x=y.playNext)||void 0===x||x.call(y,(0,n._)((0,l._)((0,n._)({},e),{autoplay:t}),null==e?void 0:e.mp4encryptplayer)),null===(A=y.getPlugin)||void 0===A||null===(S=A.call(y,"PlayClaritySettingPlugin"))||void 0===S||S.updateConfig({awemeInfo:i}),y.crossOrigin=(0,f.S)(i)?"use-credentials":"anonymous"}w.current=i},[y,t,i.awemeId,o,m]),null},w=e=>{let t=(0,v.N)();return(0,o.jsx)(m.k,{componentName:"VideoSrcChange",Slardar:t,children:(0,o.jsx)(y,(0,n._)({},e))})}},550339:function(e,t,i){i.d(t,{G9:function(){return T},JI:function(){return L},kL:function(){return R},l7:function(){return E}});var n=i(134761),l=i(520739),o=i(878389);i(874386);var a=i(563097),r=i(489478),s=i(88648),u=i(205457),d=i(713097),c=i.n(d),f=i(734123);i(718682);var h=i(35730),v=i(746864),m=i(147613),g=i(696332),_=i(555106),p=i(782442),y=i(658065),w=i(637005),x=i(54517),S=i(330746),A=i(860684),C=i(894416),N=i(597321),b=i(679126),k=i(252376),I=i(17750),E={Shortcut:0,0:"Shortcut"};function P(e){let{isOn:t}=e;return(0,a.jsxs)("div",{className:c()("xgTips"),children:[t&&(0,a.jsx)("span",{children:g.a.t("autoplay_close",{},"关闭自动连播")}),!t&&(0,a.jsx)("span",{children:g.a.t("autoplay_open",{},"自动连播")}),!!I.SHORTCUT_KEY.autoPlay.badgeText&&(0,a.jsx)("span",{className:"shortcutKey",children:I.SHORTCUT_KEY.autoPlay.badgeText})]})}function D(e){let{autoplay:t,xgSwitch:i,shortcutDisabled:n}=e,l=(0,k.H)("auto_play");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:l,className:"xgplayer-icon",onClick:i,"data-e2e":"video-player-auto-play","data-e2e-state":t?"video-player-auto-playing":"video-player-no-auto-play",children:(0,a.jsxs)("div",{className:"xgplayer-setting-label",children:[(0,a.jsx)("button",{"aria-checked":"true",className:c()("xg-switch",{"xg-switch-checked":t}),"aria-labelledby":"xg-switch-pip",type:"button",children:(0,a.jsx)("span",{className:"xg-switch-inner"})}),(0,a.jsx)("span",{className:"xgplayer-setting-title",children:g.a.t("autoplay",{},"连播")})]})}),!n&&(0,a.jsx)(P,{isOn:t})]})}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(0,_.$o)(null!=e?e:h.LocalStorageKeys.PLAYER_NEXT_AUTOPLAY);return null!=i?i:t}class L extends f.Plugin{static get pluginName(){return"AutoPlaySettingPlugin"}static get defaultConfig(){return{position:r.POSITIONS.CONTROLS_RIGHT,index:9,className:"xgplayer-autoplay-setting"}}afterCreate(){var e,t;if(!this.config.disable)this.renderRoot(),null===(e=this.player)||void 0===e||e.on("updateIsAutoPlay",this.updateIsAutoPlay),null===(t=this.player)||void 0===t||t.on(N.B.UpdateAutoPlaySwitch,this.switchAutoPlay),this.bind("mouseenter",this.onMouseenter),this.bind("mouseleave",this.onMouseleave)}destroy(){var e,t;this.unbind("mouseenter",this.onMouseenter),this.unbind("mouseleave",this.onMouseleave),null===(e=this.player)||void 0===e||e.off("updateIsAutoPlay",this.updateIsAutoPlay),null===(t=this.player)||void 0===t||t.off(N.B.UpdateAutoPlaySwitch,this.switchAutoPlay),(0,b.v)(this)}renderRoot(){let e=!!this.config.nextAutoPlay,t=this.onXgChange;this.player&&(this.player.isAutoPlay=e);let i=(0,a.jsx)(D,{autoplay:e,xgSwitch:t,shortcutDisabled:this.config.shortcutDisabled});(0,b.s)(this,i)}render(){return`
    <xg-icon class="xgplayer-autoplay-setting automatic-continuous" data-state="normal">
    </xg-icon>`}constructor(...e){super(...e),(0,n._)(this,"playeNextWeightNum",0),(0,n._)(this,"stopFlag",0),(0,n._)(this,"switchAutoPlay",e=>{var t;let i=null!==(t=null==e?void 0:e.isOn)&&void 0!==t?t:!this.config.nextAutoPlay;!!this.config.nextAutoPlay!==i&&this.autoPlayChangeLogic((0,o._)((0,l._)({},e),{isOn:i}))}),(0,n._)(this,"onMouseleave",()=>{this.emit("icon_mouseleave",{pluginName:this.pluginName})}),(0,n._)(this,"onMouseenter",()=>{this.emit("icon_mouseenter",{pluginName:this.pluginName})}),(0,n._)(this,"updateIsAutoPlay",e=>{this.autoPlayChangeLogic((0,l._)({isOn:!!Number(T(this.config.customLocalStorage,this.config.defaultVal)),logParams:{},isInnerReset:!0,switchBy:void 0},e))}),(0,n._)(this,"autoPlayChangeLogic",e=>{let{isOn:t,logParams:i,isInnerReset:n,switchBy:l,mode:o}=e;if(!this.config.shortcutDisabled||0!==l){if("syncInteraction"!==o&&p.Le.setConfig(p.gI.InnerAutoPlay,null),!!this.config.nextAutoPlay!==t&&this.root){var a,r;this.config.nextAutoPlay=t?1:0,(0,_.qQ)(null!==(r=this.config.customLocalStorage)&&void 0!==r?r:h.LocalStorageKeys.PLAYER_NEXT_AUTOPLAY,t?"1":"0"),this.renderRoot();null===(a=this.player)||void 0===a||a.emit(N.B.AutoPlaySwitchChange,{isOn:!!t,logParams:i,isInnerReset:n}),this.root&&[...this.root.getElementsByTagName("button")].forEach(e=>e.blur()),this.stopFlag=0}}}),(0,n._)(this,"onXgChange",()=>{var e;let{author_id:t,group_id:i,log_pb:n,extraParams:o}=this.config.logInfo;(0,_.qQ)(null!==(e=this.config.customLocalStorage)&&void 0!==e?e:h.LocalStorageKeys.PLAYER_NEXT_AUTOPLAY,this.config.nextAutoPlay?"0":"1"),p.Le.getConfig(p.gI.IsInMixCard)&&p.Le.setConfig(p.gI.AutoPlayChanged,{changed:!0}),this.autoPlayChangeLogic({isOn:!this.config.nextAutoPlay,logParams:(0,l._)({enter_method:"click_bar",urlParamList:["previous_page"],author_id:t,group_id:i,log_pb:n,enter_from:(0,y.yW)(),status:this.config.nextAutoPlay?"off":"on"},o),isInnerReset:!1,switchBy:void 0}),w.emit(w.EVENT.syncInteraction)})}}let j=e=>{let{isActive:t,awemeInfo:i,playNextFunc:n,ablePlayNext:l,shortcutDisabled:o,customLocalStorage:a,defaultVal:r,scene:u}=e,d=(0,A.n)(),c=(0,s.useMemo)(()=>i,[i]),f=(0,s.useCallback)(()=>{var e;let t=d.getPlugin("AutoPlaySettingPlugin");if(n&&(null==t?void 0:null===(e=t.config)||void 0===e?void 0:e.nextAutoPlay)&&(null==t?void 0:t.playeNextWeightNum)===0&&(null==t?void 0:t.stopFlag)===0&&l&&i.awemeType!==v.e.Note)(0,x.i0)(x.CK.Auto),null==n||n({from:"auto"}),p.Le.setConfig(p.gI.VideoPlayMethod,"auto_play_open");else{let e=()=>{d.replay(),d.replayed=!0,p.Le.setConfig(p.gI.VideoPlayMethod,"auto")};(0,S.G6)()?setTimeout(e,50):e()}},[n,d,l,i]);return(0,s.useEffect)(()=>{if(d&&c)return(d.replayed=!1,2===d.config.reuse&&d.getPlugin("AutoPlaySettingPlugin"))?(d.getPlugin("AutoPlaySettingPlugin").playeNextWeightNum=0,d.getPlugin("AutoPlaySettingPlugin").stopFlag=0,()=>{}):(d.registerPlugin(L,{nextAutoPlay:Number(T(a,r)),logInfo:c,shortcutDisabled:o,customLocalStorage:a,defaultVal:r}),()=>{d.getPlugin("AutoPlaySettingPlugin")&&2!==d.config.reuse&&d.unRegisterPlugin("AutoPlaySettingPlugin",!0)})},[d,c,r]),(0,s.useEffect)(()=>{if(null==d?void 0:d.getPlugin("AutoPlaySettingPlugin")){let e=w.listen(w.EVENT.syncAutoPlaySetting,()=>{setTimeout(()=>{d.getPlugin("AutoPlaySettingPlugin").updateIsAutoPlay()},200)});return()=>{e()}}},[d]),(0,s.useEffect)(()=>{if(d&&t){let e,t;if(d.getPlugin("AutoPlaySettingPlugin")){let i=d.getPlugin("AutoPlaySettingPlugin");!Number.isInteger(i.playeNextWeightNum)&&(i.playeNextWeightNum=0),e=w.listen(w.EVENT.videoStopPlayNext,e=>{if(!1===d.isUserActive)return;let{openSideCard:t}=e||{},i=d.getPlugin("AutoPlaySettingPlugin"),n=t?"stopFlag":"playeNextWeightNum";i&&i[n]<1&&(i[n]+=1)}),t=w.listen(w.EVENT.videoRemoveStopPlayNext,e=>{if(!1===d.isUserActive)return;let{openSideCard:t}=e||{},i=d.getPlugin("AutoPlaySettingPlugin"),n=t?"stopFlag":"playeNextWeightNum";i&&(i[n]=Math.max(i[n]-1,0))})}return()=>{null==e||e(),null==t||t()}}},[d,t]),(0,m.o)(()=>{if(d){let e=d.getPlugin("AutoPlaySettingPlugin");null==e||e.updateIsAutoPlay();let t=w.listen(w.EVENT.syncInteraction,()=>{d.registerPlugin(L,{nextAutoPlay:Number(T(a,r)),logInfo:c,shortcutDisabled:o,customLocalStorage:a,defaultVal:r})});return()=>{t()}}},[d,r]),(0,s.useEffect)(()=>{if(d&&t&&f)return d.on("ended",f),()=>{d.off("ended",f)}},[d,t,f,i]),null},R=e=>{let t=(0,C.N)();return(0,a.jsx)(u.k,{componentName:"AutoPlayPlugin",Slardar:t,children:(0,a.jsx)(j,(0,l._)({},e))})}},552167:function(e,t,i){i.d(t,{oP:function(){return U},nl:function(){return q},PN:function(){return F},m4:function(){return K},SD:function(){return z},Yd:function(){return Z},oY:function(){return O}});var n=i("134761"),l=i("520739");i("874386");var o=i("563097"),a=i("88648"),r=i("489478"),s=i("713097"),u=i.n(s),d=i("734123"),c=i("969773"),f=i("597334"),h=i("79307"),v=i("696332"),m=i("637005"),g=i("782442"),_=i("367366"),p=i("32167"),y=i("208987"),w=i("702726"),x=i("747909"),S=i("410665"),A=i("658065"),C=i("428647"),N=i("978841"),b=i("544933"),k=new b.h({openPureToastShow:{eventName:"open_pure_toast_show",params:{enter_from_merge:"",enter_from:""}}}),I=i("254897");let E=()=>{k.sendLog("openPureToastShow",{enter_from_merge:(0,A.yW)(),enter_from:(0,p.vM)()})},P=a.forwardRef(e=>{let{onSwitch:t,isShowTip:i,setIsShowTip:n}=e,l=(0,S.x)(E.bind(null));return(0,o.jsxs)("div",{ref:l,className:u()(N.default.tips,{[N.default.show]:i}),children:[(0,o.jsx)(I.z,{className:u()(N.default.close,"noTransform"),svg:(0,o.jsx)(C.Z,{}),onClick:()=>n(!1)}),(0,o.jsx)("div",{className:N.default.ImmersiveTipTitle,children:(0,o.jsx)("span",{children:"隐藏视频标题"})}),(0,o.jsx)("p",{className:N.default.desc,children:"开启清屏,可隐藏视频标题、作者昵称"}),(0,o.jsx)(x.Button,{theme:"solid",className:N.default.btn,onClick:()=>{null==t||t(),n(!1)},children:"立即开启"})]})});var D=i("205457");i("35918");var T=i("860684"),L=i("894416"),j=i("597321"),R=i("679126"),B=i("252376"),M=i("903868"),H=i("17750");let O="immersive-player-switch-on",F="immersive-player-switch-on-hide-video-info",U="immersive-player-switch-on-hide-bottom-brand-ad",q="immersive-player-switch-on-hide-recommend-tag",K="immersive-player-switch-on-hide-interaction-area";function W(e){let{isOn:t}=e;return(0,o.jsxs)("div",{className:u()("xgTips"),children:[t&&(0,o.jsx)("span",{children:v.a.t("cancel_clear",{},"取消清屏")}),!t&&(0,o.jsx)("span",{children:v.a.t("clear",{},"清屏")}),!!H.SHORTCUT_KEY.immersivePlayer.badgeText&&(0,o.jsx)("span",{className:"shortcutKey",children:H.SHORTCUT_KEY.immersivePlayer.badgeText})]})}function V(e){let{isOn:t,onSwitch:i,hide:n,player:l,updateImmersiveSwitch:r}=e,s=(0,B.H)("pure_mode"),[d,c]=(0,a.useState)(!1),{isMobile:h,isiPad:g}=(0,f.X)();return(0,a.useEffect)(()=>{(n||t)&&c(!1)},[n,t]),(0,a.useEffect)(()=>{let e=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c(e)};return l&&l.on("changeImmersiveSwitchTip",e),()=>{l&&l.off("changeImmersiveSwitchTip",e)}},[l]),(0,a.useEffect)(()=>{m.emit(m.EVENT.ImmersiveSwitchMount);let e=m.listen(m.EVENT.closeOtherTip,e=>{"ImmersiveSwitchTip"!==e&&c(!1)});return()=>e()},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"xgplayer-icon",ref:s,children:[d&&(0,o.jsx)(P,{isShowTip:d,setIsShowTip:c,onSwitch:()=>{r({isOn:!t,logParams:{enter_method:"toast",click_method:"toast"}})}}),(0,o.jsxs)("div",{className:"xgplayer-setting-label",onClick:i,children:[(0,o.jsx)("button",{"aria-checked":"true",className:u()("xg-switch",{"xg-switch-checked":t}),"aria-labelledby":"xg-switch-pip",type:"button",children:(0,o.jsx)("span",{className:"xg-switch-inner"})}),(0,o.jsx)("span",{className:"xgplayer-setting-title",children:v.a.t("clear",{},"清屏")})]})]}),!h&&!g&&!d&&(0,o.jsx)(W,{isOn:t})]})}class Z extends d.Plugin{static get pluginName(){return"ImmersiveSwitchSettingPlugin"}static get defaultConfig(){return{position:r.POSITIONS.CONTROLS_RIGHT,index:8,className:"xgplayer-immersive-switch-setting"}}afterCreate(){var e;if(!this.config.disable)this.renderRoot(),this.updateTargetsVisiblity(),null===(e=this.player)||void 0===e||e.on(j.B.UpdateImmersiveSwitch,this.updateImmersiveSwitch),this.bind("mouseenter",this.onMouseenter),this.bind("mouseleave",this.onMouseLeave)}destroy(){var e;this.unbind("mouseenter",this.onMouseenter),this.unbind("mouseleave",this.onMouseLeave),(0,R.v)(this),null===(e=this.player)||void 0===e||e.off(j.B.UpdateImmersiveSwitch,this.updateImmersiveSwitch)}hideTargets(){let e=this.root.closest(".basePlayerContainer");e&&(d.Util.addClass(e,O),d.Util.addClass(e,F),d.Util.addClass(e,U),d.Util.addClass(e,q))}showTargets(){let e=this.root.closest(".basePlayerContainer");e&&(d.Util.removeClass(e,O),d.Util.removeClass(e,F),d.Util.removeClass(e,U),d.Util.removeClass(e,q))}update(e){this.config=(0,l._)({},this.config,e)}updateTargetsVisiblity(){this.config.isOn&&this.hideTargets(),this.config.isOn||this.showTargets()}renderRoot(){if(this.player){var e;this.player.isCleanScreen=!!(null===(e=this.config)||void 0===e?void 0:e.isOn)}let t=(0,o.jsx)(V,{isOn:!!this.config.isOn,onSwitch:()=>{this.updateImmersiveSwitch({isOn:!this.config.isOn,logParams:{enter_method:"click_bar",click_method:"button"}})},updateImmersiveSwitch:this.updateImmersiveSwitch,hide:this.config.hide,player:this.player});(0,R.s)(this,t)}render(){return`
    <xg-icon class="xgplayer-immersive-switch-setting immersive-switch" data-state="normal">
    </xg-icon>`}constructor(...e){super(...e),(0,n._)(this,"onMouseenter",()=>{this.emit("icon_mouseenter",{pluginName:this.pluginName})}),(0,n._)(this,"onMouseLeave",()=>{this.emit("icon_mouseleave",{pluginName:this.pluginName})}),(0,n._)(this,"updateImmersiveSwitch",e=>{var t,i,n,l,o,a;let r=null!==(n=null==e?void 0:e.isOn)&&void 0!==n?n:!this.config.isOn,s=null!==(l=null==e?void 0:e.logParams)&&void 0!==l?l:{};if(null===(t=this.player)||void 0===t||t.emit(d.Events.USER_ACTION,{action:"clean_screen",pluginName:"ImmersiveSwitchSettingPlugin",status:r?"open":"close"}),this.config.showTip=null!==(o=null==e?void 0:e.showTip)&&void 0!==o&&o,m.emit(m.EVENT.ImmersiveSwitch,{isOn:r}),this.config.isOn!==r){this.config.isOn=r;let t={isOn:r,logParams:s,isInnerReset:e.isInnerReset};null===(a=this.player)||void 0===a||a.emit(j.B.ImmersiveSwitchChange,t),this.renderRoot(),[...this.root.getElementsByTagName("button")].forEach(e=>e.blur())}this.updateTargetsVisiblity(),(null===(i=this.config.abtestData)||void 0===i?void 0:i.immersiveStyle)&&g.Le.setConfig(g.gI.ImmersiveSwitchStatus,r)})}}let G=e=>{var t;let{isActive:i,awemeInfo:n,isOnByOuter:l=!1,isInnerFeed:o,isOutFeed:r,abtestData:s,hide:u,scene:d}=e,f=(0,T.n)(),v=(0,c.Z)(null==n?void 0:n.awemeId),m=(0,a.useRef)(!1),{isFullScreen:x,isCssFullScreen:S}=null!==(t=(0,a.useContext)(y.C))&&void 0!==t?t:{},A=(0,a.useRef)(o);A.current=o;let{isWebMiniWin:C}=(0,M.Iq)(e=>{let{isWebMiniWin:t}=e;return{isWebMiniWin:t}});return(0,a.useEffect)(()=>{if(f)return 2===f.config.reuse&&f.getPlugin(Z.pluginName)?()=>{}:(f.registerPlugin(Z,{isOn:l,isInnerFeed:o,abtestData:s,hide:u}),()=>{f.getPlugin(Z.pluginName)&&2!==f.config.reuse&&f.unRegisterPlugin(Z.pluginName)})},[f,o,s,u]),(0,a.useEffect)(()=>{if(f&&i&&C){let e=f.getPlugin(Z.pluginName);null==e||e.updateImmersiveSwitch({isOn:!1})}},[f,i,C]),(0,a.useEffect)(()=>{if(f&&i){var e;let t=(0,_.r)(),i=f.getPlugin(Z.pluginName),l=null!==(e=g.Le.getConfig(g.gI.ImmersiveSwitchStatus))&&void 0!==e&&e,o=x||S||d===h.lT.Modal,a=!!((null==s?void 0:s.immersiveStyle)&&o)&&l;a&&w.logInstance.sendLog("inheritPureMode",{enter_from:(0,p.mo)(),group_id:null==n?void 0:n.awemeId,is_full_screen:t?1:0,is_full_webscreen:S?1:0}),null==i||i.updateImmersiveSwitch({isOn:a})}},[f,o,i,r,s]),(0,a.useEffect)(()=>{if(f&&i&&(null==n?void 0:n.awemeId)!==v){var e;let t=(0,_.r)();f.emit("changeImmersiveSwitchTip",!1);let i=f.getPlugin(Z.pluginName),l=null!==(e=g.Le.getConfig(g.gI.ImmersiveSwitchStatus))&&void 0!==e&&e,o=x||S||d===h.lT.Modal,a=!!((null==s?void 0:s.immersiveStyle)&&o)&&l;a&&A.current&&w.logInstance.sendLog("inheritPureMode",{enter_from:(0,p.mo)(),group_id:null==n?void 0:n.awemeId,is_full_screen:t?1:0,is_full_webscreen:S?1:0}),null==i||i.updateImmersiveSwitch({isOn:a,isInnerReset:!0})}},[f,i,null==n?void 0:n.awemeId,v,s]),(0,a.useEffect)(()=>{f&&!i&&(m.current=!1),f&&i&&!r&&(m.current=!0)},[f,i,r]),null},z=e=>{let t=(0,L.N)();return(0,o.jsx)(D.k,{componentName:"ImmersiveSwitchPlugin",Slardar:t,children:(0,o.jsx)(G,(0,l._)({},e))})}},779214:function(e,t,i){var n=i(544933);t.Z=new n.h({progressPreview:{eventName:"progress_preview",params:{enter_from:"",enter_method:"",video_time:0,enter_from_merge:"",tab_name:"",group_id:"",chapter_index:0,is_chapter_bar:0,play_current_time:0}},progressClick:{eventName:"progress_click",params:{position:0,enter_from:"",enter_from_merge:"",tab_name:"",group_id:"",author_id:"",click_method:"hot_key",rate:-1,action:"",is_small_window:"0",small_window_scene:"",chapter_index:0,is_chapter_bar:0,vduration:0,before_rate:0,if_continued_play:"",before_position:0,player_display_mode:"",play_current_time:0}},chapterContentShow:{eventName:"chapter_content_show",params:{enter_from_merge:"",enter_from:"",group_id:"",author_id:"",chapter_num:0,is_with_video_summary:0,panel_has_chapter_summary:0,is_author:0}},chapterContentSlide:{eventName:"chapter_content_slide",params:{enter_from_merge:"",enter_from:"",group_id:"",author_id:"",chapter_num:0,is_with_video_summary:0,panel_has_chapter_summary:0,is_author:0}},chapterContentClick:{eventName:"chapter_content_click",params:{enter_from_merge:"",enter_from:"",group_id:"",author_id:"",chapter_num:0,is_with_video_summary:0,panel_has_chapter_summary:0,is_author:0,chapter_index_click:0,is_knowledge_point:0,chapter_knowledge_point:0,knowledge_index_click:0,button_name:""}},chapterContentExit:{eventName:"chapter_content_exit",params:{enter_from_merge:"",enter_from:"",group_id:"",author_id:"",chapter_num:0,is_with_video_summary:0,panel_has_chapter_summary:0,is_author:0,duration:0}},showChapterProgressBar:{eventName:"show_chapter_progress_bar",params:{enter_from_merge:"",enter_from:"",group_id:"",author_id:"",chapter_cnt:0,is_ting_window:0,player_display_mode:""}}})},826110:function(e,t,i){i.d(t,{Y:function(){return u},c:function(){return d}}),i(874386),i(897860);var n=i(128231),l=i.n(n),o=i(88648),a=i(782442);let r=e=>e<=1440?22:e>=1920?26:.015277777777777777*e,s=()=>{let[e,t]=(0,o.useState)(()=>window.innerWidth);return(0,o.useEffect)(()=>{let e=l()(()=>{t(window.innerWidth)},100,{trailing:!0});return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e},u=(e,t)=>{var i;let n=(null==t?void 0:t.root)||(null===(i=window.player)||void 0===i?void 0:i.root);return Math.floor(((n&&parseInt(window.getComputedStyle(n,null).height,10)||800)-45-16)/e)},d=e=>{let t=s(),i=r(t),[n,l]=(0,o.useState)(()=>{let e=a.Le.getConfig(a.gI.AbtestData),t=a.Le.getConfig(a.gI.VideoRect);return(null==e?void 0:e.innerSlideSmooth)&&(null==t?void 0:t.heightOrigin)?null==t?void 0:t.heightOrigin:500}),u=Math.floor((n-45-16)/i),d=t>=1920?1:2;return(0,o.useEffect)(()=>{let t=a.Le.getConfig(a.gI.AbtestData),i=a.Le.getConfig(a.gI.VideoRect);if((null==t?void 0:t.innerSlideSmooth)&&(null==i?void 0:i.heightOrigin)){l(null==i?void 0:i.heightOrigin);return}let n=window.setTimeout(()=>{var t;let i=(null==e?void 0:e.root)||(null===(t=window.player)||void 0===t?void 0:t.root);l(i&&parseInt(window.getComputedStyle(i,null).height,10)||800)},200);return()=>{window.clearTimeout(n)}},[]),{lineHeight:i,maxLine:u,videoLineCamp:d}}},877408:function(e,t,i){i.d(t,{A:function(){return l}});var n=i(55426);let l=e=>{let{count:t,displayWord:i}=e;return 0===Number(t)?i:(0,n.qe)(Number(t))}},344949:function(e,t,i){var n=i(544933);t.Z=new n.h({hover_related_video_icon:{eventName:"hover_related_video_icon",params:{enter_from:""}},h265DownInfo:{eventName:"h265_down_info",params:{type:""}},relatedVideoClick:{eventName:"related_video_click",params:{enter_from:"",enter_from_merge:"",group_id:"",author_id:0}},bottomBarShow:{eventName:"bottom_bar_show",params:{playlet_id:"",compilation_id:"",group_id:"",enter_from:"recommend",enter_from_merge:"",bar_type:"",entrance_cnt:0,is_update:0,item_duration_ms:0,bar_tag_name:"",player_display_mode:""}},bottomBarClick:{eventName:"bottom_bar_click",params:{playlet_id:"",compilation_id:"",group_id:"",enter_from:"recommend",enter_from_merge:"",bar_type:"",entrance_cnt:0,is_update:0,item_duration_ms:0,bar_tag_name:"",action:"open",player_display_mode:""}},videoSwitchUrl:{eventName:"video_switch_url",params:{aweme_id:"",vduration:0,current_position:0,vtype:"",buffer:0,is_visible:0,host:""}},refreshNoMatchVid:{eventName:"refresh_no_match_vid",params:{vid:""}}})},156053:function(e,t,i){let n;i.d(t,{YO:function(){return y},nq:function(){return w}}),i(250440),i(874386),i(413806),i(826893),i(429532);var l=i(112501),o=i(73528),a=i(306978),r=i(746864),s=i(35730),u=i(452894),d=i(658065),c=i(782563),f=i(726406),h=i(555106),v=i(782442),m=i(996503),g=i(356650),_=i(383212);let p=()=>void 0!==n?n:((0,l.Gb)()&&(n=1),n),y=e=>{var t,i,n,l,o,a;let{abtestData:y,awemeInfo:w,isInnerFeed:x,isModalVideo:S,modalEnterFrom:A}=e;if(!(null==y?void 0:null===(t=y.SR)||void 0===t?void 0:t.isOpen)||(null==w?void 0:w.awemeType)!==r.e.Normal)return!1;let C=(0,_.G)();if("recommend"===(0,d.yW)()&&C<(null!==(n=null==y?void 0:null===(i=y.SR)||void 0===i?void 0:i.effectOrder)&&void 0!==n?n:3)||(0,g.Ni)(w))return!1;if((0,c.DT)()){if(!(0,f.b4)()||!(0,f._u)())return!1}else{if((0,h.$o)(s.LocalStorageKeys.srDegradePermanently)||!(0,h.$o)(s.LocalStorageKeys.PowerEfficient))return!1;if(!p()||(0,c.tq)())return(0,h.qQ)(s.LocalStorageKeys.srDegradePermanently,1),!1;if((null==w?void 0:w.isPrivate)||S&&![u.a.WaterFall,u.a.UserCollection,u.a.UserLike,u.a.UserPost,u.a.UserRecord].includes(A)||x&&!(null==y?void 0:null===(l=y.SR)||void 0===l?void 0:l.enableInnerFeed)||!(null==y?void 0:null===(a=y.SR)||void 0===a?void 0:null===(o=a.applyPage)||void 0===o?void 0:o.includes((0,d.yW)()))||v.Le.getConfig(v.gI.SrDegrade)||(0,m.if)({abtestData:y,awemeInfo:w}))return!1}return!0},w=e=>{let{config:t={},enableSr:i,abtestData:n}=e;if(t.enableSr=i,!i||(0,c.DT)())return;t.plugins=[...t.plugins||[],o.o];let l=a.i.split(".").join("_"),r={wasmUrl:`https://lf-douyin-pc-web.douyinstatic.com/obj/douyin-pc-web/super_resolution_${l}.wasm`,isSingle:!0,useDelayedSR:!0,maxWidth:1920,maxHeight:1920};t.srplugin=Object.assign({},r,null==n?void 0:n.SR.pluginConfig,null==n?void 0:n.srOption)}},576669:function(e,t,i){i.d(t,{FF:function(){return p},HN:function(){return y},Lz:function(){return b},MQ:function(){return C},Zl:function(){return N},iv:function(){return x},nQ:function(){return w},vf:function(){return A}});var n=i(520739),l=i(878389);i(779788),i(675373);var o=i(746864),a=i(14108),r=i(658065),s=i(496349),u=i(349135),d=i(231755);let{COMMON_SEARCH_PARAMS:c,CHANNEL_PC_WEB:f}=s||{};function h(e){let{aweme_list:t,has_more:i,item_id_to_episode:n,status_code:l,cursor:o,log_pb:a}=e,r={};try{r=JSON.parse(n)}catch(e){}return{logPb:a&&JSON.stringify(a),itemIdToEpisode:r,statusCode:l||0,hasMore:i,cursor:o,data:(0,u.TN)({awemeList:t||[],logPb:a&&JSON.stringify(a)})||[]}}function v(e){let{aweme_list:t,has_more:i,status_code:n,max_cursor:l,log_pb:o}=e;return{logPb:o&&JSON.stringify(o),statusCode:n||0,hasMore:i,cursor:l,data:(0,u.TN)({awemeList:t||[],logPb:o&&JSON.stringify(o)})||[]}}function m(e){let{mix_infos:t,has_more:i,status_code:n,cursor:l,total:o,log_pb:a}=e;return{statusCode:n,hasMore:i,cursor:l,total:o,logPb:a&&JSON.stringify(a),data:(0,u.NR)(t||[])}}function g(e){let{extra:t,logId:i,log_pb:n,status_code:l,status_msg:o}=e,a="";try{a=JSON.stringify(n)}catch(e){}return{extra:t,logId:i,logPb:a,statusCode:l,statusMsg:o}}function _(e){let{extra:t,logId:i,log_pb:n,status_code:l,status_msg:o}=e,a="";try{a=JSON.stringify(n)}catch(e){}return{extra:t,logId:i,logPb:a,statusCode:l,statusMsg:o}}async function p(e){let{mixId:t,cursor:i,count:o=12,mixScene:a}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=await (0,d.U2)("/aweme/v1/web/mix/aweme/",(0,l._)((0,n._)({},c),{mix_id:t,cursor:Math.max(i,0),count:o,mix_scene:a}),{errorTags:{mixId:t}},void 0,r,{}),f=(0,u.RL)(s,h);return(null==f?void 0:f.data)&&f.data.forEach(e=>{e.logPb=f.logPb}),f}async function y(e){let{uid:t,cursor:i=0,count:o=12,listScene:a}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=await (0,d.U2)("/aweme/v1/web/mix/list/",(0,l._)((0,n._)({},c),{sec_user_id:t,req_from:f,cursor:i,count:o,list_scene:a}),{errorTags:{uid:t}},void 0,r,{});return(0,u.RL)(s,m)}function w(e,t,i){var n,l,s,u;let{currentEpisode:d}=(null==i?void 0:null===(n=i.seriesInfo)||void 0===n?void 0:n.seriesId)?null==i?void 0:i.seriesInfo:(null==i?void 0:i.mixInfo)||{},{data:c,currentEpisode:f}=(null==i?void 0:null===(l=i.seriesInfo)||void 0===l?void 0:l.seriesId)?t:e||{};if(f!==d)return!1;if(null==c?void 0:c.length){for(let e=0;e<c.length;e++)if((null===(s=c[e])||void 0===s?void 0:s.mixInfo.currentEpisode)===f&&(null==c?void 0:null===(u=c[e+1])||void 0===u?void 0:u.awemeId)){let t=null==c?void 0:c[e+1];return{awemeId:null==t?void 0:t.awemeId,url:(null==t?void 0:t.awemeType)===o.e.Note?(0,a.Wr)(null==t?void 0:t.awemeId,`previous_page=${(0,r.yW)()||""}`):(0,a.$N)(null==t?void 0:t.awemeId,`previous_page=${(0,r.yW)()||""}`),img:null==t?void 0:t.video.cover,desc:`第${null==t?void 0:t.mixInfo.currentEpisode}集 | ${null==t?void 0:t.desc}`}}}return!1}async function x(e){let{mixId:t,totalEpisode:i,currentEpisode:n,count:l}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Math.max(Math.min(n-1,i-l),0),{statusCode:r,data:s,hasMore:u,cursor:d,logPb:c}=await p({mixId:t,cursor:a,count:l},o);return{mixId:t,statusCode:r,data:s,currentEpisode:n,hasMore:u,cursor:0===r?d:a,logPb:c}}function S(e){let{mix_info:t,status_code:i,log_pb:n}=e;return{mixInfo:(0,u.BH)(t),statusCode:i,logPb:n}}async function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:i}=e,o=await (0,d.U2)("/aweme/v1/web/mix/detail/",(0,l._)((0,n._)({},c),{mix_id:i,req_from:f}),{},void 0,t,{});return(0,u.RL)(o,S)}async function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:i,action:o}=e,a=await (0,d.U2)("/aweme/v1/web/mix/collect/",(0,l._)((0,n._)({},c),{mix_id:i,action:o}),{},void 0,t,{});return(0,u.RL)(a,g)}async function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{mixId:i,episode:o,awemeId:a,scene:r}=e,s=await (0,d.U2)("/aweme/v1/web/mix/watch/record/",(0,l._)((0,n._)({},c),{mix_id:i,episode:o,item_id:a,scene:r}),{},void 0,t,{});return(0,u.RL)(s,_)}async function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{albumId:i,cursor:o,count:a=12,pullType:r=2}=e,s=await (0,d.U2)("/aweme/v1/web/minor/album/items/",(0,l._)((0,n._)({},c),{album_id:i,count:a,pull_type:r,cursor:o}),{},void 0,t,{});return(0,u.RL)(s,v)}},340290:function(e,t,i){i.d(t,{Ts:function(){return c},WW:function(){return h},bJ:function(){return f}});var n=i(520739),l=i(878389);i(779788),i(675373),i(209955);var o=i(496349),a=i(349135),r=i(231755),s=i(913807);let{COMMON_SEARCH_PARAMS:u}=o;function d(e){let{aweme_list:t=[],status_code:i,has_more:n,log_pb:l}=e;return{logPb:l&&JSON.stringify(l),statusCode:i,hasMore:n,awemeList:(0,a.TN)({awemeList:t,logPb:l&&JSON.stringify(l)})}}let c="/aweme/v1/web/aweme/related/";async function f(e){let{awemeId:t,count:i=6,filterGids:o="",seoFlag:f=0,subChannelId:h=0,refreshIndex:v}=e,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,g=await (0,r.U2)(c,(0,l._)((0,n._)({},u),{aweme_id:t,count:i,filterGids:o,awemePcRecRawData:(0,s.getAwemePcRecRawData)(m),sub_channel_id:h,"Seo-Flag":f,refresh_index:v}),{errorTags:{awemeId:t}},void 0,m,{}),_=(0,a.RL)(g,d);return _.awemeList&&_.awemeList.forEach(e=>{e.logPb=_.logPb}),_}async function h(e){let{awemeId:t,count:i=1}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{status_code:a,aweme_id:d,desc:c,duration:f,cover:h,extra:v}=await (0,r.U2)("/aweme/v1/web/related/video/lite",(0,l._)((0,n._)({},u),{aweme_id:t,count:i,awemePcRecRawData:(0,s.getAwemePcRecRawData)(o,{is_related_hover:1}),channel:"channel_pc_web"}),{errorTags:{awemeId:t}},void 0,o,{});if(a)throw Error();return{awemeId:d,title:c,duration:f,cover:null==h?void 0:h[0],debugInfo:JSON.parse(v||"null")}}},254457:function(e,t,i){var n=i(520739),l=i(878389),o=i(563097),a=i(88648);let r=(0,a.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,l._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,fill:"none",ref:t},e),{children:(0,o.jsx)("path",{d:"M4 1l5 5-5 5",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})));t.Z=r},875784:function(e,t,i){var n=i(520739),l=i(878389),o=i(563097),a=i(88648);let r=(0,a.forwardRef)((e,t)=>(0,o.jsxs)("svg",(0,l._)((0,n._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,o.jsx)("rect",{x:5,y:6,width:8,height:2,rx:1,fill:"#fff",fillOpacity:".9"}),(0,o.jsx)("path",{d:"M5 12a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1z",fill:"#fff",fillOpacity:".9"}),(0,o.jsx)("rect",{x:5,y:16,width:7,height:2,rx:1,fill:"#fff",fillOpacity:".9"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.293 17.793a1 1 0 0 0 1.414 0l2.586-2.586c.63-.63.184-1.707-.707-1.707H18V7a1 1 0 1 0-2 0v6.5h-1.586c-.89 0-1.337 1.077-.707 1.707l2.586 2.586z",fill:"#fff",fillOpacity:".9"})]})));t.Z=r},423780:function(e,t,i){var n=i(520739),l=i(878389),o=i(563097),a=i(88648);let r=(0,a.forwardRef)((e,t)=>(0,o.jsxs)("svg",(0,l._)((0,n._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,o.jsx)("rect",{x:5,y:6,width:7,height:2,rx:1,fill:"#fff",fillOpacity:".9"}),(0,o.jsx)("path",{d:"M5 12a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1z",fill:"#fff",fillOpacity:".9"}),(0,o.jsx)("rect",{x:5,y:16,width:8.125,height:2,rx:1,fill:"#fff",fillOpacity:".9"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.707 6.207a1 1 0 0 0-1.414 0l-2.586 2.586c-.63.63-.184 1.707.707 1.707H16V17a1 1 0 1 0 2 0v-6.5h1.586c.89 0 1.337-1.077.707-1.707l-2.586-2.586z",fill:"#fff",fillOpacity:".9"})]})));t.Z=r},792076:function(e,t,i){var n=i(520739),l=i(878389),o=i(563097),a=i(88648);let r=(0,a.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,l._)((0,n._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.476 6.22a1 1 0 0 0 0 1.561l2.4 1.92A1 1 0 0 0 9.5 8.918V8H14a4 4 0 0 1 4 4v1a1 1 0 1 0 2 0v-1a6 6 0 0 0-6-6H9.5v-.92a1 1 0 0 0-1.625-.78L5.476 6.22zm12.548 10l-2.4-1.92a1 1 0 0 0-1.624.78V16h-4a4 4 0 0 1-4-4v-1a1 1 0 1 0-2 0v1a6 6 0 0 0 6 6h4v.92a1 1 0 0 0 1.625.78l2.399-1.919a1 1 0 0 0 0-1.562z",fill:"#fff",fillOpacity:".9"})})));t.Z=r},960103:function(e,t,i){var n=i(520739),l=i(878389),o=i(563097),a=i(88648);let r=(0,a.forwardRef)((e,t)=>(0,o.jsxs)("svg",(0,l._)((0,n._)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,o.jsxs)("g",{filter:"url(#livephoto_svg__filter0_d_5004_10518)",fill:"#fff",clipPath:"url(#livephoto_svg__clip0_5004_10518)",children:[(0,o.jsx)("path",{d:"M6.438 11.25a.438.438 0 1 0-.876 0 .438.438 0 0 0 .875 0zM8.415 10.687a.437.437 0 1 0-.812.327.437.437 0 0 0 .812-.327zM4.162 10.448a.438.438 0 1 0-.342.805.438.438 0 0 0 .342-.805zM10.022 9.403a.438.438 0 1 0-.619.619.438.438 0 0 0 .619-.619zM2.597 9.403a.438.438 0 1 0-.619.619.438.438 0 0 0 .619-.619zM11.253 8.18a.438.438 0 1 0-.805-.342.438.438 0 0 0 .805.342zM1.552 7.838a.438.438 0 1 0-.805.342.438.438 0 0 0 .805-.342zM11.688 6a.438.438 0 1 0-.876 0 .438.438 0 0 0 .876 0zM1.188 6a.438.438 0 1 0-.876 0 .438.438 0 0 0 .875 0zM11.256 3.827a.437.437 0 1 0-.811.328.437.437 0 0 0 .811-.328zM1.32 3.588a.438.438 0 1 0-.341.806.438.438 0 0 0 .342-.806zM10.022 1.978a.438.438 0 1 0-.619.62.438.438 0 0 0 .619-.62zM2.597 1.978a.438.438 0 1 0-.619.62.438.438 0 0 0 .619-.62zM8.18.747a.437.437 0 1 0-.342.805.437.437 0 0 0 .342-.805zM4.397.986a.438.438 0 1 0-.812.328.438.438 0 0 0 .812-.328zM6.438.75a.438.438 0 1 0-.876 0 .438.438 0 0 0 .875 0z"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.14 6a1.86 1.86 0 1 1 3.72 0 1.86 1.86 0 0 1-3.72 0zM6 5.234a.766.766 0 1 0 0 1.532.766.766 0 0 0 0-1.532z"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.063 6a3.938 3.938 0 1 1 7.875 0 3.938 3.938 0 0 1-7.876 0zM6 2.937a3.063 3.063 0 1 0 0 6.126 3.063 3.063 0 0 0 0-6.126z"})]}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("filter",{id:"livephoto_svg__filter0_d_5004_10518",x:"-.688",y:"-.688",width:13.375,height:13.375,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{}),(0,o.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,o.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0"}),(0,o.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5004_10518"}),(0,o.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5004_10518",result:"shape"})]}),(0,o.jsx)("clipPath",{id:"livephoto_svg__clip0_5004_10518",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h12v12H0z"})})]})]})));t.Z=r},234216:function(e,t,i){var n=i(520739),l=i(878389),o=i(563097),a=i(88648);let r=(0,a.forwardRef)((e,t)=>(0,o.jsxs)("svg",(0,l._)((0,n._)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,o.jsx)("path",{d:"M1.455 0C.65 0 0 .651 0 1.455V8c0 .803.651 1.455 1.455 1.455H8c.803 0 1.455-.652 1.455-1.455V1.455C9.455.65 8.803 0 8 0H1.455z",fill:"#fff"}),(0,o.jsx)("path",{d:"M4 12a1.455 1.455 0 0 1-1.455-1.454h5.819a2.182 2.182 0 0 0 2.181-2.182V2.545C11.35 2.545 12 3.197 12 4v5.09A2.909 2.909 0 0 1 9.09 12H4z",fill:"#fff"})]})));t.Z=r},655109:function(e,t,i){var n=i(520739),l=i(878389),o=i(563097),a=i(88648);let r=(0,a.forwardRef)((e,t)=>(0,o.jsxs)("svg",(0,l._)((0,n._)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,o.jsx)("path",{d:"M.678 3.845a.778.778 0 0 1 0-1.367L4.662.22a1.707 1.707 0 0 1 1.676 0l3.984 2.258a.778.778 0 0 1 0 1.367L6.338 6.103a1.707 1.707 0 0 1-1.676 0L.678 3.845z",fill:"#fff"}),(0,o.jsx)("path",{d:"M.076 5.273a.562.562 0 0 1 .753-.188l4.112 2.331c.345.195.773.195 1.118 0l4.112-2.33a.562.562 0 0 1 .753.187.518.518 0 0 1-.195.724l-4.112 2.33c-.69.39-1.545.39-2.234 0L.27 5.997a.518.518 0 0 1-.195-.724z",fill:"#fff"}),(0,o.jsx)("path",{d:"M.83 7.465a.562.562 0 0 0-.754.187.518.518 0 0 0 .195.724l4.112 2.331c.69.39 1.545.39 2.234 0l4.112-2.33a.518.518 0 0 0 .195-.725.562.562 0 0 0-.753-.187l-4.112 2.33a1.138 1.138 0 0 1-1.118 0L.83 7.466z",fill:"#fff"})]})));t.Z=r},937173:function(e,t,i){var n=i(520739),l=i(878389),o=i(563097),a=i(88648);let r=(0,a.forwardRef)((e,t)=>(0,o.jsxs)("svg",(0,l._)((0,n._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,o.jsx)("g",{filter:"url(#series_svg__filter0_d_1599_82712)",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.09 2.49l9.505 5.515A5.2 5.2 0 0 0 6.457 2h-3.58c-.344 0-.643.2-.787.49zm9.165 6.719L9.077 7.945l-6.95 4.033a.877.877 0 0 0 .75.422h3.58a5.201 5.201 0 0 0 4.798-3.191zM2 10.65l3.066-1.78V5.618L2 3.838v6.813z",fill:"#fff"})}),(0,o.jsx)("defs",{children:(0,o.jsxs)("filter",{id:"series_svg__filter0_d_1599_82712",x:1,y:1,width:11.657,height:12.4,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{}),(0,o.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,o.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.7 0"}),(0,o.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1599_82712"}),(0,o.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_1599_82712",result:"shape"})]})})]})));t.Z=r},857631:function(e){e.exports=JSON.parse('{"v":"5.6.10","fr":25,"ip":0,"op":24,"w":48,"h":48,"nm":"live_search","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[36,26.781,0],"ix":2},"a":{"a":0,"k":[0.625,2.781,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,8.531],[0.625,15]],"c":false}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,-8.969],[0.625,15]],"c":false}]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":12,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,-8.969],[0.625,15]],"c":false}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,8.531],[0.625,15]],"c":false}]},{"t":24}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":24,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24,26.781,0],"ix":2},"a":{"a":0,"k":[0.625,2.781,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-6,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,-8.969],[0.625,15]],"c":false}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,8.531],[0.625,15]],"c":false}]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":6,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,8.531],[0.625,15]],"c":false}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,-8.969],[0.625,15]],"c":false}]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":18,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,-8.969],[0.625,15]],"c":false}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,8.531],[0.625,15]],"c":false}]},{"t":30}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-6,"op":25,"st":-6,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[12,26.781,0],"ix":2},"a":{"a":0,"k":[0.625,2.781,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,-8.969],[0.625,15]],"c":false}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,8.531],[0.625,15]],"c":false}]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":12,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,8.531],[0.625,15]],"c":false}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0.625,-8.969],[0.625,15]],"c":false}]},{"t":24}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":24,"st":0,"bm":0}],"markers":[]}')}}]);