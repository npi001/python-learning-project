"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["81021"],{103104:function(e,t,n){n.d(t,{z:function(){return o}});var s=n(520739),i=n(563097);n(88648);var a=n(326673),r=n(713097),l=n.n(r);let o=e=>{let{size:t="normal",type:n="primary",children:r,autoFixed:o=!0,className:c,width:d,style:u,theme:p="solid",disabled:f=!1,newStyle:h=!1,onClick:m}=e,x=l()(a.default.button,a.default[t],a.default[n],a.default[p],{[a.default.fixed]:!o,[a.default.newStyle]:h},c);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("button",{type:"button",disabled:f,onClick:m,className:x,style:(0,s._)({width:d&&`${d}px`},u),children:r})})}},598754:function(e,t,n){n.d(t,{u:function(){return m}}),n(874386);var s=n(563097),i=n(88648),a=n(309931),r=n(735636),l=n(713097),o=n.n(l),c=n(928826);n(311771);var d=n(54251),u=n(767548),p={default:1,1:"default",custom:2,2:"custom"};let f=!!("undefined"!=typeof window&&window.document&&window.document.createElement),h=e=>{var t,n,s,i,a;if(!f)return null;let r=document.createElement("div"),l=(null===(t=document)||void 0===t?void 0:t.fullscreenElement)||(null===(n=document)||void 0===n?void 0:n.msFullscreenElement)||(null===(s=document)||void 0===s?void 0:s.mozFullScreenElement)||(null===(i=document)||void 0===i?void 0:i.webkitFullscreenElement)||null;return l?l.appendChild(r):null===(a=null!=e?e:document.body)||void 0===a||a.appendChild(r),r},m=i.forwardRef((e,t)=>{let{className:n,modalClassName:l,onCancel:m,onOk:x,type:_="default",size:v="default",mask:g=!0,isHide:j=!0,closable:w=!0,title:E,message:C,okText:N,cancelText:k,maskClosable:y=!0,children:S,mountEl:b}=e,[I,A]=(0,i.useState)(j),R=(0,i.useRef)(null),B=(0,i.useRef)(I);B.current=I;let L=(0,i.useRef)(),M=(0,i.useRef)(),T=(0,i.useRef)(!1);!T.current&&f&&(M.current=h(b),L.current=M.current.parentNode,T.current=!0),(0,i.useImperativeHandle)(t,()=>M.current),(0,i.useEffect)(()=>(null===M.current.parentNode&&null!==L.current&&L.current.appendChild(M.current),()=>{var e,t;null===(t=M.current)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(M.current)}),[]),(0,i.useEffect)(()=>{A(j)},[j]);let F=async e=>{if(!!y&&R.current===e.target)await A(!0),null==m||m(e,B.current)},O=async e=>{await A(!0),null==m||m(e,B.current)},D=async e=>{await A(!0),null==x||x(e,B.current)};return M.current?a.createPortal((0,s.jsx)(r.Z,{in:!I,classNames:"modal-mask",timeout:{enter:400,exit:150},appear:!0,children:(0,s.jsx)("div",{ref:R,onClick:e=>F(e),className:o()(c.default.maskLayerWap,{[c.default.maskLayer]:g,[c.default.visible]:I,[c.default.mountEl]:!!b},l),children:(0,s.jsxs)("div",{className:o()("modal-pannel",{mountEl:!!b}),children:[(0,s.jsxs)("div",{className:o()(c.default.modalWap,c.default[v],{[c.default.defaultType]:2===p[_]},n),children:[(0,s.jsx)(u.Z,{onClick:e=>O(e),className:o()(c.default.closeIcon,{[c.default.closeIconHide]:!w}),src:d.Z,width:13,height:13,viewBox:"0 0 13 13"}),(0,s.jsx)("h2",{className:o()(c.default.title),children:E}),(0,s.jsx)("p",{className:o()(c.default.message),children:C}),(0,s.jsxs)("div",{className:o()(c.default.btn,{[c.default.btnHide]:!N&&!k}),children:[(0,s.jsx)("a",{href:"#",onClick:e=>D(e),className:o()(c.default.okText,{[c.default.okBtnHide]:!N}),children:N}),(0,s.jsx)("a",{href:"#",onClick:e=>O(e),className:o()(c.default.okText,c.default.cancelText,{[c.default.cancelBtnHide]:!k}),children:k})]})]}),(0,s.jsx)("div",{className:o()(c.default.modalWap,c.default[v],{[c.default.customType]:1===p[_]},n),children:S})]})})}),M.current):null})},316684:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var s=n("520739"),i=n("878389");n("874386"),n("527785");var a=n("563097"),r=n("88648"),l=n("713097"),o=n.n(l),c=n("702726"),d=n("477667"),u=n("32167"),p={wrapper:"G2IdRd7N",header:"acfJHVFx",headerContent:"WFR2nAqB",title:"CsHl4WHR",recommendTag:"VziUD36d",warningIcon:"Cr7AHNWI",closeIcon:"FPD67hF0",content:"EStlMhQg",list:"HKO0xgKf",chapterAbstract:"MpmPRgoY",item:"npgJCnD2",itemActive:"DnDYhT2m",overHundredTime:"mvdo1WVz",itemHeader:"hFZ217ag",itemTime:"McB9zXIU",paly_animation_wrap:"xEkPl7xy",play_loading:"wIphgWY5",playloadingAnimation:"MLr4mq9W",playing_loading:"_AyR8KJN",playingAnimation:"Sd8hjO18",itemIcon:"Ge59hPAI",itemTitle:"fQx33EPI",displayIcon:"jimXarFY",itemDetail:"ESbuidIZ",itemDetailText:"qpDu5nGx",itemPoint:"dWUy_CfP",pointDesc:"MzJZk4_Z",pointDetail:"jfNFVORl",pointInteraction:"da7brb41",pointSvg:"lFu8ChlQ",interactionIcon:"HGspxbxj",activeIcon:"yzwQAn8w",fromAi:"xpKVxrE_",fromAiLine:"TSutJq5i",fromAiText:"_iGxtnaD",adaptive:"ujHT1r43"},f=n("602394");let h=e=>{let t=Math.floor(Number(e));if(isNaN(t))return"";let n=Math.floor(t/60);return[String(n).padStart(2,"0"),String(t-60*n).padStart(2,"0")].join(":")},m=e=>{let{player:t,awemeInfo:n,selfUid:a}=e,l=(0,r.useRef)(null),{list:o=[],chapterAbstract:d,isPoint:p}=n.chapterInfo,m=()=>{var e,t;return{enter_from:(0,u.mo)(),enter_from_merge:(0,u.vM)(),group_id:null==n?void 0:n.awemeId,author_id:null==n?void 0:null===(e=n.authorInfo)||void 0===e?void 0:e.uid,chapter_num:o.length,is_with_video_summary:d?1:0,panel_has_chapter_summary:o.length>0?1:0,is_author:a===(null==n?void 0:null===(t=n.authorInfo)||void 0===t?void 0:t.uid)?1:0,is_knowledge_point:p?1:0}},x=e=>{f.F.info(e,t.innerContainer)},_=e=>{let t=h(e.timestamp/1e3);x(`已定位至 ${t}`)};return{onItemClick:e=>{t.seek(e.timestamp/1e3,"play"),c.logInstance.sendLog("chapterContentClick",(0,i._)((0,s._)({},m()),{button_name:"chapter",chapter_knowledge_point:Array.isArray(e.points)&&e.points.length>0?1:0,chapter_index_click:o.findIndex(t=>t.timestamp===e.timestamp)+1})),clearTimeout(l.current),_(e)},getCommonParams:m}};n("250440"),n("413806"),n("826893");var x=n("473677");let _=(0,r.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,i._)((0,s._)({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.113 4.279c-.31.016-.597.167-.786.414-.216.284-.216.803-.216 1.842v8.296c0 1.063 0 1.594.22 1.88.192.248.485.398.798.41.36.012.793-.297 1.657-.916l5.925-4.244c.66-.474.991-.71 1.105-1.002.1-.255.097-.538-.008-.791-.12-.289-.456-.518-1.127-.977L8.755 5.14c-.857-.587-1.286-.88-1.642-.861zm.831 2.527v7.746l5.534-3.963-5.534-3.783z",fill:"#fff"})}))),v=(0,r.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,i._)((0,s._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("g",{filter:"url(#down_svg__filter0_d_594_5064)",clipPath:"url(#down_svg__clip0_594_5064)",children:(0,a.jsx)("path",{d:"M6.358 13.392c1.046 0 1.861-.84 1.97-1.823.04-.364.099-.78.184-1.22.12-.615.633-1.077 1.292-1.197h.34v-.03h1.116c.84 0 1.52-.68 1.519-1.52l-.005-4.45a1.4 1.4 0 0 0-1.4-1.399h-7.15a2.275 2.275 0 0 0-2.23 1.83L1.22 7.46a1.838 1.838 0 0 0 1.802 2.198h1.737c-.13.587-.196 1.267-.233 1.82-.071 1.072.8 1.915 1.832 1.915zm3.787-5.32V2.803h1.23a.35.35 0 0 1 .35.35l.004 4.45c0 .259-.21.47-.47.47h-1.114zm-1.05-5.269v5.465c-.795.308-1.436.967-1.613 1.88a16.15 16.15 0 0 0-.198 1.306c-.056.509-.471.888-.926.888-.468 0-.812-.372-.784-.795.055-.827.169-1.73.373-2.21a.525.525 0 0 0-.484-.73H3.022a.787.787 0 0 1-.773-.942l.774-3.876a1.225 1.225 0 0 1 1.201-.986h4.87z",fill:"#fff",fillOpacity:".9",shapeRendering:"crispEdges"})}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"down_svg__filter0_d_594_5064",x:".184",y:1.753,width:13.595,height:13.638,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dy:1}),(0,a.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,a.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,a.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_594_5064"}),(0,a.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_594_5064",result:"shape"})]}),(0,a.jsx)("clipPath",{id:"down_svg__clip0_594_5064",children:(0,a.jsx)("path",{fill:"#fff",transform:"rotate(180 7 7)",d:"M0 0h14v14H0z"})})]})]}))),g=(0,r.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,i._)((0,s._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("g",{filter:"url(#down_active_svg__filter0_d_594_5075)",clipPath:"url(#down_active_svg__clip0_594_5075)",children:(0,a.jsx)("path",{d:"M6.357 13.392c-1.03 0-1.902-.843-1.83-1.915.036-.553.103-1.233.232-1.82H3.02A1.838 1.838 0 0 1 1.22 7.458l.773-3.876a2.276 2.276 0 0 1 2.232-1.83H9.2v7.629a1.464 1.464 0 0 0-.687.966c-.086.44-.145.857-.185 1.22-.108.983-.924 1.824-1.97 1.824zM10.2 1.752h1.174a1.4 1.4 0 0 1 1.4 1.4l.004 4.45c.001.839-.679 1.52-1.518 1.52H10.2v-7.37z",fill:"#fff"})}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"down_active_svg__filter0_d_594_5075",x:".184",y:1.753,width:13.595,height:13.639,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dy:1}),(0,a.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,a.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,a.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_594_5075"}),(0,a.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_594_5075",result:"shape"})]}),(0,a.jsx)("clipPath",{id:"down_active_svg__clip0_594_5075",children:(0,a.jsx)("path",{fill:"#fff",transform:"rotate(180 7 7)",d:"M0 0h14v14H0z"})})]})]}))),j=(0,r.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,i._)((0,s._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("g",{filter:"url(#up_svg__filter0_d_594_5029)",clipPath:"url(#up_svg__clip0_594_5029)",children:(0,a.jsx)("path",{d:"M7.642.608c-1.046 0-1.861.84-1.97 1.823-.04.364-.099.78-.184 1.22-.12.615-.633 1.077-1.292 1.197h-.34v.03H2.74c-.84 0-1.52.68-1.519 1.52l.005 4.45a1.4 1.4 0 0 0 1.4 1.399h7.15a2.275 2.275 0 0 0 2.23-1.83l.774-3.876a1.837 1.837 0 0 0-1.802-2.198H9.241c.13-.587.196-1.267.233-1.82.071-1.072-.8-1.915-1.832-1.915zm-3.787 5.32v5.269h-1.23a.35.35 0 0 1-.35-.35l-.004-4.45c0-.259.21-.47.47-.47h1.114zm1.05 5.269V5.732c.795-.308 1.436-.967 1.613-1.88.092-.473.155-.919.198-1.306.056-.509.471-.888.926-.888.468 0 .812.372.784.795-.055.827-.169 1.73-.373 2.21a.525.525 0 0 0 .484.73h2.441c.497 0 .87.455.773.942l-.774 3.876a1.225 1.225 0 0 1-1.201.986h-4.87z",fill:"#fff",fillOpacity:".9",shapeRendering:"crispEdges"})}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"up_svg__filter0_d_594_5029",x:".221",y:".608",width:13.595,height:13.638,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dy:1}),(0,a.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,a.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,a.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_594_5029"}),(0,a.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_594_5029",result:"shape"})]}),(0,a.jsx)("clipPath",{id:"up_svg__clip0_594_5029",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h14v14H0z"})})]})]}))),w=(0,r.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,i._)((0,s._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("g",{filter:"url(#up_active_svg__filter0_d_594_5048)",clipPath:"url(#up_active_svg__clip0_594_5048)",children:(0,a.jsx)("path",{d:"M7.643.608c1.03 0 1.902.843 1.83 1.915-.036.553-.103 1.233-.232 1.82h1.738c1.159 0 2.028 1.061 1.801 2.198l-.773 3.876a2.276 2.276 0 0 1-2.232 1.83H4v-7.4h.196c.659-.119 1.172-.58 1.291-1.195.086-.44.145-.857.185-1.22.108-.983.924-1.824 1.97-1.824zM3 12.248h-.374a1.4 1.4 0 0 1-1.4-1.4l-.004-4.45c-.001-.839.679-1.52 1.518-1.52H3v7.37z",fill:"#fff"})}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"up_active_svg__filter0_d_594_5048",x:".222",y:".608",width:13.595,height:13.639,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dy:1}),(0,a.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,a.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,a.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_594_5048"}),(0,a.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_594_5048",result:"shape"})]}),(0,a.jsx)("clipPath",{id:"up_active_svg__clip0_594_5048",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h14v14H0z"})})]})]}))),E=(0,r.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,i._)((0,s._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M4 7l5.76 5.76L15.52 7",stroke:"#fff",strokeOpacity:".5",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))),C=(0,r.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,i._)((0,s._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M16 13l-5.76-5.76L4.48 13",stroke:"#fff",strokeOpacity:".5",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})}))),N=e=>{var t,n;let{item:l,isActive:d,overHundredTime:u,onItemClick:f,onClose:m,scrollIntoView:N,isPoint:k,commonLogParams:y,openModal:S,isDefaultOpen:b,isAuthor:I}=e,A=!k&&!!l.detail,R=null!==(n=null===(t=l.points)||void 0===t?void 0:t.filter(e=>"1"===String(e.type)))&&void 0!==n?n:[],B=k&&R.length>0,L=(0,r.useRef)(null),[M,T]=(0,r.useState)(b),[F,O]=(0,r.useState)([]),[D,H]=(0,r.useState)([]),P=(e,t)=>{e.stopPropagation(),F.includes(t)?O(F.filter(e=>e!==t)):(O([...F,t]),H(D.filter(e=>e!==t)),c.logInstance.sendLog("chapterContentClick",(0,i._)((0,s._)({},y),{chapter_knowledge_point:1,knowledge_index_click:t+1,button_name:"knowledge_like"})))},z=(e,t)=>{e.stopPropagation(),D.includes(t)?H(D.filter(e=>e!==t)):(H([...D,t]),O(F.filter(e=>e!==t)),S(t),c.logInstance.sendLog("chapterContentClick",(0,i._)((0,s._)({},y),{chapter_knowledge_point:1,knowledge_index_click:t+1,button_name:"knowledge_dislike"})))},Z=e=>{e.stopPropagation(),c.logInstance.sendLog("chapterContentClick",(0,i._)((0,s._)({},y),{chapter_knowledge_point:1,button_name:M?"close":"open"})),T(!M)};return(0,r.useEffect)(()=>{if(d&&L.current){let e=L.current.getBoundingClientRect();N(L.current.offsetTop,e.height)}},[d,L,N]),(0,r.useEffect)(()=>{T(b)},[b]),(0,a.jsxs)("div",{className:o()(p.item,{[p.itemActive]:d,[p.noDetail]:!A,[p.overHundredTime]:u}),onClick:()=>{T(!0),f(l)},ref:L,children:[(0,a.jsxs)("div",{className:p.itemHeader,children:[d?(0,a.jsxs)("div",{className:p.paly_animation_wrap,children:[(0,a.jsx)("div",{className:p.play_loading}),(0,a.jsx)("div",{className:p.playing_loading})]}):(0,a.jsx)("div",{className:p.paly_animation_wrap,children:(0,a.jsx)(x.Z,{src:_,width:22,height:22,viewBox:"0 0 22 22",className:p.itemIcon,onClick:m})}),(0,a.jsx)("div",{className:p.itemTime,children:h(l.timestamp/1e3)}),(0,a.jsx)("div",{className:p.itemTitle,children:l.desc}),B&&(0,a.jsx)(x.Z,{src:M?C:E,width:20,height:20,viewBox:"0 0 20 20",className:p.displayIcon,onClick:e=>Z(e)})]}),A&&(0,a.jsx)("div",{className:p.itemDetail,children:(0,a.jsx)("p",{className:p.itemDetailText,children:l.detail})}),B&&M&&R.map((e,t)=>(0,a.jsxs)("div",{className:p.itemPoint,children:[(0,a.jsx)("div",{className:p.pointDesc,children:e.desc}),(0,a.jsx)("div",{className:p.pointDetail,children:e.detail.split("\n").map((e,t)=>(0,a.jsx)("p",{style:{marginTop:0===t?0:8},children:e},t))}),I?null:(0,a.jsxs)("div",{className:p.pointInteraction,children:[(0,a.jsx)("div",{className:o()(p.pointSvg,{[p.activeIcon]:F.includes(t)}),onClick:e=>P(e,t),children:(0,a.jsx)(x.Z,{src:F.includes(t)?w:j,width:14,height:14,viewBox:"0 0 14 14",className:p.interactionIcon})}),(0,a.jsx)("div",{className:o()(p.pointSvg,{[p.activeIcon]:D.includes(t)}),onClick:e=>z(e,t),children:(0,a.jsx)(x.Z,{src:D.includes(t)?g:v,width:14,height:14,viewBox:"0 0 14 14",className:p.interactionIcon})})]})]},t))]})};var k=n("598754"),y=n("103104"),S=n("516599");let b=[{value:"1",label:"和视频不一致"},{value:"2",label:"有错别字"},{value:"3",label:"内容太少"},{value:"4",label:"内容太多"},{value:"5",label:"写得太模糊"},{value:"6",label:"语句不通畅"},{value:"7",label:"对我没帮助"},{value:"8",label:"本章节未提及"}];var I="w6UibfGb",A="l0L8Q_x0",R="W33vPjDF",B="cLs4mmqu",L="UqHY0jMt",M="HSB0bFgT",T="ooPEq3pU",F="CpksupO6",O="GBEAesYo",D="e4ucN7zU",H="TacFOcOX",P="plCdILBS",z=n.p+"media/cry.cb4ddfc6f0420a87.png";let Z=(0,r.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,i._)((0,s._)({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M19.59 9.59a.833.833 0 1 0-1.18-1.18L14 12.822l-4.41-4.41a.833.833 0 1 0-1.18 1.178L12.822 14l-4.41 4.412a.833.833 0 1 0 1.178 1.178L14 15.18l4.41 4.41a.833.833 0 0 0 1.18-1.178L15.177 14l4.411-4.41z",fill:"var(--color-text-t3)"})}))),G=e=>{let{visible:t,onClose:n,logParams:l}=e,[d,u]=(0,r.useState)(""),[p,f]=(0,r.useState)([]),h=e=>{p.includes(e)?f(p.filter(t=>t!==e)):f([...p,e])};return(0,r.useEffect)(()=>{f([]),u(""),t&&c.logInstance.sendLog("chapterFeedbackShow",(0,i._)((0,s._)({},l),{message:b.map(e=>e.label).join(",")}))},[t,l]),(0,a.jsxs)(k.u,{className:I,type:"custom",isHide:!t,onCancel:n,children:[(0,a.jsx)(x.Z,{src:Z,className:A,viewBox:"0 0 28 28",onClick:()=>{c.logInstance.sendLog("chapterFeedbackClick",(0,i._)((0,s._)({},l),{button_name:"quit"})),n()}}),(0,a.jsxs)("div",{className:R,children:[(0,a.jsx)("img",{src:z,alt:"cry",className:B}),"很抱歉给你带来不好的感受"]}),(0,a.jsx)("div",{className:L,children:b.map((e,t)=>(0,a.jsx)("div",{className:o()(M,{[T]:p.includes(e.value)}),style:{marginRight:t%2==0?8:0},onClick:()=>{h(e.value)},children:e.label},e.value))}),(0,a.jsxs)("div",{className:F,children:[(0,a.jsx)("textarea",{id:"point-feedback-textarea",maxLength:200,value:d,onInput:e=>{u(e.target.value)},placeholder:"如果你还有补充的话，非常感谢。你的反馈是宝藏，我们将努力优化不负你的期待。",className:O,onKeyDown:e=>{e.stopPropagation()}}),(0,a.jsxs)("div",{className:o()(D,{[H]:d.length>200}),children:[d.length,"/",200]})]}),(0,a.jsx)(y.z,{type:"primary",className:P,onClick:()=>{S.F.info("感谢你的反馈"),c.logInstance.sendLog("chapterFeedbackClick",(0,i._)((0,s._)({},l),{button_name:"submit"})),c.logInstance.sendLog("chapterFeedbackResult",(0,i._)((0,s._)({},l),{message:p.map(e=>{var t;return`${e}:${null===(t=b.find(t=>t.value===e))||void 0===t?void 0:t.label}`}).join(","),input_text:d})),n()},disabled:0===p.length&&!d,children:"提交"})]})},U=(0,r.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,i._)((0,s._)({width:12,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("g",{clipPath:"url(#warning_circle_svg__clip0_631_1613)",filter:"url(#warning_circle_svg__filter0_d_631_1613)",children:(0,a.jsx)("g",{filter:"url(#warning_circle_svg__filter1_d_631_1613)",children:(0,a.jsx)("path",{d:"M6 1a5 5 0 1 1 0 10A5 5 0 0 1 6 1zm0 1a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm0 5.5a.55.55 0 1 1 0 1.1.55.55 0 0 1 0-1.1zm0-4c.275 0 .497.225.493.5l-.037 2.55a.456.456 0 0 1-.912 0L5.507 4A.493.493 0 0 1 6 3.5z",fill:"#fff",fillOpacity:".75",shapeRendering:"crispEdges"})})}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"warning_circle_svg__filter0_d_631_1613",x:-1,y:0,width:14,height:14,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dy:1}),(0,a.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,a.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,a.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_631_1613"}),(0,a.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_631_1613",result:"shape"})]}),(0,a.jsxs)("filter",{id:"warning_circle_svg__filter1_d_631_1613",x:0,y:1,width:12,height:12,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dy:1}),(0,a.jsx)("feGaussianBlur",{stdDeviation:".5"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,a.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,a.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_631_1613"}),(0,a.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_631_1613",result:"shape"})]}),(0,a.jsx)("clipPath",{id:"warning_circle_svg__clip0_631_1613",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h12v12H0z"})})]})]})));var W="nCIiBY97",V="HbwoyxDH";let q=()=>(0,a.jsx)("div",{className:W,children:(0,a.jsx)("span",{className:V,children:"如需修改或关闭，请去精选App"})});var Q=e=>{let{isShow:t,player:n,awemeInfo:l,chapterProgress:f,onClose:h,selfUid:_,minSize:v=!1}=e,{list:g=[],chapterAbstract:j,isPoint:w=!1,useRecommendChapter:E,showAiTag:C}=l.chapterInfo,[k,y]=(0,r.useState)([]),[S,b]=(0,r.useState)(-1),[I,A]=(0,r.useState)(!1),R=(0,r.useRef)(null),B=(0,r.useRef)(null),L=(0,r.useRef)(),M=(0,r.useRef)(!1),[T,F]=(0,r.useState)(!1),[O,D]=(0,r.useState)(!1),[H,P]=(0,r.useState)(-1),z=(0,r.useRef)(null),Z=(0,r.useRef)({}),W=l.authorInfo.uid===_,{onItemClick:V,getCommonParams:Q}=m({player:n,awemeInfo:l,selfUid:_}),Y=(0,r.useMemo)(()=>{var e;let t=null===(e=g[g.length-1])||void 0===e?void 0:e.timestamp;return!!t&&t>6e6},[g]),$=(e,n)=>{if(t&&B.current){let t=B.current.getBoundingClientRect().height,s=e+n<B.current.scrollTop,i=B.current.scrollTop+t<e,a=B.current.scrollHeight-t;(s||i)&&(M.current=!0,B.current.scrollTo(0,Math.min(a,e-t/2)),M.current=!1)}},J=(0,r.useMemo)(()=>!!W||450>=g.reduce((e,t)=>e+=(Array.isArray(t.points)?t.points:[]).reduce((e,t)=>("1"===String(t.type)&&(e+=t.desc.length+t.detail.length),e),0),0),[W,g]);return(0,r.useEffect)(()=>{t?(c.logInstance.sendLog("chapterContentShow",(0,i._)((0,s._)({},Q()),{chapter_status:J||f>=0?"expand":"fold"})),L.current=Date.now(),P(f)):L.current&&c.logInstance.sendLog("chapterContentExit",(0,i._)((0,s._)({},Q()),{duration:Date.now()-L.current}))},[t]),(0,r.useEffect)(()=>{A(!0),y(g),b(f);let e=setTimeout(()=>{A(!1)},300);return()=>{clearTimeout(e)}},[g]),(0,r.useEffect)(()=>{if(B.current){let e=()=>{if(!M.current)c.logInstance.sendLog("chapterContentSlide",Q())};return B.current.addEventListener("scrollend",e),()=>{var t;null===(t=B.current)||void 0===t||t.removeEventListener("scrollend",e)}}},[B]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:o()(p.wrapper,{[p.adaptive]:!v}),ref:R,children:[(0,a.jsxs)("div",{className:p.header,children:[(0,a.jsxs)("div",{className:p.headerContent,children:[(0,a.jsx)("div",{className:p.title,children:"章节要点"}),W&&E&&(0,a.jsxs)("div",{className:p.recommendTag,onClick:()=>{D(!0),clearTimeout(z.current),c.logInstance.sendLog("chapterAiDetailsPageClick",{is_knowledge_point:w?1:0,is_auto_chapter:1,enter_from:(0,u.mo)(),group_id:null==l?void 0:l.awemeId,button_name:"平台为你智能生成"}),z.current=setTimeout(()=>{D(!1)},3e3)},children:[(0,a.jsx)(x.Z,{src:U,className:p.warningIcon,width:12,height:12,viewBox:"0 0 12 13"}),"平台为你智能生成"]})]}),(0,a.jsx)(x.Z,{src:d.Z,width:36,height:36,viewBox:"0 0 36 36",className:p.closeIcon,onClick:h})]}),(0,a.jsxs)("div",{className:p.content,ref:B,style:{display:I?"none":void 0},children:[j&&(0,a.jsx)("div",{className:p.chapterAbstract,children:j}),(0,a.jsx)("div",{className:p.list,children:k.map((e,t)=>(0,a.jsx)(N,{item:e,isActive:t===f,overHundredTime:Y,onItemClick:V,onClose:h,scrollIntoView:$,isPoint:w,commonLogParams:Q(),openModal:e=>{Z.current={group_id:null==l?void 0:l.awemeId,enter_from:(0,u.mo)(),chapter_index_click:t+1,knowledge_index_click:e+1},F(!0)},isDefaultOpen:J||t===H,isAuthor:W},t))}),!W&&C&&(0,a.jsxs)("div",{className:p.fromAi,children:[(0,a.jsx)("div",{className:p.fromAiLine}),(0,a.jsx)("div",{className:p.fromAiText,children:"内容由AI生成"}),(0,a.jsx)("div",{className:p.fromAiLine})]})]}),O&&(0,a.jsx)(q,{})]}),w&&(0,a.jsx)(G,{visible:T,onClose:()=>F(!1),logParams:Z.current})]})}},54251:function(e,t,n){var s=n(520739),i=n(878389),a=n(563097),r=n(88648);let l=(0,r.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,i._)((0,s._)({width:13,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M12.601 12.601a1.362 1.362 0 0 1-1.927 0L6.5 8.427 2.326 12.6a1.362 1.362 0 0 1-1.927-1.927L4.573 6.5.4 2.326A1.362 1.362 0 1 1 2.326.399L6.5 4.573 10.674.4a1.362 1.362 0 1 1 1.927 1.927L8.427 6.5l4.174 4.174a1.362 1.362 0 0 1 0 1.927z",fill:"#2F3035",fillOpacity:".9"})})));t.Z=l},334168:function(e,t,n){function s(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function i(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=s(e.className,t):e.setAttribute("class",s(e.className&&e.className.baseVal||"",t))}n.d(t,{Z:function(){return i}})},735636:function(e,t,n){n.d(t,{Z:function(){return p}});var s=n("378407"),i=n("80415"),a=n("196764"),r=n("334168"),l=n("88648"),o=n("357437"),c=n("20642"),d=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,r.Z)(e,t)})},u=function(e){function t(){for(var t,n=arguments.length,s=Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var s=t.resolveArguments(e,n),i=s[0],a=s[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var s=t.resolveArguments(e,n),i=s[0],a=s[1];t.addClass(i,a?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var s=t.resolveArguments(e,n),i=s[0],a=s[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,s="string"==typeof n,i=s&&n?n+"-":"",a=s?""+i+e:n[e],r=s?a+"-active":n[e+"Active"],l=s?a+"-done":n[e+"Done"];return{baseClassName:a,activeClassName:r,doneClassName:l}},t}(0,a.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var s,i,a=this.getClassNames(t)[n+"ClassName"],r=this.getClassNames("enter").doneClassName;if("appear"===t&&"done"===n&&r&&(a+=" "+r),"active"===n&&e&&(0,c.Q)(e),a){;this.appliedClasses[t][n]=a,s=e,i=a,s&&i&&i.split(" ").forEach(function(e){return function(e,t){if(e.classList)e.classList.add(t);else{var n,s;if(n=e,s=t,n.classList?!(!!s&&n.classList.contains(s)):-1===(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+s+" "))"string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t)}}(s,e)})}},n.removeClasses=function(e,t){var n=this.appliedClasses[t],s=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},s&&d(e,s),i&&d(e,i),a&&d(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return l.createElement(o.ZP,(0,s.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);u.defaultProps={classNames:""},u.propTypes={};var p=u},357437:function(e,t,n){n.d(t,{Ix:function(){return h},cn:function(){return f},d0:function(){return p}});var s=n(80415),i=n(196764),a=n(88648),r=n(309931),l=n(704002),o=n(392699),c=n(20642),d="unmounted",u="exited",p="entering",f="entered",h="exiting",m=function(e){function t(t,n){s=e.call(this,t,n)||this;var s,i,a=n&&!n.isMounting?t.enter:t.appear;return s.appearStatus=null,t.in?a?(i=u,s.appearStatus=p):i=f:i=t.unmountOnExit||t.mountOnEnter?d:u,s.state={status:i},s.nextCallback=null,s}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:u}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==f&&(t=p):(n===p||n===f)&&(t=h)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,s=this.props.timeout;return e=t=n=s,null!=s&&"number"!=typeof s&&(e=s.exit,t=s.enter,n=void 0!==s.appear?s.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===p){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&(0,c.Q)(n)}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:d})},n.performEnter=function(e){var t=this,n=this.props.enter,s=this.context?this.context.isMounting:e,i=this.props.nodeRef?[s]:[r.findDOMNode(this),s],a=i[0],o=i[1],c=this.getTimeouts(),d=s?c.appear:c.enter;if(!e&&!n||l.Z.disabled){this.safeSetState({status:f},function(){t.props.onEntered(a)});return}this.props.onEnter(a,o),this.safeSetState({status:p},function(){t.props.onEntering(a,o),t.onTransitionEnd(d,function(){t.safeSetState({status:f},function(){t.props.onEntered(a,o)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),s=this.props.nodeRef?void 0:r.findDOMNode(this);if(!t||l.Z.disabled){this.safeSetState({status:u},function(){e.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:h},function(){e.props.onExiting(s),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:u},function(){e.props.onExited(s)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(s){n&&(n=!1,t.nextCallback=null,e(s))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),s=null==e&&!this.props.addEndListener;if(!n||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],l=i[1];this.props.addEndListener(a,l)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,s.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(o.Z.Provider,{value:null},"function"==typeof n?n(e,i):a.cloneElement(a.Children.only(n),i))},t}(a.Component);function x(){}m.contextType=o.Z,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:x,onEntering:x,onEntered:x,onExit:x,onExiting:x,onExited:x},m.UNMOUNTED=d,m.EXITED=u,m.ENTERING=p,m.ENTERED=f,m.EXITING=h,t.ZP=m},392699:function(e,t,n){var s=n(88648);t.Z=s.createContext(null)},704002:function(e,t){t.Z={disabled:!1}},20642:function(e,t,n){n.d(t,{Q:function(){return s}});var s=function(e){return e.scrollTop}}}]);