(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["24276"],{553173:function(e,t,l){"use strict";l.d(t,{n:function(){return ek},m:function(){return eS}});var n=l("563097"),a=l("88648"),o=l("309931"),i=l("782442");l("874386");var r=l("227630"),s=l("417992"),d=l("520739");l("268917");var u=l("90837"),c=l("544933"),v=new c.h({report_web:{eventName:"report_web",params:{report_type:"",object_id:"",enter_method:""}}}),p=l("717670"),h=l("216554"),f=l("713097"),m=l.n(f);let g=e=>{let{selected:t,disable:l,label:o,className:i,onClick:r,value:s}=e,d=a.useCallback(()=>{r&&r(s,!t)},[s,t,r]);return(0,n.jsxs)("div",{className:m()(h.default.radioContainer,i),children:[(0,n.jsx)("div",{onClick:d,className:m()(h.default.radio,{[h.default.selected]:t,[h.default.disable]:l})}),o&&(0,n.jsx)("span",{className:h.default.label,children:o})]})};var x=l("794706");let _=e=>{let{notResize:t=!1,value:l,onChange:o,placeholder:i,maxLength:r,width:s,className:d,minHeight:u}=e,c=a.useRef(null),[v,p]=a.useState(),h=a.useCallback(e=>{let t=e.target.value;t.length<=r&&o(t)},[o]);return(0,n.jsxs)("div",{style:{width:s},className:m()(x.default.textareaContainer,d),children:[(0,n.jsx)("textarea",{value:l,ref:c,style:{minHeight:u,height:v},onChange:h,onKeyDown:e=>e.stopPropagation(),placeholder:i,className:x.default.textarea}),void 0!==r&&(0,n.jsxs)("div",{className:m()(x.default.count,{[x.default.overflow]:l.length>r}),children:[l.length,"/",r]})]})};var w=l("428584");function j(e){let{size:t="normal",type:l="primary",children:a,autoFixed:o=!0,className:i,width:r,style:s,theme:u="solid",disabled:c=!1,onClick:v=function(){}}=e;return(0,n.jsx)("button",{type:"button",disabled:c,onClick:v,className:m()(w.default.button,w.default[t],w.default[l],w.default[u],{[w.default.fixed]:!o},i),style:(0,d._)({width:r&&`${r}px`},s),children:a})}var b=e=>{let{reasons:t,type:l,object_id:o,isLive:i=!1,onLiveReport:r=()=>void 0,logParams:s,toast:c}=e,[h,f]=a.useState(""),[m,x]=a.useState(""),w=a.useMemo(()=>{let e={};for(let l=0;l<t.length;l++){let n=t[l];e[l%3]?e[l%3].push(n):e[l%3]=[n]}return e},[t]),b=a.useCallback(e=>{x(e)},[]),y=a.useCallback(()=>{!i&&(v.sendLog("report_web",(0,d._)({report_type:l,object_id:o},s)),null==e||e.onClose()),i&&(r(m,h),null==e||e.onClose()),c?c("提交成功",null==e?void 0:e.toastParent):p.F.info("提交成功",null==e?void 0:e.toastParent)},[m,h,r]);return(0,n.jsxs)("div",{className:u.default.reportContainer,"data-e2e":"report-container",children:[(0,n.jsxs)("div",{className:u.default.reasonList,children:[(0,n.jsx)("div",{className:u.default.col,children:(w[0]||[]).map(e=>(0,n.jsx)(g,{selected:m===e.value,label:e.label,value:e.value,className:u.default.reasonItem,onClick:b},e.value))}),(0,n.jsx)("div",{className:u.default.col,children:(w[1]||[]).map(e=>(0,n.jsx)(g,{selected:m===e.value,label:e.label,value:e.value,className:u.default.reasonItem,onClick:b},e.value))}),(0,n.jsx)("div",{className:u.default.col,children:(w[2]||[]).map(e=>(0,n.jsx)(g,{selected:m===e.value,label:e.label,value:e.value,className:u.default.reasonItem,onClick:b},e.value))})]}),(0,n.jsx)(_,{notResize:!0,maxLength:140,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:h,onChange:e=>f(e),className:u.default.reportDesc}),(0,n.jsx)(j,{className:u.default.submit,onClick:y,disabled:!m,children:"提交"})]})};let y=["色情低俗","违法犯罪","造谣传谣","垃圾广告","售卖假货","非原创内容","未成年人相关","其他"],C=["色情低俗","违法犯罪","造谣传谣","垃圾广告","骚扰","人身攻击","时政不实信息"],N=["色情低俗","违法犯罪","造谣传谣","垃圾广告","骚扰","人身攻击","时政不实信息"],I=["色情低俗","违法犯罪","造谣传谣","垃圾广告","售卖假货","未成年相关","头像、昵称、签名、背景图违规"],S=["违法违禁","淫秽色情","抽烟饮酒","欺诈/售假","未成年人相关","危险行为","录像/盗播","声音违规","诱导刷礼","引导线下转账","侮辱谩骂","其他"];var L=e=>{let[t,l]=(0,a.useState)(!0),[d,u]=a.useState(r.default.zoomIn),c=a.useCallback(()=>{u(r.default.zoomOut),setTimeout(()=>{var t;l(!1),o.unmountComponentAtNode(e.portalRef),e.portalRef.remove(),null===(t=e.onClose)||void 0===t||t.call(e)},300)},[t]);return(0,a.useEffect)(()=>()=>{i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!1)},[]),(0,n.jsx)(s.u,{title:e.title,visible:t,className:d,onCancel:c,children:(0,n.jsx)(b,{toast:null==e?void 0:e.toast,toastParent:e.toastParent,reasons:function(e){switch(e){case"video":return y.map(e=>({label:e,value:e}));case"comment":return C.map(e=>({label:e,value:e}));case"user":return I.map(e=>({label:e,value:e}));case"live":return S.map(e=>({label:e,value:e}));case"danmaku":return N.map(e=>({label:e,value:e}));default:return[]}}(e.type),onClose:c,object_id:e.object_id,type:e.type,isLive:!0,onLiveReport:e.onLiveReport,logParams:e.logParams})})};l("250440"),l("779788");var k=l("254127"),M=l("506467"),E=l("34644"),R=l("108095"),P=l("557329"),T=l("477667");let{ArrowUp:A,ArrowDown:W,W:U,S:O,Escape:z,N:D}=M.bf,F=e=>{let{visible:t,children:l,title:o,footer:i,className:r,footerClassName:s,onCancel:d,showClose:u=!0}=e,c=a.useRef(),v=e=>{e.stopPropagation()};return(a.useEffect(()=>{let e="report/ui/Modal";return(0,E.o)({disableKey:[W,A,U,O,z,D].map(e=>e.code),pauseGlobalShortcut:!0},e),()=>{(0,E.m)(e)}},[]),(0,a.useEffect)(()=>{var e,t,l;return null===(e=c.current)||void 0===e||e.setAttribute("tabindex","0"),null===(t=c.current)||void 0===t||t.addEventListener("DOMMouseScroll",v),null===(l=c.current)||void 0===l||l.focus(),()=>{var e;null===(e=c.current)||void 0===e||e.removeEventListener("DOMMouseScroll",v)}},[t]),t)?(0,n.jsx)("div",{className:P.default.mask,ref:c,onWheel:v,children:(0,n.jsxs)("div",{className:m()(P.default.modalContainer,r),"data-e2e":"report-container",children:[u&&(0,n.jsx)("div",{className:P.default.close,onClick:()=>{"function"==typeof d&&d(!1)},"data-e2e":"report-container-close",children:(0,n.jsx)(R.n,{width:36,height:36,src:T.Z})}),o&&(0,n.jsx)("div",{className:P.default.title,children:o}),(0,n.jsx)("div",{className:P.default.content,children:l}),(0,n.jsx)("div",{className:m()(P.default.footer,s),children:i})]})}):null};var B=l("743333"),G=l("656837");let Z=e=>{let{text:t,required:l=!1,className:a}=e;return(0,n.jsxs)("div",{className:m()(G.default.container,a),children:[(0,n.jsx)("div",{className:G.default.text,children:t}),l&&(0,n.jsx)("div",{className:G.default.icon,children:"*"})]})};var V=l("335976"),q=l("137425");let H=e=>{let{objectId:t,schemaType:l=1}=e,[o,i]=(0,a.useState)();return(0,a.useEffect)(()=>{let n=`schema_type=${l}&object_id=${t}`;(0,q.ep)(e.objectId,{schema:n}).then(e=>{!e||(null==e?void 0:e.statusCode)?p.F.info("服务器打瞌睡了，请稍后再试"):i(null==e?void 0:e.qrcodeUrl)})},[t,l]),(0,n.jsx)("img",{className:e.className,src:o})};var J=l("818439");let K=e=>{let{value:t="",onChange:l,placeholder:o,maxLength:i,width:r,className:s,minHeight:d}=e,u=a.useRef(null),c=a.useCallback(e=>{let t=e.target.value;t.length<=i&&l(t)},[l]);return(0,n.jsxs)("div",{style:{width:r},className:m()(J.default.textareaContainer,s),children:[(0,n.jsx)("textarea",{value:t,ref:u,style:{minHeight:d},onChange:c,onKeyDown:e=>e.stopPropagation(),placeholder:o,className:J.default.textarea}),void 0!==i&&(0,n.jsxs)("div",{className:m()(J.default.count,{[J.default.overflow]:t.length>i}),children:[t.length,"/",i]})]})};var $=l("906381"),Q=l("863822"),Y=l("661540");let X=e=>{let{value:t,className:l,onClick:a}=e;return(0,n.jsxs)("div",{className:m()(Q.default.container,l),onClick:a,children:[(0,n.jsx)("div",{className:Q.default.text,children:t}),(0,n.jsx)(R.n,{className:Q.default.icon,src:Y.Z,width:24,height:24})]})};var ee=l("392188"),et=l("878389");let el=(0,a.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,et._)((0,d._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{d:"M20.566 9.364a1.929 1.929 0 0 1 2.727 2.727l-5.637 5.637 5.637 5.637a1.928 1.928 0 1 1-2.727 2.727l-6.985-6.985-.016-.015a1.929 1.929 0 0 1 0-2.728l7-7z",fill:"#0A0C20"})})));var en=e=>{let{visible:t,defaultValue:l=[],onCancel:o,onOk:i}=e,[r,s]=(0,a.useState)(l),{ReportEntry:d}=window;return d?(0,n.jsx)(F,{title:(0,n.jsxs)("div",{className:ee.default.title,children:[(0,n.jsx)(R.n,{className:ee.default.icon,src:el,width:24,height:24,onClick:()=>o()}),(0,n.jsx)("div",{children:"选择聊天证据"})]}),visible:t,showClose:!1,onCancel:()=>o(),footer:(0,n.jsx)(B.z,{style:{width:"100%"},onClick:()=>i(r),disabled:!r.length,children:"确定"}),children:(0,n.jsx)("div",{className:ee.default.messageContainer,children:(0,n.jsx)(d,{onMessageSelect:e=>s(e),selectedMessage:r})})}):null},ea=l("599961");l("675373");var eo={VIDEO:101,101:"VIDEO",COMMENT:102,102:"COMMENT",USER:103,103:"USER",IMAGE:126,126:"IMAGE",IM:106,106:"IM",IM_GROUP:115,115:"IM_GROUP"};let ei=e=>{var t,l,o,i,r;let{reportScene:s,objectId:d,reasonList:u,reasonMap:c,onChange:v,abtestData:p}=e,[h,f]=(0,a.useState)(),[m,g]=(0,a.useState)(),[x,_]=(0,a.useState)(),[w,j]=(0,a.useState)(),[b,y]=(0,a.useState)(),C=!!(null==p?void 0:p.openQinquan)&&60448===h;return(0,a.useEffect)(()=>{let e=!!C||(s===eo.USER?m:h&&60448!==h);v({reasonCode:m||h,reportLabels:x,reportDesc:w,imgList:b,validate:e})},[h,m,x,w,p]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"举报原因",required:!0}),(0,n.jsx)(V.E,{column:3,optionList:u,value:h,onChange:e=>{f(e),g(void 0),_(void 0)}}),60448===h?C?(0,n.jsx)("div",{className:ea.default.jumpText,children:"侵权问题需要详细举证，提交后进入批量侵权举报页面"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:ea.default.infringement,children:["侵权问题需要详细举证，可扫描下方抖音码前往",(0,n.jsx)("br",{}),"「抖音APP」进行侵权举报"]}),(0,n.jsx)(H,{className:ea.default.douyinCode,objectId:d,schemaType:s===eo.USER?4:1})]}):(0,n.jsxs)(n.Fragment,{children:[(null===(l=c.get(h))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型",required:s===eo.USER}),(0,n.jsx)(V.E,{column:3,optionList:null===(o=c.get(h))||void 0===o?void 0:o.children,value:m,onChange:g})]}),(null===(r=c.get(h))||void 0===r?void 0:null===(i=r.report_labels)||void 0===i?void 0:i.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型"}),(0,n.jsx)(V.E,{column:3,optionList:c.get(h).report_labels,value:x,onChange:_})]}),(0,n.jsx)(Z,{text:"举报描述"}),(0,n.jsx)(K,{maxLength:200,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:w,onChange:j}),(0,n.jsxs)("div",{className:ea.default.uploadContainer,children:[(0,n.jsx)($.U,{value:b,onChange:y}),(0,n.jsx)("div",{className:ea.default.uploadTips,children:"每张小于 10M，支持JPG、PNG格式，最多上传4张"})]})]})]})},er=e=>{var t,l,o,i,r;let{reasonList:s,reasonMap:d,onChange:u}=e,[c,v]=(0,a.useState)(),[p,h]=(0,a.useState)(),[f,m]=(0,a.useState)(),[g,x]=(0,a.useState)(),[_,w]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=c&&(null==g?void 0:g.length);u({reasonCode:p||c,reportLabels:f,chatList:g,validate:e})},[c,p,f,g]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"举报原因",required:!0}),(0,n.jsx)(V.E,{column:3,optionList:s,value:c,onChange:e=>{v(e),h(void 0),m(void 0)}}),(null===(l=d.get(c))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型"}),(0,n.jsx)(V.E,{column:3,optionList:null===(o=d.get(c))||void 0===o?void 0:o.children,value:p,onChange:h})]}),(null===(r=d.get(c))||void 0===r?void 0:null===(i=r.report_labels)||void 0===i?void 0:i.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型"}),(0,n.jsx)(V.E,{column:3,optionList:d.get(c).report_labels,value:f,onChange:m})]}),(0,n.jsx)(Z,{text:"聊天证据",required:!0}),(0,n.jsx)(X,{value:(null==g?void 0:g.length)?`已添加${g.length}条聊天证据`:"添加聊天证据",onClick:()=>w(!0)}),(0,n.jsx)(en,{visible:_,defaultValue:g,onCancel:()=>w(!1),onOk:e=>{x(e),w(!1)}})]})},es=e=>{var t,l,o,i,r;let{videoId:s,reasonList:d,reasonMap:u,onChange:c}=e,[v,p]=(0,a.useState)(),[h,f]=(0,a.useState)(),[m,g]=(0,a.useState)();return(0,a.useEffect)(()=>{let e=v&&60466!==v;c({reasonCode:h||v,reportLabels:m,validate:e})},[v,h,m]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"举报原因",required:!0}),(0,n.jsx)(V.E,{column:3,optionList:d,value:v,onChange:e=>{p(e),f(void 0),g(void 0)}}),60466===v?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:ea.default.infringement,children:["侵权问题需要详细举证，可扫描下方抖音码前往",(0,n.jsx)("br",{}),"「抖音APP」进行侵权举报"]}),(0,n.jsx)(H,{className:ea.default.douyinCode,objectId:s})]}):(0,n.jsxs)(n.Fragment,{children:[(null===(l=u.get(v))||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型"}),(0,n.jsx)(V.E,{column:3,optionList:null===(o=u.get(v))||void 0===o?void 0:o.children,value:h,onChange:f})]}),(null===(r=u.get(v))||void 0===r?void 0:null===(i=r.report_labels)||void 0===i?void 0:i.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{text:"请选择具体的类型"}),(0,n.jsx)(V.E,{column:3,optionList:u.get(v).report_labels,value:m,onChange:g})]})]})]})};var ed=e=>{let{reportScene:t,reasonData:l,dataSource:a,onValuesChange:o,abtestData:i}=e,{object_id:r,video_id:s}=a,{reasonList:d=[],reasonMap:u=new Map}=l;return(0,n.jsxs)("div",{children:[[eo.VIDEO,eo.IMAGE,eo.USER].includes(t)&&(0,n.jsx)(ei,{reportScene:t,objectId:r,reasonList:d,reasonMap:u,onChange:o,abtestData:i}),[eo.IM,eo.IM_GROUP].includes(t)&&(0,n.jsx)(er,{reasonList:d,reasonMap:u,onChange:o}),[eo.COMMENT].includes(t)&&(0,n.jsx)(es,{videoId:s,reasonList:d,reasonMap:u,onChange:o})]})},eu=l("301701"),ec=l("231755"),ev=l("637005"),ep=l("257177"),eh=new c.h({enter_report_edit_page:{eventName:"enter_report_edit_page",params:{object_type:"",object_id:"",enter_from:""}},report_submit:{eventName:"report_submit",params:{object_type:"",object_id:"",enter_from:"",follow_status:"",reason_type:"",report_labels:""}},report_comment:{eventName:"report_comment",params:{comment_panel_position:"",comment_category:"",object_type:"",object_id:"",comment_id:"",enter_from:"",follow_status:"",reason_type:"",report_labels:""}}}),ef=l("941569"),em=e=>{let{pipelineId:t,dataSource:l,logParams:r,onReport:s,toast:u,abtestData:c}=e,{object_id:v,owner_id:h,owner_sec_id:f,user_id:g,comment_with_emoji:x,enter_from:_,con_short_id:w}=l,[j,b]=(0,a.useState)(!0),[y,C]=a.useState(k.default.zoomIn),[N,I]=(0,a.useState)(),[S,L]=(0,a.useState)(),M=!!(null==c?void 0:c.openQinquan)&&S&&60448===S.reasonCode,E=a.useCallback(()=>{C(k.default.zoomOut),setTimeout(()=>{var t;b(!1),o.unmountComponentAtNode(e.portalRef),e.portalRef.remove(),null===(t=e.onClose)||void 0===t||t.call(e)},300)},[e.onClose]);(0,a.useEffect)(()=>{let e=ev.listen(ev.EVENT.hideModal,E);return()=>{e()}},[E]),(0,a.useEffect)(()=>()=>{i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!1)},[]),(0,eu.O)({onChange:e=>{let{isFullscreen:t}=e;t&&E()}});let R=(e,t)=>u?null==u?void 0:u(e,t):p.F.info(e,t),P=async()=>{let e,t,l;let n=await (0,ef.b)(f),{reasonCode:a,reportLabels:o,reportDesc:i,imgList:u,chatList:c}=S,{reportScene:p,reasonData:m}=N;if(M){window.open("https://www.douyin.com/qinquan/report?enter_from=pc_douyin","_blank"),E();return}if(o){let t=new Map;m.reasonMap.get(a).report_labels.forEach(e=>t.set(e.value,e.label)),e=t.get(o)}(null==u?void 0:u.length)&&(t=null==u?void 0:u.map(e=>e.Uri).join(",")),(null==c?void 0:c.length)&&(l=c.join(","));let x={follow_status:null==n?void 0:n.follow_status,con_short_id:w,im_message_list:l,source:_},j={app_id:6383,object_id:v,owner_id:h,user_id:g,reported_id:g,report_type:p,reason:a,report_labels:e,report_desc:i,uri:t,image_uri_list:t,msg_list:[eo.IM,eo.IM_GROUP].includes(p)?l:void 0,report_data:JSON.stringify(x)};(0,ec.v_)("/aweme/v1/report/submit/",{},j).then(t=>{switch(!0){case 2159===t.status_code:R("你已举报过该内容，请稍后再试");break;case 0===t.status_code:eh.sendLog("report_submit",(0,d._)({object_type:N.reportScene,object_id:v,enter_from:_,follow_status:null==n?void 0:n.follow_status,reason_type:a,report_labels:e},r)),(null==N?void 0:N.reportScene)===102&&eh.sendLog("report_comment",(0,d._)({object_type:N.reportScene,object_id:v,enter_from:_,follow_status:null==n?void 0:n.follow_status,reason_type:a,report_labels:e},r)),R("提交成功，我们将尽快受理");break;default:R("提交失败，请稍后再试")}E(),null==s||s(0===t.status_code)}).catch(()=>R("服务器打瞌睡了，请稍后再试"))};return((0,a.useEffect)(()=>{var l;(l=t,fetch(`https://lf-mortise.douyinstatic.com/obj/mortise-online/online/${l}_3364`).then(e=>e.json()).then(e=>{var t;let{reportScene:l,reasonCode:n}=e.pluginData;let a=Array.isArray(t=n)?t[0].list.map(e=>{let{reason_code:t,next_reasons:l,report_labels:n}=e.data;return{label:e.text,value:t,children:Array.isArray(l)?l[0].list.map(e=>({label:e.text,value:e.data.reason_code})):void 0,report_labels:Array.isArray(n)?n.map(e=>({label:e.name,value:e.code})):void 0}}):[],o=new Map;return a.forEach(e=>{o.set(e.value,e)}),{reportScene:l,reasonData:{reasonList:a,reasonMap:o}}})).then(e=>{(0,ep.Z)(g),eh.sendLog("enter_report_edit_page",(0,d._)({object_type:e.reportScene,object_id:v,enter_from:_},r)),1===x&&e.reasonData.reasonList.push({label:"表情包侵权",value:60466}),I(e)}).catch(()=>R("服务器打瞌睡了，请稍后再试",null==e?void 0:e.toastParent))},[]),N&&l)?(0,n.jsx)(F,{title:e.title,visible:j,className:m()(y,M?k.default.jumpText:""),footerClassName:M?k.default.jumpTextFooter:"",onCancel:E,footer:(0,n.jsx)(B.z,{className:k.default.submit,onClick:P,disabled:!(null==S?void 0:S.validate),children:"提交"}),children:(0,n.jsx)(ed,{dataSource:l,reportScene:N.reportScene,reasonData:N.reasonData,onValuesChange:L,abtestData:c})}):null};l("602157"),l("927234");var eg=l("732992"),ex=l("510820"),e_=l("77758");let ew=e=>{let{value:t="",onChange:l,placeholder:a}=e;return(0,n.jsx)("input",{className:e_.default.container,placeholder:a,value:t,onChange:e=>l(e.target.value)})};var ej=l("983195"),eb=l("611421"),ey=l("110557");function eC(){return(0,n.jsxs)("svg",{className:eg.default.svg,viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M6.12852 1.14357C5.95738 0.680906 5.51668 0.351562 5 0.351562C4.48332 0.351562 4.04262 0.680906 3.87148 1.14357C2.4282 1.62362 1.38595 2.9984 1.38595 4.62081V5.837C1.38595 6.52216 1.19579 7.19354 0.837147 7.77455L0.11565 8.94342C-0.19778 9.45119 0.162759 10.1098 0.754132 10.1098H9.24587C9.83724 10.1098 10.1978 9.45119 9.88435 8.94342L9.16285 7.77455C8.80421 7.19354 8.61405 6.52216 8.61405 5.837V4.62081C8.61405 2.9984 7.5718 1.62361 6.12852 1.14357Z"}),(0,n.jsx)("path",{d:"M5 12.3969C4.07376 12.3969 3.27772 11.8324 2.92917 11.0247H7.07083C6.72228 11.8324 5.92624 12.3969 5 12.3969Z"})]})}let eN=e=>{var t,l,o,i;let{dataSource:r,onChange:s}=e,[d,u]=(0,a.useState)(),[c,v]=(0,a.useState)(),[p,h]=(0,a.useState)(),[f,m]=(0,a.useState)(),[g,x]=(0,a.useState)(),[_,w]=(0,a.useState)(),j=(0,a.useRef)(),b=(0,a.useRef)(),y=(0,a.useMemo)(()=>{let e={};return r.forEach(t=>{let{label:l,tips:n}=t;e[l]?e[l].children=e[l].children.concat(t):e[l]={name:l,tooltip:n,children:[t]}}),Object.values(e).map(e=>{let{name:t,tooltip:l,children:n}=e;return{name:t,tooltip:l,children:n.map(e=>{let{text:t,reason_type_id:l,sub_reason_list:n=[],toast:a}=e;return{label:t,value:l,children:n.map(e=>({label:e.text,value:e.reason_type_id})),extra:a}})}})},[r]);return(0,a.useEffect)(()=>{switch(!0){case(null==d?void 0:d.value)===void 0:case(null==d?void 0:d.value)===18&&!(null==_?void 0:_.length):case(null==d?void 0:d.value)===18&&!p:case(null==_?void 0:_.includes(1))&&!f:s({verified:!1});break;default:s({reasonData:d,subReasonData:c,desc:p,info:f,images:g,codes:_,verified:!0})}},[d,c,p,f,g,_,s]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:eg.default.titleBar,children:[(0,n.jsx)(eC,{}),(0,n.jsx)("div",{className:eg.default.title,children:"您的举报我们将尽快受理，核实后我们将第一时间告知受理结果，请尽量提交完整的举报描述及材料。"})]}),(0,n.jsx)(Z,{text:"举报原因",required:!0}),(0,n.jsx)(ey.o,{dataList:y,onChange:e=>{if(e.value!==(null==d?void 0:d.value))setTimeout(()=>{var t,l,n,a;(null==e?void 0:e.value)===18?null===(l=b.current)||void 0===l||null===(t=l.scrollIntoView)||void 0===t||t.call(l,{behavior:"smooth",block:"nearest"}):null===(a=j.current)||void 0===a||null===(n=a.scrollIntoView)||void 0===n||n.call(a,{behavior:"smooth",block:"nearest"})},0),v(void 0),w(void 0),u(e)},value:d}),(null==d?void 0:d.value)!==18&&(null==d?void 0:null===(t=d.children)||void 0===t?void 0:t.length)>0&&(0,n.jsxs)("div",{ref:j,children:[(0,n.jsx)(Z,{text:"请选择具体的举报类型（选填）"}),(0,n.jsx)(ey.D,{dataList:null==d?void 0:d.children,onChange:v,value:c})]}),(null==d?void 0:d.value)===18&&(null==d?void 0:null===(l=d.children)||void 0===l?void 0:l.length)>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:eg.default.divider}),(0,n.jsxs)("div",{className:eg.default.description,ref:b,children:["权利人请通过广告投诉平台",(0,n.jsxs)("a",{className:eg.default.link,href:"https://phoniex.toutiao.com/phoniex/index",target:"_blank",rel:"noreferrer",children:[" ","https://phoniex.toutiao.com/phoniex/index"," "]}),"进行投诉，同时上传具体材料（权利人身份证明、侵权内容及权利证明等）"]}),(0,n.jsx)(Z,{text:"举报类型（多选）",required:(null==d?void 0:d.value)===18}),(0,n.jsx)(ex.C,{optionList:null==d?void 0:d.children,value:_,onChange:w}),(0,n.jsx)(Z,{text:(null==_?void 0:null===(o=_.includes)||void 0===o?void 0:o.call(_,1))?"原作者信息":"原作者信息（选填）",required:null==_?void 0:null===(i=_.includes)||void 0===i?void 0:i.call(_,1)}),(0,n.jsx)(ew,{placeholder:"原创作者抖音名称、作品链接或其他信息",value:f,onChange:m})]}),(0,n.jsx)(Z,{text:(null==d?void 0:d.value)===18?"举报描述":"举报描述（选填）",required:(null==d?void 0:d.value)===18}),(0,n.jsx)(K,{maxLength:200,placeholder:"请详细描述举报原因，便于平台判断违规情况",minHeight:75,value:p,onChange:h}),(0,n.jsxs)("div",{className:eg.default.uploadContainer,children:[(0,n.jsx)($.U,{value:g,onChange:x}),(0,n.jsx)("div",{className:eg.default.uploadTips,children:"每张小于 10M，支持JPG、PNG格式，最多上传4张"})]})]})};var eI=e=>{let{title:t,onClose:l,portalRef:r,toastParent:s,extraInfo:d}=e,[u,c]=(0,a.useState)(!0),[v,h]=a.useState(eg.default.zoomIn),[f,m]=(0,a.useState)(),[g,x]=(0,a.useState)(),_=a.useCallback(()=>{h(eg.default.zoomOut),setTimeout(()=>{c(!1),o.unmountComponentAtNode(r),r.remove(),null==l||l()},300)},[l]);(0,a.useEffect)(()=>()=>{i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!1)},[]),(0,a.useEffect)(()=>{let e=ev.listen(ev.EVENT.hideModal,_);return()=>{null==e||e()}},[_]);let w=(0,a.useCallback)(e=>{p.F.info(e,s)},[s]),j=async()=>{let{user_id:e,log_extra:t,creative_id:l}=d,{reasonData:n,subReasonData:a,desc:o,info:i,images:r=[],codes:s=[]}=g,u={creative_id:l,log_extra:t,data:{user_id:e,report_type_id:n.value,report_type_name:n.label,report_pictures:r.map(e=>e.Uri).toString(),report_description:o,sub_reason_id:18===n.value?void 0:null==a?void 0:a.value,sub_reason_name:18===n.value?void 0:null==a?void 0:a.label,report_author_info:18===n.value?i:void 0,report_right_type:18===n.value?s.toString():void 0}};(0,eb.GA)(u).then(e=>{0===e.code?(w("操作成功，将严格审查广告内容"),_()):w("服务器打瞌睡了，请稍后再试")}).catch(()=>w("服务器打瞌睡了，请稍后再试"))};return(0,eu.O)({onChange:e=>{let{isFullscreen:t}=e;t&&_()}}),(0,a.useEffect)(()=>{(0,eb.iL)().then(e=>{(0,ep.Z)(null==d?void 0:d.user_id),m(e.data)}).catch(()=>w("服务器打瞌睡了，请稍后再试"))},[]),(0,n.jsx)(F,{title:t,visible:u,className:v,onCancel:_,footer:(0,n.jsx)(B.z,{className:eg.default.submit,onClick:j,disabled:!(null==g?void 0:g.verified),children:"提交"}),children:f?(0,n.jsx)(eN,{dataSource:f,onChange:x}):(0,n.jsx)(ej.g,{text:"加载中"})})};let eS=(e,t)=>{if(i.Le.getConfig(i.gI.IsAlreadyExsitReportModal))return;let{loginDispatch:l,userInfo:n,abtestData:a}=e;if((null==n?void 0:n.uid)||e.user_id||(null==e?void 0:e.isLive)||(null==e?void 0:e.isOrigin))(null==n?void 0:n.uid)&&(e.user_id=null==n?void 0:n.uid),eL(e,t);else{var o;(null===(o=window)||void 0===o?void 0:o.showAccount)&&window.showAccount({enterMethod:"report",success:n=>{l({type:"updateUserInfo"}),e.user_id=null==n?void 0:n.user_id,eL(e,t)}})}},eL=(e,t)=>{var l,a;if("object"!=typeof e)return;let r=()=>{i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!1),"function"==typeof e.onClose&&e.onClose()},s=(null==e?void 0:e.type)==="live",d=document.createElement("div"),u=document.getElementById("root"),c=(()=>{var e;if(t)return t;if(!s)return document.fullscreenElement||u;let l=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0]||document.fullscreenElement,n=document.querySelector(".modal-video-container");return l?l:(null===(e=i.Le.getConfig(i.gI.IsPageFullScreen))||void 0===e?void 0:e.type)?u:n?n:u})();if(!!c)if(c.appendChild(d),e.isOrigin)i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!0),null==e||null===(l=e.onShow)||void 0===l||l.call(e),o.render((0,n.jsx)(L,{toastParent:c,portalRef:d,title:e.title,type:e.type,object_id:e.object_id,logParams:e.logParams,onClose:r,onLiveReport:e.onLiveReport||(()=>void 0),toast:null==e?void 0:e.toast}),d);else{let{title:t,logParams:l,pipeline_id:s,object_id:u,owner_id:v,user_id:p,comment_with_emoji:h=0,enter_from:f,con_short_id:m,video_id:g,onReport:x,toast:_,owner_sec_id:w,abtestData:j}=e;i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!0),null==e||null===(a=e.onShow)||void 0===a||a.call(e),o.render((0,n.jsx)(em,{toastParent:c,portalRef:d,title:t,onClose:r,logParams:l,pipelineId:s,dataSource:{object_id:u,owner_id:v,user_id:p,comment_with_emoji:h,enter_from:f,con_short_id:m,video_id:g,owner_sec_id:w},onReport:x,toast:_,abtestData:j}),d)}},ek=(e,t)=>{if(i.Le.getConfig(i.gI.IsAlreadyExsitReportModal))return;let{loginDispatch:l,user_id:n,abtestData:a}=e;if(n)eM(e,t);else{var o;(null===(o=window)||void 0===o?void 0:o.showAccount)&&window.showAccount({enterMethod:"report",success:n=>{var a;l({type:"updateUserInfo"}),null==e||null===(a=e.onLoginSuccess)||void 0===a||a.call(e),e.user_id=null==n?void 0:n.user_id,eM(e,t)}})}},eM=(e,t)=>{let{creative_id:l,log_extra:a,user_id:r,title:s,onClose:d,onShow:u}=e,c=document.createElement("div"),v=document.getElementById("root");if(t)v=t,null==t||t.appendChild(c);else{var p;let e=document.getElementById("slideMode")||document.getElementsByClassName("xgplayer-fullscreen-parent")[0]||document.getElementsByClassName("isCssFullScreen")[0],t=document.querySelector(".modal-video-container");if((null===(p=i.Le.getConfig(i.gI.IsPageFullScreen))||void 0===p?void 0:p.type)||e)e&&(v=e),v.appendChild(c);else if(t)v=t,t.appendChild(c);else{let e=document.getElementById("root");null==e||e.appendChild(c)}}i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!0),null==u||u(),o.render((0,n.jsx)(eI,{toastParent:v,portalRef:c,title:s,onClose:()=>{i.Le.setConfig(i.gI.IsAlreadyExsitReportModal,!1),"function"==typeof d&&d()},extraInfo:{creative_id:l,log_extra:a,user_id:r}}),c)}},743333:function(e,t,l){"use strict";l.d(t,{z:function(){return s}});var n=l(520739),a=l(563097);l(88648);var o=l(713097),i=l.n(o),r=l(549419);function s(e){let{children:t,className:l,width:o,style:s,disabled:d=!1,onClick:u=function(){}}=e;return(0,a.jsx)("button",{type:"button",disabled:d,onClick:u,className:i()(r.default.button,l),style:(0,n._)({width:o&&`${o}px`},s),children:t})}},110557:function(e,t,l){"use strict";l.d(t,{D:function(){return u},o:function(){return c}});var n=l(563097),a=l(88648),o=l(115855),i=l(933380),r=l(265555);function s(e){return(0,n.jsxs)("svg",{className:e.className,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M6.31015 4.19993C6.30457 3.81502 6.61505 3.5 7 3.5C7.38495 3.5 7.69543 3.81502 7.68984 4.19993L7.63803 7.77116C7.63297 8.11992 7.3488 8.4 7 8.4C6.6512 8.4 6.36703 8.11992 6.36197 7.77116L6.31015 4.19993Z"}),(0,n.jsx)("path",{d:"M7 10.64C7.42526 10.64 7.77 10.2953 7.77 9.87C7.77 9.44474 7.42526 9.1 7 9.1C6.57474 9.1 6.23 9.44474 6.23 9.87C6.23 10.2953 6.57474 10.64 7 10.64Z"}),(0,n.jsx)("path",{d:"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM7 12.95C3.71391 12.95 1.05 10.2861 1.05 7C1.05 3.71391 3.71391 1.05 7 1.05C10.2861 1.05 12.95 3.71391 12.95 7C12.95 10.2861 10.2861 12.95 7 12.95Z"})]})}function d(e){let{text:t,tooltip:l}=e,r=(0,a.useRef)();return(0,n.jsxs)("div",{className:o.default.categoryTextContainer,children:[(0,n.jsx)("div",{className:o.default.categoryText,children:t}),l&&(0,n.jsx)(i.e,{text:l,type:"right",target:r.current,children:(0,n.jsx)("div",{className:o.default.iconContainer,ref:r,children:(0,n.jsx)(s,{className:o.default.alertCircle})})})]})}function u(e){let{dataList:t=[],value:l,onChange:a}=e;return(0,n.jsx)("div",{className:o.default.dataItemList,children:t.map(e=>(0,n.jsx)(r.Y,{className:o.default.dataItem,style:e.label.length>=7?{width:"calc(100% - 40px)"}:void 0,label:e.label,checked:(null==l?void 0:l.value)===e.value,value:e.value,onCheck:()=>a(e)},e.value))})}function c(e){let{dataList:t=[],value:l,onChange:a}=e;return(0,n.jsx)("div",{className:o.default.container,children:t.map(e=>{let{name:t,tooltip:i,children:r=[]}=e;return(0,n.jsxs)("div",{className:o.default.categoryItemList,children:[t&&(0,n.jsx)(d,{text:t,tooltip:i}),(0,n.jsx)(u,{dataList:r,value:l,onChange:a})]},t)})})}},368679:function(e,t,l){"use strict";l.d(t,{J:function(){return r}});var n=l(563097);l(88648);var a=l(765593),o=l(713097),i=l.n(o);let r=e=>{let{label:t,className:l,onSelect:o,value:r,style:s,selected:d}=e;return(0,n.jsxs)("div",{className:i()(a.default.container,l),style:s,children:[(0,n.jsx)("div",{className:d?a.default.selected:a.default.icon,onClick:()=>o(r)}),t&&(0,n.jsx)("span",{className:a.default.label,children:t})]})}},510820:function(e,t,l){"use strict";l.d(t,{C:function(){return i}}),l(874386);var n=l(563097);l(88648);var a=l(461523),o=l(368679);let i=e=>{let{optionList:t,value:l=[],onChange:i}=e,r=new Set(l),s=e=>{r.has(e)?r.delete(e):r.add(e),i([...r.values()])};return Array.isArray(t)?(0,n.jsx)("div",{className:a.default.container,children:t.map(e=>(0,n.jsx)(o.J,{className:a.default.radio,style:e.label.length>=7?{width:"calc(100% - 40px)"}:void 0,label:e.label,value:e.value,selected:r.has(e.value),onSelect:s},e.value))}):null}},906381:function(e,t,l){"use strict";l.d(t,{U:function(){return f}});var n=l(520739),a=l(878389);l(874386),l(250440),l(882732),l(544943);var o=l(563097),i=l(88648),r=l(108095),s=l(565850),d=l(167993),u=l(257177),c=l(717670);let v="image/png,image/jpeg,image/jpg";function p(e){let{currentLength:t,maxLength:l,onUpload:n}=e,a=(0,i.useRef)(),u=(0,i.useCallback)(()=>{var e;(null===(e=a.current)||void 0===e?void 0:e.value)&&(a.current.value="")},[]);return t===l?null:(0,o.jsxs)("div",{className:d.default.wrap,children:[(0,o.jsx)("input",{className:d.default.input,type:"file",accept:v,multiple:!0,onChange:e=>n(e,u),ref:a}),(0,o.jsx)("div",{className:d.default.buttonContainer,children:(0,o.jsxs)("div",{className:d.default.buttonContent,children:[(0,o.jsx)(r.n,{width:24,height:24,src:s.Z}),(0,o.jsx)("div",{className:d.default.counter,children:`${t}/${l}`})]})})]})}function h(e){let{dataList:t=[],onChange:l}=e,n=e=>{let n=[...t];n.splice(e,1),"function"==typeof l&&l(n)};return(0,o.jsx)(o.Fragment,{children:t.map((e,t)=>(0,o.jsxs)("div",{className:d.default.cover,children:[(0,o.jsx)("div",{className:d.default.close,onClick:()=>n(t)}),(0,o.jsx)("img",{className:d.default.image,src:e.Url})]},e.Uri))})}function f(e){let t=(0,u.Z)(),{maxLength:l=4,value:i=[],onChange:r}=e;return(0,o.jsxs)("div",{className:d.default.container,children:[(0,o.jsx)(h,{dataList:i,onChange:r}),(0,o.jsx)(p,{onUpload:(e,o)=>{let{files:s}=e.target;if(s.length>l){c.F.info(`当前上传图片数量大于 ${l}`);return}for(let e=0;e<s.length;e++){if(s[e].size>10485760){c.F.info("当前上传图片尺寸大于10M");return}if(!v.includes(s[e].type)){c.F.info("当前上传图片是不支持的类型");return}}if(!t){c.F.info("图片上传服务不可用，请稍后再试");return}t.uploadFile(s).then(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r([...i,...e.map((e,t)=>(0,a._)((0,n._)({},e),{Url:window.URL.createObjectURL(s[t])}))]),"function"==typeof o&&o()}).catch(()=>c.F.info("图片上传失败，请重试"))},currentLength:i.length,maxLength:l})]})}},983195:function(e,t,l){"use strict";l.d(t,{g:function(){return r}});var n=l(563097);l(88648);var a=l(387098),o=l(713097),i=l.n(o);function r(e){let{className:t,text:l,textClassName:o}=e;return(0,n.jsxs)("div",{className:i()(a.default.container,t,"HideInLynxClassName"),children:[(0,n.jsx)("div",{className:a.default.loading}),l&&(0,n.jsx)("div",{className:i()(a.default.text,o),children:l})]})}},417992:function(e,t,l){"use strict";l.d(t,{u:function(){return x}});var n=l(563097),a=l(477667),o=l(88648),i=l(506467),r=l(34644),s=l(913029),d=l(713097),u=l.n(d),c=l(108095);let{ArrowUp:v,ArrowDown:p,W:h,S:f,Escape:m,N:g}=i.bf,x=e=>{let{children:t,title:l,visible:i,onCancel:d}=e,x=o.useCallback(()=>{d&&d(!1)},[]),_=o.useRef(null),w=e=>{e.stopPropagation()};return o.useEffect(()=>{let e="report/ui/Modal";return(0,r.o)({disableKey:[p,v,h,f,m,g].map(e=>e.code),pauseGlobalShortcut:!0},e),()=>{(0,r.m)(e)}},[]),o.useEffect(()=>{let{current:e}=_;if(e)return e.setAttribute("tabindex","0"),e.addEventListener("DOMMouseScroll",w),e.onwheel=e=>e.preventDefault(),e.focus(),()=>{e.removeEventListener("DOMMouseScroll",w)}},[i]),i?(0,n.jsx)("div",{className:s.default.mask,ref:_,onWheel:w,children:(0,n.jsxs)("div",{className:u()(s.default.modalContainer,e.className),"data-e2e":"report-container",children:[(0,n.jsx)("div",{className:s.default.close,onClick:x,"data-e2e":"report-container-close",children:(0,n.jsx)(c.n,{width:36,height:36,src:a.Z})}),l&&(0,n.jsx)("div",{className:s.default.title,children:l}),(0,n.jsx)("div",{className:s.default.content,children:t})]})}):null}},335976:function(e,t,l){"use strict";l.d(t,{E:function(){return d}});var n=l(563097),a=l(88648),o=l(713097),i=l.n(o),r=l(265555),s=l(664186);let d=e=>{let{className:t,column:l=1,optionList:o,value:d,onChange:u}=e,c=(0,a.useMemo)(()=>({width:`${100/l}%`}),[l]);return Array.isArray(o)?(0,n.jsx)("div",{className:i()(s.default.container,t),children:o.map(e=>(0,n.jsx)(r.Y,{className:s.default.radio,style:c,label:e.label,value:e.value,checked:d===e.value,onCheck:u},e.value))}):null}},265555:function(e,t,l){"use strict";l.d(t,{Y:function(){return r}});var n=l(563097);l(88648);var a=l(61061),o=l(713097),i=l.n(o);let r=e=>{let{label:t,value:l,checked:o,disabled:r,className:s,style:d,onCheck:u}=e;return(0,n.jsxs)("div",{className:i()(a.default.container,s),style:d,children:[(0,n.jsx)("div",{onClick:()=>{"function"==typeof u&&u(l)},className:i()(a.default.radio,{[a.default.checked]:o,[a.default.disabled]:r})}),t&&(0,n.jsx)("span",{className:a.default.label,children:t})]})}},108095:function(e,t,l){"use strict";l.d(t,{n:function(){return d}});var n=l(520739),a=l(563097),o=l(88648),i=l(867910),r=l(713097),s=l.n(r);let d=o.memo(e=>{let{src:t,width:l=18,height:o=18,color:r,viewBox:d,className:u="",onClick:c=()=>void 0,style:v={}}=e,p=r?(0,n._)({fill:r},v):(0,n._)({},v);return(0,a.jsx)(t,(0,n._)({className:s()(r?"":i.default.svg,u),width:l,height:o,viewBox:d||"0 0 36 36",onClick:c},p))})},717670:function(e,t,l){"use strict";l.d(t,{F:function(){return _}});var n,a=l(134761),o=l(520739),i=l(878389);l(268917),l(874386);var r=l(563097),s=l(713097),d=l.n(s),u=l(88648),c=l(309931),v=l(367366),p=l(497329);let h=null,f=null,m=null,g=null,x={text:"",duration:3e3};class _ extends(n=u.Component){static create(e){if(h)return e&&e(h);m=document.body,!document.querySelector("#toastContainer")&&((g=document.createElement("div")).className=p.default.toastWrapper,g.id="toastContainer"),m.appendChild(g),c.render((0,r.jsx)(_,{ref:t=>{h=t,e&&e(h)}}),g)}static info(e,t){let l=(0,o._)({},x);"string"==typeof e?(l.text=e,l.root=t):"object"==typeof e&&null!==e&&(l=(0,o._)((0,i._)((0,o._)({},x),{root:t}),e));let n=document.fullscreenElement||document.getElementsByClassName("xgplayer-fullscreen-parent")[0];(0,v.r)()&&n&&(l.root=n),this.textList.push(l),this.create(e=>{!f&&e&&e.handleShowToast()})}handleShowToast(){f&&(clearTimeout(f),f=null);let e=_.textList.shift();this.setState({showToast:!0,options:e}),f=setTimeout(()=>{_.textList.length?this.handleCloseToast(()=>{setTimeout(this.handleShowToast.bind(this),50)}):(this.handleCloseToast(),this.destroy()),f=null},e.duration)}handleCloseToast(e){this.setState({showToast:!1},()=>e&&e())}destroy(){m.removeChild(g),h=null}render(){let{showToast:e,options:t}=this.state,l=e&&t&&(0,r.jsx)("div",{className:d()(p.default.toast,t.className,{[p.default.parentToastWrapper]:t.root||(0,v.r)()}),children:t.text});return(0,r.jsx)(u.Fragment,{children:t&&t.root?c.createPortal(l,t.root):l})}constructor(...e){super(...e),(0,a._)(this,"state",{showToast:!1})}}(0,a._)(_,"textList",[])},933380:function(e,t,l){"use strict";l.d(t,{e:function(){return m}});var n=l(520739),a=l(878389);l(874386),l(250440);var o=l(563097),i=l(88648),r=l(309931),s=l(55016),d=l(47914),u=l(108095),c=l(713097),v=l.n(c),p=l(619771),h=l(753443),f={left:"top",right:"top",top:"left",bottom:"left"};let m=e=>{let{type:t="left",text:l,offsetArrow:c,offsetContainer:m,className:g,children:x,onTipClick:_,renderContent:w,clickHidden:j=!1,target:b,offsetWidth:y=0}=e,[C,N]=(0,i.useState)({width:0,height:0}),[I,S]=(0,i.useState)(t),[L,k]=(0,i.useState)(!1),[M,E]=(0,i.useState)({}),R=(0,i.useRef)(null),P=(0,i.useRef)(),T=(0,i.useRef)(null),A=(0,i.useMemo)(()=>(0,p.h)(b),[b]),W=(0,i.useMemo)(()=>(0,h.d)(A,"HTMLBodyElement"),[A]),U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=window.innerWidth,o=window.innerHeight;return{left:e<0?e:0,top:t<0?t:0,right:e+l>a?a-e-l:0,bottom:t+n>o?o-t-n:0}},O=function(){clearTimeout(T.current),T.current=setTimeout(()=>{k(!1)},200)},z=(0,i.useCallback)(()=>{if(!R.current)return{};let e=P.current.getBoundingClientRect(),{width:l,height:o}=e,i=W?e.x:0,r=W?e.y:0,s=(C.width-l)/2,d=(C.height-o)/2;if(["left","right"].includes(t)){switch(t){case"left":i-=C.width+10;break;case"right":i+=l+10}"number"==typeof m?r+=m:r+=-d}else if(["top","bottom"].includes(t)){switch(t){case"top":r-=C.height+10;break;case"bottom":r+=o+10}"number"==typeof m?i+=m:i+=-s}if(W){let{top:e,left:n,right:a,bottom:s}=U(i,r,C.width,C.height);S(t),["left","right"].includes(t)?(e&&(r-=e),s&&(r+=s),n&&!a&&(i+=C.width+20+l,S("right")),a&&!n&&(i-=C.width+20+l,S("left"))):["top","bottom"].includes(t)&&(n&&(i-=n+y),a&&(i+=a-y),e&&!s&&(r+=C.height+20+o,S("bottom")),s&&!e&&(r-=C.height+20+o,S("top")))}return(0,a._)((0,n._)({},M),{left:`${i}px`,top:`${r}px`})},[M,C,m,t,W]),D=(0,i.useCallback)(()=>{let e=i.Children.only(x);return i.cloneElement(e,{onMouseEnter:t=>{var l,n;clearTimeout(T.current),k(!0),P.current=t.target,E(z()),null==e||null===(n=e.props)||void 0===n||null===(l=n.onMouseEnter)||void 0===l||l.call(n,t)},onMouseLeave:()=>{O()}})},[z,x]);(0,i.useEffect)(()=>{let e=e=>{if(!!L)E(z())};return document.addEventListener("scroll",e,!0),()=>{document.removeEventListener("scroll",e,!0)}},[z,L]),(0,i.useLayoutEffect)(()=>{if(!!R.current)N(R.current.getBoundingClientRect())},[L]),(0,i.useLayoutEffect)(()=>{P.current&&E(z())},[C]);let F=(0,i.useMemo)(()=>(0,o.jsxs)("div",{ref:R,style:(0,n._)({position:W?"fixed":"absolute"},M),onMouseEnter:e=>{clearTimeout(T.current)},onMouseLeave:()=>{O()},className:v()(s.default.tooltip,s.default[t],g),onClick:e=>{null==_||_(e),j&&k(!1)},children:[(0,o.jsx)(u.n,{width:4,height:17,src:d.Z,style:{[f[I]]:`${c}%`},className:v()(s.default.icon,s.default[I]),viewBox:"0 0 4 17"}),(0,o.jsx)("span",{className:"",children:w||l})]}),[I,g,j,c,_,w,l,M,t,W]);return(0,o.jsxs)(o.Fragment,{children:[L&&r.createPortal(F,A),D()]})}},257177:function(e,t,l){"use strict";let n;var a=l(134761);l(675373);var o=l(231755),i=l(670824),r=l.n(i);class s{initUploader(e,t){let{token:l,service_id:n,origin:a,template:o}=e,i=JSON.parse(l);this.bytedUploader=new(r())({userId:t,appId:1128,stsToken:i,imageConfig:{serviceId:n}}),this.uploaderOptions={stsToken:i,serviceId:n,origin:a,template:o}}uploadFile(e){let t=this.bytedUploader.addImageFile({file:Array.from(e).map(e=>new Blob([e])),stsToken:this.uploaderOptions.stsToken});return this.bytedUploader.start(t),new Promise((e,t)=>{this.bytedUploader.on("complete",t=>{e(t.uploadResult)}),this.bytedUploader.on("error",e=>{t(e.extra)})})}constructor(e){(0,a._)(this,"bytedUploader",null),(0,a._)(this,"uploaderOptions",null),(0,o.U2)("/aweme/v1/report/upload/auth/",{}).then(t=>{let{token:l,service_id:n,origin:a,template:o,status_code:i}=t;if(0===i)this.initUploader({token:l,service_id:n,origin:a,template:o},e.userId)})}}t.Z=function(e){return!n&&(n=new s({userId:e})),n}},18861:function(e,t,l){"use strict";l.d(t,{Z:function(){return b}}),l("874386");var n=l("563097"),a=l("88648"),o=l("713097"),i=l.n(o),r=l("767548"),s=l("227641");l("675373");var d="ra_tIg0q",u="OXdxcQ3i";let c=a.forwardRef((e,t)=>{let{onReady:l,onEnded:o,previewUrlList:r,isHorizontal:s,className:c,playStartSec:v,playEndSec:p}=e,h=(0,a.useRef)(),f=(0,a.useRef)(),m=(0,a.useRef)(),g=(0,a.useRef)(),x=()=>v>0?v:0;(0,a.useEffect)(()=>(!function e(){m.current=requestAnimationFrame(()=>{h.current&&f.current&&(f.current.style.width=`${h.current.currentTime/h.current.duration*100}%`),e()})}(),()=>cancelAnimationFrame(m.current)),[]);let _=(0,a.useRef)(!1),w=(0,a.useRef)();return(0,a.useImperativeHandle)(t,()=>({async pause(){if(!h.current.paused){var e;w.current&&(await w.current,w.current=void 0),null===(e=h.current)||void 0===e||e.pause()}},play(){if(_.current&&h.current.paused){var e;w.current=null===(e=h.current)||void 0===e?void 0:e.play()}},onCanPlay:()=>_.current}),[]),(0,n.jsx)("div",{className:i()(d,c),children:(0,n.jsx)("video",{ref:e=>{h.current=e},onPlay:()=>{h.current.currentTime=x()},onPlaying:()=>{l(),g.current=!1},onTimeUpdate:()=>{h.current.currentTime/h.current.duration>=.98&&!g.current&&(null==o||o(),g.current=!0),p>0&&h.current.currentTime>p&&(g.current=!0,h.current.currentTime=x(),null==o||o())},className:u,style:{objectFit:s?"cover":"contain"},loop:!0,muted:!0,autoPlay:!0,disablePictureInPicture:!0,onCanPlay:()=>{_.current=!0},preload:"none",children:r.map((e,t)=>(0,n.jsx)("source",{src:e},`${e}_${t}`))})})});var v="iqlUfFD1",p={pic:"sSYMWLh8",cover:"I8cgZpTI",logoBig:"GoS3_tWv",hovered:"pCly2NM6",hidden:"WAjafbaV"},h=l("520739"),f=l("878389");let m=(0,a.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,f._)((0,h._)({width:79,height:90,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,n.jsx)("path",{d:"M66.76 18.041c-4.847-3.161-8.347-8.218-9.44-14.113A21.521 21.521 0 0 1 56.955 0H41.482l-.027 62.007c-.258 6.942-5.975 12.516-12.98 12.516-2.176 0-4.227-.544-6.033-1.494-4.138-2.18-6.974-6.519-6.974-11.513 0-7.17 5.837-13.007 13.007-13.007 1.338 0 2.622.223 3.84.602V33.318a28.646 28.646 0 0 0-3.84-.277C12.775 33.041 0 45.816 0 61.521c0 9.635 4.816 18.16 12.16 23.316A28.316 28.316 0 0 0 28.48 90c15.704 0 28.479-12.775 28.479-28.48V30.076a36.79 36.79 0 0 0 21.528 6.92V21.523a21.42 21.42 0 0 1-11.727-3.482z",fill:"#fff",fillOpacity:".8"})})));var g=e=>{let{coverUrl:t="",hovered:l=!1,videoUrlList:o=[],canHidden:r=!0}=e,[s,d]=(0,a.useState)(!1);return(0,n.jsxs)("div",{className:i()(p.pic,{[p.hovered]:r&&l}),children:[(0,n.jsx)(m,{width:79,height:90,className:i()(p.logoBig,{[p.hidden]:s})}),t&&(0,n.jsx)("img",{className:i()(p.cover,{[p.hidden]:!s}),src:t,onLoad:()=>{d(!0)}}),!t&&(null==o?void 0:o.length)>0&&(0,n.jsx)("video",{className:i()(p.cover,{[p.hidden]:!s}),onCanPlay:()=>{d(!0)},muted:!0,children:null==o?void 0:o.map((e,t)=>(0,n.jsx)("source",{src:e,type:"video/mp4"},`${e}_${t}`))})]})},x=e=>{let{className:t,cardData:l,isHover:o}=e,{type:r,coverUrl:d,videoUrlList:u,vWidth:p,vHeight:h,playEndSec:f,playStartSec:m}=l,[x,_]=(0,a.useState)(!1),w=(0,a.useCallback)(()=>{_(!0)},[o]),j=(0,a.useRef)();return(0,n.jsxs)("div",{className:i()(v,t),children:[r!==s._.Image&&(null==u?void 0:u.length)>0&&o&&(0,n.jsx)(c,{ref:j,previewUrlList:u,isHorizontal:p>=h,onReady:w,ratio:h/p,playStartSec:m,playEndSec:f}),(0,n.jsx)(g,{hovered:o,coverUrl:d,videoUrlList:u,canHidden:x})]})};let _=(0,a.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,f._)((0,h._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("g",{filter:"url(#wallpaperImageIcon_svg__filter0_d_6103_233002)",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 11h6a.5.5 0 0 0 .5-.5V9.173L9.213 6.652a1 1 0 0 0-1.632 0L4.5 11zM2 3.5A1.5 1.5 0 0 1 3.5 2h7A1.5 1.5 0 0 1 12 3.5v7a1.5 1.5 0 0 1-1.5 1.5h-7A1.5 1.5 0 0 1 2 10.5v-7zm2.75.5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5z",fill:"#fff"})}),(0,n.jsx)("defs",{children:(0,n.jsxs)("filter",{id:"wallpaperImageIcon_svg__filter0_d_6103_233002",x:"-.583",y:"-.583",width:15.167,height:15.167,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{}),(0,n.jsx)("feGaussianBlur",{stdDeviation:".292"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_6103_233002"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_6103_233002",result:"shape"})]})})]}))),w=(0,a.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,f._)((0,h._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("g",{filter:"url(#wallpaperVideoIcon_svg__filter0_d_6103_233023)",children:(0,n.jsxs)("g",{fill:"#fff",children:[(0,n.jsx)("mask",{id:"wallpaperVideoIcon_svg__a",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 2A1.5 1.5 0 0 0 2 3.5v7A1.5 1.5 0 0 0 3.5 12h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 10.5 2h-7zm6 5.433a.5.5 0 0 0 0-.866L5.75 4.402a.5.5 0 0 0-.75.433v4.33a.5.5 0 0 0 .75.433L9.5 7.433z"})}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 2A1.5 1.5 0 0 0 2 3.5v7A1.5 1.5 0 0 0 3.5 12h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 10.5 2h-7zm6 5.433a.5.5 0 0 0 0-.866L5.75 4.402a.5.5 0 0 0-.75.433v4.33a.5.5 0 0 0 .75.433L9.5 7.433z"}),(0,n.jsx)("path",{d:"M9.5 6.567l-.5.866.5-.866zm0 .866L9 6.567l.5.866zM5.75 4.402l.5-.866-.5.866zM5 4.835h1-1zm0 4.33H4h1zm.75.433l.5.866-.5-.866zM3 3.5a.5.5 0 0 1 .5-.5V1A2.5 2.5 0 0 0 1 3.5h2zm0 7v-7H1v7h2zm.5.5a.5.5 0 0 1-.5-.5H1A2.5 2.5 0 0 0 3.5 13v-2zm7 0h-7v2h7v-2zm.5-.5a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2zm0-7v7h2v-7h-2zm-.5-.5a.5.5 0 0 1 .5.5h2A2.5 2.5 0 0 0 10.5 1v2zm-7 0h7V1h-7v2zM9 7.433a.5.5 0 0 1 0-.866l1 1.732c1-.577 1-2.02 0-2.598L9 7.433zM5.25 5.268L9 7.433l1-1.732-3.75-2.165-1 1.732zM6 4.835a.5.5 0 0 1-.75.433l1-1.732A1.5 1.5 0 0 0 4 4.835h2zm0 4.33v-4.33H4v4.33h2zm-.75-.433a.5.5 0 0 1 .75.433H4a1.5 1.5 0 0 0 2.25 1.3l-1-1.733zM9 6.567L5.25 8.732l1 1.732L10 8.3 9 6.567z",mask:"url(#wallpaperVideoIcon_svg__a)"})]})}),(0,n.jsx)("defs",{children:(0,n.jsxs)("filter",{id:"wallpaperVideoIcon_svg__filter0_d_6103_233023",x:"-.583",y:"-.583",width:15.167,height:15.167,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{}),(0,n.jsx)("feGaussianBlur",{stdDeviation:".292"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_6103_233023"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_6103_233023",result:"shape"})]})})]})));var j={cardContainer:"tM0wXkRM",pic:"Bokrwg3N",labelWrap:"EGIuaAkx",hotMark:"_o5NjQjb",latestMark:"ZzHNUVBe",imageLabel:"DIdFJpDZ",infoBar:"MKeqnyn1",authorName:"mNomEcZf"},b=e=>{let{cardData:t,showLabel:l,children:o,className:d,onClick:u,onMouseEnter:c}=e,{author:v=""}=t,[p,h]=(0,a.useState)(!1);return(0,n.jsxs)("div",{className:i()(j.cardContainer,d),onClick:u,onMouseEnter:()=>{h(!0),null==c||c()},onMouseLeave:()=>{h(!1)},children:[(0,n.jsxs)("div",{className:j.pic,children:[l&&(0,n.jsxs)("div",{className:j.labelWrap,children:[(null==t?void 0:t.labelId)==="2"&&(0,n.jsx)("div",{className:j.latestMark,children:"新"}),(null==t?void 0:t.labelId)==="1"&&(0,n.jsx)("div",{className:j.hotMark,children:"热"}),(0,n.jsxs)("div",{className:j.imageLabel,children:[(0,n.jsx)(r.Z,{width:14,height:14,viewBox:"0 0 14 14",src:(null==t?void 0:t.type)===s._.Image?_:w}),(null==t?void 0:t.type)===s._.Image?"静态":"动态"]})]}),(0,n.jsx)(x,{cardData:t,isHover:p})]}),l&&v&&(0,n.jsx)("div",{className:i()(j.infoBar),children:(0,n.jsxs)("div",{className:j.authorName,children:["@",v]})}),o]})}},71064:function(e,t,l){"use strict";let n;l.d(t,{K:function(){return F}});var a=l("520739"),o=l("878389");l("874386");var i=l("563097"),r=l("88648"),s=l("713097"),d=l.n(s),u=l("233772"),c=l("594567"),v=l("929582"),p=l("782563"),h=l("572076"),f=l("658065"),m=l("782442"),g=l("931887"),x=l("696332"),_=l("287844"),w={wallpaperModalContainer2:"dAVmCjcj",wallpaperModalContainer:"kEKQDYiq",hasGuide:"wra3D7K8",wallpaperItem:"Ir9liX8M",wallpaperCard:"dL8OcUSt",textWrap:"Id6G6RD3",text:"r1raqov5",moreWrap:"oU1MJhdI",show:"r3_k4pdt",hide:"MPcKlOAg",container:"vDGlc0Mg",navui:"eoyUTp3Y",overflow:"K0Tax1aw"},j=l("344938"),b=l("747909"),y=l("428647"),C="alCE31Gt",N="UmOKOuKf",I="ILGzPnM8",S="qqNcFYwt",L="Gw9MLGRl",k=l("254897");function M(e){let{onClose:t,onClick:l,onShow:n}=e;return(0,r.useEffect)(()=>{n()},[]),(0,i.jsxs)("div",{className:C,children:[(0,i.jsx)("div",{className:N,children:x.a.t("download_client_side_wallpaper",{},"下载客户端 使用壁纸")}),(0,i.jsxs)("div",{className:I,children:[(0,i.jsxs)(b.Button,{theme:"solid",size:"small",className:S,onClick:l,children:[(0,i.jsx)(k.z,{svg:(0,i.jsx)(c.Z,{style:{fontSize:"20px"}}),style:{width:"12px",marginRight:"4px"}}),x.a.t("download_client_side_wallpaper",{},"下载")]}),(0,i.jsx)(k.z,{svg:(0,i.jsx)(y.Z,{className:L}),onClick:t})]})]})}var E=l("18861"),R=l("205457");l("981168"),l("675373"),l("268917");var P=l("35730"),T=l("576097"),A=l("856206"),W=l("399796"),U=l("64957"),O=l("637005"),z=l("420044"),D=l("733507");function F(e){let{isLogin:t}=(0,u.Pc)(),l=function(e){let[t,l]=(0,r.useState)(!0),[a,o]=(0,r.useState)([]),{triggerDownloadClient:i}=(0,D.o)({channelId:_.g.Wallpaper}),[s,d]=(0,r.useState)(!1),u=(0,r.useRef)(),c=()=>W.Q.getItem({sKey:P.CookieKeys.WallpaperGuide})||{showTime:0,closeTime:0,showCount:0,cursor1:0,cursor2:0},v=(e,t)=>{let l=c();l[e]=t,W.Q.setItem(P.CookieKeys.WallpaperGuide,l)},p=()=>(0,A.cG)().then(e=>{if(e){var t;return null==e||null===(t=e.sort)||void 0===t||t.call(e,(e,t)=>(t.createTimestamp||0)-(e.createTimestamp||0)),e}return[]}),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return(0,A.gE)({cursor:e,count:t,sort_type:T.KM.Time,video_type_select:1}).then(t=>{let o=[...l,...(null==t?void 0:t.wallpaper_list)||[]];return(o=o.filter(e=>{var t,l,n,a,o,i,r,s;return((null==e?!void 0:null===(l=e.aweme)||void 0===l?!void 0:null===(t=l.video)||void 0===t?!void 0:!t.width)||(null==e?!void 0:null===(a=e.aweme)||void 0===a?!void 0:null===(n=a.video)||void 0===n?!void 0:!n.height)||!((null==e?void 0:null===(i=e.aweme)||void 0===i?void 0:null===(o=i.video)||void 0===o?void 0:o.height)>(null==e?void 0:null===(s=e.aweme)||void 0===s?void 0:null===(r=s.video)||void 0===r?void 0:r.width)))&&!0}),a>=3)?(v("cursor1",(null==t?void 0:t.has_more)?t.cursor:0),o):!(o.length>=n)&&(null==t?void 0:t.has_more)?h(t.cursor,n-o.length,o,n,a+1):(v("cursor1",(null==t?void 0:t.has_more)?t.cursor:0),0!==o.length||!(e>100)||(null==t?void 0:t.has_more))?o:h(0,n-o.length,o,n,a+1)})},f=()=>{v("closeTime",Date.now()),l(!1)};return(0,r.useEffect)(()=>{let e=c().cursor2||0,{cursor1:t=0,hoverTime:l}=c();return(!l&&d(!0),null==n?void 0:n.length)?(o(n),()=>{}):(Promise.all([h(t,6),p()]).then(t=>{var l;let[a,i]=t,r=[];null==a||null===(l=a.forEach)||void 0===l||l.call(a,(t,l)=>{r.push((0,z.R)(t)),(l+1)%3==0&&(i[e]&&r.push(i[e]),e+=1)}),(null==i?void 0:i.length)&&v("cursor2",e<(null==i?void 0:i.length)?e:0),o(n=r.filter(e=>!!e))}),()=>{clearTimeout(u.current)})},[]),(0,r.useEffect)(()=>{let e=O.listen(O.EVENT.CloseWallpaperGuide,()=>{f()});return()=>{null==e||e()}},[]),{wallpaperList:a,isFirstHover:s,onHover:()=>{let{hoverTime:e}=c();clearTimeout(u.current),!e&&(v("hoverTime",Date.now()),u.current=setTimeout(()=>{d(!1)},3e3))},onShowGuide:()=>{let{showTime:e=0,showCount:t=0}=c();Date.now()-e>2592e5&&(v("showTime",Date.now()),v("showCount",t+1))},onCloseGuide:f,isShowGuide:()=>{if(!t)return!1;let{showTime:e=0,closeTime:l=0,showCount:n=0}=c();return!(n>5)&&(!!(l<e&&(0,U.KC)(e)||Date.now()-e>2592e5)||!1)},onDownload:i,onHoverEnd:()=>{clearTimeout(u.current),d(!1)}}}(null==e||e.abTestData),{wallpaperList:s}=l,b=(0,p.DT)(),[y,C]=(0,r.useState)(!1),[N,I]=(0,r.useState)(!1),S=l.isShowGuide()&&!b&&N,L=t=>{if(b&&t){var n;h.invoke("OPEN_WALLPAPER_WINDOW",{insertWallpaperList:[(0,o._)((0,a._)({},t),{autoClick:!0})]}),null==e||null===(n=e.onClick)||void 0===n||n.call(e)}else l.onDownload(),j.Z.sendLog("add_to_desktop_click",{enter_from:(0,f.yW)(),type:"wallpaper_hover_button",channel_id:_.g.Wallpaper,ug_channel_id:m.Le.getConfig(m.gI.WebUgChannelId)||""}),l.onCloseGuide()},F=()=>{!b&&j.Z.sendLog("add_to_desktop_show",{enter_from:(0,f.yW)(),type:"wallpaper_hover_button",channel_id:_.g.Wallpaper,ug_channel_id:m.Le.getConfig(m.gI.WebUgChannelId)||""}),l.onHover()},B=async()=>{!b&&t&&await (0,g.Y)()?I(!1):I(!0)};return(0,r.useEffect)(()=>{(null==s?void 0:s.length)&&(j.Z.sendLog("wallpaper_board_show"),j.Z.sendLog("view_more_wallpaper_show"))},[null==s?void 0:s.length]),(0,r.useEffect)(()=>{S&&j.Z.sendLog("add_to_desktop_show",{enter_from:(0,f.yW)(),type:"wallpaper_board_toast",channel_id:_.g.Wallpaper,ug_channel_id:m.Le.getConfig(m.gI.WebUgChannelId)||""})},[S]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{C(!0)},200);return()=>{clearTimeout(e)}},[]),(0,r.useEffect)(()=>{B()},[t]),(0,i.jsxs)("div",{className:d()(w.container,y&&w.overflow,w.navui,null==e?void 0:e.className),children:[S&&(0,i.jsx)(R.k,{componentName:"wallpaper-guide",children:(0,i.jsx)(M,{onClose:e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),l.onCloseGuide(),j.Z.sendLog("add_to_desktop_close",{type:"wallpaper_board_toast"})},onClick:e=>{j.Z.sendLog("add_to_desktop_click",{enter_from:(0,f.yW)(),type:"wallpaper_board_toast",channel_id:_.g.Wallpaper,ug_channel_id:m.Le.getConfig(m.gI.WebUgChannelId)||""}),null==e||e.preventDefault(),null==e||e.stopPropagation(),l.onCloseGuide(),l.onDownload()},onShow:l.onShowGuide})}),(0,i.jsx)(R.k,{componentName:"wallpaper-modal",children:(0,i.jsx)("div",{id:"wallpaper-modal",className:d()(w.wallpaperModalContainer,S&&w.hasGuide,w.show,!(null==s?void 0:s.length)&&w.hide),children:(0,i.jsxs)("div",{className:w.wallpaperModalContainer2,children:[s.map(e=>(0,i.jsx)("div",{className:w.wallpaperItem,onClick:t=>{L(e),t.preventDefault(),t.stopPropagation()},onMouseEnter:F,onMouseLeave:l.onHoverEnd,children:(0,i.jsx)(E.Z,{cardData:e,className:w.wallpaperCard,children:!b&&(0,i.jsxs)("div",{className:d()(w.textWrap),children:[(0,i.jsx)(k.z,{svg:(0,i.jsx)(c.Z,{style:{fontSize:"20px",marginRight:"-3px"}})}),(0,i.jsx)("div",{className:d()(w.text),children:x.a.t("download_client_side_wallpaper",{},"下载客户端 使用壁纸")})]})})},e.id)),(0,i.jsxs)("div",{className:w.moreWrap,onClick:t=>{var l,n,a;null==t||null===(l=t.preventDefault)||void 0===l||l.call(t),null==t||null===(n=t.stopPropagation)||void 0===n||n.call(t),b?h.invoke("OPEN_WALLPAPER_WINDOW",{enter_from:"navigation_bar",enter_method:"wallpaper_board"}):window.open("https://www.douyin.com/wallpaper/","_blank"),null==e||null===(a=e.onClick)||void 0===a||a.call(e),j.Z.sendLog("view_more_wallpaper_click")},children:[(0,i.jsx)("div",{children:x.a.t("more_wallpaper",{},"查看更多电脑桌面壁纸")}),(0,i.jsx)(k.z,{svg:(0,i.jsx)(v.Z,{})})]})]})})})]})}},86046:function(e,t,l){"use strict";let n,a;l.r(t),l.d(t,{NewWallpaper:function(){return R}}),l("874386");var o=l("563097"),i=l("88648"),r=l("713097"),s=l.n(r),d=l("747909"),u=l("35730"),c=l("598467"),v=l("739898"),p=l("770989"),h=l("901414"),f=l("782563"),m=l("687297"),g=l("555106"),x=l("572076"),_=l("637005"),w=l("658065"),j=l("782442"),b=l("696332"),y=l("287844"),C=l("254897"),N=l("315097"),I=l("71064"),S={container:"JdGgM3r6",buttonText:"iQdAxsPk",newWallpaperSvg:"wilJCPPb",wallpaperLottie:"bCeQJbFh",svgBox:"d5wyiDG4",clientWallpaper:"UIgWfjIg",activity:"jybR568b",gaokaoSearch:"wGFARKvD",asianGame:"VpIrVwAi",vsTransMode:"WsW8yVHc",transparent:"oC3gep5r",olympicSearch:"IU1JK6ie",badge:"AQXUMEQJ",tipWrap:"xFzvM6nY",tipText:"PWZnWnT5",none:"bl5d6RJv"},L=l("344938"),k=l("271977"),M=l("733507"),E=l("430066");function R(e){var t;let{activityName:l,isClient:r,abTestData:R,transparent:P}=e,[T,A]=(0,i.useState)(!1),[W,U]=(0,i.useState)(!1),[O,z]=(0,i.useState)(!1),D=(0,i.useRef)(null),F=(null===(t=(0,f.FJ)())||void 0===t?void 0:t.awemePcClient)||"0.0.0",B=O&&!!(!r||(0,m.y)(F,">=","3.7.1")),{userUiStyle:G}=(0,i.useContext)(k.R),{triggerDownloadClient:Z}=(0,M.o)({channelId:y.g.Wallpaper}),V=()=>{if((null==R?void 0:R.wallpaperInteraction)!==1)(0,g.qQ)(u.LocalStorageKeys.ShowImageWallpaperRedPoint,1),U(!1),z(!0),clearTimeout(a)},q=()=>{clearTimeout(a),a=setTimeout(()=>{z(!1)},300)},H=()=>{v.YY.insertTask(v.BE.WallPaperTaskId,()=>{requestAnimationFrame(()=>{A(!0),L.Z.sendLog("wallpaperNotifyShow"),(0,g.qQ)(u.LocalStorageKeys.ShowImageWallpaperTips,1)})},{delay:100,onFinish:()=>{A(!1)},isBlock:!0})};return(0,i.useEffect)(()=>{if(T)return n=setTimeout(()=>{A(!1),v.YY.finishTask(v.BE.WallPaperTaskId)},3e3),()=>{clearTimeout(n)}},[T]),(0,i.useEffect)(()=>{let e=_.listen(_.EVENT.wallpaperTip,()=>{p.a.WallpaperManager.isShowImageTips(R)&&H()});return p.a.WallpaperManager.isShowImageTips(R)&&H(),p.a.WallpaperManager.isShowImageRedPoint(R)&&U(!0),()=>{e()}},[H]),(0,i.useEffect)(()=>{let e=_.listen(_.EVENT.showHeaderPopUp,e=>{let{type:t,isShow:l}=e||{};"wallpaper"!==t&&l&&z(!1)});return()=>e()},[]),(0,o.jsx)(d.Tooltip,{content:"精美的图片壁纸上线啦～",position:"bottom",visible:T,trigger:"custom",getPopupContainer:()=>D.current||document.body,children:(0,o.jsx)("div",{ref:D,style:{position:"relative"},children:(0,o.jsx)(E.p,{headerPopupName:"wallpaper",children:(0,o.jsxs)("div",{className:S.tipWrap,onMouseEnter:V,onMouseLeave:q,children:[(0,o.jsxs)("div",{className:s()(S.container,{isDark:!!l||P&&!G,[S.clientWallpaper]:r,[S.activity]:!!l||P,[null==S?void 0:S[l]]:l,[S.transparent]:P}),onClick:()=>{if(r){(null==R?void 0:R.wallpaperInteraction)===1&&((0,g.qQ)(u.LocalStorageKeys.ShowImageWallpaperRedPoint,1),U(!1));let e=h.e.getPipWindow({scene:c.d.ListenVideo});e&&(null==e||e.close()),x.invoke("OPEN_WALLPAPER_WINDOW",{enter_from:"navigation_bar",enter_method:"top_bar"}),q()}else(null==R?void 0:R.wallpaperInteraction)===1?((0,g.qQ)(u.LocalStorageKeys.ShowImageWallpaperRedPoint,1),U(!1),window.open("https://www.douyin.com/wallpaper/?enter_method=click_wallpaper_button","_blank"),q()):(_.emit(_.EVENT.CloseWallpaperGuide),Z(),L.Z.sendLog("add_to_desktop_click",{enter_from:(0,w.yW)(),type:"top_bar",channel_id:y.g.Wallpaper,ug_channel_id:j.Le.getConfig(j.gI.WebUgChannelId)||""}));V()},children:[(0,o.jsxs)("div",{className:S.svgBox,children:[(0,o.jsx)(d.Badge,{dot:!0,countClassName:s()(S.badge,!W&&S.none)}),(0,o.jsx)(C.z,{needRenderInSSR:!0,className:S.newWallpaperSvg,svg:(0,o.jsx)(N.Z,{})})]}),(0,o.jsx)("div",{className:S.buttonText,children:b.a.t("wallpaper",{},"壁纸")})]}),B&&(0,o.jsx)(I.K,{onClick:q,abTestData:R})]})})})})}},420044:function(e,t,l){"use strict";l.d(t,{R:function(){return c}});var n=l(520739);l(413806),l(826893),l(874386);var a=l(746864),o=l(227641),i=l(782563),r=l(349135);let s=e=>{try{var t;return(null==e?void 0:null===(t=e.split("?")[0])||void 0===t?void 0:t.split(".").pop())||"png"}catch(e){}return"png"},d=e=>(0,i.DT)()?e:(0,r.C7)(e),u=e=>{var t,l,n,i,r,u,c,v,p,h,f,m,g,x,_,w,j,b,y,C,N,I;let S=null==e?void 0:e.aweme_type,L=S===a.e.Note?o._.Image:o._.Video,k={id:null==e?void 0:e.aweme_id,type:L,awemeType:S,author:null==e?void 0:null===(t=e.author)||void 0===t?void 0:t.nickname,authorUid:null==e?void 0:null===(l=e.author)||void 0===l?void 0:l.uid,authorSecUid:null==e?void 0:null===(n=e.author)||void 0===n?void 0:n.sec_uid,dynamicCoverUrl:d((null==e?void 0:null===(u=e.video)||void 0===u?void 0:null===(r=u.dynamic_cover)||void 0===r?void 0:null===(i=r.url_list)||void 0===i?void 0:i[0])||""),coverUrl:d((null==e?void 0:null===(p=e.video)||void 0===p?void 0:null===(v=p.cover)||void 0===v?void 0:null===(c=v.url_list)||void 0===c?void 0:c[0])||""),downloadUrl:[],videoUrlList:((null==e?void 0:null===(f=e.video)||void 0===f?void 0:null===(h=f.play_addr)||void 0===h?void 0:h.url_list)||[]).map(e=>d(e)),vWidth:(null==e?void 0:null===(g=e.video)||void 0===g?void 0:null===(m=g.download_addr)||void 0===m?void 0:m.width)||0,vHeight:(null==e?void 0:null===(_=e.video)||void 0===_?void 0:null===(x=_.download_addr)||void 0===x?void 0:x.height)||0,carouselImages:[]};return L===o._.Image?(k.downloadUrl=((null==e?void 0:e.images)||[]).map((e,t)=>{var l;let n=null==e?void 0:null===(l=e.download_url_list)||void 0===l?void 0:l[0];return{url:d(n),width:e.width,height:e.height,fileName:`image${t}.${s(n)}`}}),k.carouselImages=[...k.downloadUrl],k.vWidth=(null===(w=k.carouselImages[0])||void 0===w?void 0:w.width)||0,k.vHeight=(null===(j=k.carouselImages[0])||void 0===j?void 0:j.height)||0):k.downloadUrl=[{url:d((null==e?void 0:null===(C=e.video)||void 0===C?void 0:null===(y=C.download_addr)||void 0===y?void 0:null===(b=y.url_list)||void 0===b?void 0:b[0])||""),fileName:"video.mp4",hash:null==e?void 0:null===(I=e.video)||void 0===I?void 0:null===(N=I.download_addr)||void 0===N?void 0:N.file_hash}],k},c=e=>{var t,l;return(0,n._)({tagId:e.tag_id,tagName:e.tag_name,labelId:e.label_id,labelName:e.label_name,hotVal:e.hot_val,playStartSec:e.play_start_sec<Math.floor(null===(t=e.aweme)||void 0===t?void 0:t.duration)?e.play_start_sec:-1,playEndSec:null!==(l=e.play_end_sec)&&void 0!==l?l:-1},u(e.aweme))}},725125:function(e,t,l){"use strict";l.d(t,{Jo:function(){return o},he:function(){return n},st:function(){return i},uo:function(){return a}});let n={enabled:!1,opacity:80,fontSize:1,region:0,speed:1},a=["超小","小号","适中","大号","超大"].map((e,t)=>({label:e,value:t})),o=["一行","两行","25%","50%","80%"].map((e,t)=>({label:e,value:t})),i=["较慢","适中","较快"].map((e,t)=>({label:e,value:t}))},176758:function(e,t,l){"use strict";l.d(t,{si:function(){return L},lI:function(){return S},ns:function(){return j}});var n=l("520739"),a=l("878389");l("874386");var o=l("563097"),i=l("88648"),r=l("128231"),s=l.n(r),d=l("504641"),u=l.n(d),c=l("967171"),v=l("134761");l("179133"),l("826893"),l("250440");var p=l("879146"),h=l.n(p);class f{on(e,t){return this.emitter.on(e,t),()=>{this.emitter.off(e,t)}}once(e,t){return this.emitter.once(e,t),()=>{this.emitter.off(e,t)}}emit(e,t){this.emitter.emit(e,t)}constructor(){(0,v._)(this,"emitter",void 0),this.emitter=new(h())}}var m=l("648490"),g=l("333681"),x=l("233772"),_=l("725125");let w=(0,i.createContext)(null),j=()=>(0,i.useContext)(w),b=[5,1,2,3,4],y=[1,5,2,3,4],C={playbackRate:1,definition:"__auto__",autoPlayNext:!1,paidContent:!1,wideScreen:!1,fullScreen:!1,playing:!1,loading:!1,working:!1,volume:50,muted:!1,pip:!1},N={modal:!1,input:"",settings:_.he},{sectionStorage:I}=(0,m.y)("player",{definition:C.definition,definitionLastTime:0,volume:C.volume/100,danmaku:_.he,nextautoplay:"0",miniwin:"0",isMute:0},{playbackratio:1}),S={shown:!1,played:0,total:0,rate:0,sent:0},L=e=>{let{children:t}=e,l=(0,i.useMemo)(()=>new g.k(C),[]),r=(0,i.useMemo)(()=>new g.k(N),[]),d=(0,i.useMemo)(()=>new g.k,[]),v=(0,i.useMemo)(()=>new g.k,[]),p=(0,i.useMemo)(()=>new f,[]),h=(0,i.useRef)((0,n._)({},S)),{isLogin:m}=(0,x.Pc)(),j=(0,i.useMemo)(()=>({danmakuPlayResultRef:h,emitter:p,control:l,userlog:v,channel:d,danmaku:r}),[]);return(0,i.useLayoutEffect)(()=>{m&&I.definitionLastTime+864e5>Date.now()&&l.dispatch("definition",I.definition),l.dispatch("playbackRate",I.playbackratio),l.dispatch("autoPlayNext","1"===String(I.nextautoplay)),l.dispatch("volume",u()(Math.round(100*I.volume),0,100)),l.dispatch("muted",1===I.isMute),l.dispatch("pip","1"===I.miniwin);let e=l.subscribe("playbackRate",e=>{I.playbackratio=e}),t=l.subscribe("autoPlayNext",e=>{I.nextautoplay=e?"1":"0"}),n=l.subscribe("definition",e=>{I.definition="__auto__"!==e?e:void 0,I.definitionLastTime=Date.now()}),a=l.subscribe("volume",e=>{I.volume=u()(e/100,0,1)}),o=l.subscribe("muted",e=>{I.isMute=e?1:0}),i=l.subscribe("pip",e=>{I.miniwin=e?"1":"0"});return()=>{e(),t(),n(),a(),o(),i()}},[]),(0,i.useLayoutEffect)(()=>{if(m){r.dispatch("settings",(0,n._)({},r.getValue("settings"),I.danmaku)),(0,c.Ri)({hardware_concurrency:navigator.hardwareConcurrency}).then(e=>{var t;if(null===(t=e.confList)||void 0===t?void 0:t.length){let[{speed:t,region:l,isOpen:o,opacity:i,fontSize:s}]=e.confList;r.dispatch("settings",(0,a._)((0,n._)({},r.getValue("settings")),{fontSize:b.findIndex(e=>e===s),region:y.findIndex(e=>e===l),enabled:o,speed:t-1,opacity:i}))}});let e=s()(e=>{let{enabled:t,region:l,speed:n,opacity:a,fontSize:o}=e;(0,c.RB)({isOpen:t,opacity:a,speed:n+1,region:y[l],fontSize:b[o]})},500);return r.subscribe("settings",t=>e(I.danmaku=t))}r.dispatch("settings",(0,a._)((0,n._)({},_.he),{enabled:!0}))},[m]),(0,o.jsx)(w.Provider,{value:j,children:t})}},648490:function(e,t,l){"use strict";l.d(t,{y:function(){return i}});var n=l(520739);l(209955),l(874386),l(779788);var a=l(688269),o=l.n(a);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,n._)({},t,l),r=e=>{if(e in t)return window.localStorage;if(e in l)return window.sessionStorage;throw Error("never")},s=Object.create((0,n._)({},a));for(let[t,l]of Object.entries(a)){let n=`${o()(e)}_${o()(t)}`;Object.defineProperty(s,t,{enumerable:!0,get(){try{let e=r(t).getItem(n);if(e){let t=JSON.parse(e);if(typeof t==typeof l)return t}return l}catch(e){return l}},set(e){if(void 0===e)return r(t).removeItem(n);r(t).setItem(n,JSON.stringify(e))}})}return{sectionStorage:s,getSubsection:(t,l,n)=>i(`${e}_${t}`,l,n)}}},233772:function(e,t,l){"use strict";l.d(t,{Pc:function(){return u},hg:function(){return d},yw:function(){return s}}),l(675373);var n=l(553173),a=l(658065),o=l(176758),i=l(402971),r=l(358003);let s=0,d=0,u=()=>{let{userInfo:e,dispatch:t}=(0,i.useUserInfoContext)(),l=(0,o.ns)();return{dispatch:t,userInfo:e,isLogin:e.isLogin,requestLogin:(e,n)=>(s=1,new Promise(a=>{null==l||l.channel.dispatch("popover",{}),(0,r.default)({headerText:e,enterMethod:n,success(){null==t||t({type:"updateUserInfo"}),a(!0)},onClose(){s=0,a(!1)}})})),reportDanmaku:o=>(null==l||l.channel.dispatch("popover",{}),d=1,new Promise(l=>{var i,r;(0,n.m)({title:"举报弹幕",type:"danmaku",object_id:o,owner_id:(null==e?void 0:null===(i=e.info)||void 0===i?void 0:i.uid)||"",owner_sec_id:(null==e?void 0:null===(r=e.info)||void 0===r?void 0:r.secUid)||"",onClose:()=>{d=0,l()},logParams:{enter_method:"list"},loginDispatch:t,userInfo:null==e?void 0:e.info,pipeline_id:"",enter_from:(0,a.yW)(),isOrigin:!0},document.fullscreenElement||document.body)}))}}},967171:function(e,t,l){"use strict";l.d(t,{FW:function(){return y},JV:function(){return j},N6:function(){return w},RB:function(){return _},Ri:function(){return x},YO:function(){return C},ob:function(){return b}});var n=l(520739),a=l(878389);l(779788),l(675373);var o=l(496349),i=l(349135),r=l(231755),s=l(871212),d=l(32167),u=l(658065);let{COMMON_SEARCH_PARAMS:c}=o||{};function v(e){let{conf_list:t,status_code:l,log_pb:n}=e;return{statusCode:l,confList:null==t?void 0:t.map(e=>{let{speed:t,region:l,switch:n,conf_end_type:a,opacity:o,font_size:i,from_default:r}=e||{};return{speed:t-1,region:l,isOpen:n,confEndType:a,opacity:o,fontSize:i,fromDefault:r}}),logPb:n&&JSON.stringify(n)}}function p(e){let{danmaku_list:t,status_code:l,log_pb:n,total:a,http_code:o}=e;return{statusCode:l,danmakuList:null==t?void 0:t.map(e=>({text:e.text,status:e.status,danmakuId:e.danmaku_id,itemId:e.item_id,userId:e.user_id,offsetTime:e.offset_time,diggType:e.digg_type,score:null==e?void 0:e.score})),total:a,logPb:n&&JSON.stringify(n),httpCode:o}}function h(e){let{danmaku_list:t,status_code:l,log_pb:n,total:a,has_more:o}=e;return{statusCode:l,danmakuList:null==t?void 0:t.map(e=>({text:e.text,status:e.status,danmakuId:e.danmaku_id,itemId:e.item_id,userId:e.user_id,offsetTime:e.offset_time,diggType:e.digg_type})),hasMore:o,logPb:n&&JSON.stringify(n)}}function f(e){let{danmaku_id:t,status_code:l,log_pb:n,isVerifyPassportError:a}=e;return{statusCode:l,danmakuId:t,logPb:n&&JSON.stringify(n),isVerifyPassportError:a}}function m(e){let{status_code:t,log_pb:l}=e;return{statusCode:null!=t?t:-1,logPb:l&&JSON.stringify(l)}}function g(e){let{status_code:t,log_pb:l}=e;return{statusCode:null!=t?t:-1,logPb:l&&JSON.stringify(l)}}async function x(e){let{ctx:t,hardware_concurrency:l}=e,o=await (0,r.U2)("/aweme/v1/web/danmaku/conf/get/",(0,a._)((0,n._)({},c),{conf_end_type:4,hardware_concurrency:l}),t?{timeout:1e3}:{},void 0,t);return(0,i.RL)(o,v)}async function _(e){let{opacity:t,fontSize:l,speed:o,region:i,isOpen:s}=e,d=await (0,r.v_)("/aweme/v1/web/danmaku/conf/set/",(0,n._)((0,a._)((0,n._)({},c),{conf_end_type:4,opacity:t,font_size:l,speed:o+1,region:i}),null!=s?{switch:s}:{}));return{statusCode:null==d?void 0:d.status_code}}async function w(e){let{awemeId:t="",startTime:l=0,endTime:o=0,authenticationToken:d="",duration:u=0,hasTotal:v,total:h}=e||{},f=await (0,r.U2)("/aweme/v1/web/danmaku/get_v2/",(0,a._)((0,n._)({},c),{app_name:s.APPNAME,format:"json",group_id:t,item_id:t,start_time:l,end_time:o,authentication_token:d,duration:u,has_total:v,total:h}));return(0,i.RL)(f,p)}async function j(e){let{awemeId:t="",offset:l=0,count:o=0}=e,d=await (0,r.U2)("/aweme/v1/web/danmaku/list/",(0,a._)((0,n._)({},c),{app_name:s.APPNAME,format:"json",group_id:t,item_id:t,offset:l,count:o}));return(0,i.RL)(d,h)}async function b(e){let{danmakuId:t="",awemeId:l="",type:o=0}=e,s=await (0,r.U2)("/aweme/v1/web/danmaku/digg/",(0,a._)((0,n._)({},c),{danmaku_id:t,aweme_id:l,action_type:o,enter_from:(0,d.vM)(),previous_page:(0,u.yW)()}));return(0,i.RL)(s,m)}async function y(e){let{item_id:t="",offset_time:l=0,text:o="",user_id:s=""}=e,v=await (0,r.v_)("/aweme/v1/web/danmaku/post_v2/",(0,a._)((0,n._)({},c),{item_id:t,offset_time:l,text:o,user_id:s,enter_from:(0,d.vM)(),previous_page:(0,u.yW)()}));return(0,i.RL)(v,f)}async function C(e){let{userType:t,danmakuId:l=""}=e,o=await (0,r.v_)("/aweme/v1/web/danmaku/delete_v2/",(0,a._)((0,n._)({},c),{app_name:s.APPNAME,format:"json",user_type:t,danmaku_id:l}));return(0,i.RL)(o,g)}},929582:function(e,t,l){"use strict";l(429532);var n=l(88648);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let o=n.forwardRef(function(e,t){return n.createElement("svg",a({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,ref:t},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.29289 3.29289C7.68342 2.90237 8.31658 2.90237 8.70711 3.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L8.70711 20.7071C8.31658 21.0976 7.68342 21.0976 7.29289 20.7071C6.90237 20.3166 6.90237 19.6834 7.29289 19.2929L14.5858 12L7.29289 4.70711C6.90237 4.31658 6.90237 3.68342 7.29289 3.29289Z",fill:"currentColor"}))});o.elementType="Icon",t.Z=o},47914:function(e,t,l){"use strict";var n=l(520739),a=l(878389),o=l(563097),i=l(88648);let r=(0,i.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,a._)((0,n._)({width:4,height:17,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,o.jsx)("path",{d:"M0 0a8 8 0 0 0 2.168 5.476l1.174 1.25a2 2 0 0 1 0 2.738l-1.174 1.25A8 8 0 0 0 0 16.19V0z",fill:"#323442"})})));t.Z=r},661540:function(e,t,l){"use strict";var n=l(520739),a=l(878389),o=l(563097),i=l(88648);let r=(0,i.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,a._)((0,n._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,o.jsx)("path",{d:"M16.292 9.364a1.929 1.929 0 1 0-2.727 2.727l5.637 5.637-5.637 5.637a1.928 1.928 0 1 0 2.727 2.727l6.985-6.985.016-.015a1.929 1.929 0 0 0 0-2.728l-7-7z",fill:"#0A0C20"})})));t.Z=r},973954:function(e){e.exports=function(e,t,l){return e==e&&(void 0!==l&&(e=e<=l?e:l),void 0!==t&&(e=e>=t?e:t)),e}},504641:function(e,t,l){var n=l(973954),a=l(993893);e.exports=function(e,t,l){return void 0===l&&(l=t,t=void 0),void 0!==l&&(l=(l=a(l))==l?l:0),void 0!==t&&(t=(t=a(t))==t?t:0),n(a(e),t,l)}}}]);