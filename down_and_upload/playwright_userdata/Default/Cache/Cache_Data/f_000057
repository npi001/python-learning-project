"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["607"],{179958:function(e,t,l){l.d(t,{H:function(){return h}});var i=l("563097"),n=l("88648"),a=l("713097"),o=l.n(a),r=l("410665"),s=l("658065"),d=l("637005"),u=l("702726"),c=l("569525"),v=l("520739"),m=l("878389");let f=(0,n.forwardRef)((e,t)=>(0,i.jsxs)("svg",(0,m._)((0,v._)({width:34,height:34,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,i.jsx)("g",{filter:"url(#entryIcon_svg__filter0_d_219_5917)",children:(0,i.jsx)("path",{d:"M22.94 21.309l.58 1.364a45.819 45.819 0 0 0 2.125 4.34l.528.947-.108.056-1.077.543-.102.052-.054-.102-.576-1.087a44.077 44.077 0 0 1-.22-.423 7.704 7.704 0 0 0-3.902.001c-.087.169-.154.3-.219.422l-.576 1.087-.054.102-.102-.052-1.077-.543-.108-.056.059-.106.468-.841a45.902 45.902 0 0 0 2.125-4.34l.58-1.364.038-.086.091.017c.482.086.97.086 1.451 0l.093-.017.037.086zm6.011-.019a3.731 3.731 0 0 0-.173.9c-.022.342-.034.69-.034 1.035v3.067c0 .345.012.694.034 1.035l.022.227c.029.226.08.452.151.673l.05.153h-1.92l.049-.153c.095-.295.153-.597.173-.9.022-.345.033-.694.033-1.035v-3.067c0-.34-.01-.689-.033-1.034a3.753 3.753 0 0 0-.173-.9l-.05-.154h1.921l-.05.153zM17.161 5.395l.123.008a4.527 4.527 0 0 1 3.14 1.602 4.367 4.367 0 0 1 1.033 2.978l-.005.109c-.015.284-.063.56-.13.828l-.117.447 1.964-.504.113-.027c2.38-.549 4.824.818 5.465 3.136l.05.184a4.368 4.368 0 0 1-.534 3.265l-.06.097a4.495 4.495 0 0 1-1.965 1.674c-3.71 1.444-5.893-1.51-6.663-3.187l.134-.034 2.236-.575c.033.329.136.661.333.984a2.5 2.5 0 0 0 2.51 1.157l.113-.021a2.456 2.456 0 0 0 1.384-.825l.297-.448a2.37 2.37 0 0 0 .209-1.637l-.018-.075c-.334-1.268-1.63-2.035-2.914-1.753h-.01l-7.51 1.916h-.022a.056.056 0 0 1-.02-.01.048.048 0 0 1-.017-.037l.014-.205.136-2.238c.327.071.682.079 1.054-.008.973-.227 1.74-1.006 1.894-1.992a2.371 2.371 0 0 0-.303-1.578l-.055-.09a2.46 2.46 0 0 0-1.855-1.118l-.076-.006c-1.323-.076-2.469.897-2.596 2.188v.009l-.47 7.62a.047.047 0 0 1-.053.04l-.013-.002-.166-.065-2.15-.83c.169-.284.285-.612.316-.987l.007-.092a2.443 2.443 0 0 0-1.263-2.256l-.084-.043-.105-.048a2.482 2.482 0 0 0-1.508-.155l-.104.024a2.443 2.443 0 0 0-1.683 1.46c-.487 1.219.104 2.59 1.31 3.109l.008.003 7.22 2.797c.03.012.036.048.02.068l-.114.136-1.467 1.759a2.335 2.335 0 0 0-.79-.573l-.068-.03-.086-.034c-.873-.321-1.878-.147-2.566.484l-.069.065a2.407 2.407 0 0 0 .188 3.584 2.49 2.49 0 0 0 3.404-.268l.006-.006 3.485-4.165v3.166l-.5.607v-.004l-1.29 1.543c-1.559 1.868-4.346 2.229-6.28.782l-.092-.07a4.41 4.41 0 0 1-1.668-3.076l-.009-.113a4.384 4.384 0 0 1 1.619-3.688l.357-.297-1.892-.729c-2.323-.895-3.535-3.457-2.656-5.739a4.475 4.475 0 0 1 2.565-2.555 4.577 4.577 0 0 1 4.068.373l.393.244.12-1.995h-.001c.146-2.447 2.248-4.375 4.728-4.258zm4.679 17.909a45.987 45.987 0 0 1-.964 2.191 9.16 9.16 0 0 1 2.417 0 45.878 45.878 0 0 1-.963-2.191l-.245-.6-.245.6z",fill:"#fff"})}),(0,i.jsx)("defs",{children:(0,i.jsxs)("filter",{id:"entryIcon_svg__filter0_d_219_5917",x:0,y:0,width:34.001,height:34,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{}),(0,i.jsx)("feGaussianBlur",{stdDeviation:2.5}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,i.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_219_5917"}),(0,i.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_219_5917",result:"shape"})]})})]})));var p=l("473677");let h=e=>{let{awemeInfo:t,className:l,isShowAiCard:a}=e,v=(0,n.useRef)(null),m=(0,r.x)(()=>{u.logInstance.sendLog("aiChatButtonShow",{enter_from:(0,s.yW)(),ai_chat_button_position:"head_entry",group_id:null==t?void 0:t.awemeId})});return(0,i.jsxs)("div",{ref:m,className:o()(c.default.aiDouyinEntry,l),onClick:()=>{if(!a){var e,l,i;null==v||null===(i=v.current)||void 0===i||null===(l=i.getLottieInstance())||void 0===l||null===(e=l.goToAndPlay)||void 0===e||e.call(l,0)}u.logInstance.sendLog("aiChatButtonClick",{enter_from:(0,s.yW)(),ai_chat_button_position:"head_entry",group_id:null==t?void 0:t.awemeId}),d.emit(d.EVENT.toggleAiCard,{awemeId:t.awemeId,from:"head_entry"})},onMouseEnter:()=>{d.emit(d.EVENT.renderAiCard,{awemeId:t.awemeId,from:"head_entry"})},children:[(0,i.jsx)("div",{className:c.default.blurBgContianer,children:(0,i.jsx)("div",{className:c.default.blurBg})}),(0,i.jsx)(p.Z,{className:o()(c.default.aiDouyinIcon),src:f,width:32,height:32,viewBox:"0 0 34 34"})]})}},617960:function(e,t,l){l.d(t,{Z:function(){return f}});var i=l("520739"),n=l("878389"),a=l("368200");l("874386");var o=l("563097"),r=l("88648"),s=l("713097"),d=l.n(s),u=l("747909"),c=l("767548");let v=(0,r.forwardRef)((e,t)=>(0,o.jsx)("svg",(0,n._)((0,i._)({fill:"none",stroke:"currentColor",strokeWidth:4,viewBox:"0 0 48 48","aria-hidden":"true",className:"loading_svg__arco-icon loading_svg__arco-icon-loading",ref:t},e),{children:(0,o.jsx)("path",{d:"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6"})})));var m=l("223958"),f=e=>{var{onClick:t,children:l,className:s,disabled:f}=e,p=(0,a._)(e,["onClick","children","className","disabled"]);let[h,x]=(0,r.useState)(!1),k=(0,r.useCallback)(async()=>{if(!!t)try{x(!0),await t()}catch(e){}finally{x(!1)}},[t]);return(0,o.jsxs)(u.Button,(0,n._)((0,i._)({width:132},p),{className:d()([m.default.favBtn,s]),autoFixed:!1,disabled:!!h||f,newStyle:!0,onClick:k,theme:"solid",children:[h&&(0,o.jsx)(c.Z,{src:v,className:m.default.icon,viewBox:"0 0 48 48"}),l]}))}},284928:function(e,t,l){l.d(t,{Z:function(){return ee}});var i=l("520739"),n=l("563097"),a=l("88648");l("874386");var o={Loading:0,0:"Loading",Empty:1,1:"Empty",Collect:2,2:"Collect",CreateCollection:3,3:"CreateCollection",EditCollection:4,4:"EditCollection"};l("268917"),l("250440"),l("675373"),l("209955");var r=l("750530"),s=l("878389"),d=l("602394");let u={collects:[],hasMore:!0,cursor:0,total:9},c=e=>new Promise(t=>setTimeout(t,e)),v=()=>{let[e,t]=(0,a.useState)(u.collects),[l,n]=(0,a.useState)(u.hasMore),[o,v]=(0,a.useState)({list:!1}),m=(0,a.useRef)({cursor:u.cursor,total:0}),f=(0,a.useCallback)(async function(){let{triggerLoading:e=!0,reset:a=!1,needHold:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(e&&v(e=>(0,s._)((0,i._)({},e),{list:!0})),o&&await c(500),!a&&!l)return e&&v(e=>(0,s._)((0,i._)({},e),{list:!1})),[];let d=a?0:m.current.cursor,f=await (0,r.So)({cursor:d,offset:20});if(0!==f.statusCode)throw Error();return m.current.cursor=f.cursor,m.current.total=f.total,u.cursor=f.cursor,u.total=f.total,n(f.hasMore),u.hasMore=f.hasMore,t(e=>a?f.data:[...e,...f.data]),u.collects=a?f.data:[...u.collects,...f.data],f.data}catch(e){return d.F.info("网络错误"),[]}finally{e&&v(e=>(0,s._)((0,i._)({},e),{list:!1}))}},[l]),p=(0,a.useCallback)(e=>{t(t=>[...e,...t]),u.collects=[...e,...u.collects]},[]),h=(0,a.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!!e)t(u.collects),n(u.hasMore),m.current.cursor=u.cursor,m.current.total=u.total},[]);return{state:{collects:e,hasMore:l,loading:o},refs:{resRef:m},action:{getCollects:f,addCollects:p,reset:h}}},m=(0,a.createContext)(null),f=()=>(0,a.useContext)(m);var p=l("430349");let h={init:!1},x=e=>{let[t,l]=(0,a.useState)(!1),n=function(e){let{awemeInfo:t,collectMethod:l,unCollectMethod:n,collected:o,onCollectDone:s,onMove:d,selectType:u="multi"}=e,c=f(),[v,m]=(0,a.useState)([]),[h,x]=(0,a.useState)([]),k=(0,a.useCallback)(e=>{if("single"===u){x([e]);return}let t=[...h],l=t.indexOf(e);-1===l?t.push(e):t.splice(l,1),x(t)},[h,u]),g=(0,a.useCallback)(e=>{let n=c.state.collects.filter(t=>null==e?void 0:e.includes(t.collectionFolderId)),a=(n||[]).map(e=>e.collectionFolderName),o=(n||[]).map(e=>e.collectionFolderId),d={folder_name:a.join(","),folder_id:o.join(",")};(0,p.g)("click_favorite_video",d),l({logParams:(0,i._)({click_from:"panel",click_method:"panel"},d),nextFunc:async()=>{if(!(null==e?void 0:e.length))return null==s||s(),{statusCode:0};try{return await Promise.all(n.map(async e=>{let{status_code:l}=await (0,r.RX)({item_ids:[t.awemeId],item_type:2,to_collects_id:e.collectionFolderId,collects_name:e.collectionFolderName,update_collects_sort:!0,move_collects_list:o});if(l)throw Error()})),await c.action.getCollects({reset:!0,triggerLoading:!1,needHold:!0}),{statusCode:0,successMsg:"视频收藏成功，可以在「我的」主页-收藏夹查看"}}catch(e){return{statusCode:1,successMsg:"移动至收藏夹失败"}}finally{x([]),null==s||s()}}})},[t,l,s,c.action.getCollects,c.state.collects]),_=(0,a.useCallback)(()=>{null==n||n({logParams:{click_method:"panel",click_from:"panel"},nextFunc:async()=>{try{return await c.action.getCollects({reset:!0,triggerLoading:!1,needHold:!0}),{statusCode:0}}catch(e){return{statusCode:1}}}})},[t,n,c.action.getCollects]),y=(0,a.useCallback)(()=>g(h),[g,h]),w=(0,a.useCallback)(async()=>{try{await d(h,v),await c.action.getCollects({reset:!0,triggerLoading:!1})}catch(e){}},[d,h,v]),E=(0,a.useCallback)(e=>{c.action.addCollects([e]),m(t=>[e,...t]),k(e.collectionFolderId)},[k,c.action.addCollects]),C=(0,a.useCallback)(()=>{x([]),c.action.reset()},[c.action.reset]),S=(0,a.useCallback)(()=>x([]),[]);return{state:{collects:c.state.collects,newCollects:v,selectedIds:h,hasMore:c.state.hasMore,loading:c.state.loading,collected:o},refs:{collectionRefs:c.refs},action:{getCollects:c.action.getCollects,toggleSelectedId:k,collect:g,unCollect:_,collectToCollection:y,addCollect:E,moveToCollection:w,reset:C,resetSelectedIds:S}}}(e),s=(0,a.useRef)(e.collected),d=(0,a.useMemo)(()=>h.init||e.awaysReset?t?o.CreateCollection:n.state.loading.list?o.Loading:n.state.collects.length?o.Collect:o.Empty:o.Loading,[n.state.loading.list,n.state.collects,t,e.awaysReset]),u=(0,a.useCallback)(t=>{var i;null===(i=e.onCreateDone)||void 0===i||i.call(e),l(!1),n.action.addCollect(t)},[e.onCreateDone,n.action.getCollects]),c=(0,a.useCallback)(()=>l(!0),[]);return(0,a.useEffect)(()=>{if(e.awaysReset){e.show&&(n.action.getCollects({reset:!0}),l(!1),n.action.resetSelectedIds());return}if(h.init){n.action.reset(),l(!1);return}e.show&&!h.init&&(h.init=!0,n.action.getCollects({reset:!0}))},[e.show,e.awaysReset,n.action.reset]),(0,a.useEffect)(()=>{if(e.collected!==s.current)s.current=e.collected,n.action.getCollects({reset:!0})},[e.collected,n.action.getCollects]),(0,a.useEffect)(()=>{var t,l;if(!!e.show&&!!(null===(t=e.awemeInfo)||void 0===t?void 0:t.awemeId)&&d!==o.Loading)(0,p.g)("add_to_favorite_folder_panel_show",{group_id:null===(l=e.awemeInfo)||void 0===l?void 0:l.awemeId,folder_cnt:n.refs.collectionRefs.resRef.current.total})},[e.show,e.awemeInfo,d]),{props:e,collection:n,state:{status:d},action:{handleCreateDone:u,toCreateCollection:c}}},k=(0,a.createContext)(null),g=()=>(0,a.useContext)(k);var _=l("514972"),y=l("368200"),w=l("767548");let E=(0,a.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,s._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none",ref:t},e),{children:(0,n.jsx)("path",{d:"M8 15.167A6.667 6.667 0 1 0 8 1.833a6.667 6.667 0 0 0 0 13.334zM8 11.5a.667.667 0 0 1-.666-.667V9.167H5.667a.667.667 0 0 1 0-1.334h1.667V6.167a.667.667 0 0 1 1.333 0v1.666h1.667a.667.667 0 1 1 0 1.334H8.667v1.666a.667.667 0 0 1-.666.667z",fill:"#fff",fillOpacity:".34"})})));var C=l("541804"),S=l("344503"),b=e=>{var{showCreate:t,title:l,syncCreateModalShow:o}=e,r=(0,y._)(e,["showCreate","title","syncCreateModalShow"]);let{open:d,show:u,modal:c}=(0,S.Z)((0,s._)((0,i._)({},r),{disablePlayNextControl:!0})),v=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!!o)return v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{null==o||o(u)},500),()=>{clearTimeout(v.current)}},[u,o]),(0,n.jsxs)("div",{className:C.default.header,children:[(0,n.jsx)("span",{className:C.default.text,children:l}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:C.default.btn,onClick:d,children:[(0,n.jsx)(w.Z,{src:E,className:C.default.icon,viewBox:"0 0 16 17"}),(0,n.jsx)("span",{children:"新建"})]}),c]})]})},I=()=>{let e=g(),t=o.Empty===e.state.status,l=o.Collect===e.state.status;if(o.Loading===e.state.status)return null;if("modal"===e.props.type){let i="single"===e.props.selectType?"选择收藏夹":"收藏视频到";return(0,n.jsx)(_.Z,{title:l||t?i:"新建收藏夹",onClose:e.props.onClose})}return"popover"===e.props.type?(0,n.jsx)(b,{title:"选择收藏夹",showCreate:l,syncCreateModalShow:e.props.syncCreateModalShow,onOpen:e.props.onCreateOpen,onDone:e.action.handleCreateDone}):null},j=l("286114"),N=l("301061"),L=l("88961"),D=l("747909"),T=l("637005"),A=l("920976"),R=l("372316");let P=(0,a.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,s._)((0,i._)({width:18,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("g",{clipPath:"url(#defaultCover_svg__clip0_6065_239239)",children:(0,n.jsx)("path",{d:"M14.259 3.908A4.073 4.073 0 0 1 12.385.5H9.428l-.005 11.712c-.05 1.312-1.142 2.365-2.48 2.365-.417 0-.809-.103-1.154-.283a2.456 2.456 0 0 1-1.333-2.174c0-1.354 1.116-2.457 2.486-2.457.256 0 .501.042.734.114V6.793a5.54 5.54 0 0 0-.734-.052c-3 0-5.442 2.413-5.442 5.38 0 1.82.92 3.43 2.324 4.404a5.455 5.455 0 0 0 3.119.975c3.001 0 5.443-2.413 5.443-5.38V6.181A7.088 7.088 0 0 0 16.5 7.488V4.566a4.129 4.129 0 0 1-2.241-.658z",fill:"#fff",fillOpacity:".34"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"defaultCover_svg__clip0_6065_239239",children:(0,n.jsx)("path",{fill:"#fff",transform:"translate(.5 .5)",d:"M0 0h17v17H0z"})})})]})));var V=l("452362"),M=e=>{let{cover:t,name:l,count:i,secret:o,children:r}=e,[s,d]=(0,a.useState)("");return(0,a.useEffect)(()=>{if(0===i||!t)return;let e=new Image;e.onload=()=>{d(t)},e.src=t},[t,i]),(0,n.jsxs)("div",{className:V.default.collection,children:[(0,n.jsxs)("div",{className:V.default.left,children:[(0,n.jsxs)("div",{className:V.default.coverWrapper,children:[(0,n.jsx)(w.Z,{src:P,className:V.default.defaultCover,viewBox:"0 0 18 18"}),s&&(0,n.jsx)("div",{className:V.default.imgWrapper,children:(0,n.jsx)("img",{width:28,height:28,src:s,className:V.default.cover})})]}),(0,n.jsx)("span",{className:V.default.name,children:l}),o&&(0,n.jsx)(w.Z,{src:R.Z,className:V.default.secret,viewBox:"0 0 14 16"}),(0,n.jsx)("span",{className:V.default.count,children:i})]}),r]})},B=()=>{let e=g(),[t,l]=(0,L.Z)(),i=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!!l)e.collection.action.getCollects({triggerLoading:!1})},[l]),(0,a.useEffect)(()=>{var t,l;if("modal"===e.props.type){if(e.props.show)return;null===(t=i.current)||void 0===t||t.scrollTo(0,0)}else{if(!e.props.show)return;null===(l=i.current)||void 0===l||l.scrollTo(0,0)}},[e.props.show,e.props.type]),(0,a.useEffect)(()=>T.listen(T.EVENT.NewCollection,()=>{var e;null===(e=i.current)||void 0===e||e.scrollTo(0,0)}),[]),(0,a.useEffect)(()=>{let e=e=>null==e?void 0:e.stopPropagation(),t=i.current;return null==t||t.addEventListener("touchstart",e,!0),null==t||t.addEventListener("touchmove",e,!0),null==t||t.addEventListener("touchend",e,!0),()=>{null==t||t.removeEventListener("touchstart",e),null==t||t.removeEventListener("touchmove",e),null==t||t.removeEventListener("touchend",e)}},[]),(0,n.jsxs)("div",{ref:i,className:A.default.list,children:[(0,n.jsx)(D.RadioGroup,{defaultValue:e.collection.state.selectedIds[0],onChange:t=>e.collection.action.toggleSelectedId(t.target.value),children:e.collection.state.collects.map(t=>(e.props.disabledCollectionIds||[]).includes(t.collectionFolderId)?null:(0,n.jsx)(M,{cover:t.cover,name:t.collectionFolderName,count:t.videoTotal,secret:0===t.status,children:"multi"===e.props.selectType?(0,n.jsx)(D.Checkbox,{className:A.default.checkbox,checked:e.collection.state.selectedIds.includes(t.collectionFolderId),onChange:()=>e.collection.action.toggleSelectedId(t.collectionFolderId)}):(0,n.jsx)(D.Radio,{value:t.collectionFolderId})},t.collectionFolderId))}),e.collection.state.hasMore&&(0,n.jsx)("div",{ref:t,className:A.default.loading,children:(0,n.jsx)(N.gb,{})})]})},F=l("959218"),O=l("449792");let z=(0,a.forwardRef)((e,t)=>(0,n.jsx)("svg",(0,s._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none",ref:t},e),{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.75 13.333a.75.75 0 0 0 1.5 0V8.75h4.583a.75.75 0 0 0 0-1.5H9.249V2.667a.75.75 0 1 0-1.5 0V7.25H3.166a.75.75 0 1 0 0 1.5h4.583v4.583z",fill:"#fff"})})));var G=l("617960"),Z=l("254897"),U=()=>{let e=g(),{open:t,show:l,modal:i}=(0,S.Z)({onDone:e.action.handleCreateDone,onOpen:e.props.onCreateOpen}),o=(0,a.useRef)(null),r=(0,a.useCallback)(()=>{switch(e.props.type){case"popover":t();return;case"modal":e.action.toCreateCollection();return;default:return}},[t,e.props.type,e.action.toCreateCollection]);return(0,a.useEffect)(()=>{if(!!e.props.syncCreateModalShow)o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{var t,i;null===(t=(i=e.props).syncCreateModalShow)||void 0===t||t.call(i,l)},500)},[l,e.props.syncCreateModalShow]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:O.default.empty,children:[(0,n.jsx)(Z.z,{svg:(0,n.jsx)(F.Z,{className:O.default.icon}),style:{fontSize:"82px"}}),(0,n.jsx)("span",{className:O.default.text,children:"暂无收藏夹～"}),(0,n.jsxs)(G.Z,{className:O.default.btn,onClick:r,children:[(0,n.jsx)(w.Z,{src:z,className:O.default.iconAdd,viewBox:"0 0 17 16"}),"新建收藏夹"]})]}),i]})},K=l("924656"),W=()=>{let e=g();switch(e.state.status){case o.Loading:return(0,n.jsx)(N.gb,{className:j.default.loading});case o.Empty:return(0,n.jsx)(U,{});case o.Collect:return(0,n.jsx)(B,{});case o.CreateCollection:return(0,n.jsx)(K.Z,{onDone:e.action.handleCreateDone});default:return null}},H=l("713097"),Y=l.n(H),$=l("562844"),q=()=>{let e=g(),t=e.props.collected?"已收藏视频":"仅收藏视频",l=(0,a.useCallback)(()=>{e.props.collected?e.collection.action.unCollect():e.collection.action.collect()},[e.props.collected,e.collection.action.collect,e.collection.action.unCollect]),i=(0,a.useCallback)(()=>{(0,p.g)("create_favorite_folder_click",{click_position:"favorite_folder_panel"}),e.action.toCreateCollection()},[e.action.toCreateCollection]);return e.state.status!==o.Collect?null:(0,n.jsxs)("div",{className:Y()([$.default.footer,"popover"===e.props.type&&$.default.popper]),children:["modal"===e.props.type&&(0,n.jsx)(G.Z,{type:"secondary",onClick:i,children:"新建收藏夹"}),"popover"===e.props.type&&(0,n.jsx)(G.Z,{type:"secondary",onClick:l,children:t}),e.props.onMove?(0,n.jsx)(G.Z,{disabled:!e.collection.state.selectedIds.length,onClick:e.collection.action.moveToCollection,children:"确定"}):(0,n.jsx)(G.Z,{disabled:!e.collection.state.selectedIds.length,onClick:e.collection.action.collectToCollection,children:"收藏至收藏夹"})]})},Q=l("494962"),J=l("353982");let X=e=>{let t=x(e);return(0,J.Z)(e.show,"container"),(0,n.jsx)(k.Provider,{value:t,children:(0,n.jsxs)("div",{className:Q.default.container,children:[(0,n.jsx)(I,{}),(0,n.jsx)(W,{}),(0,n.jsx)(q,{})]})})};var ee=e=>{let t=v();return(0,n.jsx)(m.Provider,{value:t,children:(0,n.jsx)(X,(0,i._)({},e))})}},514972:function(e,t,l){var i=l(563097);l(88648);var n=l(477667),a=l(892586),o=l(473677);t.Z=e=>{let{title:t,onClose:l}=e;return(0,i.jsxs)("div",{className:a.default.header,children:[(0,i.jsx)("h1",{className:a.default.title,children:t}),(0,i.jsx)(o.Z,{src:n.Z,className:a.default.close,viewBox:"0 0 36 36",onClick:l})]})}},924656:function(e,t,l){var i=l(520739);l(874386),l(209955);var n=l(563097),a=l(88648),o=l(747909),r=l(602394),s=l(750530),d=l(318826),u=l(430349),c=l(617960);t.Z=e=>{let{toastInGlobal:t,collectsInfo:l,logParams:v,onDone:m,onClose:f}=e,p=(0,a.useRef)(null),h=!l,[x,k]=(0,a.useState)((null==l?void 0:l.collectionFolderName)||""),[g,_]=(0,a.useState)(!!h||0!==l.status),y=(0,a.useRef)(null),w=(0,a.useMemo)(()=>!!x.trim()||!1,[x]),E=(0,a.useCallback)(async()=>{try{let e,n;if(l){let t=x===(null==l?void 0:l.collectionFolderName)?void 0:x,i=await (0,s.tn)(l.collectionFolderId,t,g?0:1);e=i.statusCode,n=i.collectInfo}else{let t=await (0,s.vr)(x,g?0:1);e=t.statusCode,n=t.collectInfo}if(e)throw Error();r.F.info({text:l?"收藏夹编辑成功":"收藏夹创建成功",elTarget:t?void 0:p.current}),(0,u.g)(l?"edit_favorite_folder_confirm":"create_favorite_folder_confirm",(0,i._)({click_position:"favorite_folder_panel",folder_name:n.collectionFolderName,folder_id:n.collectionFolderId,status:n.status},v)),null==m||m(n)}catch(e){r.F.info({text:"操作失败",elTarget:p.current})}},[l,x,g,t,v,m]);return(0,a.useEffect)(()=>{var e;null===(e=y.current)||void 0===e||e.focus()},[y.current]),(0,n.jsxs)("div",{ref:p,className:d.default.create,children:[(0,n.jsx)(o.Input,{ref:y,className:d.default.input,placeholder:`请输入收藏夹的名称（15个字以内）`,value:x,maxLength:15,onChange:e=>k(e)}),(0,n.jsxs)("div",{className:d.default.public,children:[(0,n.jsxs)("div",{className:d.default.left,children:[(0,n.jsx)("span",{className:d.default.text,children:"设置为公开"}),(0,n.jsx)("span",{className:d.default.info,children:"公开后有机会被推荐，帮助到更多人"})]}),(0,n.jsx)(o.Switch,{size:"large",className:d.default.toggle,checked:g,onChange:e=>_(e)})]}),(0,n.jsxs)("div",{className:d.default.footer,children:[!h&&(0,n.jsx)(c.Z,{className:d.default.btn,type:"secondary",onClick:f,children:"取消"}),(0,n.jsx)(c.Z,{className:d.default.btn,disabled:!w,onClick:E,children:h?"确认":"确认修改"})]})]})}},344503:function(e,t,l){var i=l(520739);l(874386);var n=l(563097),a=l(88648),o=l(747909),r=l(637005),s=l(267830),d=l(924656),u=l(318826),c=l(514972),v=l(430349),m=l(353982),f=l(536605);t.Z=e=>{let{collectsInfo:t,toastInGlobal:l,logParams:p,disablePlayNextControl:h,onOpen:x,onDone:k,onClose:g}=e,_=!t,y=_?"新建收藏夹":"编辑收藏夹",[w,E]=(0,a.useState)(!1),C=(0,a.useCallback)(()=>{null==x||x(),E(!0),_&&(0,v.g)("create_favorite_folder_click",(0,i._)({click_position:"favorite_folder_panel"},p))},[p,x,_]),S=(0,a.useCallback)(e=>{null==k||k(e),E(!1),r.emit(r.EVENT.NewCollection)},[k]),b=(0,a.useCallback)(()=>{null==g||g(),E(!1)},[g]),I=(0,a.useMemo)(()=>w?(0,n.jsxs)(o.Modal,{maskClosable:!1,modalContentClass:u.default.modal,visible:w,onCancel:b,footer:null,centered:!0,closable:!1,zIndex:9999,getPopupContainer:()=>{var e;return null!==(e=(0,s.W)())&&void 0!==e?e:document.body},children:[(0,n.jsx)(c.Z,{title:y,onClose:b}),(0,n.jsx)(d.Z,{toastInGlobal:l,collectsInfo:t,logParams:p,onDone:S,onClose:b})]}):null,[w,S,p,b,l]);return(0,m.Z)(w,"maintain",h),(0,f.Z)(w,"maintain_collection_modal"),{open:C,modal:I,show:w}}},3364:function(e,t,l){l.d(t,{Z:function(){return p}});var i=l("520739");l("179133"),l("826893");var n=l("563097"),a=l("88648"),o=l("713097"),r=l.n(o),s=l("824454"),d=l("79307");l("874386");var u=l("78039"),c=l("903868"),v=l("604448"),m=l("284928");let f=e=>{let{referenceElement:t,awemeInfo:l,collected:i,collectMethod:o,unCollectMethod:f,from:p,abTestData:h}=e,x=(0,a.useRef)(null),k=(0,a.useRef)(i),g=(0,a.useRef)({show:!1}),{show:_,setForceShow:y,setForceHide:w}=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.o,{isWebMiniWin:i=!1}=(0,c.Iq)(e=>{let{isWebMiniWin:t}=e;return{isWebMiniWin:t}}),n=(0,a.useRef)(null),[o,r]=(0,a.useState)(!1),[s,d]=(0,a.useState)(!1),v=s||o,m=(0,a.useRef)(v),f=(0,a.useRef)(null),p=(0,a.useCallback)(e=>{r(e),d(e)},[]),h=(0,a.useCallback)(()=>p(!0),[p]),x=(0,a.useCallback)(()=>p(!1),[p]);return(0,a.useEffect)(()=>{let t=()=>{if(!f.current)m.current=!0,f.current=setTimeout(()=>{f.current=null,m.current&&(r(!0),d(!1))},l)},i=()=>{m.current=!1,f.current&&(clearTimeout(f.current),f.current=null),n.current=setTimeout(()=>{r(!1),n.current=null},50)};return null==e||e.addEventListener("mouseenter",t),null==e||e.addEventListener("mouseleave",i),()=>{null==e||e.removeEventListener("mouseenter",t),null==e||e.removeEventListener("mouseleave",i)}},[e]),(0,a.useEffect)(()=>{let e=()=>{d(!0),r(!1)},l=()=>{d(!1)};return null==t||t.addEventListener("mouseenter",e),null==t||t.addEventListener("mouseleave",l),()=>{null==t||t.removeEventListener("mouseenter",e),null==t||t.removeEventListener("mouseleave",l)}},[t]),(0,a.useEffect)(()=>{if(!!i)x()},[i,x]),{show:v,setForceShow:h,setForceHide:x}}(t,x.current,null==h?void 0:h.interactionDelay);return(0,a.useEffect)(()=>{if(i!==k.current)k.current=i,w()},[i,w]),(0,s.Z)(()=>x.current,()=>{if(!g.current.show)w()}),(0,n.jsx)("div",{ref:x,className:r()("semi-always-dark",[v.default.popover,!_&&v.default.hidden,p===d.lT.Search&&v.default.search]),onWheelCapture:e=>e.stopPropagation(),children:(0,n.jsx)(m.Z,{show:_,type:"popover",selectType:"multi",awemeInfo:l,collected:i,collectMethod:o,unCollectMethod:f,syncCreateModalShow:e=>g.current.show=e,onCreateOpen:y,onCollectDone:w})})};var p=e=>{let{userInfo:t,hidden:l}=e;return!l&&(null==t?void 0:t.isLogin)?(0,n.jsx)(f,(0,i._)({},e)):null}},430349:function(e,t,l){l.d(t,{g:function(){return s}});var i=l(520739),n=l(544933),a=l(658065),o=l(32167);let r=new n.h({favorite_video_bubble_show:{eventName:"favorite_video_bubble_show",params:{group_id:"",enter_from:"",enter_from_merge:""}},favorite_video_bubble_click:{eventName:"favorite_video_bubble_click",params:{click_position:"",enter_from:"",enter_from_merge:"",group_id:""}},add_to_favorite_folder_panel_show:{eventName:"add_to_favorite_folder_panel_show",params:{folder_cnt:0,enter_from:"",enter_from_merge:"",group_id:""}},create_favorite_folder_click:{eventName:"create_favorite_folder_click",params:{click_position:"",enter_from:"",enter_from_merge:""}},create_favorite_folder_confirm:{eventName:"create_favorite_folder_confirm",params:{click_position:"",folder_name:"",folder_id:"",status:0,enter_from:"",enter_from_merge:""}},edit_favorite_folder_confirm:{eventName:"edit_favorite_folder_confirm",params:{click_position:"",folder_name:"",folder_id:"",status:0,enter_from:"",enter_from_merge:""}},click_favorite_video:{eventName:"click_favorite_video",params:{click_method:"panel",folder_name:"",folder_id:""}},favorite_video:{eventName:"favorite_video",params:{click_method:"panel",folder_name:"",folder_id:"",item_duration_ms:0}}}),s=(e,t)=>r.sendLog(e,(0,i._)({enter_from_merge:(0,a.yW)(),enter_from:(0,o.vM)()},t))},536605:function(e,t,l){l.d(t,{Z:function(){return a}});var i=l(88648),n=l(34644);function a(e,t){(0,i.useEffect)(()=>(e?(0,n.o)({pausePlayControlShortcut:!0,pauseCustomShortcut:!0,pauseGlobalShortcut:!0},t):(0,n.m)(t),()=>{(0,n.m)(t)}),[e,t])}},353982:function(e,t,l){l.d(t,{Z:function(){return a}});var i=l(88648),n=l(637005);function a(e,t,l){(0,i.useEffect)(()=>{if(!l)e?n.emit(n.EVENT.videoStopPlayNext):n.emit(n.EVENT.videoRemoveStopPlayNext)},[e,l])}},905247:function(e,t,l){l.r(t);var i=l(520739);l(874386);var n=l(563097),a=l(354159),o=l.n(a),r=l(88648);let s=r.forwardRef((e,t)=>{let{data:l,className:a,loop:s,autoplay:d=!0,onLoopComplete:u,onComplete:c,onInit:v,hidden:m,rendererSettings:f,assetsPath:p}=e,h=r.useRef(),x=r.useRef(),[k,g]=r.useState(!1);return r.useEffect(()=>{if(x.current&&k&&c){let e=x.current;return null==e||e.addEventListener("complete",c),()=>{null==e||e.removeEventListener("complete",c)}}},[k,c]),r.useEffect(()=>{if(x.current&&k&&u){let e=x.current;return e.addEventListener("loopComplete",u),()=>{e.removeEventListener("loopComplete",u)}}},[k,u]),r.useEffect(()=>{if(x.current&&k&&v){let e=x.current;return null==e||e.addEventListener("DOMLoaded",v),()=>{null==e||e.removeEventListener("DOMLoaded",v)}}},[k,v]),r.useLayoutEffect(()=>{if(h.current&&o()&&!x.current){var e;x.current=null===o()||void 0===o()?void 0:null===(e=o().loadAnimation)||void 0===e?void 0:e.call(o(),{container:h.current,renderer:"svg",animationData:l,loop:s,autoplay:d,rendererSettings:(0,i._)({runExpressions:!1},f),assetsPath:p}),g(!0)}},[]),r.useEffect(()=>()=>{var e,t;null===(t=x.current)||void 0===t||null===(e=t.destroy)||void 0===e||e.call(t)},[]),r.useImperativeHandle(t,()=>({getLottieInstance:()=>x.current})),(0,n.jsx)("div",{hidden:m,ref:h,className:a})});t.default=r.memo(s)},620117:function(e,t,l){l.r(t);var i=l(905247);t.default=i.default},610371:function(e,t,l){var i=l(520739);l(675373);var n=l(563097),a=l(944189);l(88648);var o=l(338426),r=l(367366);let s=(0,o.ZP)(()=>l.e("90503").then(l.bind(l,671389))),d=e=>{e.stopPropagation()},u=null;t.Z=e=>{let{title:t,cancelBtnText:l,confirmBtnText:o,onConfirm:c,onCancel:v,otherProps:m={}}=e,f=null;if(u)f=()=>{u=null};else{let e=document.createElement("div"),c=document.body,v=(0,a.createRoot)(e);(0,r.r)()&&(c=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement),c.appendChild(e),f=()=>{var t;c.style.overflow="",v.unmount(),c.contains(e)&&c.removeChild(e),null===(t=document)||void 0===t||t.removeEventListener("keydown",d,!0)},c.style.overflow="hidden",u=new Promise((e,a)=>{var r;null===(r=document)||void 0===r||r.addEventListener("keydown",d,!0),v.render((0,n.jsx)(s,(0,i._)({title:t,cancelBtnText:l,confirmBtnText:o,onCancel:()=>{a()},onConfirm:()=>{e(!0)}},m)))})}return u.then(async()=>{u=null;try{await (null==c?void 0:c())}finally{null==f||f()}},()=>{u=null,null==v||v(),null==f||f()}).catch(()=>{u=null,null==v||v(),null==f||f()}),f}},644831:function(e,t,l){l.d(t,{Z:function(){return m}});var i=l("563097"),n=l("88648"),a=l("713097"),o=l.n(a),r=l("747909"),s=l("767548"),d=l("881462"),u=l("520739"),c=l("878389");let v=(0,n.forwardRef)((e,t)=>(0,i.jsx)("svg",(0,c._)((0,u._)({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.983 2.892l-.56 1.577a5.667 5.667 0 0 0-.008.02 2.053 2.053 0 0 1-1.953 1.447l-.022.002-1.726.079L4.153 7.22l.015.013c.055.046.148.123.231.21.435.457.636 1.088.545 1.712-.017.12-.048.237-.066.305l-.006.02-.47 1.78 1.318-.916.018-.013c.064-.044.17-.12.286-.18a2.053 2.053 0 0 1 1.919 0c.115.06.222.136.285.18l.019.013 1.317.917-.47-1.78a2.053 2.053 0 0 1 .473-2.037c.083-.088.176-.165.231-.211l.016-.013 1.438-1.203-1.725-.08h-.022a2.053 2.053 0 0 1-1.83-1.143c-.056-.114-.099-.234-.124-.304a8.62 8.62 0 0 0-.007-.02l-.56-1.578zm-.66-1.833c-.054.081-.115.252-.236.594l-.852 2.394c-.034.097-.051.145-.072.187a.793.793 0 0 1-.581.43c-.046.008-.098.01-.2.015l-2.517.115c-.335.016-.502.024-.594.05a.793.793 0 0 0-.415 1.231c.057.077.185.185.442.4l2.046 1.711c.075.063.112.094.143.126.168.177.246.42.21.662a1.79 1.79 0 0 1-.043.185l-.683 2.59c-.09.341-.135.512-.136.609a.793.793 0 0 0 1.075.752c.09-.035.235-.135.524-.336l2.006-1.396c.087-.06.13-.09.173-.113a.793.793 0 0 1 .741 0c.043.022.086.053.173.113l2.005 1.396c.29.2.434.301.525.336a.793.793 0 0 0 1.075-.752c-.001-.097-.046-.268-.136-.608l-.683-2.591c-.025-.094-.038-.141-.044-.185a.793.793 0 0 1 .21-.662c.032-.032.069-.063.143-.126l2.046-1.711c.258-.215.386-.323.443-.4a.793.793 0 0 0-.416-1.23c-.091-.027-.259-.035-.594-.05l-2.517-.116a1.806 1.806 0 0 1-.2-.015.793.793 0 0 1-.58-.43c-.021-.042-.038-.09-.073-.187L7.88 1.653c-.122-.342-.182-.513-.237-.594a.793.793 0 0 0-1.32 0z",fill:"#fff"})})));var m=e=>{let{collapseStatus:t=!1,handleClick:l,className:n,isFetching:a}=e;return(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)("div",{className:o()(d.default.collectBtn,d.default.fetchingBg,n)}),!a&&(0,i.jsxs)(r.Button,{className:o()(d.default.collectBtn,n,{[d.default.collectd]:t}),onClick:l,theme:"solid",children:[!t&&(0,i.jsx)(s.Z,{src:v,width:14,height:14,viewBox:"0 0 14 14"}),(0,i.jsx)("span",{children:t?"已收藏":"收藏"})]})]})}},915800:function(e,t,l){l.d(t,{v:function(){return b}});var i=l(520739),n=l(878389);l(675373),l(874386);var a=l(563097),o=l(88648),r=l(713097),s=l.n(r),d=l(338426),u=l(222406),c=l(746864),v=l(637005),m=l(744121),f=l(32167),p=l(367366),h=l(150566),x=l(734017),k=l(757003),g=l(60721),_=l(301061),y=l(322642),w=l(631493);let E=(0,d.ZP)(()=>Promise.all([l.e("74792"),l.e("66135"),l.e("5498"),l.e("21189"),l.e("12563"),l.e("96919"),l.e("96203"),l.e("20844"),l.e("14243"),l.e("83379")]).then(l.bind(l,482959)),{fallback:(0,a.jsx)(_.gb,{}),ssr:!1}),C=(0,d.ZP)(()=>l.e("13505").then(l.bind(l,389745)),{ssr:!1}),S=(0,d.ZP)(()=>l.e("13505").then(l.bind(l,68218)),{ssr:!1});var b={VideoPage:"VideoPage",UserPage:"UserPage"};t.Z=e=>{var t,l,r;let{className:d,awemeInfo:_,hidden:b,awemelogPb:I,handleClose:j,toast:N,reportExtraParams:L={},shareShowMethod:D,onMouseEnter:T,onMouseLeave:A,handleClickCopy:R,handleChooseFriend:P,handleShareToFriend:V,handleShareSuccess:M,shareType:B=y.y.Video,uid:F,userInfo:O,commentInfo:z,inanyPage:G="VideoPage",loginDispatch:Z,hideShareContent:U,shareeListHeight:K,width:W,onFriendSearching:H,loginUserInfo:Y,abtestData:$}=e,[q,Q]=(0,o.useState)(!1),[J,X]=(0,o.useState)(!1),[ee,et]=(0,o.useState)(!1),[el,ei]=(0,o.useState)(!1),en=(0,o.useRef)(null),ea=(0,o.useRef)(null),{EVENT:eo}=v,[er,es]=(0,o.useState)(!b),ed=(0,o.useRef)(!b),eu=(null==Y?void 0:Y.isLogin)||!1,ec=(0,o.useMemo)(()=>(!J||!!ee)&&b,[b,J,ee]);return((0,o.useEffect)(()=>{!b&&et(!1)},[b]),(0,o.useEffect)(()=>{!b&&(es(!0),v.emit(eo.videoStopPlayNext)),b&&er&&v.emit(eo.videoRemoveStopPlayNext),ed.current=!b},[b]),(0,o.useEffect)(()=>()=>{ed.current&&v.emit(eo.videoRemoveStopPlayNext)},[]),(0,o.useEffect)(()=>{if(!b){let t=w.s.getPlayer((0,m.OB)());switch(B){case y.y.Vs:case y.y.Video:var e;k.Z.sendLog("shareMenuShow",(0,i._)({urlParamList:["previous_page"],play_current_time:Math.floor(null==t?void 0:t.currentTime)||0,author_id:null==_?void 0:null===(e=_.authorInfo)||void 0===e?void 0:e.uid,group_id:null==_?void 0:_.awemeId,enter_from:(0,f.mo)(),log_pb:I,is_full_screen:(0,p.r)()?"1":"0",tab_name:(0,x.zD)()||(0,h.Rs)("tab_name")||"",click_method:D,share_type:"video"},L));break;case y.y.User:k.Z.sendLog("shareMenuShow",{enter_from:(0,f.vM)(),share_type:"user",click_method:D});break;case y.y.Comment:k.Z.sendLog("shareMenuShow",{enter_from:(0,f.vM)(),share_type:"comment",click_method:D})}}!b&&!q&&Q(!0)},[b,D]),(0,o.useEffect)(()=>{var e;let t=e=>e.stopPropagation();return null===(e=en.current)||void 0===e||e.addEventListener("wheel",t),()=>{var e;null===(e=en.current)||void 0===e||e.removeEventListener("wheel",t)}},[]),(0,o.useEffect)(()=>{setTimeout(()=>{var e;!b&&(null==ea?void 0:null===(e=ea.current)||void 0===e?void 0:e.clientHeight)&&ei(ea.current.clientHeight-61<204)},0)},[b,J]),(0,o.useEffect)(()=>{_&&(_.logPb=I)},[_]),(0,o.useEffect)(()=>{let e=e=>{var t,l,i;if((null===(t=e.target)||void 0===t?void 0:t.id)!=="frame-user-info-share-button")!(null===(i=en.current)||void 0===i?void 0:null===(l=i.contains)||void 0===l?void 0:l.call(i,e.target))&&!J&&(null==j||j(),null==H||H(!1))};return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[J]),(null==_?void 0:null===(t=_.status)||void 0===t?void 0:t.allowShare)===!1)?(0,a.jsx)("div",{ref:en,"data-e2e":_?"video-share-container":"user-share-container",children:(0,a.jsx)("div",{className:s()(d,g.default.container,g.default.shareCode,g.default.columnContainer,g.default.disabledContent),onMouseEnter:()=>null==T?void 0:T(),onMouseLeave:()=>null==A?void 0:A(),style:{display:ec?"none":"flex"},"data-inuser":"UserPage"===G,ref:ea,children:"该作品已被限制分享"})}):(0,a.jsxs)("div",{ref:en,"data-e2e":_?"video-share-container":"user-share-container",children:[(null==_?void 0:_.awemeType)===c.e.XgVideo&&(0,a.jsxs)("div",{className:s()(d,g.default.container,g.default.shareCode,g.default.defaultContainer),onMouseEnter:()=>null==T?void 0:T(),onMouseLeave:()=>null==A?void 0:A(),style:{display:ec?"none":"flex",width:324},"data-inuser":"UserPage"===G,children:[(!b||q)&&(0,a.jsx)(u.SV,{children:(0,a.jsx)("div",{style:{display:J||ee?"none":"block",width:"100%"},children:(0,a.jsx)(C,(0,n._)((0,i._)({},e),{shareType:B}))})}),eu&&(!b||J)&&((null==_?void 0:_.awemeType)!==c.e.XgVideo||F)&&B!==y.y.Vs&&(0,a.jsx)(E,{userInfo:Y,toast:N,close:()=>{et(!0),X(!1),null==j||j(),v.emit(v.EVENT.videoRemoveStopPlayNext)},awemeInfo:_,shareType:B,shareUserInfo:O,shareCommentInfo:z,handleExpand:()=>X(!0),handleCollapse:()=>{X(!1)},handleHasFriends:e=>{},handleChooseFriend:P,handleShareToFriend:V,handleShareSuccess:M,reportExtraParams:(0,n._)((0,i._)({},L),{from_xigua:(null==_?void 0:_.awemeType)===c.e.XgVideo?1:0,aweme_type:(null==_?void 0:_.isSlides)?c.e.Slides:null==_?void 0:_.awemeType,pic_cnt:null==_?void 0:null===(l=_.images)||void 0===l?void 0:l.length}),shareeListHeight:K,onFriendSearching:H})]}),(null==_?void 0:_.awemeType)!==c.e.XgVideo&&(0,a.jsxs)("div",{className:s()(d,g.default.container,g.default.shareCode,g.default.columnContainer),onMouseEnter:()=>null==T?void 0:T(),onMouseLeave:()=>null==A?void 0:A(),style:(0,i._)({display:ec?"none":"flex"},W?{width:W}:{}),"data-inuser":"UserPage"===G,ref:ea,children:[(!b||J)&&((null==_?void 0:_.awemeType)!==c.e.XgVideo||F)&&B!==y.y.Vs&&(eu?(0,a.jsx)(E,{userInfo:Y,toast:N,close:()=>{et(!0),X(!1),null==j||j(),v.emit(v.EVENT.videoRemoveStopPlayNext)},awemeInfo:_,shareType:B,shareUserInfo:O,shareCommentInfo:z,handleExpand:()=>X(!0),handleCollapse:()=>{X(!1)},handleHasFriends:e=>{},handleChooseFriend:P,handleShareToFriend:V,handleShareSuccess:M,reportExtraParams:(0,n._)((0,i._)({},L),{from_xigua:(null==_?void 0:_.awemeType)===c.e.XgVideo?1:0,aweme_type:(null==_?void 0:_.isSlides)?c.e.Slides:null==_?void 0:_.awemeType,pic_cnt:null==_?void 0:null===(r=_.images)||void 0===r?void 0:r.length}),shareeListHeight:K,onFriendSearching:H}):(0,a.jsx)(S,{className:"share-login-guide-recommend",change:()=>{null==Z||Z({type:"updateUserInfo"})}})),(!b||q)&&!U&&(0,a.jsx)(u.SV,{children:(0,a.jsx)("div",{style:{display:J||ee?"none":"block",width:"100%"},children:(0,a.jsx)(C,(0,n._)((0,i._)({},e),{shareType:B,isMiniQrCode:el}))})})]})]})}},322642:function(e,t,l){l.d(t,{y:function(){return i}});var i={Video:"share_video",Live:"share_live",User:"share_user",Vs:"share_vs",Comment:"share_comment",other:"other"}},757003:function(e,t,l){l.d(t,{h:function(){return n}});var i=l(544933);let n="web_code_link";t.Z=new i.h({shareMenuShow:{eventName:"share_menu_show",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:"",click_method:"",share_type:"",play_current_time:0}},shareVideo:{eventName:"share_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",enter_from_merge:"",previous_page:"",type:"",is_full_screen:"0",click_method:"",tab_name:"",from_follow_list:"0",from_xigua:0,aweme_type:"",personal_relation:"",relation:"",show_type:"",pic_cnt:"",is_from_aweme_search_engine:0}},shareUser:{eventName:"share_user",params:{chat_type:"",type:"",author_id:"",personal_relation:"",relation:""}},clickFavoriteVideo:{eventName:"click_favorite_video",params:{click_from:"share_board",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0",click_method:""}},clickCancelFavoriteVideo:{eventName:"click_cancel_favorite_video",params:{click_from:"share_board",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0"}},favoriteVideo:{eventName:"favorite_video",params:{click_from:"share_board",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0",click_method:"",clarity:"",aweme_type:"",item_duration_ms:0,is_from_aweme_search_engine:0}},favoriteVideoFailed:{eventName:"favorite_video_failed",params:{click_from:"share_board",err_code:1,previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0"}},cancelFavoriteVideo:{eventName:"cancel_favorite_video",params:{click_from:"share_board",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0",click_method:"",item_duration_ms:0}},download:{eventName:"download",params:{enter_from:"",enter_from_merge:"",group_id:"",click_from:"",boost_task_id:""}},unsupportDownloadShow:{eventName:"unsupport_download_show",params:{enter_from:"",enter_from_merge:"",group_id:""}},livesdkShareCardShow:{eventName:"livesdk_share_card_show",params:{share_from:"",user_id:"",anchor_id:"",room_id:"",enter_from_merge:"",enter_method:"",action_type:"",request_id:""}},livesdkShareSuccess:{eventName:"livesdk_share_success",params:{share_from:"",share_type:"message",user_id:"",anchor_id:"",room_id:"",enter_from_merge:"",enter_method:"",action_type:"",request_id:""}},report:{eventName:"report",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",enter_method:"",is_full_screen:"",click_from:"share_card"}}})},643728:function(e,t,l){l.d(t,{$:function(){return v},n:function(){return m}});var i=l(563097);l(88648);var n=l(713097),a=l.n(n),o=l(784492),r=l(410665),s=l(702726),d=l(658065),u=l(957212),c=l(860684);let v=e=>{let{abTestData:t,awemeInfo:l}=e||{},{weeklyRecommend:i}=l||{},{urlList:n,text:a}=i||{};return!!(i&&a&&n&&n.length>0)},m=e=>{let{awemeInfo:t,scene:l="player",className:n}=e,{weeklyRecommend:v}=t||{},m=(0,c.n)(),{urlList:f,text:p}=v||{},h=(0,r.x)(()=>{s.logInstance.sendLog("weeklySelectionShow",{enter_from:(0,d.yW)(),group_id:null==t?void 0:t.awemeId})});return((0,o.Z)(()=>{(null==t?void 0:t.awemeId)&&s.logInstance.sendLog("weeklySelectionShow",{enter_from:(0,d.yW)(),group_id:null==t?void 0:t.awemeId})},[null==t?void 0:t.awemeId]),("player"!==l||(null==m?void 0:m.video))&&f&&f.length&&p)?(0,i.jsx)("span",{ref:h,className:a()(u.default.weeklyRecommendTagContainer,u.default[l],n),children:(0,i.jsxs)("span",{className:a()(u.default.weeklyRecommendTag),children:[(0,i.jsx)("img",{className:u.default.icon,src:f[0],alt:""}),(0,i.jsx)("span",{className:u.default.text,children:p})]})}):null}},426798:function(e,t,l){l.d(t,{X:function(){return r}});var i=l(520739),n=l(368200),a=l(563097),o=l(549519);function r(e){return function(t){let{isRenderInSSR:l}=t,r=(0,n._)(t,["isRenderInSSR"]),s=(0,a.jsx)(e,(0,i._)({},r));return l?(0,a.jsx)(o.NoSSR,{children:s}):s}}l(88648)},679201:function(e,t,l){l.d(t,{S:function(){return g}});var i=l(88648),n=l(907831),a=l.n(n),o=l(738363),r=l(234048),s=l(702726),d=l(366334),u=l(782442),c=l(32167),v=l(658065),m=l(637005),f=l(516599),p=l(358003);let h=e=>{let{errMsg:t,statusCode:l}=e;if(l!==o.ERROR_CODE.ERROR_USER_UNLOGIN)f.F.info(null!=t?t:r.Qr.FollowFail)},x=()=>(!u.Le.getConfig(u.gI.CollectMusicStatusCache)&&u.Le.setConfig(u.gI.CollectMusicStatusCache,{}),u.Le.getConfig(u.gI.CollectMusicStatusCache)),k=e=>{let{mid:t,collectStatus:l}=e,i=a()(x());i[t]={collectStatus:l},u.Le.setConfig(u.gI.CollectMusicStatusCache,i)},g=e=>{let{musicId:t,onLoginSuccess:l,awemeInfo:n,fail:a=h,isLogin:u,success:x,disableSuccessToast:g,accountParentEl:_,loginPanelTarget:y,scene:w,toast:E,clickMethod:C=""}=e,S=(0,i.useRef)(!1),b=(0,i.useCallback)(async e=>{let{mid:t,action:l}=e,i=null,o="";try{if(!navigator.onLine){E?null==E||E("当前网络异常，请稍后重试"):f.F.info("当前网络异常，请稍后重试");return}let{statusCode:e,logPb:p}=await (0,d.Id)({musicId:t,action:"collectMusic"===l?1:0});if(o=p,i=e,0===e||3007005===e){if("collectMusic"===l){if(!g){var u;null===(u=E||f.F.info)||void 0===u||u("已收藏，请到「我的-收藏-音乐」查找使用")}s.logInstance.sendLog("favoriteMusic",{music_id:t,group_id:null==n?void 0:n.awemeId,enter_from:(0,c.mo)(),enter_from_merge:(0,v.yW)()})}else s.logInstance.sendLog("cancelFavoriteMusic",{music_id:t,group_id:null==n?void 0:n.awemeId,enter_from:(0,c.mo)(),enter_from_merge:(0,v.yW)(),click_method:C});let e="collectMusic"===l?r.c.Collected:r.c.Uncollected;k({mid:t,collectStatus:e}),m.emit(m.EVENT.syncInteractionStatus,{musicId:t,action:l}),null==x||x({logPb:o,action:l,collectStatus:e})}else null==a||a({logPb:o,action:l,errMsg:"collectMusic"===l?r.a$.CollectFail:r.a$.UnCollectFail})}catch(e){null==a||a({logPb:o,action:l})}return{statusCode:i}},[a,t,x]),I=(0,i.useCallback)(async e=>{var i,n;let{noLoginCb:a}=e||{};(0,p.default)({success:async()=>{await (null==l?void 0:l()),S.current=!0;let{statusCode:e}=await b({action:"collectMusic",mid:t})||{};S.current=!1,e===o.ERROR_CODE.ERROR_USER_UNLOGIN&&(null==a||a())},headerText:"登录后即可收藏",enterMethod:"favorite_music",next:`https://${null===(n=window)||void 0===n?void 0:null===(i=n.location)||void 0===i?void 0:i.host}`},_)},[l,t,b,_]);return{collect:()=>{u?(s.logInstance.sendLog("clickFavoriteMusic",{music_id:t,group_id:null==n?void 0:n.awemeId,enter_from:(0,c.mo)(),enter_from_merge:(0,v.yW)()}),b({mid:t,action:"collectMusic"})):I({noLoginCb:()=>{setTimeout(()=>{I()},1e3)}})},unCollect:()=>u?b({mid:t,action:"unCollectMusic"}):I({noLoginCb:()=>{setTimeout(()=>{I()},1e3)}})}}},135241:function(e,t,l){l.d(t,{v:function(){return r}}),l(874386);var i=l(88648),n=l(234048),a=l(782442),o=l(828564);let r=e=>{var t,l;let{musicId:r,isLogin:s,defaultCollectStatus:d}=e,u=a.Le.getConfig(a.gI.CollectMusicStatusCache),[c,v]=(0,i.useState)(null!==(l=null==u?void 0:null===(t=u[r])||void 0===t?void 0:t.collectStatus)&&void 0!==l?l:d);return((0,i.useEffect)(()=>{var e,t;v(null!==(t=null==u?void 0:null===(e=u[r])||void 0===e?void 0:e.collectStatus)&&void 0!==t?t:d)},[r,d,u]),(0,i.useEffect)(()=>{let e=o.a.addCb(e=>{let{collectMusicStatus:t,musicId:l,action:i}=e;("collectMusic"===i||"unCollectMusic"===i)&&l===r&&v(t)});return()=>{e()}},[r]),s)?{collectStatus:c}:{collectStatus:n.c.Uncollected}}},227623:function(e,t,l){l.d(t,{_:function(){return n}});var i=l(88648);let n=e=>{let{keyDownInterval:t=500,diggInterval:l=1e3,diggState:n}=e,a=(0,i.useRef)(0),o=(0,i.useRef)(0),r=(0,i.useCallback)(()=>{a.current=Date.now()},[]),s=(0,i.useCallback)(()=>{o.current=Date.now()},[]),d=(0,i.useCallback)(()=>{a.current=Date.now(),o.current=Date.now()},[]);return{resetUsedKeyDownTime:r,resetDiggTime:s,initTime:d,checkIsCancelDigg:(0,i.useCallback)(()=>!!(n&&Date.now()-a.current>t&&Date.now()-o.current>l)||!1,[n,t,l])}}},97598:function(e,t,l){l.d(t,{B:function(){return a}}),l(874386);var i=l(88648),n=l(356650);let a=e=>{let{awemeInfo:t}=e,[l,a]=(0,i.useState)((0,n.zJ)(t));return(0,i.useEffect)(()=>{a((0,n.zJ)(t))},[t]),{noPaidVideo:l}}},532048:function(e,t,l){l.d(t,{D:function(){return o}});var i=l(88648),n=l(782442),a=l(356650);let o=e=>{let{awemeInfo:t,isActive:l}=e,o=(0,i.useRef)();(0,i.useEffect)(()=>{var e;if((null===(e=n.Le.getConfig(n.gI.AbtestData))||void 0===e?void 0:e.useCache)===1)return;let i=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-error`),o=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-time`),r=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-play`),s=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-enter`),d=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-start`),u=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-loading`);l&&((0,a.GP)(t)?(Array.from(i).forEach(e=>e.style.visibility="hidden"),Array.from(o).forEach(e=>e.style.visibility="hidden"),Array.from(r).forEach(e=>e.style.visibility="hidden"),Array.from(s).forEach(e=>e.style.visibility="hidden"),Array.from(d).forEach(e=>e.style.visibility="hidden"),Array.from(u).forEach(e=>e.style.visibility="hidden")):(Array.from(i).forEach(e=>e.style.visibility="unset"),Array.from(o).forEach(e=>e.style.visibility="unset"),Array.from(r).forEach(e=>e.style.visibility="unset"),Array.from(s).forEach(e=>e.style.visibility="unset"),Array.from(d).forEach(e=>e.style.visibility="unset"),Array.from(u).forEach(e=>e.style.visibility="unset")))},[t,l]),(0,i.useEffect)(()=>{var e;if(l&&(null===(e=n.Le.getConfig(n.gI.AbtestData))||void 0===e?void 0:e.useCache)===1){if((0,a.GP)(t)){let e=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-error`),l=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-time`),i=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-play`),n=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-enter`),a=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-start`),o=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-loading`);Array.from(e).forEach(e=>e.style.visibility="hidden"),Array.from(l).forEach(e=>e.style.visibility="hidden"),Array.from(i).forEach(e=>e.style.visibility="hidden"),Array.from(n).forEach(e=>e.style.visibility="hidden"),Array.from(a).forEach(e=>e.style.visibility="hidden"),Array.from(o).forEach(e=>e.style.visibility="hidden")}else if((0,a.GP)(o.current)){let e=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-error`),l=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-time`),i=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-play`),n=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-enter`),a=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-start`),o=document.querySelectorAll(`.video_${t.awemeId} .xgplayer-loading`);Array.from(e).forEach(e=>e.style.visibility="unset"),Array.from(l).forEach(e=>e.style.visibility="unset"),Array.from(i).forEach(e=>e.style.visibility="unset"),Array.from(n).forEach(e=>e.style.visibility="unset"),Array.from(a).forEach(e=>e.style.visibility="unset"),Array.from(o).forEach(e=>e.style.visibility="unset")}o.current=t}},[t,l])}},44944:function(e,t,l){l.r(t),l.d(t,{DanmakuBar:function(){return tS},DanmakuInner:function(){return tb},Danmaku:function(){return tI}});var i=l("520739"),n=l("878389");l("874386");var a=l("563097"),o=l("88648"),r=l("412679"),s=l("734123"),d=l("489478"),u=l("713097"),c=l.n(u),v=l("784492"),m=l("410665"),f=l("147613"),p=l("32167"),h=l("658065"),x=l("782442"),k=l("823685"),g=l("5507");l("675373");var _=l("309931"),y=l("430528"),w=l("637005");l("250440"),l("268917"),l("927234");var E=l("949053"),C=l("481199"),S=l("877639"),b=l.n(S),I=l("553173"),j=l("967171"),N=l("358003"),L=l("516599"),D=l("394913"),T=l("185339");let A={danMuText:"danMuText",likeIcon:"likeIcon",reportIcon:"reportIcon",deleteIcon:"deleteIcon"},R={danmuId:"data-danmu-id",isLike:"data-is-like",isDanmuAuthor:"data-is-danmu-author",danmakuUserId:"data-danmaku-user-id"},P=e=>{let{awemeInfo:t,userInfo:l,player:n,loginDispatch:a,logParams:r,abtestData:s,totalCountRef:d}=e,[u,c]=(0,o.useState)(!!(null==l?void 0:l.isLogin)),v=(0,o.useRef)(""),m=(0,o.useRef)(!1),f=(0,o.useRef)(null),x=(0,o.useRef)(!1),k=(0,o.useRef)("");(0,o.useEffect)(()=>{let e=()=>{c(!0)};if(n)return n.on(D.Ks.updateLogin,e),()=>{n.off(D.Ks.updateLogin,e)}},[n,t]),(0,o.useEffect)(()=>{c(!!(null==l?void 0:l.isLogin))},[l]);let g=(0,o.useCallback)(b()(async()=>{if(u){var e,l,o,s;m.current=!m.current,f.current.setAttribute(R.isLike,m.current);let{statusCode:a}=await (0,j.ob)({danmakuId:null!==(o=null==n?void 0:null===(l=n.danmaku)||void 0===l?void 0:null===(e=l.selfPost)||void 0===e?void 0:e[v.current])&&void 0!==o?o:v.current,awemeId:null==t?void 0:t.awemeId,type:m.current?1:0});0===a&&T.Z.sendLog(m.current?"likeDanmaku":"cancelLikeDanmaku",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),group_id:null==t?void 0:t.awemeId,author_id:null==t?void 0:null===(s=t.authorInfo)||void 0===s?void 0:s.uid,danmaku_id:v.current,enter_method:"video"},r))}else setTimeout(()=>{n.danmaku.freezeComment(v.current)},100),(0,N.default)({success:async()=>{var e,l,i;a({type:"updateUserInfo"}),n.emit(D.Ks.updateLogin);let{statusCode:o}=await (0,j.ob)({danmakuId:null!==(i=null==n?void 0:null===(l=n.danmaku)||void 0===l?void 0:null===(e=l.selfPost)||void 0===e?void 0:e[v.current])&&void 0!==i?i:v.current,awemeId:null==t?void 0:t.awemeId,type:1});n.danmaku.restartComment(v.current),0===o&&(m.current=!m.current,f.current.setAttribute(R.isLike,m.current))},headerText:"登录后可为弹幕点赞",enterMethod:"like_danmaku",onClose:()=>{n.danmaku.restartComment(v.current)}})},500),[u,t,n,r,s]),_=(0,o.useCallback)(()=>{var e,i,o,r,d,u,c,m,f;n.emit(D.Ks.reportIdChange,v.current),n.danmaku.freezeComment(v.current),w.emit(w.EVENT.videoStopPlayNext);(0,I.m)({title:"举报弹幕",type:"danmaku",object_id:null!==(m=null==n?void 0:null===(i=n.danmaku)||void 0===i?void 0:null===(e=i.selfPost)||void 0===e?void 0:e[v.current])&&void 0!==m?m:v.current,owner_id:null==l?void 0:null===(o=l.info)||void 0===o?void 0:o.uid,owner_sec_id:(null==l?void 0:null===(r=l.info)||void 0===r?void 0:r.secUid)||"",onClose:()=>{w.emit(w.EVENT.videoRemoveStopPlayNext),n.danmaku.restartComment(v.current),n.emit(D.Ks.reportIdChange,null)},logParams:{enter_method:"video"},loginDispatch:a,userInfo:null==l?void 0:l.info,pipeline_id:"",enter_from:(0,h.yW)(),isOrigin:!0,toast:e=>L.F.info(e,null==n?void 0:n.root),abtestData:s}),T.Z.sendLog("reportDanmaku",{enter_from:(0,h.yW)(),group_id:null==t?void 0:t.awemeId,author_id:null==t?void 0:null===(d=t.authorInfo)||void 0===d?void 0:d.uid,danmaku_id:null!==(f=null==n?void 0:null===(c=n.danmaku)||void 0===c?void 0:null===(u=c.selfPost)||void 0===u?void 0:u[v.current])&&void 0!==f?f:v.current,danmaku_user_id:k.current,enter_method:"bubble",is_exposed_like:0})},[l,n,a,s]),y=(0,o.useCallback)(async()=>{var e,l,a,o;let{statusCode:s}=await (0,j.YO)({userType:x.current?1:2,danmakuId:null!==(a=null==n?void 0:null===(l=n.danmaku)||void 0===l?void 0:null===(e=l.selfPost)||void 0===e?void 0:e[v.current])&&void 0!==a?a:v.current});0===s?(d.current=d.current-1,(null==n?void 0:n.danmaku)&&(null==n||n.danmaku.removeComment(v.current),L.F.info("已删除弹幕",(null==n?void 0:n.root)||document.body)),T.Z.sendLog("deleteDanmaku",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),group_id:null==t?void 0:t.awemeId,author_id:null==t?void 0:null===(o=t.authorInfo)||void 0===o?void 0:o.uid,danmaku_id:v.current,enter_method:"video"},r))):L.F.info("未删除弹幕",(null==n?void 0:n.root)||document.body)},[t,n,r]);return(0,o.useCallback)(e=>{if(e.currentTarget){let a=e.target;for(;!(null==a?void 0:a.getAttribute(R.danmuId))&&a!==e.currentTarget;)a=a.parentNode;if(a!==e.currentTarget&&(f.current=a,a)){var t,l,i,n;v.current=a.getAttribute(R.danmuId),m.current="true"===a.getAttribute(R.isLike),x.current="true"===a.getAttribute(R.isDanmuAuthor),k.current=a.getAttribute(R.danmakuUserId),((null===(t=a.querySelector(`.${A.danMuText}`))||void 0===t?void 0:t.contains(e.target))||(null===(l=a.querySelector(`.${A.likeIcon}`))||void 0===l?void 0:l.contains(e.target)))&&g(),(null===(i=a.querySelector(`.${A.reportIcon}`))||void 0===i?void 0:i.contains(e.target))&&_(),(null===(n=a.querySelector(`.${A.deleteIcon}`))||void 0===n?void 0:n.contains(e.target))&&y()}}},[g,_,y])};var V=l("254897");let M=()=>(0,a.jsxs)("div",{className:C.default.svgCollect,children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("symbol",{id:"svg-like",width:"14",height:"13",viewBox:"0 0 14 13",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.88448 0.398438C8.76117 0.398438 7.74021 0.852731 7.11838 1.71269C6.26503 0.852731 5.24305 0.398438 4.12177 0.398438C1.98145 0.398438 0.203125 2.19879 0.203125 4.34121C0.203125 4.48708 0.210222 4.5534 0.203125 4.56025C0.214278 5.05421 0.454581 5.94437 0.647185 6.31825C1.94356 9.04193 6.0401 11.9265 6.23271 12.1134C6.42531 12.3004 6.61792 12.4873 7.00313 12.4873C7.38833 12.4873 7.58094 12.3004 7.77354 12.1134C7.96615 11.9265 11.5463 9.30121 13.1116 6.75067C13.1796 6.57644 13.2242 6.49033 13.3421 6.31259C13.4168 6.12907 13.4919 5.96279 13.5726 5.8745C13.7149 5.3828 13.795 5.01066 13.8031 4.56025C13.797 4.54746 13.8031 4.48609 13.8031 4.34121C13.8031 2.19978 12.0238 0.398438 9.88448 0.398438Z"})}),(0,a.jsx)("symbol",{id:"svg-report",width:"14",height:"14",viewBox:"0 0 14 14",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.13316 1.23494L13.8226 11.7956C14.3266 12.7751 13.6965 14 12.6888 14H1.3112C0.303482 14 -0.326644 12.7751 0.177387 11.7956L5.86554 1.23494C6.36957 0.25502 7.62913 0.25502 8.13316 1.23494ZM7.00041 12.3C6.30991 12.3 5.75 11.7407 5.75 11.05C5.75 10.3593 6.30991 9.8 7.00041 9.8C7.69009 9.8 8.25 10.3593 8.25 11.05C8.25 11.7407 7.69009 12.3 7.00041 12.3ZM7 4.2C6.44772 4.2 6 4.64772 6 5.2V7.7C6 8.25228 6.44772 8.7 7 8.7C7.55228 8.7 8 8.25228 8 7.7V5.2C8 4.64772 7.55228 4.2 7 4.2Z"})}),(0,a.jsx)("symbol",{id:"svg-delete",width:"12",height:"14",viewBox:"0 0 12 14",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.39844 0.199219H3.59844L3.19844 0.999219H1.39844C0.846153 0.999219 0.398438 1.44693 0.398438 1.99922V3.39922H11.5984V1.99922C11.5984 1.44693 11.1507 0.999219 10.5984 0.999219H8.79844L8.39844 0.199219ZM1.19844 4.99922H10.7984L10.4418 12.8446C10.4176 13.3787 9.97749 13.7992 9.44286 13.7992H2.55402C2.01939 13.7992 1.57932 13.3787 1.55505 12.8446L1.19844 4.99922Z"})})]}),(0,a.jsx)(V.z,{svg:(0,a.jsx)(E.Z,{})})]}),B=e=>{var t;let{text:l,danmakuId:n,awemeId:o,player:r,isDanmuAuthor:s=!1,isAwemeAuthor:d=!1,isLike:u=!1,isAnchor:v=!1,authorId:f="",danmakuIdUid:k="",firstDanmakuShowRef:g,offsetTime:_,videoScale:y,itemDurationMs:w,logParams:S={},currentIndex:b=-1}=e,I=(0,m.Y)(()=>{var e,t,l,a,s,d,u;r&&!r.danmakuIds&&(r.danmakuIds=[],r.videoTimes=[]),!r.danmakuIds.includes(n)&&(r.danmakuIds.push(n),r.videoTimes.push(Math.round(1e3*r.currentTime))),r.danmakuIds.length>=100&&(T.Z.sendLog("danmakuImpression",{enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),group_id:o,danmaku_id_list:r.danmakuIds.toString(),video_time_list:r.videoTimes.toString()}),r.danmakuIds=[],r.videoTimes=[]),r.danmakuShowCount=(null!==(e=r.danmakuShowCount)&&void 0!==e?e:0)+1,!g.current&&_&&(T.Z.sendLog("firstDanmakuShow",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),group_id:o,author_id:f,danmaku_id:n,video_time:_,video_pct:Math.floor(r.currentTime/r.duration*100),video_scale:y,item_duration_ms:w,is_visible:"visible"===document.visibilityState?1:0,play_order:b,danmaku_readdata_times:(s=(null==r?void 0:null===(t=r.danmaku)||void 0===t?void 0:t.readDataTimes)-(null==r?void 0:r.firstframe),s),danmaku_attach_times:(d=(null==r?void 0:null===(l=r.danmaku)||void 0===l?void 0:l.attachTimes)-(null==r?void 0:r.firstframe),d),danmaku_startmove_times:(u=(null==r?void 0:null===(a=r.danmaku)||void 0===a?void 0:a.startMoveTimes)-(null==r?void 0:r.firstframe),u)},S)),g.current=!0)},{root:null==r?void 0:null===(t=r.danmaku)||void 0===t?void 0:t.container}),j=x.Le.getConfig(x.gI.AbtestData);return(0,a.jsxs)("div",{className:c()(C.default.danmakuItem,C.default.item,{[C.default.isAuthor]:s,[C.default.hovered]:v,[C.default.hideIcon]:"creator_center"===(0,p.vM)(),[C.default.heightCustom]:(null==j?void 0:j.danmakuSetting)||(null==j?void 0:j.danmakuSpacing)}),ref:I,[R.danmuId]:n,[R.isDanmuAuthor]:s,[R.isLike]:u,[R.danmakuUserId]:k,children:[(0,a.jsx)("div",{className:c()(C.default.danMuText,A.danMuText),children:l}),(0,a.jsx)("div",{className:c()(C.default.isLikeIcon),children:(0,a.jsx)(V.z,{svg:(0,a.jsx)(E.Z,{})})}),(0,a.jsx)("div",{className:C.default.line}),(0,a.jsxs)("div",{className:C.default.interactive,children:[(0,a.jsx)("div",{className:c()(C.default.icon,C.default.likeIcon,A.likeIcon),children:(0,a.jsx)("svg",{className:C.default.iconLike,width:"14",height:"13",viewBox:"0 0 14 13",children:(0,a.jsx)("use",{href:"#svg-like"})})}),!s&&(0,a.jsx)("div",{className:c()(C.default.icon,C.default.report,A.reportIcon),children:(0,a.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",children:(0,a.jsx)("use",{href:"#svg-report"})})}),(d||s)&&(0,a.jsx)("div",{className:c()(C.default.icon,C.default.deleteIcon,A.deleteIcon),children:(0,a.jsx)("svg",{width:"12",height:"14",viewBox:"0 0 12 14",children:(0,a.jsx)("use",{href:"#svg-delete"})})})]})]},n)},F=e=>{let t=document.createElement("div");return t.id=e.danmakuId,_.render((0,o.createElement)(B,(0,n._)((0,i._)({},e),{key:e.danmakuId})),t),t};var O=l("128231"),z=l.n(O),G=l("212012"),Z=l.n(G),U=l("620735"),K=l.n(U),W=l("536249"),H=l.n(W),Y=l("23902"),$=l.n(Y),q=l("211546"),Q=l.n(q),J=l("555106"),X=l("330746"),ee=l("35730"),et=l("461423"),el=l("597321");let ei={fontSize:1,speed:1,region:0,opacity:80*D.JO,isOpen:!1},en=()=>{var e,t,l,i,n,a;let o=x.Le.getConfig(x.gI.AbtestData)||{};if((null==o?void 0:o.danmakuConfig)&&(null==o?void 0:null===(e=o.danmakuConfig)||void 0===e?void 0:e.pc_danmkau_default_position)&&(null==o?void 0:null===(t=o.danmakuConfig)||void 0===t?void 0:t.pc_danmkau_default_fontsize)&&((null==o?void 0:null===(l=o.danmakuConfig)||void 0===l?void 0:l.enable_rewrite_config_forall)||(null===(i=navigator)||void 0===i?void 0:i.hardwareConcurrency)>4)){let e=null===D.NY||void 0===D.NY?void 0:null===(n=D.NY.findIndex)||void 0===n?void 0:n.call(D.NY,e=>{var t;return(null==e?void 0:e.key)===(null==o?void 0:null===(t=o.danmakuConfig)||void 0===t?void 0:t.pc_danmkau_default_fontsize)}),t=null===D.WK||void 0===D.WK?void 0:null===(a=D.WK.findIndex)||void 0===a?void 0:a.call(D.WK,e=>{var t;return(null==e?void 0:e.key)===(null==o?void 0:null===(t=o.danmakuConfig)||void 0===t?void 0:t.pc_danmkau_default_position)});return{speed:1,opacity:80*D.JO,isOpen:!1,fontSize:e,region:t}}return ei},ea=x.gI.DanmakuSetting,eo=new Map([["fontSize",["danmakuSizeSetting","size_value"]],["region",["danmakuAreaSetting","area_value"]],["opacity",["danmakuOpacitySetting","opacity_value"]],["speed",["danmakuSpeedSetting","speed_value"]]]),er=(e,t,l)=>{if("opacity"===e)return[t,l];if("region"===e)return[D.WK[t].log,D.WK[l].log];if("fontSize"===e)return[D.NY[t].log,D.NY[l].log];else if("speed"===e)return[D.AY[t].log,D.AY[l].log];else return[t-1,l-1]},es=(e,t,l,a,o)=>{let r=(0,p.mo)(),s=(0,h.yW)(),{awemeId:d,authorUserId:u}=l||{};if(H()(e).length>=eo.size){let{speed:e,region:l,fontSize:c,opacity:v}=$()(t)?en():t;T.Z.sendLog("clickDanmakuDefaultSetting",(0,n._)((0,i._)({enter_from:r,enter_from_merge:s,group_id:d,author_id:String(u),pre_speed_value:D.AY[e].log,pre_area_value:D.WK[l].log,pre_size_value:D.NY[c].log,pre_opacity_value:v},a),{rate:(null==o?void 0:o())||0,player_display_mode:(0,p.Ok)()}));return}if(1===H()(e).length&&K()(e,"isOpen")){var c,v,m;T.Z.sendLog("danmakuSwitch",(0,n._)((0,i._)({enter_from:r,enter_from_merge:s,action:e.isOpen?"1":"0",danmaku_switch_status:e.isOpen?"on":"off",off_range:"all_video",group_id:d,author_id:String(u),video_scale:(null==l?void 0:null===(c=l.video)||void 0===c?void 0:c.width)/(null==l?void 0:null===(v=l.video)||void 0===v?void 0:v.height),item_duration_ms:(null==l?void 0:null===(m=l.video)||void 0===m?void 0:m.duration)||0},a),{rate:(null==o?void 0:o())||0}));return}Z()(e,(e,l)=>{if("isOpen"===l)return;let[c,v]=er(l,Number(e),t[l]),[m,f]=eo.get(l);m&&T.Z.sendLog(m,(0,n._)((0,i._)({enter_from:r,enter_from_merge:s,group_id:d,author_id:String(u),[f]:c,pre_value:v},a),{rate:(null==o?void 0:o())||0,player_display_mode:(0,p.Ok)()}))})},ed=()=>x.Le.getConfig(ea),eu=e=>{var t,l;return Number(null!==(l=null===(t=ed())||void 0===t?void 0:t[e])&&void 0!==l?l:en()[e])},ec=()=>{var e;return(null===(e=ed())||void 0===e?void 0:e.opacity)/100||D.JO},ev=e=>{var t,l,i,n,a,o,r,s;let d=e||window.player;return(null==d?void 0:null===(i=d.danmaku)||void 0===i?void 0:null===(l=i.main)||void 0===l?void 0:null===(t=l.channel)||void 0===t?void 0:t.containerWidth)||(null==d?void 0:null===(a=d.video)||void 0===a?void 0:null===(n=a.getBoundingClientRect())||void 0===n?void 0:n.width)||(null===(o=x.Le.getConfig(x.gI.videoRect))||void 0===o?void 0:o.width)||(null===(s=document.querySelector(".basePlayerContainer"))||void 0===s?void 0:null===(r=s.getBoundingClientRect())||void 0===r?void 0:r.width)},em=(e,t)=>{let l=D.NY,i=x.Le.getConfig(x.gI.AbtestData);if((null==i?void 0:i.danmakuSetting)||(null==i?void 0:i.danmakuSpacing)){let i=t||ev(e);i<=800?l=D.Te:i>1366&&(l=D.lE)}return l},ef=e=>{let{player:t,videoWidth:l,fontSize:i}=e,n=i||ep(t,l),a=n+20||D.Rz,o=x.Le.getConfig(x.gI.AbtestData),r=(null==o?void 0:o.danmakuSpacing)||(null==o?void 0:o.danmakuSetting);if(1===r){let e=l||ev(t);if(e<=800)switch(n){case D.Te["0"].value:case D.Te["1"].value:a=n+1;break;case D.Te["2"].value:a=n+2;break;case D.Te["3"].value:a=n+3;break;case D.Te["4"].value:a=n+4}else if(e>1366)switch(n){case D.lE["0"].value:a=n+2;break;case D.lE["1"].value:a=n+3;break;case D.lE["2"].value:a=n+4;break;case D.lE["3"].value:case D.lE["4"].value:a=n+7}else switch(n){case D.NY["0"].value:a=n+1;break;case D.NY["1"].value:a=n+2;break;case D.NY["2"].value:a=n+3;break;case D.NY["3"].value:a=n+4;break;case D.NY["4"].value:a=n+7}}else if(2===r){let e=l||ev(t);if(e<=800)switch(n){case D.Te["0"].value:case D.Te["1"].value:a=n+4;break;case D.Te["2"].value:a=n+6;break;case D.Te["3"].value:a=n+8;break;case D.Te["4"].value:a=n+9}else if(e>1366)switch(n){case D.lE["0"].value:a=n+6;break;case D.lE["1"].value:a=n+8;break;case D.lE["2"].value:a=n+9;break;case D.lE["3"].value:case D.lE["4"].value:a=n+11}else switch(n){case D.NY["0"].value:a=n+4;break;case D.NY["1"].value:a=n+6;break;case D.NY["2"].value:a=n+8;break;case D.NY["3"].value:a=n+9;break;case D.NY["4"].value:a=n+11}}return a},ep=(e,t)=>{var l,i;return(null===(l=em(e,t)[null===(i=ed())||void 0===i?void 0:i.fontSize])||void 0===l?void 0:l.value)||D.Kt},eh=()=>{var e,t;return(null===(e=D.AY[null===(t=ed())||void 0===t?void 0:t.speed])||void 0===e?void 0:e.value)||D.th},ex=(e,t)=>t.findIndex(t=>t.key===e),ek=(e,t)=>{var l;let i=(0,J.$o)(ee.LocalStorageKeys.danmakuClose);return!((null==t?void 0:t.danmakuClose)&&(0,et.R)()&&e&&(null==i?void 0:i[e])&&Date.now()-(null==i?void 0:i[e])<=6048e5)&&(null===(l=x.Le.getConfig(x.gI.DanmakuSetting))||void 0===l?void 0:l.isOpen)},eg=async()=>{var e,t,l,n,a;let o=x.Le.getConfig(ea);if(o)return o;let r=en(),s=em();try{let e=await (0,j.Ri)({hardware_concurrency:null===(t=navigator)||void 0===t?void 0:t.hardwareConcurrency});if((null==e?void 0:e.statusCode)===0){let t=null==e?void 0:null===(l=e.confList)||void 0===l?void 0:l[0];x.Le.setConfig(x.gI.DanmakuSettingOrigin,t);let o=Q()(t,(e,t)=>"isOn"===t||0!==e);o.region=ex(o.region,D.WK),o.fontSize=ex(o.fontSize,s),o.speed=ex(o.speed,D.AY);let d=(0,i._)({},r,o);document.body.style.setProperty("--danmaku-img-height",`${(null===(n=s[d.fontSize])||void 0===n?void 0:n.value)||D.Kt}px`);let u=(null===(a=navigator)||void 0===a?void 0:a.hardwareConcurrency)>4;return(null==t?void 0:t.fromDefault)&&!u&&(d.isOpen=!1),x.Le.setConfig(ea,d),d}}catch(e){}return document.body.style.setProperty("--danmaku-img-height",`${(null===(e=s[r.fontSize])||void 0===e?void 0:e.value)||D.Kt}px`),r},e_=z()(async e=>{var t;let l=em(),{conf:a,oldConf:o,isSendLog:r=!0,awemeInfo:s,isLogin:d,logParams:u,getRate:c}=e,v=(0,i._)({},x.Le.getConfig(ea)||o),m=(0,i._)({},v,a);if(document.body.style.setProperty("--danmaku-img-height",`${(null===(t=l[m.fontSize])||void 0===t?void 0:t.value)||D.Kt}px`),x.Le.setConfig(ea,m),d){let e=(0,n._)((0,i._)({},m),{region:D.WK[m.region].key,fontSize:l[m.fontSize].key,speed:D.AY[m.speed].key});0===(await (0,j.RB)(e)).statusCode&&r&&es(a,v,s,u,c)}},100,{trailing:!0}),ey=e=>{let{danmu:t,awemeInfo:l,player:n,isLogin:a,logParams:o}=e,r=(0,i._)({},x.Le.getConfig(ea)),{opacity:s,speed:d,fontSize:u,region:c}=en();x.Le.setConfig(ea,null),null==t||t.setOpacity(s/100);let v=em(n)[u].value;null==t||t.setFontSize(String(v),ef({fontSize:v}),{reflow:!1}),n.emit(el.B.danmakuSettingChange,v);let m=(0,i._)({start:D.tj,end:D.WK[c].value},1===c||0===c?{lines:c+1}:{});null==t||t.setArea(m),null==t||t.setAllDuration(D.IK,D.AY[d].value/(null==n?void 0:n.playbackRate)),e_({conf:{region:c,speed:d,fontSize:u,opacity:s,isOpen:r.isOpen},awemeInfo:l,oldConf:r,isLogin:a,logParams:o})},ew=[{key:"opacity",desc:"不透明度",showDots:!1,max:100,getLabelFunc:e=>{if(!Object.is(e,NaN))return`${e}%`},defaultVal:80*D.JO,onChange:async e=>{let{val:t,danmu:l,awemeInfo:i,isLogin:n,logParams:a}=e;if(Object.is(t,NaN))return;let o=Math.max(t/100,.2);e_({conf:{opacity:Math.max(t,20)},awemeInfo:i,isLogin:n,logParams:a}),null==l||l.setOpacity(o)}},{key:"region",desc:"显示区域",showDots:!0,max:4,getLabelFunc:e=>{if(!Object.is(e,NaN)){var t;return null===(t=D.WK[e])||void 0===t?void 0:t.desc}},defaultVal:1,onChange:async e=>{let{val:t,danmu:l,awemeInfo:n,isLogin:a,player:o,logParams:r}=e;if(Object.is(t,NaN))return;let s=(0,i._)({start:D.tj,end:D.WK[t].value},1===t||0===t?{lines:t+1}:{});e_({conf:{region:t},awemeInfo:n,isLogin:a,logParams:(0,i._)({browser_height:(0,X.P6)(),browser_width:(0,X.wi)(),browser_ratio:(0,X.P6)()/(0,X.wi)()},r),getRate:()=>{var e,t,l,i;return((null==o?void 0:null===(l=o.danmaku)||void 0===l?void 0:null===(t=l.state)||void 0===t?void 0:null===(e=t.displayArea)||void 0===e?void 0:e.height)||0)/(null==o?void 0:null===(i=o.video)||void 0===i?void 0:i.clientHeight)}}),null==l||l.setArea(s)}},{key:"fontSize",desc:"字体大小",showDots:!0,max:4,getLabelFunc:e=>{if(!Object.is(e,NaN))return em()[e].desc},defaultVal:2,onChange:async e=>{var t;let{val:l,danmu:n,awemeInfo:a,isLogin:o,player:r,logParams:s}=e;if(Object.is(l,NaN))return;let d=null===(t=em(r))||void 0===t?void 0:t[l].value;e_({conf:{fontSize:l},awemeInfo:a,isLogin:o,logParams:(0,i._)({browser_height:(0,X.P6)(),browser_width:(0,X.wi)(),browser_ratio:(0,X.P6)()/(0,X.wi)()},s),getRate:()=>{var e,t,l,i;return((null==r?void 0:null===(l=r.danmaku)||void 0===l?void 0:null===(t=l.state)||void 0===t?void 0:null===(e=t.displayArea)||void 0===e?void 0:e.height)||0)/(null==r?void 0:null===(i=r.video)||void 0===i?void 0:i.clientHeight)}}),null==n||n.setFontSize(String(d),ef({fontSize:d})),r.emit(el.B.danmakuSettingChange,d)}},{key:"speed",desc:"移动速度",showDots:!0,max:2,getLabelFunc:e=>{if(!Object.is(e,NaN)){var t;return null===(t=D.AY[e])||void 0===t?void 0:t.desc}},defaultVal:2,onChange:async e=>{let{val:t,danmu:l,awemeInfo:i,player:n,isLogin:a,logParams:o}=e;if(Object.is(t,NaN))return;let r=D.AY[t].value;e_({conf:{speed:t},awemeInfo:i,isLogin:a,logParams:o}),null==l||l.setAllDuration(D.IK,r/(null==n?void 0:n.playbackRate))}}],eE=null,eC=e=>{let{player:t,isActive:n,awemeInfo:a,userInfo:r,ref:d,danmakuInfo:u,switchStatus:c,setDanmakuInited:v,emojiListMapped:m,logParams:f,abTestData:k,firstDanmakuShowRef:g,currentIndex:E}=e,[C,S]=(0,o.useState)(!!eE),b=(0,o.useRef)(null),I=(0,o.useRef)(0);(0,o.useEffect)(()=>{(async()=>{if(!C){var e;eE=null===(e=await l.e("37103").then(l.t.bind(l,237681,23)))||void 0===e?void 0:e.default,S(!0)}})()},[]);let j=e=>{I.current=e};return(0,o.useEffect)(()=>(null==t||t.on(D.Ks.reportIdChange,j),()=>{null==t||t.off(D.Ks.reportIdChange,j),I.current=null}),[t,a]),(0,o.useEffect)(()=>{if(t&&n&&!t.danmaku&&c&&C&&d.current){var e,l;let n=null===(e=ed())||void 0===e?void 0:e.region,{awemeId:o,authorInfo:c}=a||{},C={trackAllocationOptimization:!!(null==k?void 0:k.danmakuOptV1),fontSizeAdjust:!!((null==k?void 0:k.danmakuSetting)||(null==k?void 0:k.danmakuSpacing)),postOptimization:!!(null==k?void 0:k.danmakuPost),needResizeObserver:!0,disableCopyDOM:!0,mouseControl:!0,mouseControlPause:!0,container:d.current,live:!1,player:t,direction:"r2l",channelSize:ef({player:t}),area:{start:D.tj,end:(null===(l=D.WK[n])||void 0===l?void 0:l.value)||D.uR,lines:0===n||1===n?n+1:void 0},defaultOff:!0,dropStaleComments:!0,hooks:{bulletCreateEl(e){var l,n,s,d,u,v;let m=(0,et.vI)({danmakuId:e.danmakuId,text:e.text,emojiListMapped:null==t?void 0:null===(l=t.danmaku)||void 0===l?void 0:l.emojiListMapped});return F((0,i._)({player:t,text:m,danmakuId:e.id,awemeId:o,isAwemeAuthor:(null==c?void 0:c.uid)===(null==r?void 0:null===(n=r.info)||void 0===n?void 0:n.uid),authorId:null==c?void 0:c.uid,danmakuIdUid:null==e?void 0:e.user_id,isDanmuAuthor:(null==e?void 0:e.user_id)===(null==r?void 0:null===(s=r.info)||void 0===s?void 0:s.uid),logParams:f,videoScale:(null==a?void 0:null===(d=a.video)||void 0===d?void 0:d.width)/(null==a?void 0:null===(u=a.video)||void 0===u?void 0:u.height),itemDurationMs:(null==a?void 0:null===(v=a.video)||void 0===v?void 0:v.duration)||0,currentIndex:E},e._))},bulletDetached(e,t){_.unmountComponentAtNode(t)}}},S=new eE(C);S.setOpacity(ec()),t.paused?t.needStart=!0:!t.danmakuSingClose&&S.start(),t.danmaku=S||{},t.danmaku.emojiListMapped=m,v(!0),t.emit(D.Ks.danmakuInit);let j=()=>{if(I.current){I.current=0,b.current=null;return}let e=b.current;if((null==e?void 0:e.el)&&(null==e||e.el.removeEventListener("mouseleave",j),null==e||e.el.removeEventListener("click_timestamp",j)),(null==e?void 0:e.id)&&(null==e?void 0:e.el)){var t,l;S.restartComment(null==e?void 0:e.id),null===(l=e.el)||void 0===l||null===(t=l.style)||void 0===t||t.setProperty("z-index","9")}b.current=null},N=e=>{var l;let{bullet:n}=e;if(n!==b.current&&null!==n.el)T.Z.sendLog("pickDanmaku",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),group_id:null==a?void 0:a.awemeId,author_id:null==a?void 0:null===(l=a.authorInfo)||void 0===l?void 0:l.uid,danmaku_id:n.id},f)),b.current=n,t.danmaku.freezeComment(n.id),n.el.addEventListener("mouseleave",j),n.el.addEventListener("click_timestamp",j),n.el.style.setProperty("z-index","11")};S.on(D.Ks.bulletHover,N);let L=S.resize;S.resize=()=>{var e;if(!!(null==t?void 0:null===(e=t.root)||void 0===e?void 0:e.offsetWidth))S&&L.call(S)};let A=()=>null==S?void 0:S.resize(),R=()=>{var e,l,i;!((null==t?void 0:t.currentTime)<.5&&(null==k?void 0:k.danmakuRecycle))&&(null==t||null===(l=t.danmaku)||void 0===l||l.clear(),null==t||null===(i=t.danmaku)||void 0===i||i.stop()),((null===(e=x.Le.getConfig(x.gI.DanmakuSetting))||void 0===e?void 0:e.isOpen)||u)&&(t.paused?t.needStart=!0:!t.danmakuSingClose&&(null==S||S.start()))},P=()=>{if(!((null==t?void 0:t.currentTime)<1)||(null==k?!void 0:!k.danmakuOptV1))j(),null==t||t.emit(D.Ks.clearCache),null==S||S.stop()},V=()=>{"paused"!==S.status&&(y.t.isOptimizeDanmaku(k)?setTimeout(()=>{null==S||S.pause()},0):null==S||S.pause())},M=()=>{var e,l,i;if(!t.danmakuSingClose)((null===(e=x.Le.getConfig(x.gI.DanmakuSetting))||void 0===e?void 0:e.isOpen)||u)&&(t.needStart||(null==t?void 0:null===(l=t.danmaku)||void 0===l?void 0:l.main._status)==="closed"?(t.danmaku.start(),t.needStart=!1):null==S||null===(i=S.play)||void 0===i||i.call(S))},B=()=>{let e=eh();t.playbackRate&&(null==S||S.setAllDuration(D.IK,e/t.playbackRate))},O=()=>{if(!t.danmakuSingClose)u&&(null==u?void 0:u.status)!==0&&setTimeout(()=>{if(u.pausedStatus&&!t.paused||!u.pausedStatus){var e;null==t||null===(e=t.danmaku)||void 0===e||e.start()}},500)};t.on(s.Events.FULLSCREEN_CHANGE,A),t.on(s.Events.CSS_FULLSCREEN_CHANGE,A),t.on(s.Events.MINI_STATE_CHANGE,A),t.on(s.Events.SEEKED,R),t.on(s.Events.SEEKING,P),t.on(s.Events.PAUSE,V),t.on(s.Events.PLAY,M),t.on(s.Events.CANPLAY,O),t.on("ratechange",B);let z=w.listen(w.EVENT.videoPause,V);return(null==u?void 0:u.danmakuOffset)&&(null==u?void 0:u.status)!==0&&(eh(),t.currentTime=Math.max((null==u?void 0:u.danmakuOffset)/1e3-1,0),setTimeout(()=>{var e;if(!t.danmakuSingClose)null==t||null===(e=t.danmaku)||void 0===e||e.start()},500)),()=>{null==t||t.off(s.Events.FULLSCREEN_CHANGE,A),null==t||t.off(s.Events.CSS_FULLSCREEN_CHANGE,A),null==t||t.off(s.Events.MINI_STATE_CHANGE,A),t.off(s.Events.SEEKED,R),null==t||t.off(s.Events.SEEKING,P),null==t||t.off(s.Events.PAUSE,V),t.off(s.Events.PLAY,M),null==t||t.off(s.Events.CANPLAY,O),null==t||t.off(D.Ks.ratechange,B),null==S||S.off(D.Ks.bulletHover,N),null==S||S.destroy(),x.Le.getConfig(x.gI.AbtestData).danmakuOptV1>1&&(g.current=!1),S=null,t.danmaku=null,z()}}},[t,n,null==a?void 0:a.awemeId,c,C]),null},eS={isLoading:!1,hasUsed:!1,fetchTimes:0,data:[]},eb=e=>{let{player:t,isActive:l,awemeInfo:n,danmakuInited:a,danmakuInfo:r,firstDanmakuShowRef:d,logParams:u,abtestData:c,currentIndex:v,userUid:m,totalCountRef:f}=e,{awemeId:k}=n||{},g=(0,o.useRef)({}),_=(0,o.useRef)(0),y=(0,o.useRef)(!1),w=(0,o.useRef)(()=>{}),E=(0,o.useRef)(0),C=(0,o.useCallback)((e,t)=>{let l=D.SW;if(!t)return[0,l];let i=Math.floor(t/l)*l;return[i,i+l<e?i+l:e]},[]),S=()=>{(async()=>{var e,l,a,o,r,s,d,c;let m=null!==(d=null==t?void 0:t.sendDanmakuCountSelf)&&void 0!==d?d:0,f=await eg(),x=_.current+m,g=(null!==(c=null==t?void 0:t.danmakuShowCount)&&void 0!==c?c:0)+m;T.Z.sendLog("danmakuPlayResult",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),group_id:null==n?void 0:n.awemeId,author_id:null==n?void 0:null===(e=n.authorInfo)||void 0===e?void 0:e.uid,danmaku_count:x,danmaku_pub_count:x,danmaku_play_count:g>x?x:g,speed_value:D.AY[f.speed].log,area_value:D.WK[f.region].log,size_value:null===(l=em(t))||void 0===l?void 0:l[f.fontSize].log,opacity_value:f.opacity,speed_video:null==t?void 0:t.playbackRate,play_time:E.current,browser_height:(0,X.P6)(),browser_width:(0,X.wi)(),browser_ratio:(0,X.P6)()/(0,X.wi)(),video_scale:(null==n?void 0:null===(a=n.video)||void 0===a?void 0:a.width)/(null==n?void 0:null===(o=n.video)||void 0===o?void 0:o.height),item_duration_ms:(null==n?void 0:null===(r=n.video)||void 0===r?void 0:r.duration)||0,player_replayed:(null==t?void 0:t.replayed)?1:0,is_visible:"visible"===document.visibilityState?1:0,play_order:v},u)),t.sendDanmakuCountSelf=0,(null==t?void 0:null===(s=t.danmakuIds)||void 0===s?void 0:s.length)&&(T.Z.sendLog("danmakuImpression",{enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),group_id:k,danmaku_id_list:t.danmakuIds.toString(),video_time_list:t.videoTimes.toString()}),t.danmakuIds=[],t.videoTimes=[])})()},I=()=>{if(g.current={},t){var e,l;t.danmuPrequest=!1,(null==t?void 0:null===(l=t.danmaku)||void 0===l?void 0:null===(e=l.main)||void 0===e?void 0:e.data)&&(t.danmaku.main.data=[])}};w.current=()=>{I(),!y.current&&(y.current=!0,S())},(0,o.useEffect)(()=>{g.current={};let e=()=>w.current();return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e),w.current()}},[k]),(0,o.useEffect)(()=>{t&&(t.isEnded=!1,t.danmakuShowCount=0)},[k,l]),(0,o.useEffect)(()=>{if(t){let e=()=>{E.current=Math.ceil(1e3*((null==t?void 0:t.currentTime)||(null==t?void 0:t.duration)))};return null==t||t.on(D.Ks.clearCache,I),null==t||t.on(s.Events.TIME_UPDATE,e),null==t||t.on(s.Events.REPLAY,I),()=>{null==t||t.off(D.Ks.clearCache,I),null==t||t.off(s.Events.TIME_UPDATE,e),null==t||t.off(s.Events.REPLAY,I)}}},[t,k]),(0,o.useEffect)(()=>{if(t&&l&&t.danmaku&&a){let e=b()(async()=>{var e,l,a,o,s,u,v,h;if(!((null===(e=x.Le.getConfig(x.gI.DanmakuSetting))||void 0===e?void 0:e.isOpen)||r)||(null==c?void 0:c.emptyDanmaku)&&(null==n?void 0:null===(l=n.danmakuControl)||void 0===l?void 0:l.skipDanmaku)&&0===f.current)return;let[y,w]=C(t.duration,t.currentTime);g.current.awemeId=g.current.awemeId||{},!g.current.awemeId[y]&&(g.current.awemeId[y]=(0,i._)({},eS));let E=g.current.awemeId[y];if((null==E?void 0:E.isLoading)||(null==E?void 0:E.hasUsed)||t.danmuPrequest&&y<D.SW)return;E.fetchTimes++,E.isLoading=!0,T.Z.sendLog("danmakuRequest",{enter_from:(0,p.mo)(),group_id:k,start_time:y,end_time:w});let S={awemeId:k,startTime:Math.round(1e3*y),endTime:Math.round(1e3*w),authenticationToken:null==n?void 0:n.authenticationToken,duration:Math.ceil((null==t?void 0:t.duration)*1e3)};(null==c?void 0:c.emptyDanmaku)&&(S.hasTotal=!0,S.total=null!==(u=f.current)&&void 0!==u?u:null==n?void 0:null===(s=n.danmakuControl)||void 0===s?void 0:s.danmakuCnt);let b=await (0,j.N6)(S);if(T.Z.sendLog("danmakuResponse",{enter_from:(0,p.mo)(),group_id:k,start_time:y,end_time:w,status_code:(null==b?void 0:b.statusCode)||-1,http_code:(null==b?void 0:b.httpCode)||-1,danmaku_count:(null==b?void 0:null===(a=b.danmakuList)||void 0===a?void 0:a.length)||0,danmaku_main_status:(null==t?void 0:null===(o=t.danmaku)||void 0===o?void 0:o.main)?1:0}),E.isLoading=!1,0!==b.statusCode)return;E.hasUsed=!0;let{danmakuList:I=[],total:N}=b;!t.isEnded&&(_.current=N);let L=`${ep(t)}px`,A=null==I?void 0:I.map(e=>({start:(null==r?void 0:r.danmakuId)===e.danmakuId?void 0:e.offsetTime,realTime:(null==r?void 0:r.danmakuId)===e.danmakuId,duration:eh()/t.playbackRate,id:e.danmakuId,user_id:e.userId,score:null==e?void 0:e.score,elLazyInit:!0,text:null==e?void 0:e.text,style:{fontSize:L,height:L,lineHeight:L,color:"#FFFFFF",marginTop:"0"},prior:(null==r?void 0:r.danmakuId)===e.danmakuId||m===(null==e?void 0:e.userId),_:{isAnchor:(null==r?void 0:r.danmakuId)===e.danmakuId,isLike:1===e.diggType,firstDanmakuShowRef:d,offsetTime:e.offsetTime}}));A.length>0&&(null==t||null===(h=t.danmaku)||void 0===h||null===(v=h.updateComments)||void 0===v||v.call(h,A,!1))},2e3,{leading:!0,trailing:!1}),o=()=>{!t.paused&&l&&t.danmaku&&a&&e()},u=()=>{t.isEnded=!0,t.danmuPrequest=!1};return t.on(s.Events.CANPLAY,e),t.on(s.Events.TIME_UPDATE,o),t.on(s.Events.ENDED,u),()=>{t.off(s.Events.CANPLAY,e),t.off(s.Events.TIME_UPDATE,o),t.off(s.Events.ENDED,u)}}},[t,l,k,a,C,c,m])};var eI=l("665054"),ej=l("860684"),eN=l("894416"),eL=l("679126"),eD=l("205457"),eT=l("746864"),eA=l("256277"),eR=l("850063");l("234572");var eP=l("135729"),eV=l("56663");l("429532");var eM=l("747909"),eB=l("146914"),eF=l("17750"),eO=l("857709"),ez=l("259500"),eG=l("291773"),eZ=l("264591"),eU=l("108336");let eK=e=>{var t,l,n,r;let{player:d,awemeInfo:u,isConfGot:v,isLogin:m,isDanmuIcon:f,isNeverHover:k=!1,disableShortCut:g=!1,abtestData:_,setSwitchStatus:y,switchStatus:w,onClick:E}=e,[C,S]=(0,o.useState)(w),b=(0,o.useRef)(),I=(0,o.useRef)(!1),{logParams:j}=(0,eU.Y)(),[N,A]=(0,o.useState)(!1),R=(0,o.useRef)(),P=(0,o.useCallback)(e=>{let{keyboard:t,forceClose:l}=e;if(I.current=!0,d){if(null==d||d.emit(s.Events.USER_ACTION,{action:"danmaku_switch",status:C?"close":"open"}),!w){y(!0),S(!0),e_({conf:{isOpen:!0},awemeInfo:u,isLogin:m,logParams:(0,i._)({click_method:!0===t?"hot_key":"click"},j)}),!0===t&&L.F.info("打开弹幕",null==d?void 0:d.root);return}!0===t&&L.F.info(`${C?"关闭":"打开"}弹幕`,null==d?void 0:d.root);let e=!1;if((null==_?void 0:_.danmakuClose)&&(0,et.R)()){if(l)x.Le.setConfig(x.gI.closeDanmakuCount,0),(0,J.qQ)(ee.LocalStorageKeys.danmakuClose,null);else if(C){if(x.Le.getConfig(x.gI.closeDanmakuCount)>0)x.Le.setConfig(x.gI.closeDanmakuCount,0),(0,J.qQ)(ee.LocalStorageKeys.danmakuClose,null),(0,J.qQ)(ee.LocalStorageKeys.danmakuDisableOnceClose,!0),L.F.info("已关闭全部弹幕，左下角可开启",null==d?void 0:d.root);else{x.Le.setConfig(x.gI.closeDanmakuCount,1);let t=(0,J.$o)(ee.LocalStorageKeys.danmakuClose);(0,J.qQ)(ee.LocalStorageKeys.danmakuClose,Object.assign({},t,{[u.awemeId]:Date.now()})),!(0,J.$o)(ee.LocalStorageKeys.danmakuToast)&&((0,J.qQ)(ee.LocalStorageKeys.danmakuToast,!0),A(!0),T.Z.sendLog("closeAllDanmakuGuideTagShow",{group_id:null==u?void 0:u.awemeId,enter_from:(0,p.mo)(),author_id:String(null==u?void 0:u.authorUserId)}),R.current=setTimeout(()=>{A(!1)},3e3)),e=!0}}else x.Le.setConfig(x.gI.closeDanmakuCount,0),(0,J.qQ)(ee.LocalStorageKeys.danmakuClose,null),w&&(e=!0)}if(e){var n,a,o;T.Z.sendLog("danmakuSwitch",{enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),action:C?"1":"0",danmaku_switch_status:C?"off":"on",off_range:C?"current_video":"all_video",group_id:null==u?void 0:u.awemeId,author_id:String(null==u?void 0:u.authorUserId),video_scale:(null==u?void 0:null===(n=u.video)||void 0===n?void 0:n.width)/(null==u?void 0:null===(a=u.video)||void 0===a?void 0:a.height),item_duration_ms:(null==u?void 0:null===(o=u.video)||void 0===o?void 0:o.duration)||0})}else e_({conf:{isOpen:!l&&!w},awemeInfo:u,isLogin:m,logParams:(0,i._)({click_method:!0===t?"hot_key":"click"},j)}),y(e=>!l&&!e);S(e=>!l&&!e),null==d||d.emit(D.Ks.clearCache)}},[d,u,m,w,j,_,C]);(0,o.useEffect)(()=>{d&&(!C&&w?d.danmakuSingClose=!0:d.danmakuSingClose=!1)},[C,d,w]),(0,o.useEffect)(()=>{var e,t,l,i,n,a;if(!C){null==d||null===(t=d.danmaku)||void 0===t||null===(e=t.stop)||void 0===e||e.call(t),I.current=!1;return}(null==d?void 0:d.danmaku)&&(C?d.paused?d.needStart=!0:null==d||null===(i=d.danmaku)||void 0===i||null===(l=i.start)||void 0===l||l.call(i):(d.needStart=!1,null==d||null===(a=d.danmaku)||void 0===a||null===(n=a.stop)||void 0===n||n.call(a))),I.current=!1},[C]),(0,o.useEffect)(()=>{let e=(0,J.$o)(ee.LocalStorageKeys.danmakuClose),t=null==e?void 0:e[null==u?void 0:u.awemeId];w&&(null==_?void 0:_.danmakuClose)&&(0,et.R)()&&t&&Date.now()-t<=6048e5?S(!1):S(w)},[w,_,null==u?void 0:u.awemeId]);let M=()=>{y(!0),S(!0),e_({conf:{isOpen:!0},awemeInfo:u,isLogin:m,logParams:j})};(0,o.useEffect)(()=>(null==d||d.on("DANMAKU_SWITCH_OPEN",M),()=>{null==d||d.off("DANMAKU_SWITCH_OPEN",M),clearTimeout(R.current)}),[]),(0,o.useEffect)(()=>{let e=z()(()=>{P({keyboard:!0})},500,{trailing:!0});if(d&&(f||!f&&!k))return null==d||d.on(el.B.ChangeDanmaku,e),()=>{null==d||d.off(el.B.ChangeDanmaku,e)}},[d,P,k,f]),(0,o.useEffect)(()=>{if(d&&(f||!f&&!k))return null==d||d.on(el.B.DanmakuCloseAll,P),()=>{null==d||d.off(el.B.DanmakuCloseAll,P)}},[d,P,k,f]);let B=(0,o.useMemo)(()=>C?(0,a.jsx)(eO.Z,{}):(0,a.jsx)(ez.Z,{}),[v,C]),F=(0,o.useCallback)(()=>{T.Z.sendLog("hover_danmaku_switch",{enter_from:(0,p.mo)(),group_id:null==u?void 0:u.awemeId,player_display_mode:(0,p.Ok)()})},[]);return k?null:f?(0,a.jsxs)(a.Fragment,{children:[w&&(null==_?void 0:_.danmakuClose)&&(0,et.R)()?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:c()(eZ.default.closeAll),onClick:()=>{null==d||d.emit(el.B.DanmakuCloseAll,{forceClose:!0}),L.F.info("已关闭全部弹幕，左下角可开启",null==d?void 0:d.root),(0,J.qQ)(ee.LocalStorageKeys.danmakuDisableOnceClose,!0),null==E||E(),T.Z.sendLog("closeAllDanmakuSwitch",{group_id:null==u?void 0:u.awemeId,enter_from:(0,p.mo)(),author_id:String(null==u?void 0:u.authorUserId)})},children:"关闭全部弹幕"}),(0,a.jsx)(eB.i,{className:c()(eZ.default.divider)})]}):null,(0,a.jsxs)("div",{className:c()(eZ.default.switchBox,eZ.default.danmakuhover),onMouseLeave:F,children:[(0,a.jsx)("div",{className:eZ.default.switchLabel,children:"弹幕开关"}),(0,a.jsx)(eM.Switch,{checked:C,onChange:P})]})]}):(0,a.jsxs)("div",{className:eZ.default.container,onMouseLeave:F,children:[N&&(null==_?void 0:_.danmakuClose)&&(0,et.R)()?(0,a.jsxs)("div",{className:eZ.default.closeTip,children:[(0,a.jsx)("div",{className:eZ.default.closeText,children:"本视频已关闭弹幕，可设置关闭全部弹幕"}),(0,a.jsx)(V.z,{svg:(0,a.jsx)(eG.Z,{}),className:eZ.default.down})]}):null,(0,a.jsx)(eM.Tooltip,{getPopupContainer:()=>b.current||document.body,style:g||N&&(null==_?void 0:_.danmakuClose)&&(0,et.R)()?{display:"none"}:{},spacing:(null==_?void 0:null===(t=_.controls)||void 0===t?void 0:t.addspace)?14:10,mouseEnterDelay:(null==_?void 0:null===(l=_.controls)||void 0===l?void 0:l.delayhover)?300:50,className:"danmu-switch-box",content:(0,a.jsxs)(a.Fragment,{children:[`${C?"关闭":"打开"}弹幕`,!!(null===eF.SHORTCUT_KEY||void 0===eF.SHORTCUT_KEY?void 0:null===(n=eF.SHORTCUT_KEY.danmaku)||void 0===n?void 0:n.badgeText)&&(0,a.jsx)("span",{className:eZ.default.tipKey,children:null===eF.SHORTCUT_KEY||void 0===eF.SHORTCUT_KEY?void 0:null===(r=eF.SHORTCUT_KEY.danmaku)||void 0===r?void 0:r.badgeText})]}),showArrow:!1,position:"top",children:(0,a.jsx)("span",{className:c()(eZ.default.svgBox,eZ.default.danmakuhover),ref:b,children:(0,a.jsx)(V.z,{svg:B,onClick:P})})})]})};var eW=l("469308"),eH=l("608837"),eY=l("149448"),e$=l("974629"),eq=l("473677"),eQ=l("867255");let eJ=(e,t)=>{let l={};for(let i=e;i<=t;i++)l[i]=String(i);return l},eX=e=>{let{label:t,max:l,showDots:i,getLabelFunc:n,defaultValue:r,onChange:d,resetVal:u,min:c,player:v}=e,[m,f]=(0,o.useState)(r||1);(0,o.useEffect)(()=>{f(r)},[u,r]);let p=(0,o.useCallback)(e=>{if("number"==typeof e)d(e),f(t=>(t!==e&&(null==v||v.emit(s.Events.USER_ACTION,{action:"danmaku_setting"})),e))},[d]);return(0,a.jsxs)("div",{className:e$.default.listItem,children:[(0,a.jsx)("span",{className:e$.default.label,children:t}),(0,a.jsx)(eM.Slider,{step:1,marks:i?eJ(c,l):void 0,min:c||0,max:l,showMarkLabel:!1,tooltipVisible:!1,value:m,onChange:p}),(0,a.jsx)("span",{className:e$.default.value,children:n(m)})]})},e0=e=>{let{player:t,awemeInfo:l,isLogin:n,loginDispatch:r,userUid:s,userInfo:d,isDanmuIcon:u,panelClassName:v,inputRef:m,setSwitchStatus:f,switchStatus:k,isConfGot:g,children:_,danmuListTargetEl:y,abtestData:E,totalCountRef:C}=e,[S,b]=(0,o.useState)(!1),[I,j]=(0,o.useState)(!0),[N,D]=(0,o.useState)(!1),A=(0,o.useRef)(),R=(0,o.useRef)(),{logParams:P}=(0,eU.Y)();(0,o.useEffect)(()=>{if(t){var e;let l=()=>{D(!1),(0,J.qQ)(ee.LocalStorageKeys.danmakuDisableOnceClose,!0)};return null===(e=t.on)||void 0===e||e.call(t,el.B.DanmakuCloseAll,l),()=>{var e;null===(e=t.off)||void 0===e||e.call(t,el.B.DanmakuCloseAll,l)}}},[t,l]);let M=()=>{T.Z.sendLog("enterDanmakuSetting",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),group_id:null==l?void 0:l.awemeId,player_display_mode:(0,p.Ok)()},P))};return(0,o.useEffect)(()=>{let e=w.listen(w.EVENT.syncInteraction,()=>b(e=>!e));return()=>{null==e||e()}},[]),(0,o.useEffect)(()=>{let e=e=>{null==e||e.stopPropagation()},t=R.current;return null==t||t.addEventListener("pointerdown",e),null==t||t.addEventListener("touchstart",e),()=>{null==t||t.removeEventListener("pointerdown",e),null==t||t.removeEventListener("touchstart",e)}},[]),(0,a.jsxs)("div",{ref:R,className:c()(e$.default.container,{[e$.default.show]:N}),onMouseEnter:()=>{M(),j(!1),w.emit(w.EVENT.videoStopPlayNext),setTimeout(()=>{var e;u&&(null===(e=m.current)||void 0===e||e.focus())},100),clearTimeout(A.current),!x.Le.getConfig(x.gI.IsShowDanmakuListModal)&&D(!0)},onMouseLeave:()=>{var e;T.Z.sendLog("hover_danmaku_setting",{enter_from:(0,p.mo)(),group_id:null==l?void 0:l.awemeId,player_display_mode:(0,p.Ok)()}),u&&(null===(e=m.current)||void 0===e||e.blur()),w.emit(w.EVENT.videoRemoveStopPlayNext),A.current=setTimeout(()=>{D(!1)},500)},children:[I?(0,a.jsx)(eK,{player:t,awemeInfo:l,isConfGot:g,isLogin:null==d?void 0:d.isLogin,isDanmuIcon:u,isNeverHover:I,setSwitchStatus:f,switchStatus:k,onClick:()=>D(!1),abtestData:E}):(0,a.jsx)("div",{className:e$.default.panelWithBottom,children:(0,a.jsxs)("div",{className:c()(e$.default.panel,"semi-always-dark","danmu-setting-box",v),onKeyDown:e=>{let l=e.ctrlKey||e.metaKey;"Enter"===e.key&&!l&&E.danmakuPost&&t.emit(el.B.danmakuInputFocus)},children:[(0,a.jsxs)("div",{className:e$.default.header,children:[(0,a.jsx)("div",{className:e$.default.title,children:"弹幕设置"}),(0,a.jsxs)("div",{className:e$.default.reset,onClick:()=>{ey({danmu:null==t?void 0:t.danmaku,awemeInfo:l,player:t,isLogin:n,logParams:P}),b(e=>!e)},children:[(0,a.jsx)(eq.Z,{src:eW.Z,width:13,height:12,viewBox:"0 0 14 13"}),(0,a.jsx)("span",{children:"恢复默认"})]})]}),(0,a.jsx)(eB.i,{className:e$.default.divider}),(0,a.jsx)("div",{className:e$.default.list,children:ew.map(e=>{var i;return(0,a.jsx)(eX,{label:e.desc,showDots:e.showDots,max:e.max,min:"opacity"===e.key?20:0,getLabelFunc:e.getLabelFunc,defaultValue:null!==(i=eu(e.key))&&void 0!==i?i:e.defaultVal,onChange:i=>{e.onChange({danmu:null==t?void 0:t.danmaku,val:i,awemeInfo:l,player:t,isLogin:n,logParams:P})},resetVal:S,player:t},e.key)})}),!u&&(0,a.jsx)(eB.i,{className:e$.default.dividerSmall}),(0,a.jsx)(eQ.R,{userUid:s,awemeInfo:l,player:t,loginDispatch:r,isLogin:n,className:u?e$.default.danmuIconStyle:"",userInfo:d,targetMountEl:y,onClick:()=>D(!1),abtestData:E,totalCountRef:C}),_,k&&!u&&(null==E?void 0:E.danmakuClose)&&(0,et.R)()?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eB.i,{className:c()(e$.default.divider,e$.default.dividerMargin)}),(0,a.jsx)("div",{className:c()(e$.default.closeAll),onClick:()=>{null==t||t.emit(el.B.DanmakuCloseAll,{forceClose:!0}),(0,J.qQ)(ee.LocalStorageKeys.danmakuDisableOnceClose,!0),L.F.info("已关闭全部弹幕，左下角可开启",null==t?void 0:t.root),D(!1),T.Z.sendLog("closeAllDanmakuSwitch",{group_id:null==l?void 0:l.awemeId,enter_from:(0,p.mo)(),author_id:String(null==l?void 0:l.authorUserId)})},children:"关闭全部弹幕"})]}):null]})}),!!u&&(0,a.jsx)(V.z,{className:c()(e$.default.iconSetting,e$.default.newdanmuku),svg:(0,a.jsx)(eH.Z,{})}),!u&&(0,a.jsx)(V.z,{className:c()(e$.default.iconSetting,e$.default.newdanmuku),svg:(0,a.jsx)(eY.Z,{})})]})};l("110006"),l("826893"),l("954372");var e1=l("613063"),e3=l.n(e1),e2=l("546573"),e4=l.n(e2),e6=l("696332"),e8=l("98524"),e5=l("880669"),e7=l("409693");let e9=(e,t)=>{let l=t-1,i=!1,n=t,a=!1;for(;l>=0;){if("["===e[l]){i=!0;break}if("]"===e[l])break;l--}for(;n<=e.length-1;){if("]"===e[n]){a=!0;break}if("["===e[n])break;n++}return i&&a?[l,n+1]:[-1,-1]},te=(e,t)=>{let l=(e.match(/\[[\u4e00-\u9fa5]+\]/g)||[]).filter(e=>t.includes(e));return l[l.length-1]||""},tt=e=>{var t,l;let{awemeInfo:n,userInfo:r,player:d,loginDispatch:u,setSwitchStatus:v,firstDanmakuShowRef:m,isDanmuIcon:f,inputRef:k,abtestData:_,isActive:y,totalCountRef:E,isDouyinPlayer:C}=e,[S,b]=(0,o.useState)(0),[I,A]=(0,o.useState)(""),R=(0,o.useRef)(null),P=(0,o.useRef)(0),V=(0,o.useRef)(0),M=(0,o.useRef)(!1),B=(0,o.useRef)(0),F=(0,o.useRef)(!1),O=(0,o.useRef)(0),z=(0,o.useRef)(null),G=(0,o.useRef)(!1),{emojiList:Z}=(0,g.b)(),{logParams:U}=(0,eU.Y)(),K=(0,o.useRef)(null),W=(0,o.useMemo)(()=>Object.keys(Z).map(e=>Z[e].name),[Z]),H=(0,o.useMemo)(()=>{var e,t;return(null==n?void 0:null===(e=n.danmakuControl)||void 0===e?void 0:e.isPostDenied)?`作者仅允许${({1:"粉丝",2:"好友",3:"自己"})[null==n?void 0:null===(t=n.danmakuControl)||void 0===t?void 0:t.postPrivilegeLevel]}发弹幕`:e6.a.t("send_a_friendly_bullet_comment",{},"发一条友好的弹幕吧")},[n]),Y=(0,o.useCallback)(async e=>{var t,l,a,o,s,c,f,x,g;if(T.Z.sendLog("danmakuSendClick",{enter_from:(0,p.mo)(),group_id:null==n?void 0:n.awemeId,content:I}),null==n?void 0:null===(t=n.danmakuControl)||void 0===t?void 0:t.isPostDenied)return;if(/^\s*$/.test(I)){L.F.info("表达你的态度再发弹幕",null==d?void 0:d.root);return}if(M.current)return;if(Date.now()-B.current<D.sZ){L.F.info("发送频率过快, 等待5秒后可再次发送",null==d?void 0:d.root);return}M.current=!0;let _=Math.floor((null==d?void 0:d.currentTime)*1e3),y=await (0,j.FW)({item_id:null==n?void 0:n.awemeId,text:I,user_id:null==r?void 0:null===(l=r.info)||void 0===l?void 0:l.uid,offset_time:_});M.current=!1,B.current=Date.now();let{statusCode:C,danmakuId:S,isVerifyPassportError:b}=y;if(0===C&&(E.current=E.current+1),b){L.F.info("身份验证失败",null==d?void 0:d.root);return}let N=S||e4()("postComment");T.Z.sendLog("danmakuPubDone",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),click_method:e,group_id:null==n?void 0:n.awemeId,author_id:null==n?void 0:null===(a=n.authorInfo)||void 0===a?void 0:a.uid,danmaku_id:null!=S?S:0,video_time:Math.floor(1e3*d.currentTime||0),video_pct:1e3*d.currentTime/(null==n?void 0:null===(o=n.video)||void 0===o?void 0:o.duration),danmaku_pub_duration:Date.now()-P.current,danmaku_input_duration:Date.now()-V.current,is_author:(null==r?void 0:null===(s=r.info)||void 0===s?void 0:s.uid)===(null==n?void 0:null===(c=n.authorInfo)||void 0===c?void 0:c.uid)?1:0,emoji_id:te(I,W),video_scale:(null==n?void 0:null===(f=n.video)||void 0===f?void 0:f.width)/(null==n?void 0:null===(x=n.video)||void 0===x?void 0:x.height),item_duration_ms:(null==n?void 0:null===(g=n.video)||void 0===g?void 0:g.duration)||0},U)),v(!0),null==d||d.emit("DANMAKU_SWITCH_OPEN");let R=`${ep(d)}px`;setTimeout(()=>{var e,t,l,i,n,a;null==d||null===(t=d.danmaku)||void 0===t||t.sendComment({prior:!0,user_id:null==r?void 0:null===(e=r.info)||void 0===e?void 0:e.uid,id:N,duration:eh()/d.playbackRate,realTime:!0,elLazyInit:!0,text:I,style:{color:"#FFFFFF",fontSize:R,height:R,lineHeight:R},_:{isLogin:null==r?void 0:r.isLogin,isDanmuAuthor:!0,loginDispatch:u,firstDanmakuShowRef:m,offsetTime:0===C?_:0,userInfo:r}}),d.paused&&(null===(n=d.danmaku)||void 0===n||n.pause()),d.sendDanmakuCountSelf=(null!==(a=null==d?void 0:d.sendDanmakuCountSelf)&&void 0!==a?a:0)+1,null===(i=k.current)||void 0===i||null===(l=i.blur)||void 0===l||l.call(i),w.emit(w.EVENT.videoRemoveStopPlayNext),A("")},200)},[d,I,r,n,W]),$=(0,o.useCallback)(async e=>{var t,l,a,o,s,c,f,x,g,_,y,C,S,b;let{method:I,value:N}=e;if(T.Z.sendLog("danmakuSendClick",{enter_from:(0,p.mo)(),group_id:null==n?void 0:n.awemeId,content:N}),null==n?void 0:null===(t=n.danmakuControl)||void 0===t?void 0:t.isPostDenied)return;if(/^\s*$/.test(N)){L.F.info("表达你的态度再发弹幕",null==d?void 0:d.root);return}if(M.current)return;if(Date.now()-B.current<D.sZ){L.F.info("发送频率过快, 等待5秒后可再次发送",null==d?void 0:d.root);return}v(!0),null==d||d.emit("DANMAKU_SWITCH_OPEN");let R=`${ep()}px`,F=e4()("postComment"),O=()=>{var e,t,l,i;null==d||null===(e=d.off)||void 0===e||e.call(d,D.Ks.danmakuInit,O),A(""),null==d||null===(l=d.danmaku)||void 0===l||l.sendComment({prior:!0,user_id:null==r?void 0:null===(t=r.info)||void 0===t?void 0:t.uid,id:F,duration:eh()/d.playbackRate,realTime:!0,elLazyInit:!0,text:N,style:{color:"#FFFFFF",fontSize:R,height:R,lineHeight:R},_:{isLogin:null==r?void 0:r.isLogin,isDanmuAuthor:!0,loginDispatch:u,firstDanmakuShowRef:m,offsetTime:1e3*d.currentTime,userInfo:r}}),d.paused&&(null===(i=d.danmaku)||void 0===i||i.pause())};(null==d?void 0:null===(l=d.danmaku)||void 0===l?void 0:l.sendComment)?O():d&&(d.on(D.Ks.danmakuInit,O),K.current=()=>{var e;null==d||null===(e=d.off)||void 0===e||e.call(d,D.Ks.danmakuInit,O)}),d.sendDanmakuCountSelf=(null!==(S=null==d?void 0:d.sendDanmakuCountSelf)&&void 0!==S?S:0)+1,null===(o=k.current)||void 0===o||null===(a=o.blur)||void 0===a||a.call(o),w.emit(w.EVENT.videoRemoveStopPlayNext),M.current=!0;let z=Math.floor((null==d?void 0:d.currentTime)*1e3),G=await (0,j.FW)({item_id:null==n?void 0:n.awemeId,text:N,user_id:null==r?void 0:null===(s=r.info)||void 0===s?void 0:s.uid,offset_time:z});M.current=!1,B.current=Date.now();let{danmakuId:Z,isVerifyPassportError:H,statusCode:Y}=G;if(H){L.F.info("身份验证失败",null==d?void 0:d.root);return}0===Y&&(E.current=E.current+1),d.danmaku&&(d.danmaku.selfPost=null!==(b=d.danmaku.selfPost)&&void 0!==b?b:{},d.danmaku.selfPost[F]=Z),T.Z.sendLog("danmakuPubDone",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),click_method:I,group_id:null==n?void 0:n.awemeId,author_id:null==n?void 0:null===(c=n.authorInfo)||void 0===c?void 0:c.uid,danmaku_id:null!=Z?Z:0,video_time:Math.floor(1e3*d.currentTime||0),video_pct:1e3*d.currentTime/(null==n?void 0:null===(f=n.video)||void 0===f?void 0:f.duration),danmaku_pub_duration:Date.now()-P.current,danmaku_input_duration:Date.now()-V.current,is_author:(null==r?void 0:null===(x=r.info)||void 0===x?void 0:x.uid)===(null==n?void 0:null===(g=n.authorInfo)||void 0===g?void 0:g.uid)?1:0,emoji_id:te(N,W),video_scale:(null==n?void 0:null===(_=n.video)||void 0===_?void 0:_.width)/(null==n?void 0:null===(y=n.video)||void 0===y?void 0:y.height),item_duration_ms:(null==n?void 0:null===(C=n.video)||void 0===C?void 0:C.duration)||0},U))},[d,r,n,W]),q=(0,o.useCallback)(async e=>{let{method:t,value:l}=e;return _.danmakuPost?$({method:t,value:l}):Y(t)},[Y,$,_]),Q=(0,o.useCallback)(e=>{let{selectionStart:t}=k.current,l=t,[i,n]=e9(I,t);if(W.includes(I.slice(i,n))){if(I.length-(n-i+1)+e.name.length>40){b(2),k.current.focus();return}A(t=>t.slice(0,i)+e.name+t.slice(n)),l=i}else{if(I.length+e.name.length>40){b(2),k.current.focus();return}A(l=>l.slice(0,t)+e.name+l.slice(t))}b(2),setTimeout(()=>{k.current.setSelectionRange(l+e.name.length,l+e.name.length),k.current.focus()})},[I,W]),J=(0,o.useCallback)(e=>{A(e.target.value),T.Z.sendLog("danmakuInputContent",{enter_from:(0,p.mo)(),group_id:null==n?void 0:n.awemeId,content:e.target.value})},[]);return(0,o.useEffect)(()=>{if(d&&y&&_.danmakuPost){let e=()=>{if(!x.Le.getConfig(x.gI.IsCommetTab)){var e,t;null===(t=k.current)||void 0===t||null===(e=t.focus)||void 0===e||e.call(t)}};return d.on(D.Ks.danmakuInputFocus,e),()=>{var t;d.off(D.Ks.danmakuInputFocus,e),null===(t=K.current)||void 0===t||t.call(K)}}},[d,y,_]),(0,o.useEffect)(()=>{0===I.length?(P.current=0,(0,X.vU)()&&(G.current=!0,setTimeout(()=>G.current=!1))):(0===P.current&&(P.current=Date.now()),!f&&w.emit(w.EVENT.videoStopPlayNext))},[I,f,d]),(0,o.useEffect)(()=>()=>{w.emit(w.EVENT.videoRemoveStopPlayNext)},[]),(0,o.useEffect)(()=>{var e,t;return null===(t=k.current)||void 0===t||null===(e=t.addEventListener)||void 0===e||e.call(t,"selectstart",et.UW),()=>{var e,t;null===(t=k.current)||void 0===t||null===(e=t.removeEventListener)||void 0===e||e.call(t,"selectstart",et.UW)}},[]),(0,o.useEffect)(()=>{if(S){let e=R.current;return null==e||e.addEventListener("wheel",et.UW),()=>{null==e||e.removeEventListener("wheel",et.UW)}}},[S]),(0,o.useEffect)(()=>{if(1===S){T.Z.sendLog("emojiTabShow",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),enter_method:"danmaku"},U));let t=k.current;if(t.addEventListener("click",et.UW),!C){var e;e3()(d,"config.closeDelayBlur",!0),null==d||null===(e=d.focus)||void 0===e||e.call(d,{autoHide:!1})}return()=>{if(!C){var e;e3()(d,"config.closeDelayBlur",!1),null==d||null===(e=d.focus)||void 0===e||e.call(d)}t.removeEventListener("click",et.UW)}}},[S,C]),(0,a.jsxs)("div",{className:e7.default.container,"data-bytereplay-mask":"strict",children:[S?(0,a.jsx)("div",{className:c()(e7.default.emojiBox,"danmu-emoji-box",{[e7.default.emojiBoxHide]:2===S,[e7.default.danmuIcon]:f}),ref:R,onMouseEnter:()=>{clearTimeout(O.current)},onMouseLeave:()=>{O.current=setTimeout(()=>b(2),700)},children:(0,a.jsx)("div",{className:e7.default.emojiList,onClick:e=>e.nativeEvent.stopImmediatePropagation(),children:Z.map(e=>(0,a.jsx)("img",{src:e.img,onClick:t=>{t.preventDefault(),T.Z.sendLog("clickEmoji",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),enter_method:"danmaku",click_method:"emoji"},U)),Q(e),null==d||d.emit(s.Events.USER_ACTION,{action:"danmaku_emoji_click"})}},e.name))})}):null,(null==r?void 0:r.isLogin)?(0,a.jsx)("input",{ref:k,className:e7.default.editor,type:"text",disabled:(null==n?void 0:null===(t=n.danmakuControl)||void 0===t?void 0:t.isPostDenied)||!1,maxLength:40,value:I,onChange:J,placeholder:I?"":H,spellCheck:!1,onFocus:()=>{var e,t;V.current=Date.now(),T.Z.sendLog("inputDanmaku",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)()},U)),null==d||null===(e=d.focus)||void 0===e||e.call(d,{autoHide:!1}),null==d||null===(t=d.emit)||void 0===t||t.call(d,s.Events.USER_ACTION,{action:"danmaku_input_focus"}),!f&&w.emit(w.EVENT.videoStopPlayNext)},onBlur:()=>{if(!f){if(!C){var e;e3()(d,"config.closeDelayBlur",!1),null==d||null===(e=d.focus)||void 0===e||e.call(d)}(null==I?void 0:I.length)===0&&w.emit(w.EVENT.videoRemoveStopPlayNext)}},onCompositionStart:()=>{F.current=!0},onCompositionEnd:e=>{setTimeout(()=>F.current=!1,10)},onKeyDown:e=>{var t,l;((null===(t=e.target)||void 0===t?void 0:t.value)||"ArrowUp"!==e.code&&"ArrowDown"!==e.code||!(null===(l=e.target)||void 0===l?void 0:l.value)&&("ArrowUp"===e.code||"ArrowDown"===e.code))&&(null==e||e.stopPropagation());let{key:i}=e,n=e.ctrlKey||e.metaKey;return"Enter"===i&&!n&&(null==I?void 0:I.length)>0?q({method:"click",value:I}):null}}):(0,a.jsxs)("div",{className:e7.default.loginBox,onClick:()=>{(0,N.default)({enterMethod:"danmaku",headerText:"登录后可发布弹幕互动",success:()=>{u({type:"updateUserInfo"})}})},children:[(0,a.jsx)("span",{children:e6.a.t("log_in",{},"登录")}),e6.a.t("to_post_comment",{},"后可发布弹幕")]}),(0,a.jsx)(e8.Z,{className:c()([e7.default.emojiIcon],{[e7.default.isActive]:1===S,[e7.default.disable]:(null==r?void 0:r.isLogin)===!1||(null==n?void 0:null===(l=n.danmakuControl)||void 0===l?void 0:l.isPostDenied)===!0}),onMouseEnter:e=>{var t;if((null==r?void 0:r.isLogin)!==!1&&(null==n?void 0:null===(t=n.danmakuControl)||void 0===t?void 0:t.isPostDenied)!==!0&&!G.current)clearTimeout(O.current),b(1)},onMouseLeave:()=>{T.Z.sendLog("hover_emoji_tab",{enter_from:(0,p.mo)(),group_id:null==n?void 0:n.awemeId,player_display_mode:(0,p.Ok)()}),O.current=setTimeout(()=>{b(e=>0===e?0:2)},700)}}),I?(0,a.jsx)(e5.Z,{className:e7.default.sendIcon,onClick:()=>q({method:"click",value:I}),ref:z,onMouseLeave:()=>{T.Z.sendLog("hover_danmaku_input",{enter_from:(0,p.mo)()})}}):null]})};var tl=l("962800");let ti=e=>{let{awemeInfo:t,userInfo:l,player:i,abtestData:n,logParams:o={},refContainer:r,switchStatus:s,setSwitchStatus:d,isConfGot:u}=e;return(0,a.jsx)(eU.G.Provider,{value:{logParams:o},children:(0,a.jsx)("div",{className:(0,eP.default)("isDark",eV.default.danmakuBar,eV.default.oneSwitch),ref:r,onWheel:e=>e.stopPropagation(),children:(0,a.jsx)(eK,{player:i,setSwitchStatus:d,switchStatus:s,awemeInfo:t,isConfGot:u,isLogin:null==l?void 0:l.isLogin,abtestData:n,disableShortCut:!0})})})},tn=e=>{var t,l;let{awemeInfo:i,userInfo:n,player:r,loginDispatch:s,abtestData:d,isDanmuIcon:u,danmuListTargetEl:c,logParams:v={},firstDanmakuShowRef:m,refContainer:f,switchStatus:p,setSwitchStatus:h,isConfGot:x,isActive:k,totalCountRef:g,isDouyinPlayer:_}=e,y=(0,o.useRef)(null);return u?(0,a.jsx)(eU.G.Provider,{value:{logParams:v},children:(0,a.jsx)("div",{className:(0,eP.default)("isDark",eV.default.danmakuIconBar),ref:f,onWheel:e=>e.stopPropagation(),children:(0,a.jsx)(e0,{player:r,awemeInfo:i,isLogin:null==n?void 0:n.isLogin,loginDispatch:s,userUid:null==n?void 0:null===(l=n.info)||void 0===l?void 0:l.uid,isDanmuIcon:u,panelClassName:(0,eP.default)(eV.default.panelStyle,{[eV.default.containerShowCloseAllMini]:p&&(null==d?void 0:d.danmakuClose)&&(0,et.R)()}),userInfo:n,inputRef:y,setSwitchStatus:h,switchStatus:p,totalCountRef:g,isConfGot:x,danmuListTargetEl:c,abtestData:d,children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tl.i,{className:(0,eP.default)(eV.default.dividerSmall,{[eV.default.dividerSmallClose]:p&&(null==d?void 0:d.danmakuClose)&&(0,et.R)()})}),(0,a.jsx)(eK,{player:r,setSwitchStatus:h,switchStatus:p,awemeInfo:i,isConfGot:x,isLogin:null==n?void 0:n.isLogin,isDanmuIcon:u,abtestData:d}),(0,a.jsx)("div",{className:eV.default.inputBox,children:(0,a.jsx)(tt,{awemeInfo:i,userInfo:n,player:r,loginDispatch:s,setSwitchStatus:h,firstDanmakuShowRef:m,isDanmuIcon:u,inputRef:y,abtestData:d,isActive:k,totalCountRef:g,isDouyinPlayer:_})})]}):null})})}):(0,a.jsx)(eU.G.Provider,{value:{logParams:v},children:(0,a.jsxs)("div",{className:(0,eP.default)("isDark",eV.default.danmakuBar),ref:f,onWheel:e=>e.stopPropagation(),children:[(0,a.jsx)(eK,{player:r,setSwitchStatus:h,switchStatus:p,awemeInfo:i,isConfGot:x,isLogin:null==n?void 0:n.isLogin,abtestData:d}),(0,a.jsx)(e0,{player:r,awemeInfo:i,isLogin:null==n?void 0:n.isLogin,loginDispatch:s,userUid:null==n?void 0:null===(t=n.info)||void 0===t?void 0:t.uid,userInfo:n,inputRef:y,danmuListTargetEl:c,abtestData:d,setSwitchStatus:h,switchStatus:p,totalCountRef:g,panelClassName:(0,eP.default)({[eV.default.containerShowCloseAll]:p&&(null==d?void 0:d.danmakuClose)&&(0,et.R)()})}),(0,a.jsx)("div",{className:eV.default.line}),(0,a.jsx)(tt,{awemeInfo:i,userInfo:n,player:r,loginDispatch:s,setSwitchStatus:h,firstDanmakuShowRef:m,inputRef:y,abtestData:d,isActive:k,totalCountRef:g,isDouyinPlayer:_})]})})};var ta=l("426862"),to=l("474808");let tr=(0,o.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.44 4.431a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1.7a.2.2 0 0 0-.2.199v1.666c0 .11.09.2.2.2h1.7a2 2 0 0 1 2 2v.931a3.8 3.8 0 0 1-3.8 3.8h-.9a.8.8 0 0 1 0-1.6h.9a2.2 2.2 0 0 0 2.199-2.2v-.931a.4.4 0 0 0-.4-.4h-1.7a1.8 1.8 0 0 1-1.8-1.8V10.63c.001-.994.807-1.8 1.8-1.8h1.7a.4.4 0 0 0 .4-.4V6.431a.4.4 0 0 0-.4-.4h-2.7a.8.8 0 0 1 0-1.6h2.7zm9.098-.436a.802.802 0 0 1 1.11-.223.801.801 0 0 1 .221 1.11l-.678 1.016h.278a2 2 0 0 1 2 2v3.465a2 2 0 0 1-2 2h-1.665v.442a4.591 4.591 0 0 0-2.575 2.49h-2.624a.8.8 0 0 1 0-1.599h3.6v-1.333h-1.667a2 2 0 0 1-2-2V7.898a2 2 0 0 1 2-2h.277l-.677-1.016a.801.801 0 0 1 .222-1.11.802.802 0 0 1 1.11.223l1.268 1.903h.53l1.27-1.903zm-4.4 7.368c0 .22.18.4.4.4h1.666v-1.332h-2.066v.932zm3.666.4h1.665a.4.4 0 0 0 .4-.4v-.932h-2.065v1.333zm-3.266-4.265c-.22 0-.4.18-.4.4v.933h2.066V7.498h-1.666zm3.266 1.333h2.065v-.933c0-.22-.18-.4-.4-.4h-1.665V8.83z",fill:"#fff",fillOpacity:".9"}),(0,a.jsx)("path",{d:"M14.398 18.076a3.05 3.05 0 0 1 3.05-3.05h2.848a3.05 3.05 0 0 1 0 6.101h-2.848a3.05 3.05 0 0 1-3.05-3.05z",fill:"#FE2C55"}),(0,a.jsx)("rect",{x:18,y:16.042,width:4.068,height:4.068,rx:2.034,fill:"#fff",fillOpacity:".9"})]}))),ts=(0,o.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("path",{d:"M7.44 4.432a2 2 0 0 1 2 2V8.43a2 2 0 0 1-2 2h-1.7a.2.2 0 0 0-.2.199v1.666c0 .11.09.2.2.2h1.7a2 2 0 0 1 2 2v.932a3.8 3.8 0 0 1-3.8 3.8h-.9a.8.8 0 0 1 0-1.6h.9a2.2 2.2 0 0 0 2.2-2.2v-.932a.4.4 0 0 0-.4-.4h-1.7a1.8 1.8 0 0 1-1.8-1.8V10.63c0-.993.806-1.8 1.8-1.8h1.7a.4.4 0 0 0 .4-.4V6.433a.4.4 0 0 0-.4-.4h-2.7a.8.8 0 0 1 0-1.6h2.7zm9.099-.437a.8.8 0 0 1 1.331.887l-.678 1.016h.277a2 2 0 0 1 2 2v3.465a2 2 0 0 1-2 2h-1.665v.442a4.59 4.59 0 0 0-2.574 2.49h-2.625a.8.8 0 0 1 0-1.599h3.6v-1.333h-1.666a2 2 0 0 1-2-2V7.898a2 2 0 0 1 2-2h.277l-.678-1.016a.802.802 0 0 1 .223-1.11.802.802 0 0 1 1.11.223l1.268 1.903h.53l1.27-1.903zm-4.4 7.368c0 .221.179.4.4.4h1.666v-1.332h-2.067v.932zm3.665.4h1.665c.221 0 .4-.179.4-.4v-.932h-2.065v1.333zM12.54 7.499c-.221 0-.4.18-.4.4v.933h2.066V7.498h-1.666zm3.265 1.333h2.066v-.933c0-.22-.18-.4-.4-.4h-1.666v1.333z",fill:"#fff",fillOpacity:".9"}),(0,a.jsx)("path",{d:"M14.398 18.076a3.05 3.05 0 0 1 3.05-3.05h2.848a3.05 3.05 0 0 1 0 6.101h-2.848a3.05 3.05 0 0 1-3.05-3.05z",fill:"#A1A1A1"}),(0,a.jsx)("rect",{x:15.691,y:16.042,width:4.068,height:4.068,rx:2.034,fill:"#fff",fillOpacity:".9"})]}))),td=e=>{var t,l,n,r;let{player:d,awemeInfo:u,isConfGot:v,isLogin:m,isDanmuIcon:f,isNeverHover:k=!1,disableShortCut:g=!1,abtestData:_,setSwitchStatus:y,switchStatus:w,onClick:E}=e,[C,S]=(0,o.useState)(w),b=(0,o.useRef)(),I=(0,o.useRef)(!1),{logParams:j}=(0,eU.Y)(),[N,A]=(0,o.useState)(!1),R=(0,o.useRef)(),P=(0,o.useCallback)(e=>{let{keyboard:t,forceClose:l}=e;if(I.current=!0,d){if(null==d||d.emit(s.Events.USER_ACTION,{action:"danmaku_switch",status:C?"close":"open"}),!w){y(!0),S(!0),e_({conf:{isOpen:!0},awemeInfo:u,isLogin:m,logParams:(0,i._)({click_method:!0===t?"hot_key":"click"},j)}),!0===t&&L.F.info("打开弹幕",null==d?void 0:d.root);return}!0===t&&L.F.info(`${C?"关闭":"打开"}弹幕`,null==d?void 0:d.root);let e=!1;if((null==_?void 0:_.danmakuClose)&&(0,et.R)()){if(l)x.Le.setConfig(x.gI.closeDanmakuCount,0),(0,J.qQ)(ee.LocalStorageKeys.danmakuClose,null);else if(C){if(x.Le.getConfig(x.gI.closeDanmakuCount)>0)x.Le.setConfig(x.gI.closeDanmakuCount,0),(0,J.qQ)(ee.LocalStorageKeys.danmakuClose,null),(0,J.qQ)(ee.LocalStorageKeys.danmakuDisableOnceClose,!0),L.F.info("已关闭全部弹幕，左下角可开启",null==d?void 0:d.root);else{x.Le.setConfig(x.gI.closeDanmakuCount,1);let t=(0,J.$o)(ee.LocalStorageKeys.danmakuClose);(0,J.qQ)(ee.LocalStorageKeys.danmakuClose,Object.assign({},t,{[u.awemeId]:Date.now()})),!(0,J.$o)(ee.LocalStorageKeys.danmakuToast)&&((0,J.qQ)(ee.LocalStorageKeys.danmakuToast,!0),A(!0),T.Z.sendLog("closeAllDanmakuGuideTagShow",{group_id:null==u?void 0:u.awemeId,enter_from:(0,p.mo)(),author_id:String(null==u?void 0:u.authorUserId)}),R.current=setTimeout(()=>{A(!1)},3e3)),e=!0}}else x.Le.setConfig(x.gI.closeDanmakuCount,0),(0,J.qQ)(ee.LocalStorageKeys.danmakuClose,null),w&&(e=!0)}if(e){var n,a,o;T.Z.sendLog("danmakuSwitch",{enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),action:C?"1":"0",danmaku_switch_status:C?"off":"on",off_range:C?"current_video":"all_video",group_id:null==u?void 0:u.awemeId,author_id:String(null==u?void 0:u.authorUserId),video_scale:(null==u?void 0:null===(n=u.video)||void 0===n?void 0:n.width)/(null==u?void 0:null===(a=u.video)||void 0===a?void 0:a.height),item_duration_ms:(null==u?void 0:null===(o=u.video)||void 0===o?void 0:o.duration)||0})}else e_({conf:{isOpen:!l&&!w},awemeInfo:u,isLogin:m,logParams:(0,i._)({click_method:!0===t?"hot_key":"click"},j)}),y(e=>!l&&!e);S(e=>!l&&!e),null==d||d.emit(D.Ks.clearCache)}},[d,u,m,w,j,_,C]);(0,o.useEffect)(()=>{d&&(!C&&w?d.danmakuSingClose=!0:d.danmakuSingClose=!1)},[C,d,w]),(0,o.useEffect)(()=>{var e,t,l,i,n,a;if(!C){null==d||null===(t=d.danmaku)||void 0===t||null===(e=t.stop)||void 0===e||e.call(t),I.current=!1;return}(null==d?void 0:d.danmaku)&&(C?d.paused?d.needStart=!0:null==d||null===(i=d.danmaku)||void 0===i||null===(l=i.start)||void 0===l||l.call(i):(d.needStart=!1,null==d||null===(a=d.danmaku)||void 0===a||null===(n=a.stop)||void 0===n||n.call(a))),I.current=!1},[C]),(0,o.useEffect)(()=>{let e=(0,J.$o)(ee.LocalStorageKeys.danmakuClose),t=null==e?void 0:e[null==u?void 0:u.awemeId];w&&(null==_?void 0:_.danmakuClose)&&(0,et.R)()&&t&&Date.now()-t<=6048e5?S(!1):S(w)},[w,_,null==u?void 0:u.awemeId]);let M=()=>{y(!0),S(!0),e_({conf:{isOpen:!0},awemeInfo:u,isLogin:m,logParams:j})};(0,o.useEffect)(()=>(null==d||d.on("DANMAKU_SWITCH_OPEN",M),()=>{null==d||d.off("DANMAKU_SWITCH_OPEN",M),clearTimeout(R.current)}),[]),(0,o.useEffect)(()=>{let e=z()(()=>{P({keyboard:!0})},500,{trailing:!0});if(d&&(f||!f&&!k))return null==d||d.on(el.B.ChangeDanmaku,e),()=>{null==d||d.off(el.B.ChangeDanmaku,e)}},[d,P,k,f]),(0,o.useEffect)(()=>{if(d&&(f||!f&&!k))return null==d||d.on(el.B.DanmakuCloseAll,P),()=>{null==d||d.off(el.B.DanmakuCloseAll,P)}},[d,P,k,f]);let B=(0,o.useMemo)(()=>C?(0,a.jsx)(tr,{}):(0,a.jsx)(ts,{}),[v,C]),F=(0,o.useCallback)(()=>{T.Z.sendLog("hover_danmaku_switch",{enter_from:(0,p.mo)(),group_id:null==u?void 0:u.awemeId,player_display_mode:(0,p.Ok)()})},[]);return k?null:f?(0,a.jsxs)(a.Fragment,{children:[w&&(null==_?void 0:_.danmakuClose)&&(0,et.R)()?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:c()(to.default.closeAll),onClick:()=>{null==d||d.emit(el.B.DanmakuCloseAll,{forceClose:!0}),L.F.info("已关闭全部弹幕，左下角可开启",null==d?void 0:d.root),(0,J.qQ)(ee.LocalStorageKeys.danmakuDisableOnceClose,!0),null==E||E(),T.Z.sendLog("closeAllDanmakuSwitch",{group_id:null==u?void 0:u.awemeId,enter_from:(0,p.mo)(),author_id:String(null==u?void 0:u.authorUserId)})},children:"关闭全部弹幕"}),(0,a.jsx)(eB.i,{className:c()(to.default.divider)})]}):null,(0,a.jsxs)("div",{className:c()(to.default.switchBox,to.default.danmakuhover),onMouseLeave:F,children:[(0,a.jsx)("div",{className:to.default.switchLabel,children:"弹幕开关"}),(0,a.jsx)(eM.Switch,{checked:C,onChange:P})]})]}):(0,a.jsxs)("div",{className:to.default.container,onMouseLeave:F,children:[N&&(null==_?void 0:_.danmakuClose)&&(0,et.R)()?(0,a.jsxs)("div",{className:to.default.closeTip,children:[(0,a.jsx)("div",{className:to.default.closeText,children:"本视频已关闭弹幕，可设置关闭全部弹幕"}),(0,a.jsx)(V.z,{svg:(0,a.jsx)(eG.Z,{}),className:to.default.down})]}):null,(0,a.jsx)(eM.Tooltip,{getPopupContainer:()=>b.current||document.body,style:g||N&&(null==_?void 0:_.danmakuClose)&&(0,et.R)()?{display:"none"}:{},spacing:(null==_?void 0:null===(t=_.controls)||void 0===t?void 0:t.addspace)?14:10,mouseEnterDelay:(null==_?void 0:null===(l=_.controls)||void 0===l?void 0:l.delayhover)?300:50,className:"danmu-switch-box",content:(0,a.jsxs)(a.Fragment,{children:[`${C?"关闭":"打开"}弹幕`,!!(null===eF.SHORTCUT_KEY||void 0===eF.SHORTCUT_KEY?void 0:null===(n=eF.SHORTCUT_KEY.danmaku)||void 0===n?void 0:n.badgeText)&&(0,a.jsx)("span",{className:to.default.tipKey,children:null===eF.SHORTCUT_KEY||void 0===eF.SHORTCUT_KEY?void 0:null===(r=eF.SHORTCUT_KEY.danmaku)||void 0===r?void 0:r.badgeText})]}),showArrow:!1,position:"top",children:(0,a.jsx)("span",{className:c()(to.default.svgBox,to.default.danmakuhover),ref:b,children:(0,a.jsx)(V.z,{svg:B,onClick:P})})})]})};var tu=l("556366");let tc=e=>{let{player:t,awemeInfo:l,isDanmuIcon:n,inputRef:a,setSwitchStatus:r,abtestData:s}=e,{logParams:d}=(0,eU.Y)(),[u,c]=(0,o.useState)(!0),[v,m]=(0,o.useState)(!1),f=(0,o.useRef)(),k=()=>{T.Z.sendLog("enterDanmakuSetting",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),group_id:null==l?void 0:l.awemeId,player_display_mode:(0,p.Ok)()},d))};return(0,o.useEffect)(()=>{if(t){var e;let l=()=>{m(!1),(0,J.qQ)(ee.LocalStorageKeys.danmakuDisableOnceClose,!0)};return null===(e=t.on)||void 0===e||e.call(t,el.B.DanmakuCloseAll,l),()=>{var e;null===(e=t.off)||void 0===e||e.call(t,el.B.DanmakuCloseAll,l)}}},[t,l]),{isNeverHover:u,showSetting:v,setShowSetting:m,handleIconMouseEnter:()=>{if(!f.current)f.current=window.setTimeout(()=>{k(),c(!1),w.emit(w.EVENT.videoStopPlayNext),setTimeout(()=>{var e;n&&(null===(e=a.current)||void 0===e||e.focus())},100),!x.Le.getConfig(x.gI.IsShowDanmakuListModal)&&m(!0)},300)},handleMouseLeave:()=>{var e;f.current&&(window.clearTimeout(f.current),f.current=void 0),T.Z.sendLog("hover_danmaku_setting",{enter_from:(0,p.mo)(),group_id:null==l?void 0:l.awemeId,player_display_mode:(0,p.Ok)()}),n&&(null===(e=a.current)||void 0===e||e.blur()),w.emit(w.EVENT.videoRemoveStopPlayNext),m(!1)}}},tv=(e,t)=>{let l={};for(let i=e;i<=t;i++)l[i]=String(i);return l},tm=e=>{let{label:t,max:l,showDots:i,getLabelFunc:n,defaultValue:r,onChange:d,resetVal:u,min:c,player:v}=e,[m,f]=(0,o.useState)(r||1);(0,o.useEffect)(()=>{f(r)},[u,r]);let p=(0,o.useCallback)(e=>{if("number"==typeof e)d(e),f(t=>(t!==e&&(null==v||v.emit(s.Events.USER_ACTION,{action:"danmaku_setting"})),e))},[d]);return(0,a.jsxs)("div",{className:tu.default.listItem,children:[(0,a.jsx)("span",{className:tu.default.label,children:t}),(0,a.jsx)(eM.Slider,{step:1,marks:i?tv(c,l):void 0,min:c||0,max:l,showMarkLabel:!1,tooltipVisible:!1,value:m,onChange:p}),(0,a.jsx)("span",{className:tu.default.value,children:n(m)})]})},tf=(0,o.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.755 13.874a1 1 0 0 1 .856.478l1.456 2.376a1 1 0 0 1 .02 1.009l-1.309 2.347a1 1 0 0 1-.869.513l-2.787.01a1 1 0 0 1-.856-.478l-1.456-2.376a1 1 0 0 1-.02-1.01l1.31-2.346a1 1 0 0 1 .869-.513l2.786-.01zM6.42 4.207c1.118 0 2.024.908 2.024 2.026v1.965a2.025 2.025 0 0 1-2.024 2.024H4.61a.175.175 0 0 0-.174.175v2c0 .096.078.176.174.176h1.81c1.118 0 2.024.906 2.024 2.024v1a4.326 4.326 0 0 1-4.325 4.325h-.509a.826.826 0 0 1 0-1.65h.51a2.676 2.676 0 0 0 2.675-2.675v-1a.376.376 0 0 0-.375-.375H4.61a1.826 1.826 0 0 1-1.825-1.825v-2c0-1.008.818-1.824 1.825-1.824h1.81a.376.376 0 0 0 .375-.375V6.233a.376.376 0 0 0-.375-.375H3.61a.826.826 0 0 1 0-1.65h2.81zM18.064 16.12a1.286 1.286 0 1 0-1.252 2.247 1.286 1.286 0 0 0 1.252-2.247zm-5.663.289h-2.76a.825.825 0 0 1 0-1.65h3.688l-.928 1.65zm3.336-12.65a.825.825 0 0 1 1.372.916l-.692 1.04h.314c1.118 0 2.025.907 2.025 2.025v3.628c0 .434-.138.835-.37 1.165h-2.987a1.4 1.4 0 0 0-1.22.714l-.842 1.498v-1.351h-1.742a2.026 2.026 0 0 1-2.026-2.026V7.74c0-1.119.907-2.026 2.026-2.026h.313l-.693-1.039a.826.826 0 0 1 1.373-.916l1.303 1.955h.543l1.303-1.955zm-4.517 7.61c0 .207.168.374.375.374h1.742V10.38H11.22v.99zm3.767.374h1.744a.376.376 0 0 0 .375-.375v-.989h-2.119v1.364zm-3.392-4.378a.375.375 0 0 0-.375.375v.989h2.117V7.365h-1.742zm3.392 1.364h2.12v-.99a.376.376 0 0 0-.376-.374h-1.744v1.364z",fill:"#fff",fillOpacity:".9"})}))),tp=e=>{let{player:t,awemeInfo:l,isLogin:i,loginDispatch:n,userUid:r,userInfo:s,isDanmuIcon:d,rootClassName:u,panelClassName:v,inputRef:m,setSwitchStatus:f,switchStatus:h,isConfGot:x,children:k,danmuListTargetEl:g,abtestData:_,totalCountRef:y}=e,[E,C]=(0,o.useState)(!1),S=(0,o.useRef)(),{logParams:b}=(0,eU.Y)(),{isNeverHover:I,showSetting:j,setShowSetting:N,handleIconMouseEnter:D,handleMouseLeave:A}=tc({player:t,awemeInfo:l,isDanmuIcon:d,inputRef:m,setSwitchStatus:f,abtestData:_});return(0,o.useEffect)(()=>{let e=w.listen(w.EVENT.syncInteraction,()=>C(e=>!e));return()=>{null==e||e()}},[]),(0,o.useEffect)(()=>{let e=e=>{null==e||e.stopPropagation()},t=S.current;return null==t||t.addEventListener("pointerdown",e),null==t||t.addEventListener("touchstart",e),()=>{null==t||t.removeEventListener("pointerdown",e),null==t||t.removeEventListener("touchstart",e)}},[]),(0,a.jsxs)("div",{ref:S,className:c()(tu.default.container,{[tu.default.show]:j},u),onMouseLeave:A,children:[I?(0,a.jsx)(td,{player:t,awemeInfo:l,isConfGot:x,isLogin:null==s?void 0:s.isLogin,isDanmuIcon:d,isNeverHover:I,setSwitchStatus:f,switchStatus:h,onClick:()=>N(!1),abtestData:_}):(0,a.jsx)("div",{className:tu.default.panelWithBottom,children:(0,a.jsxs)("div",{className:c()(tu.default.panel,"semi-always-dark","danmu-setting-box",v),onKeyDown:e=>{let l=e.ctrlKey||e.metaKey;"Enter"===e.key&&!l&&_.danmakuPost&&t.emit(el.B.danmakuInputFocus)},children:[(0,a.jsxs)("div",{className:tu.default.header,children:[(0,a.jsx)("div",{className:tu.default.title,children:"弹幕设置"}),(0,a.jsxs)("div",{className:tu.default.reset,onClick:()=>{ey({danmu:null==t?void 0:t.danmaku,awemeInfo:l,player:t,isLogin:i,logParams:b}),C(e=>!e)},children:[(0,a.jsx)(eq.Z,{src:eW.Z,width:13,height:12,viewBox:"0 0 14 13"}),(0,a.jsx)("span",{children:"恢复默认"})]})]}),(0,a.jsx)(eB.i,{className:tu.default.divider}),(0,a.jsx)("div",{className:tu.default.list,children:ew.map(e=>{var n;return(0,a.jsx)(tm,{label:e.desc,showDots:e.showDots,max:e.max,min:"opacity"===e.key?20:0,getLabelFunc:e.getLabelFunc,defaultValue:null!==(n=eu(e.key))&&void 0!==n?n:e.defaultVal,onChange:n=>{e.onChange({danmu:null==t?void 0:t.danmaku,val:n,awemeInfo:l,player:t,isLogin:i,logParams:b})},resetVal:E,player:t},e.key)})}),(0,a.jsx)(eB.i,{className:tu.default.divider}),(0,a.jsx)(eQ.R,{userUid:r,awemeInfo:l,player:t,loginDispatch:n,isLogin:i,userInfo:s,targetMountEl:g,onClick:()=>N(!1),abtestData:_,totalCountRef:y}),k,h&&!d&&(null==_?void 0:_.danmakuClose)&&(0,et.R)()?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eB.i,{className:tu.default.divider}),(0,a.jsx)("div",{className:c()(tu.default.closeAll),onClick:()=>{null==t||t.emit(el.B.DanmakuCloseAll,{forceClose:!0}),(0,J.qQ)(ee.LocalStorageKeys.danmakuDisableOnceClose,!0),L.F.info("已关闭全部弹幕，左下角可开启",null==t?void 0:t.root),N(!1),T.Z.sendLog("closeAllDanmakuSwitch",{group_id:null==l?void 0:l.awemeId,enter_from:(0,p.mo)(),author_id:String(null==l?void 0:l.authorUserId)})},children:"关闭全部弹幕"})]}):null]})}),!!d&&(0,a.jsx)(V.z,{className:c()(tu.default.iconSetting,tu.default.newdanmuku),svg:(0,a.jsx)(eH.Z,{}),onMouseEnter:D}),!d&&(0,a.jsx)(V.z,{className:c()(tu.default.iconSetting,tu.default.newdanmuku),svg:(0,a.jsx)(tf,{}),onMouseEnter:D})]})};var th=l("696833");let tx=e=>{let{awemeInfo:t,userInfo:l,inputRef:n,player:a,isDouyinPlayer:r}=e,{logParams:s}=(0,eU.Y)(),[d,u]=(0,o.useState)(0),c=1===d,v=(0,o.useRef)(),m=(0,o.useRef)(0),f=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{if(c){var e;T.Z.sendLog("emojiTabShow",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),enter_method:"danmaku"},s));let t=n.current;return t.addEventListener("click",et.UW),!r&&e3()(a,"config.closeDelayBlur",!0),null==a||null===(e=a.focus)||void 0===e||e.call(a,{autoHide:!1}),()=>{if(!r){var e;e3()(a,"config.closeDelayBlur",!1),null==a||null===(e=a.focus)||void 0===e||e.call(a)}t.removeEventListener("click",et.UW)}}},[c,r]),{isEmojiBoxRender:0!==d,isEmojiBoxShow:c,preventShowEmojiBox:f,handleHideEmojiBox:()=>{u(2)},handleIconMouseEnter:()=>{var e;if((null==l?void 0:l.isLogin)!==!1&&(null==t?void 0:null===(e=t.danmakuControl)||void 0===e?void 0:e.isPostDenied)!==!0&&!f.current&&!v.current)v.current=window.setTimeout(()=>{clearTimeout(m.current),u(1)},300)},handleIconMouseLeave:()=>{T.Z.sendLog("hover_emoji_tab",{enter_from:(0,p.mo)(),group_id:null==t?void 0:t.awemeId,player_display_mode:(0,p.Ok)()}),v.current&&(window.clearTimeout(v.current),v.current=void 0),m.current=setTimeout(()=>{u(e=>0===e?0:2)},50)},handlePanelMouseEnter:()=>{clearTimeout(m.current)},handlePanelMouseLeave:()=>{u(2)}}},tk=e=>{let{awemeInfo:t,isDanmuIcon:l,inputRef:i}=e,[n,a]=(0,o.useState)(!1);return(0,o.useLayoutEffect)(()=>{if(!(null==i?void 0:i.current))return;let e=e=>a(e.clientWidth<=150);if(e(i.current),"undefined"!=typeof ResizeObserver){let t=new ResizeObserver(t=>{e(t[0].target)});return t.observe(i.current),()=>t.disconnect()}{let t=()=>e(i.current);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}},[null==i?void 0:i.current]),{placeholderContent:(0,o.useMemo)(()=>{var e,i;return(null==t?void 0:null===(e=t.danmakuControl)||void 0===e?void 0:e.isPostDenied)?`作者仅允许${({1:"粉丝",2:"好友",3:"自己"})[null==t?void 0:null===(i=t.danmakuControl)||void 0===i?void 0:i.postPrivilegeLevel]}发弹幕`:e6.a.t("send_a_friendly_bullet_comment",{},l||n?"发一条弹幕吧":"发一条友好的弹幕吧")},[t,l,n])}},tg=(e,t)=>{let l=(e.match(/\[[\u4e00-\u9fa5]+\]/g)||[]).filter(e=>t.includes(e));return l[l.length-1]||""},t_=e=>{let{setInputValue:t,awemeInfo:l,userInfo:n,inputRef:a,player:r,emojiArr:s,loginDispatch:d,setSwitchStatus:u,firstDanmakuShowRef:c,firstInputTimeRef:v,inputDurationRef:m,isActive:f=!1,totalCountRef:k}=e,{logParams:g}=(0,eU.Y)(),[_,y]=(0,o.useState)(!1),E=(0,o.useRef)(null),C=(0,o.useRef)(!1),S=(0,o.useCallback)(async e=>{var o,f,x,S,b,I,N,A,R,P,V,M,B,F;let{method:O,value:z}=e;if(!z.length){L.F.info("弹幕内容不能为空",null==r?void 0:r.root);return}if(T.Z.sendLog("danmakuSendClick",{enter_from:(0,p.mo)(),group_id:null==l?void 0:l.awemeId,content:z}),null==l?void 0:null===(o=l.danmakuControl)||void 0===o?void 0:o.isPostDenied)return;if(/^\s*$/.test(z)){L.F.info("表达你的态度再发弹幕",null==r?void 0:r.root);return}if(C.current)return;if(_){L.F.info("弹幕发送太频繁，5s后再发",null==r?void 0:r.root);return}u(!0),null==r||r.emit("DANMAKU_SWITCH_OPEN");let G=`${ep()}px`,Z=e4()("postComment"),U=()=>{var e,l,i,a;null==r||null===(e=r.off)||void 0===e||e.call(r,D.Ks.danmakuInit,U),t(""),null==r||null===(i=r.danmaku)||void 0===i||i.sendComment({prior:!0,user_id:null==n?void 0:null===(l=n.info)||void 0===l?void 0:l.uid,id:Z,duration:eh()/r.playbackRate,realTime:!0,elLazyInit:!0,text:z,style:{color:"#FFFFFF",fontSize:G,height:G,lineHeight:G},_:{isLogin:null==n?void 0:n.isLogin,isDanmuAuthor:!0,loginDispatch:d,firstDanmakuShowRef:c,offsetTime:1e3*r.currentTime,userInfo:n}}),r.paused&&(null===(a=r.danmaku)||void 0===a||a.pause()),y(!0),setTimeout(()=>y(!1),D.sZ)};(null==r?void 0:null===(f=r.danmaku)||void 0===f?void 0:f.sendComment)?U():r&&(r.on(D.Ks.danmakuInit,U),E.current=()=>{var e;null==r||null===(e=r.off)||void 0===e||e.call(r,D.Ks.danmakuInit,U)}),r.sendDanmakuCountSelf=(null!==(B=null==r?void 0:r.sendDanmakuCountSelf)&&void 0!==B?B:0)+1,null===(S=a.current)||void 0===S||null===(x=S.blur)||void 0===x||x.call(S),w.emit(w.EVENT.videoRemoveStopPlayNext),C.current=!0;let K=Math.floor((null==r?void 0:r.currentTime)*1e3),W=await (0,j.FW)({item_id:null==l?void 0:l.awemeId,text:z,user_id:null==n?void 0:null===(b=n.info)||void 0===b?void 0:b.uid,offset_time:K});C.current=!1;let{danmakuId:H,isVerifyPassportError:Y,statusCode:$}=W;if(Y){L.F.info("身份验证失败",null==r?void 0:r.root);return}0===$&&(k.current=k.current+1),r.danmaku&&(r.danmaku.selfPost=null!==(F=r.danmaku.selfPost)&&void 0!==F?F:{},r.danmaku.selfPost[Z]=H),T.Z.sendLog("danmakuPubDone",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),click_method:O,group_id:null==l?void 0:l.awemeId,author_id:null==l?void 0:null===(I=l.authorInfo)||void 0===I?void 0:I.uid,danmaku_id:null!=H?H:0,video_time:Math.floor(1e3*r.currentTime||0),video_pct:1e3*r.currentTime/(null==l?void 0:null===(N=l.video)||void 0===N?void 0:N.duration),danmaku_pub_duration:Date.now()-v.current,danmaku_input_duration:Date.now()-m.current,is_author:(null==n?void 0:null===(A=n.info)||void 0===A?void 0:A.uid)===(null==l?void 0:null===(R=l.authorInfo)||void 0===R?void 0:R.uid)?1:0,emoji_id:tg(z,s),video_scale:(null==l?void 0:null===(P=l.video)||void 0===P?void 0:P.width)/(null==l?void 0:null===(V=l.video)||void 0===V?void 0:V.height),item_duration_ms:(null==l?void 0:null===(M=l.video)||void 0===M?void 0:M.duration)||0},g))},[r,n,l,s,_]);return(0,o.useEffect)(()=>{if(r&&f){let e=()=>{if(!x.Le.getConfig(x.gI.IsCommetTab)){var e,t;null===(t=a.current)||void 0===t||null===(e=t.focus)||void 0===e||e.call(t)}};return r.on(D.Ks.danmakuInputFocus,e),()=>{var t;r.off(D.Ks.danmakuInputFocus,e),null===(t=E.current)||void 0===t||t.call(E)}}},[r,f]),{isInCdTime:_,handlePostDanmaku:S}},ty=(e,t)=>{let l=t-1,i=!1,n=t,a=!1;for(;l>=0;){if("["===e[l]){i=!0;break}if("]"===e[l])break;l--}for(;n<=e.length-1;){if("]"===e[n]){a=!0;break}if("["===e[n])break;n++}return i&&a?[l,n+1]:[-1,-1]},tw=e=>{var t,l;let{awemeInfo:n,userInfo:r,player:d,loginDispatch:u,setSwitchStatus:v,firstDanmakuShowRef:m,isDanmuIcon:f,inputRef:x,abtestData:_,isInSetting:y=!1,isActive:E,totalCountRef:C,isDouyinPlayer:S}=e,b=(null==_?void 0:_.danmakuBarType)===k.DanmakuBarType.V2,{isEmojiBoxRender:I,isEmojiBoxShow:j,preventShowEmojiBox:L,handleHideEmojiBox:D,handleIconMouseEnter:A,handleIconMouseLeave:R,handlePanelMouseEnter:P,handlePanelMouseLeave:V}=tx({awemeInfo:n,userInfo:r,inputRef:x,player:d,isDouyinPlayer:S}),[M,B]=(0,o.useState)(""),F=(0,o.useRef)(null),O=(0,o.useRef)(0),z=(0,o.useRef)(0),G=(0,o.useRef)(!1),{emojiList:Z}=(0,g.b)(),{logParams:U}=(0,eU.Y)(),K=(0,o.useMemo)(()=>Object.keys(Z).map(e=>Z[e].name),[Z]),{placeholderContent:W}=tk({awemeInfo:n,isDanmuIcon:f,inputRef:x}),[H,Y]=(0,o.useState)(!1),$=(0,o.useRef)(),q=(0,o.useCallback)(()=>{Y(!0),clearTimeout($.current),$.current=window.setTimeout(()=>Y(!1),2e3)},[]),Q=(0,o.useCallback)(()=>{Y(!1),clearTimeout($.current)},[]),{isInCdTime:J,handlePostDanmaku:ee}=t_({setInputValue:B,awemeInfo:n,userInfo:r,inputRef:x,player:d,emojiArr:K,loginDispatch:u,setSwitchStatus:v,firstDanmakuShowRef:m,firstInputTimeRef:O,inputDurationRef:z,isActive:E,totalCountRef:C}),el=(0,o.useCallback)(e=>{let{selectionStart:t}=x.current,l=t,[i,n]=ty(M,t);if(K.includes(M.slice(i,n))){if(M.length-(n-i+1)+e.name.length>30){D(),x.current.focus(),q();return}B(t=>t.slice(0,i)+e.name+t.slice(n)),l=i}else{if(M.length+e.name.length>30){D(),x.current.focus(),q();return}B(l=>l.slice(0,t)+e.name+l.slice(t))}D(),setTimeout(()=>{x.current.setSelectionRange(l+e.name.length,l+e.name.length),x.current.focus()})},[M,K]),ei=(0,o.useCallback)(e=>{if(e.target.value.length>30&&!G.current){q();return}H&&Q(),B(e.target.value),T.Z.sendLog("danmakuInputContent",{enter_from:(0,p.mo)(),group_id:null==n?void 0:n.awemeId,content:e.target.value})},[H]),en=(0,o.useCallback)(()=>{M.length>30&&(q(),B(M.slice(0,30)))},[M]);return(0,o.useEffect)(()=>{0===M.length?(O.current=0,(0,X.vU)()&&(L.current=!0,setTimeout(()=>L.current=!1))):(0===O.current&&(O.current=Date.now()),!f&&w.emit(w.EVENT.videoStopPlayNext))},[M,f,d]),(0,o.useEffect)(()=>()=>{w.emit(w.EVENT.videoRemoveStopPlayNext)},[]),(0,o.useEffect)(()=>{var e,t;return null===(t=x.current)||void 0===t||null===(e=t.addEventListener)||void 0===e||e.call(t,"selectstart",et.UW),()=>{var e,t;null===(t=x.current)||void 0===t||null===(e=t.removeEventListener)||void 0===e||e.call(t,"selectstart",et.UW)}},[]),(0,o.useEffect)(()=>{if(I){let e=F.current;return null==e||e.addEventListener("wheel",et.UW),()=>{null==e||e.removeEventListener("wheel",et.UW)}}},[I]),(0,a.jsx)(eM.Tooltip,{trigger:"custom",visible:H,content:"弹幕内容不能超过30个字符",children:(0,a.jsxs)("div",{className:c()(th.default.container,{[th.default["container--v1"]]:!b}),"data-bytereplay-mask":"strict",children:[I?(0,a.jsx)("div",{className:c()(th.default.emojiBox,"danmu-emoji-box",{[th.default.emojiBoxHide]:!j,[th.default.danmuIcon]:f}),ref:F,onMouseEnter:P,onMouseLeave:V,children:(0,a.jsx)("div",{className:th.default.emojiList,onClick:e=>e.nativeEvent.stopImmediatePropagation(),children:Z.map(e=>(0,a.jsx)("img",{src:e.img,onClick:t=>{t.preventDefault(),T.Z.sendLog("clickEmoji",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),enter_method:"danmaku",click_method:"emoji"},U)),el(e),null==d||d.emit(s.Events.USER_ACTION,{action:"danmaku_emoji_click"})}},e.name))})}):null,(0,a.jsxs)("div",{className:th.default.leftArea,children:[(0,a.jsx)("div",{className:th.default.emojiIconContainer,onMouseEnter:A,onMouseLeave:R,children:(0,a.jsx)(e8.Z,{className:c()([th.default.emojiIcon],{[th.default.isActive]:j,[th.default.disable]:(null==r?void 0:r.isLogin)===!1||(null==n?void 0:null===(t=n.danmakuControl)||void 0===t?void 0:t.isPostDenied)===!0})})}),(null==r?void 0:r.isLogin)?(0,a.jsx)("input",{ref:x,className:th.default.editor,type:"text",disabled:(null==n?void 0:null===(l=n.danmakuControl)||void 0===l?void 0:l.isPostDenied)||!1,value:M,onInput:ei,placeholder:M?"":W,spellCheck:!1,onFocus:()=>{var e,t;z.current=Date.now(),T.Z.sendLog("inputDanmaku",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)()},U)),!S&&e3()(d,"config.closeDelayBlur",!0),null==d||null===(e=d.focus)||void 0===e||e.call(d,{autoHide:!1}),null==d||null===(t=d.emit)||void 0===t||t.call(d,s.Events.USER_ACTION,{action:"danmaku_input_focus"}),!f&&w.emit(w.EVENT.videoStopPlayNext)},onBlur:()=>{if(!f){if(!S){var e;e3()(d,"config.closeDelayBlur",!1),null==d||null===(e=d.focus)||void 0===e||e.call(d)}(null==M?void 0:M.length)===0&&w.emit(w.EVENT.videoRemoveStopPlayNext)}},onCompositionStart:()=>{G.current=!0},onCompositionEnd:()=>{setTimeout(()=>G.current=!1,10),en()},onKeyDown:e=>{var t,l;((null===(t=e.target)||void 0===t?void 0:t.value)||"ArrowUp"!==e.code&&"ArrowDown"!==e.code||!(null===(l=e.target)||void 0===l?void 0:l.value)&&("ArrowUp"===e.code||"ArrowDown"===e.code))&&(null==e||e.stopPropagation());let{key:i}=e,n=e.ctrlKey||e.metaKey;return"Enter"!==i||n||G.current?null:ee({method:"hot_key",value:M})}}):(0,a.jsxs)("div",{className:th.default.loginBox,onClick:()=>{(0,N.default)({enterMethod:"danmaku",headerText:"登录后可发布弹幕互动",success:()=>{u({type:"updateUserInfo"})}})},children:[(0,a.jsx)("span",{children:e6.a.t("log_in",{},"登录")}),e6.a.t("to_post_comment",{},"后可发布弹幕")]})]}),(0,a.jsx)("div",{className:c()({[th.default.sendBtnV1]:!b,[th.default["sendBtnV1--highlight"]]:!b&&(null==M?void 0:M.length)>0,[th.default.sendBtnV2]:b,[th.default["sendBtnV2--min"]]:b&&y,[th.default["sendBtnV2--disable"]]:b&&J}),onClick:()=>ee({method:"click",value:M}),children:"发送"})]})})},tE=e=>{var t,l;let{awemeInfo:i,userInfo:n,player:r,loginDispatch:s,abtestData:d,isDanmuIcon:u,danmuListTargetEl:c,logParams:v={},firstDanmakuShowRef:m,refContainer:f,switchStatus:p,setSwitchStatus:h,isConfGot:x,isActive:k,totalCountRef:g,isDouyinPlayer:_}=e,y=(0,o.useRef)(null);return(0,o.useEffect)(()=>{var e;let t=null===(e=f.current)||void 0===e?void 0:e.closest(".danmakuContainer");if(!!t)u?(t.style.flexGrow="unset",t.style.maxWidth="none"):(t.style.flexGrow="1",t.style.maxWidth="678px")},[u,f]),u?(0,a.jsx)(eU.G.Provider,{value:{logParams:v},children:(0,a.jsx)("div",{className:(0,eP.default)("isDark",ta.default.danmakuIconBar),ref:f,onWheel:e=>e.stopPropagation(),children:(0,a.jsx)(tp,{player:r,awemeInfo:i,isLogin:null==n?void 0:n.isLogin,loginDispatch:s,userUid:null==n?void 0:null===(l=n.info)||void 0===l?void 0:l.uid,isDanmuIcon:u,userInfo:n,inputRef:y,setSwitchStatus:h,switchStatus:p,isConfGot:x,danmuListTargetEl:c,abtestData:d,totalCountRef:g,children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tl.i,{className:(0,eP.default)(ta.default.divider,{[ta.default.dividerClose]:p&&(null==d?void 0:d.danmakuClose)&&(0,et.R)()})}),(0,a.jsx)(td,{player:r,setSwitchStatus:h,switchStatus:p,awemeInfo:i,isConfGot:x,isLogin:null==n?void 0:n.isLogin,isDanmuIcon:u,abtestData:d}),(0,a.jsx)("div",{className:ta.default.inputBox,children:(0,a.jsx)(tw,{awemeInfo:i,userInfo:n,player:r,loginDispatch:s,setSwitchStatus:h,firstDanmakuShowRef:m,isDanmuIcon:u,inputRef:y,abtestData:d,isInSetting:!0,isActive:k,totalCountRef:g,isDouyinPlayer:_})})]}):null})})}):(0,a.jsx)(eU.G.Provider,{value:{logParams:v},children:(0,a.jsxs)("div",{className:(0,eP.default)("isDark",ta.default.danmakuBar),ref:f,onWheel:e=>e.stopPropagation(),children:[(0,a.jsx)(td,{player:r,setSwitchStatus:h,switchStatus:p,awemeInfo:i,isConfGot:x,isLogin:null==n?void 0:n.isLogin,abtestData:d}),(0,a.jsx)(tp,{player:r,awemeInfo:i,isLogin:null==n?void 0:n.isLogin,loginDispatch:s,userUid:null==n?void 0:null===(t=n.info)||void 0===t?void 0:t.uid,userInfo:n,inputRef:y,danmuListTargetEl:c,abtestData:d,setSwitchStatus:h,switchStatus:p,totalCountRef:g,rootClassName:ta.default.settingRootDom}),(0,a.jsx)(tw,{awemeInfo:i,userInfo:n,player:r,loginDispatch:s,setSwitchStatus:h,firstDanmakuShowRef:m,inputRef:y,abtestData:d,isActive:k,totalCountRef:g,isDouyinPlayer:_})]})})},tC=!1,tS=e=>{var t;let{isActive:l,awemeInfo:n,userInfo:r,player:s,bulletRef:d,danmakuInfo:u,abtestData:c,oneSwitch:v,logParams:f={},firstDanmakuShowRef:_,currentIndex:y,totalCountRef:w}=e,[E,C]=(0,o.useState)(!!u||ek(null==n?void 0:n.awemeId,c)),[S,b]=(0,o.useState)(!1),[I,j]=(0,o.useState)(!1),[,N]=(0,o.useState)(!!u);(0,o.useEffect)(()=>{(null==u?void 0:u.status)===0&&L.F.info("此弹幕已删除")},[]),(0,o.useEffect)(()=>{if(E&&s){var e;null===(e=s.emit)||void 0===e||e.call(s,el.B.DanmakuON)}},[E,s]);let D=(0,m.x)(()=>b(!0));(0,o.useEffect)(()=>{let e=!1;return(async()=>{let t=await eg();if(!e&&!u&&(C(t.isOpen),N(!0),S)){var l,a;if(T.Z.sendLog("danmakuPubShow",(0,i._)({enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),group_id:null==n?void 0:n.awemeId,author_id:null==n?void 0:null===(l=n.authorInfo)||void 0===l?void 0:l.uid,danmaku_switch_status:t.isOpen?1:0,is_post:!(null==r?void 0:r.isLogin)||(null==n?void 0:null===(a=n.danmakuControl)||void 0===a?void 0:a.isPostDenied)?0:1},f)),!tC){tC=!0;let e=x.Le.getConfig(x.gI.DanmakuSettingOrigin);T.Z.sendLog("danmakuSettingStatus",{enter_from:(0,p.mo)(),enter_from_merge:(0,h.yW)(),danmaku_switch_status:e.isOpen?"on":"off",danmaku_switch_source:e.fromDefault?"default":"setting",speed_value:e.speed+1,area_value:e.region,size_value:e.fontSize,opacity_value:e.opacity})}}})(),()=>{e=!0}},[n,u,S]);let{emojiListMapped:A}=(0,g.b)();return(eC({ref:d,isActive:l,player:s,awemeInfo:n,danmakuInfo:u,setDanmakuInited:j,userInfo:r,emojiListMapped:A,logParams:f,abTestData:c,firstDanmakuShowRef:_,currentIndex:y,switchStatus:E}),eb({isActive:l,player:s,awemeInfo:n,danmakuInfo:u,danmakuInited:I,firstDanmakuShowRef:_,logParams:f,abtestData:c,currentIndex:y,userUid:null==r?void 0:null===(t=r.info)||void 0===t?void 0:t.uid,totalCountRef:w}),v)?(0,a.jsx)(ti,(0,i._)({refContainer:D,switchStatus:E,setSwitchStatus:C,isConfGot:!1},e)):(null==c?void 0:c.danmakuBarType)!==k.DanmakuBarType.V0?(0,a.jsx)(tE,(0,i._)({refContainer:D,switchStatus:E,setSwitchStatus:C,isConfGot:!1,totalCountRef:w},e)):(0,a.jsx)(tn,(0,i._)({refContainer:D,switchStatus:E,setSwitchStatus:C,isConfGot:!1,totalCountRef:w},e))},tb=e=>{var t,l;let{isActive:n,awemeInfo:u,userInfo:m,loginDispatch:p,danmakuInfo:h,abtestData:k,isDanmuIcon:g,oneSwitch:_,danmuListTargetEl:y,logParams:w,firstDanmakuShowRef:E,currentIndex:C}=e,S=(0,ej.n)(),b=(0,o.useRef)(null),I=(0,ej.g)(),j=(0,o.useRef)((null===(t=x.Le.getConfig(x.gI.videoRect))||void 0===t?void 0:t.width)||0),N=(0,o.useRef)((null==u?void 0:null===(l=u.danmakuControl)||void 0===l?void 0:l.danmakuCnt)||0),[L,T]=(0,o.useState)(!!h||ek(null==u?void 0:u.awemeId,k)),A=(0,o.useMemo)(()=>I?{position:r.PZ.CONTROL_LEFT,index:3}:{position:d.POSITIONS.CONTROLS_LEFT,index:9},[I]),R=(0,o.useMemo)(()=>{let e=I?r.di:s.Plugin;return class extends e{static get pluginName(){return"DanmakuPlugin"}afterCreate(){this.renderRoot()}afterPlayerInit(){this.renderRoot()}destroy(){(0,eL.v)(this)}beforeDestroy(){(0,eL.v)(this)}renderRoot(){this.config||this._config,(0,eL.s)(this,(0,a.jsx)(tS,(0,i._)({},this.config||this._config)))}updateConfig(e){this.config=e,this.renderRoot()}render(){return`<div data-state="normal" class="${eI.default.danmakuContainer} danmakuContainer" data-e2e='danmaku-container' style=""></div>`}}},[I]);(0,f.o)(()=>{var e;if(S&&n&&(null==u?void 0:null===(e=u.danmakuControl)||void 0===e?void 0:e.enableDanmaku))return S.registerPlugin(R,(0,i._)({player:S,bulletRef:b,isActive:n,userInfo:m,loginDispatch:p,awemeInfo:u,danmakuInfo:h,abtestData:k,isDanmuIcon:g,oneSwitch:_,danmuListTargetEl:y,logParams:w,firstDanmakuShowRef:E,currentIndex:C,totalCountRef:N,isDouyinPlayer:I},A)),()=>{var e,t;(null==S?void 0:null===(e=S.getPlugin)||void 0===e?void 0:e.call(S,"DanmakuPlugin"))&&(null==S||null===(t=S.unRegisterPlugin)||void 0===t||t.call(S,"DanmakuPlugin",!0))}},[S,n,u,A,R]),(0,v.Z)(()=>{var e,t,l;if(S&&n&&(null==u?void 0:null===(e=u.danmakuControl)||void 0===e?void 0:e.enableDanmaku)){let e=S.getPlugin("DanmakuPlugin"),a=(0,i._)({player:S,bulletRef:b,isActive:n,userInfo:m,loginDispatch:p,awemeInfo:u,danmakuInfo:h,abtestData:k,isDanmuIcon:g,oneSwitch:_,logParams:w,danmuListTargetEl:y,firstDanmakuShowRef:E,totalCountRef:N,isDouyinPlayer:I},A);I?null==S||null===(t=S.updatePluginConfig)||void 0===t||t.call(S,e,a):e&&(null==e||null===(l=e.updateConfig)||void 0===l||l.call(e,a))}},[m,k,g,w,y,I]);let V=P({awemeInfo:u,userInfo:m,loginDispatch:p,player:S,logParams:w,abtestData:k,totalCountRef:N}),B=e=>{if((null==k?void 0:k.danmakuSetting)||(null==k?void 0:k.danmakuSpacing)){let t=e||ep(S),l={"--primary-font-size":`${t}px`,"--primary-font-size-icon":`${t-2}px`,"--primary-line-height":"22px","--primary-font-size-icon-hover":`${Math.max(t,20)}px`,"--primary-text-shadow":"1px 0 1px #000000,0 1px 1px #000000,0 -1px 1px #000000,-1px 0 1px #000000","--primary-hover-color":"rgba(0, 0, 0, 0.7)"};switch(t){case D.NY["0"].value:l["--primary-hover-height"]="30px",l["--primary-margin-top"]="-7px";break;case D.NY["1"].value:l["--primary-hover-height"]="36px",l["--primary-margin-top"]="-8px";break;case D.NY["2"].value:l["--primary-hover-height"]="42px",l["--primary-margin-top"]="-9px";break;case D.NY["3"].value:l["--primary-hover-height"]="46px",l["--primary-margin-top"]="-9px";break;case D.NY["4"].value:l["--primary-hover-height"]="52px",l["--primary-margin-top"]="-10px"}return l}};return(0,o.useEffect)(()=>{if(S&&n&&((null==k?void 0:k.danmakuSetting)||(null==k?void 0:k.danmakuSpacing))){let e=e=>{if(!!b.current)Object.entries(B(e)).forEach(e=>{let[t,l]=e;b.current.style.setProperty(t,l)})};return null==S||S.on(el.B.danmakuSettingChange,e),()=>{null==S||S.off(el.B.danmakuSettingChange,e)}}},[n,S,k]),(0,o.useEffect)(()=>{if(S&&n&&((null==k?void 0:k.danmakuSetting)||(null==k?void 0:k.danmakuSpacing))){let e=e=>{var t,l,i;if(!S.danmaku)return;let n=(null==e?void 0:e.vWidth)||(null==S?void 0:null===(l=S.video)||void 0===l?void 0:null===(t=l.getBoundingClientRect())||void 0===t?void 0:t.width)||0;if(n<=800&&j.current<=800||n>=1366&&j.current>=1366||n>800&&n<1366&&j.current>800&&j.current<1366){j.current=n;return}j.current=n;let a=ep(S,n),o=ef({player:S,videoWidth:n,fontSize:a});null==S||null===(i=S.danmaku)||void 0===i||i.setFontSize(a,o),S.emit(el.B.danmakuSettingChange,a)};return null==S||S.on(s.Events.VIDEO_RESIZE,e),()=>{null==S||S.off(s.Events.VIDEO_RESIZE,e)}}},[n,S,k]),(0,o.useEffect)(()=>{if(S){let e=()=>{T(!0)};return null==S||S.on(el.B.DanmakuON,e),()=>{null==S||S.off(el.B.DanmakuON,e)}}},[S]),n?(0,a.jsxs)(a.Fragment,{children:[!!L&&(0,a.jsx)(M,{}),(0,a.jsx)("div",{onClick:V,ref:b,className:c()(eI.default.container,eI.default.interaction,{[eI.default.containerTop]:(null==k?void 0:k.danmakuSetting)||(null==k?void 0:k.danmakuSpacing)}),style:B()})]}):null},tI=e=>{let{abtestData:t,awemeInfo:l}=e,d=(0,eN.N)(),{hasDanmakuInput:u}=function(e,t,l){let[i,n]=(0,o.useState)(!1),a=(0,o.useMemo)(()=>{var e;return(null==t?void 0:null===(e=t.danmakuControl)||void 0===e?void 0:e.enableDanmaku)&&(null==t?void 0:t.awemeType)!==eT.e.Note},[t,e]);return(0,o.useEffect)(()=>{if(l){var e,i,o,d;let u=e=>{if((null==e?void 0:e.eventType)==="firstFrame"||l.currentTime||(0,eR.r)()){var i,o,d;if(null===(i=l.off)||void 0===i||i.call(l,s.Events.XGLOG,u),null===(o=l.off)||void 0===o||o.call(l,s.Events.TIME_UPDATE,u),null===(d=l.off)||void 0===d||d.call(l,r.FP.FIRST_FRAME,u),(0,eA.Kf)(t)){n(!1);return}n(a)}};return null===(e=l.on)||void 0===e||e.call(l,s.Events.XGLOG,u),null===(i=l.on)||void 0===i||i.call(l,s.Events.TIME_UPDATE,u),null===(o=l.on)||void 0===o||o.call(l,r.FP.FIRST_FRAME,u),null===(d=l.off)||void 0===d||d.call(l,"vodlog",u),()=>{var e,t,i,n;null===(e=l.off)||void 0===e||e.call(l,s.Events.XGLOG,u),null===(t=l.off)||void 0===t||t.call(l,s.Events.TIME_UPDATE,u),null===(i=l.off)||void 0===i||i.call(l,r.FP.FIRST_FRAME,u),null===(n=l.off)||void 0===n||n.call(l,"vodlog",u)}}},[l,a]),{hasDanmakuInput:i}}(t,l,(0,ej.n)()),c=(0,o.useRef)(!1);return u?(0,a.jsx)(eD.k,{componentName:"Danmaku",Slardar:d,children:(0,a.jsx)(tb,(0,n._)((0,i._)({},e),{firstDanmakuShowRef:c}))}):null}},371976:function(e,t,l){l.d(t,{E:function(){return em}});var i=l("88648"),n=l("782442");let a=e=>{let{player:t,isActive:l}=e;(0,i.useEffect)(()=>{if(t&&l){let e=()=>{n.Le.setConfig(n.gI.VideoHasPrevent,!0)};return t.on("autoplay_was_prevented",e),()=>{t.off("autoplay_was_prevented",e)}}},[t,l])};var o=l("520739"),r=l("878389");l("250440"),l("675373");var s=l("734123"),d=l("948375"),u=l("497730"),c=l("35730"),v=l("391779"),m=l("972438"),f=l("399796"),p=l("330746"),h=l("555106"),x=l("137425"),k=l("702726"),g=l("399818"),_=l("516599"),y=l("320544"),w=l("598434");let E=e=>{var t;let{player:l,isActive:i,awemeInfo:n,abtestData:a,startTime:r}=e;l.isPlaying=!1,null===(t=l.resetState)||void 0===t||t.call(l);let s=(0,g.QF)({awemeInfo:n,abtestData:a});return!!s.url.find(e=>!!e.src)&&(l.setConfig((0,o._)({autoplay:i},s)),i?(l.config.startTime=r,l.play()):l.start(),!0)},C=()=>{k.logInstance.sendLog("videoRetryError",{type:"retry_success"})},S=()=>{k.logInstance.sendLog("videoRetryError",{type:"retry_error"})},b=e=>{e.off("error",S),e.off("loadeddata",C)},I=e=>{b(e),e.once("error",S),e.once("loadeddata",C)},j=e=>{let{player:t,isActive:l,awemeInfo:a,deleteCurrentSwiper:g,abtestData:C}=e,S=(0,i.useRef)(l);S.current=l;let j=(0,i.useRef)(null==a?void 0:a.awemeId);j.current=null==a?void 0:a.awemeId;let N=(0,i.useRef)(!1),L=(0,i.useRef)(!1),D=(0,i.useRef)(!1),T=(0,i.useRef)(0),A=(0,d.Z)(async(e,l,i)=>{if((l||Date.now()-T.current>6e4)&&(L.current=!1,D.current=!1),L.current&&D.current)return k.logInstance.sendLog("videoRetryError",{type:"real_blank_screen",aweme_id:e}),!1;if(T.current=Date.now(),t.removeClass(s.STATE_CLASS.ERROR),t.addClass(s.STATE_CLASS.LOADING),I(t),L.current||6===i)L.current=!0;else{var a;if(L.current=!0,t.dash)return t.retry(),!0;let l=t.currentSrc&&1===(0,v.q)(t.currentSrc),i=t.currentTime,n=t.config.url instanceof Array?null===(a=t.config.url)||void 0===a?void 0:a.find(e=>{var t;return null==e?void 0:null===(t=e.src)||void 0===t?void 0:t.includes("www.douyin.com")}):null;return!n&&k.logInstance.sendLog("videoRetryError",{type:"retry_base_url_miss",aweme_id:e}),l&&n?(t.src=n.src,t.load(),t.currentTime=i):t.retry(),!0}k.logInstance.sendLog("videoRetryError",{type:"retry_native",aweme_id:e});try{D.current=!0;let l=t.currentTime,i=await (0,x.m_)({awemeId:e,originType:u.F.PlayerRetry});if(!N.current&&j.current===e){let a=null;if(0===i.statusCode&&i.detail){if(a=i.detail,!E({player:t,awemeInfo:i.detail,isActive:S.current,abtestData:C,startTime:l}))return t.addClass(s.STATE_CLASS.ERROR),t.removeClass(s.STATE_CLASS.LOADING),!1;k.logInstance.sendLog("videoRetryError",{type:"retry_api_aweme_ok",aweme_id:e})}else{if(!i.isUnknownAweme)return t.addClass(s.STATE_CLASS.ERROR),t.removeClass(s.STATE_CLASS.LOADING),k.logInstance.sendLog("videoRetryError",{type:"retry_api_statuscode_error",aweme_id:e}),!1;null==g||g(),S.current&&_.F.info("该视频已被删除"),k.logInstance.sendLog("videoRetryError",{type:"retry_api_aweme_404",aweme_id:e})}n.Le.setConfig(n.gI.RefetchAwemeInfo,{[e]:a})}}catch(l){return t.addClass(s.STATE_CLASS.ERROR),t.removeClass(s.STATE_CLASS.LOADING),k.logInstance.sendLog("videoRetryError",{type:"retry_api_catch",aweme_id:e}),!1}return!0});(0,i.useEffect)(()=>(N.current=!1,()=>{N.current=!0}),[]);let R=e=>{var l,i,n,s,d,u;let{isH265:p}=(0,y.Z)({awemeInfo:a,player:t}),h=(0,r._)((0,o._)({urlParamList:["previous_page","tab_name"]},(0,w.Z)(t)),{group_id:a.groupId,aweme_type:a.awemeType,player_type:"xgplayer",player_version:t.version,errorCode:(null==e?void 0:null===(l=e.mediaError)||void 0===l?void 0:l.code)||(null==e?void 0:e.errorCode)||"",errorDesc:(null==e?void 0:null===(i=e.mediaError)||void 0===i?void 0:i.message)||(null==e?void 0:e.errorMessage)||"",is_cdn_expired:1===(0,v.q)(t.currentSrc)?1:0,vduration:null==a?void 0:null===(n=a.video)||void 0===n?void 0:n.duration,is_video_support:Number((0,m.k)().isSupport),is_bytevc1:p,log_pb:null==a?void 0:a.logPb,video_play_mode:(null===(s=f.Q.getItem({sKey:c.CookieKeys.VideoFilterMemoSelect,refresh:!1}))||void 0===s?void 0:s.type)===1?"landscape":"all",is_landscape:(null==a?void 0:null===(d=a.video)||void 0===d?void 0:d.width)>(null==a?void 0:null===(u=a.video)||void 0===u?void 0:u.height)?1:0});k.logInstance.sendLog("videoPlayError",h)};(0,i.useEffect)(()=>{var e;t&&(null==a?void 0:null===(e=a.video)||void 0===e?void 0:e.playApi)&&(t.usePluginHooks("error","errorHandler",(e,t)=>Promise.resolve().then(async()=>{let e=await A(a.awemeId,!1,null==t?void 0:t.errorCode);return!e&&R(t),!e})),t.usePluginHooks("error","errorRetry",()=>(A(a.awemeId,!0),k.logInstance.sendLog("videoRetryError",{type:"user_click",aweme_id:null==a?void 0:a.awemeId}),!1)))},[t,a,C]),(0,i.useEffect)(()=>{l&&t&&t.isError&&a&&A(a.awemeId,!0)},[C,l,t,a,A]),(0,i.useEffect)(()=>()=>t&&t.off&&b(t),[t]),(0,i.useEffect)(()=>{if(t&&l){let e=e=>{if((0,p.un)()){var l,i;let e=null===(i=t.config.awemeInfo)||void 0===i?void 0:null===(l=i.video)||void 0===l?void 0:l.playApi;t.src=e,t.load(),(0,h.qQ)(c.LocalStorageKeys.IsSupportHevc,{has_detect:!0,is_support:!1,pure_support:!0})}};return t.on("DECODER_FAILED",e),()=>t.off("DECODER_FAILED",e)}},[t,l])};l("179133"),l("826893");var N=l("567754"),L=l("720359"),D=l("598467"),T=l("79307"),A=l("35385"),R=l("637005"),P=l("430528"),V=l("850063"),M=l("631493"),B=l("64902"),F=l("77651"),O=l("385976"),z=l("901414"),G=l("544933"),Z=new G.h({retryClick:{eventName:"retry_click",params:{group_id:"",log_pb:"",enter_from:""}},purePauseVideo:{eventName:"pure_pause_video",params:{group_id:"",enter_from:"",pause_type:"",block_play_type:"",active:0,player_stat_play:"",is_global_emit:0}},purePlayVideo:{eventName:"pure_play_video",params:{group_id:"",enter_from:"",active:0,player_stat_play:""}},purePlayingVideo:{eventName:"pure_playing_video",params:{group_id:"",enter_from:"",active:0,player_stat_play:""}},pureFirstFrameRender:{eventName:"pure_first_frame_render",params:{group_id:"",enter_from:"",active:0,player_stat_play:""}}});let U=e=>{let{player:t,isActive:l,awemeInfo:a,config:o,abtestData:r,currentIndex:d,reuseConfig:u,startTime:c}=e,v=(0,i.useRef)(!1),m=(0,i.useRef)(!1),f=(0,L.d)(u),p=(0,i.useRef)(c),h=()=>{t.pause()};(0,i.useEffect)(()=>{let e=R.listen(R.EVENT.changeMinWindows,e=>{let{isMiniWin:t}=e;m.current=!0}),t=R.listen(R.EVENT.changeMinWinWeb,e=>{let{isMiniWinWeb:t}=e;m.current=!0});return()=>{e(),t()}},[]),(0,i.useEffect)(()=>{let e=n.Le.getConfig(n.gI.GlobalSwiper);if(e&&d&&t){let l=e=>{var l,i,c,v,f,p;let{index:x}=e,k=z.e.activeScene===D.d.WebVideo,g=z.e.activeScene===D.d.ListenVideo,_=P.t.isOptimizePause(r)&&Math.abs(d-x)>=2;if(!n.Le.getConfig(n.gI.IsMiniWin)&&!m.current&&!k&&!g&&!_)if(d===x)t.off(s.Events.TIME_UPDATE,h),(0,B.d)({player:t,config:o,awemeInfo:a,prePlay:1,index:d,reuseConfig:u}),R.emit(R.EVENT.livePause),t.statPlay=`${t.statPlay}_preplay`,t.emit("preplay",null==t?void 0:null===(l=t.config)||void 0===l?void 0:l.vid);else{t.prepauseStat=1,t.superResolution=(0,F.B)({player:t}),t.bandWidth=null==t?void 0:t.bandwidth,t.danmakuGetBoundingCounts=null==t?void 0:null===(i=t.danmaku)||void 0===i?void 0:i.getBoundingCounts,t.danmuElCreateCounts=null==t?void 0:null===(c=t.danmaku)||void 0===c?void 0:c.danmuElCreateCounts,(0,B.c)({player:t});try{null===(p=window.TTCommon)||void 0===p||null===(f=p.executeWithElement)||void 0===f||f.call(p,t.video,"updateSrState",0)}catch(e){}t.statPlay=`${t.statPlay}_prepause`,t.emit("prepause",null==t?void 0:null===(v=t.config)||void 0===v?void 0:v.vid)}};return e.on("activeIndexChange",l),()=>{e.off("activeIndexChange",l)}}},[a,t,d,u]),(0,i.useEffect)(()=>{if(t){var e,i,n;if(t.statPlay=t.statPlay||"",l&&(t.config.notUseRefreshVid||(0,V.B)())){t.blockPlayType=`lazyChildren_notUseRefreshVid_${null==t?void 0:null===(e=t.config)||void 0===e?void 0:e.notUseRefreshVid}_isLazyChildren${V.B}`;return}if(l&&(0,V.r)()){t.blockPlayType="isFromLynx";return}if(t.__isInlinePlayer&&l&&!t.isBlockedInlinePlayerRestart&&(t.isPlaying=!1,t.isBlockedInlinePlayerRestart=!0),l)(null==t?void 0:t.preplay)?(t.blockPlayType="preplay",t.preplay=0,t.play(),t.statPlay=`${t.statPlay}_activeplay`):((0,B.d)({player:t,config:o,awemeInfo:a,prePlay:0,index:d,reuseConfig:u}),t.statPlay=`${t.statPlay}_onactiveplay`);else if(!l){t.__isInlinePlayer&&(v.current=!0);let e=(null===(i=window.__QUICK_PLAYER)||void 0===i?void 0:i.playerId)&&window.__QUICK_PLAYER.playerId===(null==t?void 0:t.playerId),{scene:l,reuseId:a}=(null==f?void 0:f.current)||{};return(e||l&&a&&(null===O.YY||void 0===O.YY?void 0:null===(n=O.YY.checkIsReusePlayer)||void 0===n?void 0:n.call(O.YY,l,a,t)))&&!(null==p?void 0:p.current)&&(t.currentTime=0),t.statPlay=`${t.statPlay}_onnoactivepause`,(0,B.c)({player:t}),t.on(s.Events.TIME_UPDATE,h),()=>{t.off(s.Events.TIME_UPDATE,h)}}}},[t,l]),(0,i.useEffect)(()=>{t&&l&&window.dispatchEvent(new Event("playNext",{bubbles:!0}))},[t,l]),(0,i.useEffect)(()=>{let e=null;if(t&&l){var i;e=window.player,window.player=t;let l=M.s.getPlayersByScene(T.lT.Modal).length>0&&M.s.getPlayerScene(t.playerId)!==T.lT.Modal;(null===(i=(0,N.parse)(location.search))||void 0===i?void 0:i.webRid)&&(t.pause(),t.config.autoplay=!1,t.pauseType="hasModalLive"),!l&&(null==t||t.setUserActive(!0));let n=R.listen(R.EVENT.videoPause,()=>{t.pause(),t.pauseType="gobalEmit",t.config.autoplay=!1});return()=>{e&&(window.player=e),n()}}},[t,l]),(0,i.useEffect)(()=>{let e=()=>{t&&l&&M.s.getPlayersByScene(T.lT.Modal).length>0&&M.s.getPlayerScene(t.playerId)!==T.lT.Modal&&0===d&&(t.pause(),t.pauseType="hasOtherModalPlayer",t.config.autoplay=!1,t.autoplay=!1)};if(t&&l)return t.once("play",e),()=>{t.off("play",e)}},[t,l,d]),(0,A.w)(()=>{if(t&&l){t.pause(),t.pauseType="useRouteDeActiveEffect";let e=()=>{t.pause(),t.pauseType="useRouteDeActiveEffectListen"};return t.on(s.Events.PLAY,e),t.on(s.Events.TIME_UPDATE,e),()=>{t.off(s.Events.PLAY,e),t.off(s.Events.TIME_UPDATE,e)}}},[l,t]);let x=(0,i.useRef)(l);(0,i.useEffect)(()=>{x.current=l},[l]),(0,i.useEffect)(()=>{t&&(t.statPlay="")},[t,a]),(0,i.useEffect)(()=>{if(t&&(null==r?void 0:r.cantStartPlay)){let e=()=>{Z.sendLog("purePauseVideo",{group_id:(null==a?void 0:a.awemeId)||"",pause_type:(null==t?void 0:t.pauseType)||"",block_play_type:(null==t?void 0:t.blockPlayType)||"",active:x.current?1:0,player_stat_play:(null==t?void 0:t.statPlay)||""})},l=()=>{Z.sendLog("purePlayVideo",{group_id:(null==a?void 0:a.awemeId)||"",active:x.current?1:0,player_stat_play:(null==t?void 0:t.statPlay)||""})},i=()=>{Z.sendLog("purePlayingVideo",{group_id:(null==a?void 0:a.awemeId)||"",active:x.current?1:0,player_stat_play:(null==t?void 0:t.statPlay)||""})},n=e=>{(null==e?void 0:e.eventType)==="firstFrame"&&Z.sendLog("pureFirstFrameRender",{group_id:(null==a?void 0:a.awemeId)||"",active:x.current?1:0,player_stat_play:(null==t?void 0:t.statPlay)||""})},o=R.listen(R.EVENT.videoPause,e=>{Z.sendLog("purePauseVideo",{group_id:(null==a?void 0:a.awemeId)||"",active:x.current?1:0,player_stat_play:(null==t?void 0:t.statPlay)||"",is_global_emit:1,enter_from:e||""})});return t.on(s.Events.PAUSE,e),t.on(s.Events.PLAY,l),t.on(s.Events.PLAYING,i),t.on(s.Events.XGLOG,n),()=>{t.off(s.Events.PAUSE,e),t.off(s.Events.PLAY,l),t.off(s.Events.PLAYING,i),t.off(s.Events.XGLOG,n),o()}}},[t,a,r])};l("413806");let K=e=>{let{player:t,isActive:l}=e;(0,i.useEffect)(()=>{if(t&&t.root.getElementsByClassName("xgplayer-start")[0]&&(t.root.getElementsByClassName("xgplayer-start")[0].className=`${t.root.getElementsByClassName("xgplayer-start")[0].className} douyinHide`,l)){let e=setTimeout(()=>{t.root.getElementsByClassName("xgplayer-start")[0]&&(t.root.getElementsByClassName("xgplayer-start")[0].className=t.root.getElementsByClassName("xgplayer-start")[0].className.split(" ").filter(e=>"douyinHide"!==e).join(" "))},1e3),l=()=>{clearTimeout(e),t.root.getElementsByClassName("xgplayer-start")[0]&&(t.root.getElementsByClassName("xgplayer-start")[0].className=t.root.getElementsByClassName("xgplayer-start")[0].className.split(" ").filter(e=>"douyinHide"!==e).join(" "))};return t.once(s.Events.AUTOPLAY_STARTED,l),()=>{t.off(s.Events.AUTOPLAY_STARTED,l),t.root.getElementsByClassName("xgplayer-start")[0]&&(t.root.getElementsByClassName("xgplayer-start")[0].className=`${t.root.getElementsByClassName("xgplayer-start")[0].className} douyinHide`)}}},[t,l])};var W=l("613063"),H=l.n(W),Y=l("138871"),$=l.n(Y),q=l("899731"),Q=l.n(q),J=l("746864"),X=l("871212"),ee=l("864630"),et=l("441398"),el=l("44905"),ei=l("186554");let en=(e,t)=>{let l=[J.e.Normal,J.e.XgVideo].includes(null==e?void 0:e.awemeType),i=t.currentTime>=3&&t.duration-t.currentTime>=30;return l&&i},ea=e=>{var t,l;let{player:a,isActive:o,awemeInfo:r,scene:d,userInfo:u}=e,c=(0,ei.U7)(),v=(0,ei.dY)("multi_device_resume",null==u?void 0:u.isLogin),m=c&&(null==v?void 0:v.enable)===1&&(null==v?void 0:v.pc_auto_record)===1;(0,i.useEffect)(()=>{var e,t;if(a&&(null==u?void 0:null===(e=u.info)||void 0===e?void 0:e.uid)&&(null==r?void 0:null===(t=r.continationInfo)||void 0===t?void 0:t.continationVideoAlreadyConsume)===!1){let{fwsExample:e}=n.Le.getConfig(n.gI.fwsExample)||{},t=e=>{var t,l,i,n,a;let o={app_id:X.APP_ID,message_type:new(Q())(ee.Cs.ReplyConsume||"0"),user_id:new(Q())(u.info.uid||"0"),device_id:new(Q())((null===(t=(0,el.Es)())||void 0===t?void 0:t.user_unique_id)||"0"),to_device_type:new(Q())(ee.Yi.Phone||"0"),to_device_id:new(Q())((null==r?void 0:null===(l=r.continationInfo)||void 0===l?void 0:l.fromDeviceId)||"0"),continuation_info:{ItemId:new(Q())(null==r?void 0:r.awemeId),RecordType:new(Q())(null==r?void 0:null===(i=r.continationInfo)||void 0===i?void 0:i.recordType),EpisodeId:new(Q())((null==r?void 0:null===(a=r.lvideoBrief)||void 0===a?void 0:null===(n=a.episodeInfo)||void 0===n?void 0:n.episodeId)||"0")}},s=$().stringify(o);e.send(s,{service:ee.oU.Multicast,method:10}),H()(r,"continationInfo.continationVideoAlreadyConsume",!0)};if(e){let l=()=>{t(e)};if(!a.isPlaying)return a.once(s.Events.CANPLAY,l),()=>{a.off(s.Events.CANPLAY,l)};l()}else{let e=null,l=R.listen(R.EVENT.fwsExampleInit,l=>{a.isPlaying?t(l):(e=()=>{t(l)},a.once(s.Events.CANPLAY,e))});return()=>{l(),a.off(s.Events.CANPLAY,e)}}}},[a,r]),(0,i.useEffect)(()=>{var e;if(a&&o&&(null==u?void 0:null===(e=u.info)||void 0===e?void 0:e.uid))return R.listen(R.EVENT.sendPullMessage,e=>{if(a.isUserActive&&en(r,a)){var t,l,i,o,s,d,c;let{toDeviceId:v,toDeviceType:m}=e||{},{fwsExample:f}=n.Le.getConfig(n.gI.fwsExample)||{},p={app_id:new(Q())("6383"),message_type:2,user_id:new(Q())((null==u?void 0:null===(t=u.info)||void 0===t?void 0:t.uid)||"0"),device_id:new(Q())((null===(l=(0,el.Es)())||void 0===l?void 0:l.user_unique_id)||"0"),to_device_type:new(Q())(m),to_device_id:new(Q())(v),continuation_info:{UserId:new(Q())((null==u?void 0:null===(i=u.info)||void 0===i?void 0:i.uid)||"0"),ItemId:new(Q())((null==r?void 0:r.awemeId)||"0"),ItemType:new(Q())((null==r?void 0:r.awemeType)||"0"),PlayTime:Math.floor(a.currentTime),Cover:(null==r?void 0:null===(o=r.video)||void 0===o?void 0:o.cover)||"",FromDeviceId:new(Q())((null===(s=(0,el.Es)())||void 0===s?void 0:s.user_unique_id)||"0"),FromDeviceType:Number(ee.Yi.PC),RecordType:Number(ee.ns.auto),EpisodeId:new(Q())((null==r?void 0:null===(c=r.lvideoBrief)||void 0===c?void 0:null===(d=c.episodeInfo)||void 0===d?void 0:d.episodeId)||"0")}},h=$().stringify(p);f.send(h,{service:ee.oU.Multicast,method:10})}})},[a,o,null==u?void 0:null===(t=u.info)||void 0===t?void 0:t.uid]),(0,i.useEffect)(()=>{var e;if(a&&o&&[ee.b.Default,ee.b.Open].includes(null==u?void 0:null===(e=u.info)||void 0===e?void 0:e.continuationState)&&m){let e=()=>{"hidden"===document.visibilityState&&a.isUserActive&&en(r,a)&&(0,et.wU)({item_id:null==r?void 0:r.awemeId,item_type:null==r?void 0:r.awemeType,play_progress:Math.floor(a.currentTime),to_client:Number(ee.Yi.Phone),record_type:Number(ee.ns.auto)})},t=()=>{a.isUserActive&&en(r,a)&&(0,et.wU)({item_id:null==r?void 0:r.awemeId,item_type:null==r?void 0:r.awemeType,play_progress:Math.floor(a.currentTime),to_client:Number(ee.Yi.Phone),record_type:Number(ee.ns.auto)})};return window.addEventListener("beforeunload",t),document.addEventListener("visibilitychange",e),()=>{window.removeEventListener("beforeunload",t),document.removeEventListener("visibilitychange",e)}}},[a,o,null==u?void 0:null===(l=u.info)||void 0===l?void 0:l.uid,m])};var eo=l("744121"),er=l("482869");let es=e=>{let{player:t,isNext:l,awemeInfo:n,abtestData:a}=e,o=(0,er.Y)({awemeInfo:n,abtestData:a});(0,i.useEffect)(()=>{t&&l&&((0,eo.tw)(null==t?void 0:t.playerId,!0),window.nextPlayer=t,t.isMultiple=1,o())},[t,l])};var ed=l("948750"),eu=l("692876");let ec=e=>{let{player:t,awemeInfo:l,abtestData:n}=e,a=(0,ed.l)();(0,i.useEffect)(()=>{var e;let t=()=>{let e=null==l?void 0:l.isAds;if(window.TTCommon){var t,i;null===(t=(i=window.TTCommon).execute)||void 0===t||t.call(i,"applyConfig",e?'{"gpu_use_single_video_decoder_texture":1}':'{"gpu_use_single_video_decoder_texture":0}')}};return null==a||null===(e=a.on)||void 0===e||e.call(a,eu.V.PlayerBeforeCreate,t),()=>{var e;null==a||null===(e=a.off)||void 0===e||e.call(a,eu.V.PlayerBeforeCreate,t)}},[l,n]),(0,i.useEffect)(()=>{var e;if(t&&(null==n?void 0:null===(e=n.controls)||void 0===e?void 0:e.dragdisable)){let e=t.getPlugin("progress"),l=t.getPlugin("controls");e&&l&&e.setConfig({onMoveStart:()=>{l.root.classList.add("progress-dragging")},onMoveEnd:()=>{l.root.classList.remove("progress-dragging")}})}},[t,l,n])};var ev=l("860684");l("838368");let em=e=>{let t=(0,ev.n)(),{isActive:l,awemeInfo:i,deleteCurrentSwiper:n,config:o,abtestData:r,scene:s,userInfo:d,isNext:u,currentIndex:c,reuseConfig:v,startTime:m}=e;return a({player:t,isActive:l,awemeInfo:i}),j({player:t,isActive:l,awemeInfo:i,deleteCurrentSwiper:n,abtestData:r}),U({player:t,isActive:l,awemeInfo:i,config:o,abtestData:r,currentIndex:c,reuseConfig:v,startTime:m}),K({player:t,isActive:l}),ea({player:t,isActive:l,awemeInfo:i,scene:s,userInfo:d}),es({player:t,isNext:u,awemeInfo:i,abtestData:r}),ec({player:t,awemeInfo:i,abtestData:r}),null}},5415:function(e,t,l){l.d(t,{p:function(){return v}});var i=l("520739"),n=l("563097"),a=l("88648"),o=l("860684"),r=l("631493");let s=e=>{let{player:t,scene:l,onRegisterSuccess:i,isActive:n}=e;(0,a.useEffect)(()=>{let e;if(t&&l&&n){let n=r.s.register({player:t,scene:l});e=n,void 0!==n&&(null==i||i({scene:l,playerId:n}))}return()=>{r.s.unRegister({id:e})}},[t,l,n])};var d=l("894416"),u=l("205457");l("838368");let c=e=>{let t=(0,o.n)(),{scene:l,onRegisterSuccess:i,isActive:n}=e;return s({player:t,scene:l,onRegisterSuccess:i,isActive:n}),null},v=e=>{let t=(0,d.N)();return(0,n.jsx)(u.k,{componentName:"MultiPlayer",Slardar:t,children:(0,n.jsx)(c,(0,i._)({},e))})}},661639:function(e,t,l){l.d(t,{V:function(){return h}}),l(874386),l(250440);var i=l(563097),n=l(88648),a=l(713097),o=l.n(a),r=l(637005),s=l(537047),d=l(343341),u=l(190995),c=l(473677),v=l(860684),m=l(356650),f=l(470293),p=l(881155);let h=e=>{var t;let{className:l,awemeInfo:a,isShowReplay:h=!0,isActive:x,isMiniWin:k=!1}=e,g=(0,m.GP)(a),[_,y]=(0,n.useState)(g||!1),w=(0,v.n)();(0,n.useEffect)(()=>{let e=r.listen(r.EVENT.ShowPreviewPaidMask,e=>{let{isShow:t,awemeId:l,playerId:i}=e;x&&l===(null==a?void 0:a.awemeId)&&(i===(null==w?void 0:w.playerId)||!i)&&y(t)});return()=>{null==e||e()}},[x,a,w]),(0,n.useEffect)(()=>{g?y(!0):y(!1)},[a]);let{isPreivewFinish:E}=(0,f.O)({awemeInfo:a,isActive:x});return((0,n.useEffect)(()=>{!E&&!k&&y(!1)},[E]),(0,n.useEffect)(()=>{k&&(E?["primary","subscribe"].includes((0,p.$m)(a))&&y(!0):!g&&y(!1))},[E,k]),!_||(null==a?void 0:null===(t=a.chargeInfo)||void 0===t?void 0:t.has_paid))?null:(0,i.jsxs)("div",{className:o()(s.default.conatienr,l,{[s.default.filter]:g}),children:[(0,i.jsx)(c.Z,{src:d.Z,width:28,height:28,viewBox:"0 0 28 28"}),(0,i.jsx)("span",{className:s.default.title,children:"购买后可看"}),!g&&h&&(0,i.jsxs)("div",{className:s.default.subTitle,onClick:()=>{var e,t,l,i,n,o;(null==a?void 0:null===(t=a.chargeInfo)||void 0===t?void 0:null===(e=t.preview_config)||void 0===e?void 0:e.start_time)>0?null==w||null===(n=w.seek)||void 0===n||n.call(w,(null==a?void 0:null===(i=a.chargeInfo)||void 0===i?void 0:null===(l=i.preview_config)||void 0===l?void 0:l.start_time)/1e3):null==w||null===(o=w.replay)||void 0===o||o.call(w),y(!1)},children:[(0,i.jsx)(c.Z,{src:u.Z,width:20,height:20,viewBox:"0 0 20 20"}),"重播"]})]})}},551677:function(e,t,l){l.d(t,{P:function(){return h}});var i=l("520739");l("874386");var n=l("563097"),a=l("88648"),o=l("784492"),r=l("713097"),s=l.n(r),d=l("637005"),u=l("293634"),c=l("878389");let v=(0,a.forwardRef)((e,t)=>(0,n.jsxs)("svg",(0,c._)((0,i._)({width:10,height:6,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,n.jsx)("g",{clipPath:"url(#down_svg__clip0_8458_8595)",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.32 0h9.36L6.645 4.383a2 2 0 0 1-3.288 0L.319 0z",fill:"#fff"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"down_svg__clip0_8458_8595",children:(0,n.jsx)("path",{fill:"#fff",transform:"rotate(-180 5 3)",d:"M0 0h10v6H0z"})})})]})));var m=l("205457"),f=l("894416");let p=e=>{let{isActive:t,controlHeight:l,isMini:i}=e,[r,c]=(0,a.useState)(null),m=(0,a.useRef)(()=>{});return((0,a.useEffect)(()=>{let e=d.listen(d.EVENT.MountPausePopover,e=>{c(null==e?void 0:e.children),m.current=null==e?void 0:e.onClose});return()=>{var t;e(),null===(t=m.current)||void 0===t||t.call(m)}},[]),(0,o.Z)(()=>{var e;null===(e=m.current)||void 0===e||e.call(m)},[t]),t&&r)?(0,n.jsxs)("div",{className:s()(u.default.container,{[u.default.hidden]:i}),style:{bottom:l},children:[(0,n.jsx)("div",{className:u.default.content,children:r}),(0,n.jsx)(v,{className:u.default.down})]}):null},h=e=>{let t=(0,f.N)();return(0,n.jsx)(m.k,{componentName:"PausePopoverPlugin",Slardar:t,children:(0,n.jsx)(p,(0,i._)({},e))})}},894995:function(e,t,l){l.d(t,{V:function(){return r}}),l(874386);var i=l(563097),n=l(88648),a=l(302452),o=l(860684);let r=e=>{var t,l,r,s,d,u,c,v,m,f,p,h,x,k;let{awemeInfo:g,isActive:_}=e,[y,w]=(0,n.useState)(!1),E=(0,o.n)();return((0,n.useEffect)(()=>{var e,t;let l=e=>{var t,l,i,n;let{currentTime:a}=e;if(a>=(null==g?void 0:null===(l=g.seriesInfo)||void 0===l?void 0:null===(t=l.seriesIcp)||void 0===t?void 0:t.disappear_time_sec)&&_){w(!1);return}if(a>=(null==g?void 0:null===(n=g.seriesInfo)||void 0===n?void 0:null===(i=n.seriesIcp)||void 0===i?void 0:i.start_time_sec)&&_){w(!0);return}};if(E&&(null==g?void 0:null===(t=g.seriesInfo)||void 0===t?void 0:null===(e=t.seriesIcp)||void 0===e?void 0:e.icp_number))return E.on("timeupdate",l),()=>{E.off("timeupdate",l)}},[g,E,_]),(null==g?void 0:null===(l=g.seriesInfo)||void 0===l?void 0:null===(t=l.seriesIcp)||void 0===t?void 0:t.icp_number)&&y)?(0,i.jsx)("div",{className:a.default.container,style:{top:`${(null==g?void 0:null===(d=g.seriesInfo)||void 0===d?void 0:null===(s=d.seriesIcp)||void 0===s?void 0:null===(r=s.horizonal_pos)||void 0===r?void 0:r.y_pos)||16}px`,left:`${(null==g?void 0:null===(v=g.seriesInfo)||void 0===v?void 0:null===(c=v.seriesIcp)||void 0===c?void 0:null===(u=c.horizonal_pos)||void 0===u?void 0:u.x_pos)||16}px`,fontSize:(null==g?void 0:null===(f=g.seriesInfo)||void 0===f?void 0:null===(m=f.seriesIcp)||void 0===m?void 0:m.font_size)||"16px",color:(null==g?void 0:null===(h=g.seriesInfo)||void 0===h?void 0:null===(p=h.seriesIcp)||void 0===p?void 0:p.font_color)||"#fff"},children:null==g?void 0:null===(k=g.seriesInfo)||void 0===k?void 0:null===(x=k.seriesIcp)||void 0===x?void 0:x.icp_number}):null}},302511:function(e,t,l){l.d(t,{I:function(){return k},V:function(){return h}}),l(602157);var i=l(563097),n=l(489478),a=l(734123),o=l(88648),r=l(747909),s=l(948375),d=l(428647),u=l(291773),c=l(637005),v=l(253408),m=l(254897),f=l(860684);let p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useRef)(e);return(0,o.useEffect)(()=>{t.current=e},[e]),t};function h(e){let{onOpen:t,onClose:l,description:n}=e,a=(0,s.Z)(l),p=(0,f.n)();return(0,o.useEffect)(()=>{c.emit(c.EVENT.closeOtherTip,"SoundGuideTooltip");let e=e=>{let{pluginName:t}=e;"volume"===t&&(null==a||a())};return p.on("icon_mouseenter",e),()=>{p.off("icon_mouseenter",e)}},[p]),(0,o.useEffect)(()=>{let e=c.listen(c.EVENT.closeOtherTip,e=>{"SoundGuideTooltip"!==e&&(null==a||a())});return()=>e()},[l]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:v.default.item,children:[(0,i.jsx)("span",{className:v.default.text,children:n}),(0,i.jsx)(r.Button,{type:"primary",size:"small",theme:"solid",onClick:t,className:v.default.button,children:"打开声音"}),(0,i.jsx)(m.z,{svg:(0,i.jsx)(d.Z,{}),onClick:l,className:v.default.close}),(0,i.jsx)(m.z,{svg:(0,i.jsx)(u.Z,{}),className:v.default.down})]})})}class x extends a.Plugin{static get pluginName(){return"SoundGuideTooltipPlugin"}static get defaultConfig(){return{position:n.POSITIONS.CONTROLS_RIGHT,index:.99,className:"xgplayer-sound-guide"}}afterCreate(){if(this.config.disable)return}destroy(){}render(){return`
    <xg-icon class="xgplayer-sound-guide" data-state="normal">
    </xg-icon>`}}let k=e=>{let{isActive:t,disable:l,logParams:i,abtestData:n}=e,a=(0,f.n)(),r=p(i);return(0,o.useEffect)(()=>{if(a)return 2===a.config.reuse&&a.getPlugin("SoundGuideTooltipPlugin")?()=>{}:(a.registerPlugin(x,{disable:l,isActive:!0,player:a,logParams:r.current}),()=>{a.getPlugin("SoundGuideTooltipPlugin")&&2!==a.config.reuse&&a.unRegisterPlugin("SoundGuideTooltipPlugin",!0)})},[a,l,n]),null}},445482:function(e,t,l){l.d(t,{k:function(){return c}});var i=l(520739),n=l(563097),a=l(88648),o=l(860684),r=l(894416),s=l(597321),d=l(205457);let u=e=>{let{isActive:t,onVolumeShortCutChange:l}=e,i=(0,o.n)();return(0,a.useEffect)(()=>{let e=e=>{l(e)};if(t&&i){var n;null===(n=i.on)||void 0===n||n.call(i,s.B.CustomShortCut,e)}return()=>{var t;null==i||null===(t=i.off)||void 0===t||t.call(i,s.B.CustomShortCut,e)}},[i,t,l]),null},c=e=>{let t=(0,r.N)();return(0,n.jsx)(d.k,{componentName:"VolumeShortCutPlugin",Slardar:t,children:(0,n.jsx)(u,(0,i._)({},e))})}},15303:function(e,t,l){l.d(t,{I:function(){return N}});var i=l("520739"),n=l("563097"),a=l("88648"),o=l("128231"),r=l.n(o),s=l("877639"),d=l.n(s),u=l("734123"),c=l("782563"),v=l("32167"),m=l("488656"),f=l("914815"),p=l("779214"),h=l("878389");l("874386");var x=l("713097"),k=l.n(x),g=l("934897"),_=l("679126");let y=e=>{var t,l,i,o;let{awemeInfo:r,per:s,player:d}=e,[c,v]=(0,a.useState)(1e3*Number(null!==(o=null==d?void 0:null===(i=d.plugins)||void 0===i?void 0:null===(l=i.progresspreview)||void 0===l?void 0:null===(t=l._state)||void 0===t?void 0:t.now)&&void 0!==o?o:0));(0,a.useEffect)(()=>{let e=d.getPlugin("progress"),t=()=>{var e,t,l,i;v(1e3*(null!==(i=null==d?void 0:null===(l=d.plugins)||void 0===l?void 0:null===(t=l.progresspreview)||void 0===t?void 0:null===(e=t._state)||void 0===e?void 0:e.now)&&void 0!==i?i:0))};return null==e||e.addCallBack("dragmove",t),()=>{null==e||e.removeCallBack("dragmove",t)}},[d]);let m=(0,a.useMemo)(()=>{var e,t;let l=null==r?void 0:null===(e=r.chapterInfo)||void 0===e?void 0:e.list;if(!l)return;let i=l.map(e=>e.timestamp),n=-1;for(let e=0;e<i.length;e++)c>=i[e]&&(n=e);return null===(t=l[n])||void 0===t?void 0:t.desc},[r,c]);return((0,a.useEffect)(()=>{m&&!u.Util.hasClass(null==d?void 0:d.root,"hasChapterTitle")&&u.Util.addClass(null==d?void 0:d.root,"hasChapterTitle"),!m&&u.Util.hasClass(null==d?void 0:d.root,"hasChapterTitle")&&u.Util.removeClass(null==d?void 0:d.root,"hasChapterTitle")},[m,d]),m)?(0,n.jsx)("div",{className:g.default.previewExtText,children:(0,n.jsx)("span",{className:k()(g.default.previewExtTextDesc,{[g.default.previewExtTextDescTwoLine]:s<1}),children:m})}):null};class w extends u.Plugin{static get pluginName(){return"PreviewExtText"}static get defaultConfig(){return{fragments:[]}}afterCreate(){this.renderRoot()}renderRoot(){this.root&&(0,_.s)(this,(0,n.jsx)(y,(0,h._)((0,i._)({},this.config),{player:this.player})))}destroy(){(0,_.v)(this)}updateConfig(e){this.config=(0,i._)({},this.config,e),this.renderRoot()}render(){return'<div class="progress-text-list"></div>'}}var E=l("153606"),C=l("860684");let S=e=>{let{awemeInfo:t,isActive:l,isChapterScene:i,abtestData:n}=e,o=(0,C.n)(),r=E.f.isDots(n);(0,a.useEffect)(()=>{var e;if(r)return;let l=i&&(null===(e=t.chapterInfo)||void 0===e?void 0:e.status),n=()=>{var e,l;null==o||null===(l=o.plugins)||void 0===l||null===(e=l.progresspreview)||void 0===e||e.deleteAllDots(),t.chapterInfo.list.forEach((e,t)=>{var l,i;null==o||null===(i=o.plugins)||void 0===i||null===(l=i.progresspreview)||void 0===l||l.createDot({id:t,time:e.timestamp/1e3,duration:.01})})};if(o&&l)return n(),o.on(u.Events.DURATION_CHANGE,n),()=>{var e,l,i;o.off(u.Events.DURATION_CHANGE,n),(null===(e=t.chapterInfo)||void 0===e?void 0:e.status)&&(null==o||null===(i=o.plugins)||void 0===i||null===(l=i.progresspreview)||void 0===l||l.deleteAllDots())}},[o,t,l,i,r]),(0,a.useEffect)(()=>{var e;if(!r)return;let l=i&&(null===(e=t.chapterInfo)||void 0===e?void 0:e.status),n=()=>{var e,l,i,n;null==o||null===(l=o.plugins)||void 0===l||null===(e=l.progresspreview)||void 0===e||e.deleteAllDots();let a=t.chapterInfo.list.map((e,t)=>({id:t,time:e.timestamp/1e3,duration:.01}));null==o||null===(n=o.plugins)||void 0===n||null===(i=n.progresspreview)||void 0===i||i.createDots(a)};if(o&&l)return n(),o.on(u.Events.DURATION_CHANGE,n),()=>{var e,l,i;o.off(u.Events.DURATION_CHANGE,n),(null===(e=t.chapterInfo)||void 0===e?void 0:e.status)&&(null==o||null===(i=o.plugins)||void 0===i||null===(l=i.progresspreview)||void 0===l||l.deleteAllDots())}},[o,t,i,r])};var b=l("205457"),I=l("894416");l("133822");let j=e=>{let t=(0,C.n)(),{isActive:l,awemeInfo:n,logParams:o,isChapterScene:s,abtestData:h}=e,x=(0,a.useRef)("");return S({isActive:l,awemeInfo:n,isChapterScene:s,abtestData:h}),(0,a.useEffect)(()=>{var e,a,x,k,g,_,y;let E=(null===(e=navigator)||void 0===e?void 0:e.hardwareConcurrency)||0,C=!(0,c.tq)()||E>=8,S=s&&(null===(a=n.chapterInfo)||void 0===a?void 0:a.status),b=e=>{var l,a,s,c,x,k,g,_;let{img_num:y,img_x_len:E,img_y_len:C,img_y_size:b,img_x_size:I}=(null==n?void 0:null===(a=n.video)||void 0===a?void 0:null===(l=a.bigThumbs)||void 0===l?void 0:l[0])||{},j=I/b,N={thumbnail:{urls:e,pic_num:y,row:C,col:E,height:b,width:I},progresspreview:{width:j<1?68:90*j,height:j<1?68/j:90,resetBlur:null!=h&&!!h.progressPreviewOp},progress:{resetBlur:null!=h&&!!h.progressPreviewOp}};null==t||t.setConfig(N);let L=t.getPlugin("progress"),D=r()(e=>{var t,l;p.Z.sendLog("progressPreview",(0,i._)({play_current_time:Math.floor(e||0),enter_from:(0,v.mo)(),enter_from_merge:(0,v.vM)(),enter_method:"hover",video_time:(0,m.n)(null==n?void 0:null===(t=n.video)||void 0===t?void 0:t.duration),chapter_index:(0,f.P)({awemeInfo:n,currentTime:e}),is_chapter_bar:(null==n?void 0:null===(l=n.chapterInfo)||void 0===l?void 0:l.status)?1:0,group_id:null==n?void 0:n.awemeId},o))},500),T=d()(e=>{let{currentTime:t}=e;D(t)},50),A=e=>{var t,l;let{currentTime:a}=e;p.Z.sendLog("progressPreview",(0,i._)({play_current_time:Math.floor(a||0),enter_from:(0,v.mo)(),enter_from_merge:(0,v.vM)(),enter_method:"click",video_time:(0,m.n)(null==n?void 0:null===(t=n.video)||void 0===t?void 0:t.duration),chapter_index:(0,f.P)({awemeInfo:n,currentTime:a}),is_chapter_bar:(null==n?void 0:null===(l=n.chapterInfo)||void 0===l?void 0:l.status)?1:0,group_id:null==n?void 0:n.awemeId},o))};if(null==t||null===(x=t.plugins)||void 0===x||null===(c=x.progresspreview)||void 0===c||null===(s=c.enable)||void 0===s||s.call(c),null==L||L.addCallBack("dragmove",T),null==L||L.addCallBack("click",A),S){u.Util.addClass(null==t?void 0:t.root,"needChapterStyle");let e=null==t?void 0:t.root.querySelector(".xgplayer-progress");e&&(null==e||null===(_=e.style)||void 0===_||_.setProperty("--max-width",`${j<1?68:90*j}px`)),t.registerPlugin({plugin:w,options:{root:null==t?void 0:null===(g=t.plugins)||void 0===g?void 0:null===(k=g.progresspreview)||void 0===k?void 0:k.extTextRoot,config:{awemeInfo:n,per:j}}})}return()=>{var e,l,i;t.getPlugin("PreviewExtText")&&t.unRegisterPlugin("PreviewExtText"),u.Util.removeClass(null==t?void 0:t.root,"needChapterStyle"),null==t||null===(i=t.plugins)||void 0===i||null===(l=i.progresspreview)||void 0===l||null===(e=l.disable)||void 0===e||e.call(l),null==L||L.removeCallBack("dragmove",T),null==L||L.removeCallBack("click",A)}},I=null==n?void 0:null===(k=n.video)||void 0===k?void 0:null===(x=k.bigThumbs)||void 0===x?void 0:x[0];if(C&&t&&l&&I)return(null==I?void 0:null===(g=I.img_urls)||void 0===g?void 0:g.length)>0?b(null==I?void 0:I.img_urls):b(null==n?void 0:null===(y=n.video)||void 0===y?void 0:null===(_=y.bigThumbs)||void 0===_?void 0:_.map(e=>e.img_url))},[t,l,n,o,s]),(0,a.useEffect)(()=>{var e,t,i;s&&(null===(e=n.chapterInfo)||void 0===e?void 0:e.status)&&l&&(null==n?void 0:n.awemeId)!==x.current&&(x.current=null==n?void 0:n.awemeId,p.Z.sendLog("showChapterProgressBar",{enter_from:(0,v.mo)(),enter_from_merge:(0,v.vM)(),group_id:null==n?void 0:n.awemeId,author_id:null==n?void 0:null===(t=n.authorInfo)||void 0===t?void 0:t.uid,chapter_cnt:null===(i=n.chapterInfo.list)||void 0===i?void 0:i.length,player_display_mode:(0,v.Ok)()}))},[l,n,s]),null},N=e=>{let t=(0,I.N)();return(0,n.jsx)(b.k,{componentName:"ProgressPreview",Slardar:t,children:(0,n.jsx)(j,(0,i._)({},e))})}},250286:function(e,t,l){l.d(t,{t:function(){return i}});let i=e=>{var t,l,i,n;if(!!e)null===(l=e.plugins.volume)||void 0===l||null===(t=l.focus)||void 0===t||t.call(l),null===(n=e.plugins.volume)||void 0===n||null===(i=n.unFocus)||void 0===i||i.call(n,1e3,!0,null)}},393452:function(e,t,l){l.d(t,{AH:function(){return u},Kw:function(){return s},fG:function(){return c}});var i=l(520739),n=l(878389),a=l(231755),o=l(349135);let{COMMON_SEARCH_PARAMS:r}=l(496349)||{};var s={NotShow:0,0:"NotShow",Off:1,1:"Off",On:2,2:"On"};let d=e=>{var t;return{statusCode:null==e?void 0:e.status_code,status:null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.switch_status}},u=async e=>{let{userId:t,itemId:l}=e,s=await (0,a.U2)("/aweme/v1/web/seo/shipin/aiswitch/get/",(0,n._)((0,i._)({},r),{user_id:t,item_id:l}));return(0,o.RL)(s,d)},c=async e=>{let{userId:t,itemId:l,status:s}=e,d=await (0,a.U2)("/aweme/v1/web/seo/shipin/aiswitch/set/",(0,n._)((0,i._)({},r),{user_id:t,item_id:l,status:s}));return(0,o.RL)(d,e=>e)}},103171:function(e,t,l){l.d(t,{BV:function(){return p},FD:function(){return u},TY:function(){return v},VD:function(){return h},_A:function(){return x},aA:function(){return m},eh:function(){return k},g:function(){return f}});var i=l(520739);l(779788),l(675373),l(268917),l(413806),l(826893),l(874386);var n=l(496349),a=l(349135),o=l(231755);let{COMMON_SEARCH_PARAMS:r}=n||{};function s(e){let{delete_fail_items:t=[],second_verify_type:l="",status_code:i=-1,log_pb:n}=e,a=null!=t?t:[],o=a.length>0&&a.every(e=>2===e.fail_reason);return{fatalIds:a.map(e=>e.item_id),secondVerifyType:l,statusCode:i,isSuccess:0===i&&(null==a?void 0:a.length)===0,isFailForRisk:o,logPb:n&&JSON.stringify(n)}}function d(e){let{fatal_ids:t=[],second_verify_type:l="",status_code:i=-1,log_pb:n,status_msg:a}=e,o=null!=t?t:[];return{fatalIds:o,secondVerifyType:l,statusCode:i,isSuccess:0===i&&(null==o?void 0:o.length)===0,isFailForRisk:!1,logPb:n&&JSON.stringify(n),statusMsg:a}}async function u(e){let{awemeIds:t,actionType:l="delete"}=e,n=await (0,o.v_)("/aweme/v1/web/aweme/delete/multi/",(0,i._)({},r),{aweme_ids:t,action_type:{public:1,delete:0,secret:2,friend:3}[l]},{});return(0,a.RL)(n,s)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,l=[];for(let i=0;i<e.length;i+=t)l.push(e.slice(i,i+t));return l}async function v(e){var t,l;let{awemeIds:i,actionType:n="delete"}=e,a=[],o=c(i.split(","));for(let e=0;e<o.length;e++){let t=o[e],l=await u({awemeIds:t.join(","),actionType:n});a.push(l)}let r={fatalIds:[],statusCode:a.some(e=>0===e.statusCode)?0:null===(t=a[0])||void 0===t?void 0:t.statusCode,isSuccess:a.some(e=>e.isSuccess),isFailForRisk:a.every(e=>e.isFailForRisk),logPb:null===(l=a[0])||void 0===l?void 0:l.logPb};return a.forEach(e=>{r.fatalIds=[...r.fatalIds,...e.fatalIds]}),r}async function m(e){let{awemeIds:t,itemTypeMap:l}=e,n=await (0,o.v_)("/aweme/v1/web/cancel/item/digg/multi/",(0,i._)({},r),{aweme_ids:t,item_type_map:JSON.stringify(l)},{});return(0,a.RL)(n,d)}async function f(e){var t,l;let{awemeIds:i,itemTypeMap:n}=e,a=[],o=c(i.split(","));for(let e=0;e<o.length;e++){let t=o[e],l=await m({awemeIds:t.join(","),itemTypeMap:n});a.push(l)}let r={fatalIds:[],statusCode:a.some(e=>0===e.statusCode)?0:null===(t=a[0])||void 0===t?void 0:t.statusCode,isSuccess:a.some(e=>e.isSuccess),isFailForRisk:!1,logPb:null===(l=a[0])||void 0===l?void 0:l.logPb};return a.forEach(e=>{r.fatalIds=[...r.fatalIds,...e.fatalIds]}),r}async function p(e){let{awemeIds:t,awemeTypeMap:l}=e,n=await (0,o.v_)("/aweme/v1/web/aweme/cancel/collect/multi/",(0,i._)({},r),{aweme_ids:t,aweme_type_map:JSON.stringify(l)},{});return(0,a.RL)(n,d)}async function h(e){var t,l;let{awemeIds:i,awemeTypeMap:n}=e,a=[],o=c(i.split(","));for(let e=0;e<o.length;e++){let t=o[e],l=await p({awemeIds:t.join(","),awemeTypeMap:n});a.push(l)}let r={fatalIds:[],statusCode:a.some(e=>0===e.statusCode)?0:null===(t=a[0])||void 0===t?void 0:t.statusCode,isSuccess:a.some(e=>e.isSuccess),isFailForRisk:!1,logPb:null===(l=a[0])||void 0===l?void 0:l.logPb};return a.forEach(e=>{r.fatalIds=[...r.fatalIds,...e.fatalIds]}),r}async function x(e){let{mixIds:t}=e,l=await (0,o.v_)("/aweme/v1/web/mix/cancel/collect/multi/",(0,i._)({},r),{mix_ids:t},{});return(0,a.RL)(l,d)}async function k(e){let{seriesIds:t}=e,l=await (0,o.v_)("/aweme/v1/web/series/cancel/collect/multi/",(0,i._)({},r),{series_ids:t},{});return(0,a.RL)(l,d)}},915242:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:32,height:27,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("path",{d:"M4 2a2 2 0 0 0-2 2v3a1 1 0 0 1-2 0V4a4 4 0 0 1 4-4h3a1 1 0 0 1 0 2H4zM4 22a2 2 0 0 1-2-2v-3a1 1 0 1 0-2 0v3a4 4 0 0 0 4 4h3c.18 0 .348-.047.494-.13a7.531 7.531 0 0 1-.283-1.848A1.001 1.001 0 0 0 7 22H4zM22 4a2 2 0 0 0-2-2h-3a1 1 0 1 1 0-2h3a4 4 0 0 1 4 4v3a1 1 0 1 1-2 0V4z",fill:"#fff",fillOpacity:".5"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.015 15l.134.43h2.096l-2.859-9.147c-.73-2.339-4.041-2.339-4.772 0L6.046 17.702a1 1 0 0 0 1.908.596L8.985 15H15.015zm-2.538-8.12a.5.5 0 0 0-.954 0L9.61 13h4.78l-1.913-6.12z",fill:"#fff",fillOpacity:".5"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.37 26.368c1.356 0 2.445-.437 3.245-1.326.76-.848 1.132-1.956 1.132-3.314 0-1.357-.371-2.476-1.131-3.325-.8-.901-1.89-1.339-3.245-1.339-1.366 0-2.458.437-3.247 1.353-.759.86-1.117 1.967-1.117 3.311 0 1.334.359 2.44 1.118 3.3.788.89 1.878 1.34 3.246 1.34zm-1.909-6.841c.449-.547 1.072-.827 1.91-.827.842 0 1.464.26 1.897.78.43.53.663 1.271.663 2.248 0 .977-.233 1.706-.661 2.223-.435.511-1.059.781-1.9.781-.838 0-1.473-.28-1.908-.814-.431-.53-.651-1.249-.651-2.19 0-.953.22-1.671.65-2.201z",fill:"#fff",fillOpacity:".5"}),(0,a.jsx)("path",{d:"M24.915 18.832v-1.6h-6.244V26.2h1.804v-3.792h4.188v-1.6h-4.188v-1.976h4.44zM25.656 17.232H31.9v1.6h-4.44v1.976h4.188v1.6H27.46V26.2h-1.804v-8.968z",fill:"#fff",fillOpacity:".5"})]})));t.Z=r},658010:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:34,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("path",{d:"M2.5 4.625c0-1.15.933-2.083 2.083-2.083h3.125a1.042 1.042 0 1 0 0-2.084H4.583A4.167 4.167 0 0 0 .417 4.625V7.75a1.042 1.042 0 1 0 2.083 0V4.625zM2.5 21.292c0 1.15.933 2.083 2.083 2.083h3.125a1.042 1.042 0 1 1 0 2.084H4.583a4.167 4.167 0 0 1-4.166-4.167v-3.125a1.042 1.042 0 0 1 2.083 0v3.125z",fill:"#fff",fillOpacity:".5"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.364 16.48l-2.962-9.476c-.761-2.437-4.21-2.437-4.971 0L6.714 18.898a1.042 1.042 0 1 0 1.988.621l1.074-3.436h6.281l.347 1.111a6.071 6.071 0 0 1 1.96-.713zm-5.945-8.855a.52.52 0 0 1 .995 0L15.406 14h-4.979l1.992-6.375z",fill:"#fff",fillOpacity:".5"}),(0,a.jsx)("path",{d:"M23.333 4.625c0-1.15-.933-2.083-2.083-2.083h-3.125a1.042 1.042 0 0 1 0-2.084h3.125a4.167 4.167 0 0 1 4.166 4.167V7.75a1.042 1.042 0 0 1-2.083 0V4.625z",fill:"#fff",fillOpacity:".5"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.12 19.628c.792.884 1.178 2.05 1.178 3.464 0 1.415-.387 2.568-1.178 3.452-.834.925-1.969 1.381-3.38 1.381-1.425 0-2.56-.468-3.381-1.395-.79-.896-1.165-2.05-1.165-3.438 0-1.4.373-2.553 1.164-3.45.822-.953 1.959-1.408 3.382-1.408 1.411 0 2.547.455 3.38 1.394zm-5.369 1.17c-.448.553-.678 1.301-.678 2.294 0 .98.23 1.729.678 2.281.454.555 1.115.848 1.989.848.875 0 1.525-.281 1.978-.813.447-.539.688-1.299.688-2.316s-.242-1.79-.69-2.343c-.451-.54-1.099-.811-1.976-.811-.872 0-1.522.291-1.989.86z",fill:"#fff",fillOpacity:".5"}),(0,a.jsx)("path",{d:"M25.261 18.409h1.78l4.145 6.046V18.41h1.892v9.341h-1.743l-4.195-6.132v6.132h-1.879V18.41z",fill:"#fff",fillOpacity:".5"})]})));t.Z=r},507782:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("path",{d:"M8 10v12a4 4 0 0 0 4 4h8a4 4 0 0 0 4-4V10",stroke:"#fff",strokeOpacity:".5",strokeWidth:2,strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M6 9h20",stroke:"#fff",strokeOpacity:".5",strokeWidth:2,strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M13 15v5M18.5 5h-5M19 15v5",stroke:"#fff",strokeOpacity:".5",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})]})));t.Z=r},540075:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M13.556 17.778a1.778 1.778 0 1 1-3.556 0 1.778 1.778 0 0 1 3.556 0zM19.778 17.778a1.778 1.778 0 1 1-3.556 0 1.778 1.778 0 0 1 3.556 0zM24.222 19.556a1.778 1.778 0 1 0 0-3.556 1.778 1.778 0 0 0 0 3.556z",fill:"#fff"})})));t.Z=r},69509:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.783 8.886c.041.001.082.005.124.009V8.89l-.124-.004zm18.337 1.208a1.631 1.631 0 0 0-.537-1.24 1.589 1.589 0 0 0-1.277-.4h-.004l-10.57 1.641a1.58 1.58 0 0 0-1.365 1.553l-.215 11.82a3.2 3.2 0 0 0-2.438-1.241c-1.76-.048-3.212 1.355-3.244 3.134-.032 1.78 1.368 3.261 3.127 3.31 1.76.047 3.212-1.356 3.245-3.135l.17-9.368 12.307-2.026-.176 9.709a3.2 3.2 0 0 0-2.459-1.269c-1.76-.048-3.212 1.355-3.244 3.135-.033 1.779 1.368 3.26 3.127 3.309 1.76.048 3.212-1.356 3.244-3.135l.309-15.797z",fill:"#fff",fillOpacity:".8"})})));t.Z=r},662892:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsxs)("svg",(0,n._)((0,i._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6 10.857c0-2.409 1.988-4.33 4.4-4.33 2.412 0 4.4 1.921 4.4 4.33V13c0 2.39-1.96 4.3-4.348 4.327h-.104C14.561 17.3 12.6 15.39 12.6 13v-2.143zm4.4-2.53c-1.453 0-2.6 1.15-2.6 2.53V13c0 1.366 1.128 2.508 2.564 2.527h.072C18.472 15.508 19.6 14.366 19.6 13v-2.143c0-1.38-1.148-2.53-2.6-2.53z",fill:"#2F3035",fillOpacity:".9"}),(0,a.jsx)("path",{d:"M21.399 23.23c-.405 0-.732.382-.732.854 0 .471.327.854.732.854h3.66c.405 0 .733-.383.733-.854 0-.472-.328-.854-.732-.854h-3.661z",fill:"#2F3035",fillOpacity:".9"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.354 24.084a5.127 5.127 0 0 1-5.125 5.125 5.127 5.127 0 0 1-5.125-5.125 5.127 5.127 0 0 1 5.125-5.125 5.127 5.127 0 0 1 5.125 5.125zm-1.8 0a3.327 3.327 0 0 1-3.325 3.325 3.327 3.327 0 0 1-3.325-3.325 3.327 3.327 0 0 1 3.325-3.325 3.327 3.327 0 0 1 3.325 3.325zM16.414 20.525c.342-.654-.086-1.566-.825-1.566h-1.756A6.833 6.833 0 0 0 7 25.792a2.563 2.563 0 0 0 2.563 2.563h5.674c.683 0 1.109-.779.854-1.413a7.66 7.66 0 0 1-.55-2.859 7.65 7.65 0 0 1 .873-3.558zm-2.58.234h.508a9.465 9.465 0 0 0-.6 3.324c0 .854.113 1.682.325 2.472H9.563a.763.763 0 0 1-.762-.763 5.033 5.033 0 0 1 5.033-5.033z",fill:"#2F3035",fillOpacity:".9"})]})));t.Z=r},824734:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:36,height:36,ref:t},e),{children:(0,a.jsxs)("g",{fill:"none",strokeWidth:2,stroke:"#2f3035",strokeOpacity:".902",children:[(0,a.jsx)("path",{d:"M32.555 12.453c.175 0 .316-.14.308-.312a9.342 9.342 0 0 0-2.746-6.328 9.393 9.393 0 0 0-6.324-2.747.309.309 0 0 0-.316.309v7.512c0 .867.703 1.566 1.566 1.566zm0 0",strokeWidth:3.13044}),(0,a.jsx)("path",{d:"M32.871 17.934c.863 0 1.57.699 1.488 1.562a16.437 16.437 0 0 1-10.07 13.621 16.462 16.462 0 0 1-9.496.934 16.427 16.427 0 0 1-12.91-12.914 16.414 16.414 0 0 1 .933-9.492A16.443 16.443 0 0 1 16.437 1.57C17.297 1.488 18 2.2 18 3.062v11.739a3.132 3.132 0 0 0 3.129 3.133zm0 0",strokeWidth:3.13044})]})})));t.Z=r},372316:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:14,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{opacity:".8",fillRule:"evenodd",clipRule:"evenodd",d:"M2.824 5.647h-.942C.842 5.647 0 6.49 0 7.53v6.589C0 15.158.843 16 1.882 16h9.412c1.04 0 1.883-.843 1.883-1.882V7.529c0-1.04-.843-1.882-1.883-1.882h-.941V3.765a3.765 3.765 0 1 0-7.53 0v1.882zm1.882 0H8.47V3.765a1.882 1.882 0 1 0-3.765 0v1.882z",fill:"#A9AAB7"})})));t.Z=r},515264:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 8a8 8 0 0 0-8 8v4a8 8 0 0 0 8 8h8a8 8 0 0 0 8-8v-4a8 8 0 0 0-8-8h-8zm8.5 10.866a1 1 0 0 0 0-1.732l-6-3.464a1 1 0 0 0-1.5.866v6.928a1 1 0 0 0 1.5.866l6-3.464z",fill:"#fff"})})));t.Z=r},190995:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.54 10a5.464 5.464 0 0 1 10.883-.702l-1.394-1.232a.75.75 0 1 0-.994 1.124l2.825 2.498a.75.75 0 0 0 1.128-.157l2.036-3.174a.75.75 0 1 0-1.262-.81l-.879 1.37A6.965 6.965 0 0 0 2.04 10a6.964 6.964 0 0 0 10.943 5.715.75.75 0 1 0-.858-1.23A5.464 5.464 0 0 1 3.54 10z",fill:"#fff",opacity:".6"})})));t.Z=r},343341:function(e,t,l){var i=l(520739),n=l(878389),a=l(563097),o=l(88648);let r=(0,o.forwardRef)((e,t)=>(0,a.jsx)("svg",(0,n._)((0,i._)({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),{children:(0,a.jsx)("path",{d:"M14 1.167a6.125 6.125 0 0 0-6.125 6.125V10.5a3.208 3.208 0 0 0-3.208 3.208v8.75a3.208 3.208 0 0 0 3.208 3.209h12.25a3.208 3.208 0 0 0 3.208-3.209v-8.75a3.208 3.208 0 0 0-3.208-3.208V7.292A6.125 6.125 0 0 0 14 1.167zm4.375 9.333h-8.75V7.292a4.375 4.375 0 1 1 8.75 0V10.5z",fill:"#fff"})})));t.Z=r},475137:function(e){e.exports=JSON.parse('{"v":"5.6.3","fr":60,"ip":0,"op":210,"w":100,"h":100,"nm":"收藏-跳动","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"c06","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":300,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"椭圆路径 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.721568644047,0.007843137719,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"c05","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":240,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"椭圆路径 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.980392158031,0.807843148708,0.082352943718,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"c04","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":180,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"椭圆路径 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.721568644047,0.007843137719,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"c03","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":120,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"椭圆路径 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.980392158031,0.807843148708,0.082352943718,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"c02","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":60,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"椭圆路径 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.721568644047,0.007843137719,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"c01","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"椭圆路径 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.980392158031,0.807843148708,0.082352943718,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"collect_active@3x","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[50,48,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-2.147,-5.756],[0,0],[0,0],[4.797,-3.826],[0,0],[0,0],[5.112,3.392],[0,0],[0,0],[-1.638,5.922],[0,0],[0,0],[-6.124,0.268],[0,0]],"o":[[2.147,-5.756],[0,0],[0,0],[6.124,0.268],[0,0],[0,0],[1.638,5.922],[0,0],[0,0],[-5.112,3.392],[0,0],[0,0],[-4.797,-3.826],[0,0],[0,0]],"v":[[43.792,4.317],[56.208,4.317],[65.927,30.375],[93.651,31.59],[97.488,43.428],[75.771,60.747],[83.186,87.556],[73.141,94.872],[50,79.518],[26.859,94.872],[16.814,87.556],[24.229,60.747],[2.512,43.428],[6.349,31.59],[34.073,30.375]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.721568644047,0.007843137719,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"collect_active@3x","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0}]},{"id":"comp_2","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"collect@3x","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"rc","d":1,"s":{"a":0,"k":[100,96],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"路径 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,16.86,0],"ix":2},"a":{"a":0,"k":[50,31.14,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.231,0.248],[-3.283,-2.618],[0,0],[0,0],[0,0]],"o":[[-2.378,2.636],[0,0],[0,0],[0,0],[-0.28,-0.223]],"v":[[1.746,0],[2.512,9.708],[22.19,25.401],[24.229,18.027],[2.512,0.708]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[1.923,2.71],[0,0],[-5.112,3.392],[0,0],[0,0],[1.638,5.922],[0,0],[3.287,2.181],[0,0],[0,0]],"o":[[0,0],[-1.638,5.922],[0,0],[0,0],[5.112,3.392],[0,0],[-1.923,2.71],[0,0],[0,0],[-3.287,2.181]],"v":[[17.758,50.423],[16.814,53.836],[26.859,61.152],[50,45.798],[73.141,61.152],[83.186,53.836],[82.242,50.423],[73.141,52.152],[50,36.798],[26.859,52.152]],"c":true},"ix":2},"nm":"路径 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[2.378,2.636],[0.28,-0.223],[0,0]],"o":[[0,0],[3.283,-2.618],[-0.231,0.248],[0,0],[0,0]],"v":[[77.81,25.401],[97.488,9.708],[98.254,0],[97.488,0.708],[75.771,18.027]],"c":true},"ix":2},"nm":"路径 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"路径 2","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"路径 1","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[50,48,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-2.147,-5.756],[0,0],[0,0],[4.797,-3.826],[0,0],[0,0],[5.112,3.392],[0,0],[0,0],[-1.638,5.922],[0,0],[0,0],[-6.124,0.268],[0,0]],"o":[[2.147,-5.756],[0,0],[0,0],[6.124,0.268],[0,0],[0,0],[1.638,5.922],[0,0],[0,0],[-5.112,3.392],[0,0],[0,0],[-4.797,-3.826],[0,0],[0,0]],"v":[[43.792,4.317],[56.208,4.317],[65.927,30.375],[93.651,31.59],[97.488,43.428],[75.771,60.747],[83.186,87.556],[73.141,94.872],[50,79.518],[26.859,94.872],[16.814,87.556],[24.229,60.747],[2.512,43.428],[6.349,31.59],[34.073,30.375]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"路径 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"大圆","parent":2,"refId":"comp_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":63,"s":[0]},{"t":65,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0.311,0.148,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.4],"y":[0,0,0]},"t":63,"s":[6,6,100]},{"t":79,"s":[28,28,100]}],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":63,"op":263,"st":63,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[51,51,0],"ix":2},"a":{"a":0,"k":[0.311,0.148,0],"ix":1},"s":{"a":0,"k":[46.465,46.465,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.25,0.25],"y":[1,1]},"o":{"x":[0.35,0.35],"y":[0,0]},"t":63,"s":[0,0]},{"t":80,"s":[160,160]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":63,"s":[1,0.355514705181,0,1]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":69,"s":[1,0.721568644047,0.007843137719,1]},{"t":80,"s":[0.892095565796,1,0,1]}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.35],"y":[0]},"t":63,"s":[20]},{"t":80,"s":[0]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0.311,0.148],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":63,"s":[0]},{"t":65,"s":[100]}],"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":59,"op":86,"st":-1,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"collect_active@3x 2","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":162,"s":[100]},{"t":167,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[51,77,0],"ix":2},"a":{"a":0,"k":[60,108.658,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[1.38,1.38,0]},"t":91,"s":[53.434,53.434,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":115,"s":[46.465,46.465,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":121,"s":[46.465,46.465,100]},{"t":145,"s":[53.434,53.434,100]}],"ix":6,"x":"var $bm_rt;\\nvar $bm_rt;\\nvar $bm_rt;\\nfunction customBezier(t, tMin, tMax, value1, value2, bezierPoints) {\\n    if (arguments.length !== 6)\\n        return value;\\n    var a = sub(value2, value1);\\n    var b = sub(tMax, tMin);\\n    var c = clamp(div(sub(t, tMin), b), 0, 1);\\n    if (!(bezierPoints instanceof Array) || bezierPoints.length !== 4)\\n        bezierPoints = [\\n            0,\\n            0,\\n            1,\\n            1\\n        ];\\n    return add(mul(a, h(c, bezierPoints)), value1);\\n    function h(f, g) {\\n        var x = mul(3, g[0]);\\n        var j = sub(mul(3, sub(g[2], g[0])), x);\\n        var k = sub(sub(1, x), j);\\n        var l = mul(3, g[1]);\\n        var m = sub(mul(3, sub(g[3], g[1])), l);\\n        var n = sub(sub(1, l), m);\\n        var d = f;\\n        for (var i = 0; i < 5; i++) {\\n            var z = sub(mul(d, add(x, mul(d, add(j, mul(d, k))))), f);\\n            if (Math.abs(z) < 0.001)\\n                break;\\n            d = sub(d, div(z, add(x, mul(d, add(mul(2, j), mul(mul(3, k), d))))));\\n        }\\n        return mul(d, add(l, mul(d, add(m, mul(d, n)))));\\n    }\\n}\\nvar animationStartTime = 1;\\nvar animationEndTime = 2;\\nvar startValue = value;\\nvar endValue = mul(value, 2);\\nif (numKeys > 0) {\\n    var nearestKeyIndex = nearestKey(time).index;\\n    if (key(nearestKeyIndex).time > time)\\n        nearestKeyIndex--;\\n    if (nearestKeyIndex === 0 || nearestKeyIndex === numKeys) {\\n        startValue = endValue = value;\\n    } else {\\n        animationStartTime = key(nearestKeyIndex).time;\\n        animationEndTime = key(add(nearestKeyIndex, 1)).time;\\n        startValue = key(nearestKeyIndex).value;\\n        endValue = key(add(nearestKeyIndex, 1)).value;\\n    }\\n}\\n$bm_rt = $bm_rt = $bm_rt = customBezier(time, animationStartTime, animationEndTime, startValue, endValue, [\\n    0.34,\\n    0.69,\\n    0.1,\\n    1\\n]);"}},"ao":0,"w":120,"h":120,"ip":89,"op":148,"st":65,"bm":0},{"ddd":0,"ind":4,"ty":0,"nm":"collect_active@3x 3","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":162,"s":[100]},{"t":167,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[51,51,0],"ix":2},"a":{"a":0,"k":[60,60,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":65,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":75,"s":[52.97,52.97,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":82,"s":[44.141,44.141,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":89,"s":[53.394,53.394,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":151,"s":[53.4,53.4,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":152,"s":[54,54,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":157,"s":[53.434,53.434,100]},{"t":167,"s":[0,0,100]}],"ix":6}},"ao":0,"w":120,"h":120,"ip":148,"op":244,"st":65,"bm":0},{"ddd":0,"ind":5,"ty":0,"nm":"collect_active@3x","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":162,"s":[100]},{"t":167,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[51,51,0],"ix":2},"a":{"a":0,"k":[60,60,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":65,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":75,"s":[52.97,52.97,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":82,"s":[44.141,44.141,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":89,"s":[53.394,53.394,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":151,"s":[53.4,53.4,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":152,"s":[54,54,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":157,"s":[53.434,53.434,100]},{"t":167,"s":[0,0,100]}],"ix":6}},"ao":0,"w":120,"h":120,"ip":65,"op":89,"st":65,"bm":0},{"ddd":0,"ind":6,"ty":0,"nm":"collect@3x 2","refId":"comp_2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":104,"s":[100]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":105,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":132,"s":[0]},{"t":133,"s":[100]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":10,"s":[0]},{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":26,"s":[-10]},{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":34,"s":[5]},{"t":43,"s":[0]}],"ix":10},"p":{"a":0,"k":[51,77.02,0],"ix":2},"a":{"a":0,"k":[60,109,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.1,0.1,0.1],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[0.69,0.69,0]},"t":10,"s":[46.465,46.465,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[0,0,0]},"t":34,"s":[53.434,53.434,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":98,"s":[53.434,53.434,100]},{"i":{"x":[0.661,0.661,0.661],"y":[0.992,0.992,1]},"o":{"x":[0.328,0.328,0.328],"y":[0,0,0]},"t":104,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.345,0.345,0.345],"y":[0,0,0]},"t":105,"s":[13.939,13.939,100]},{"i":{"x":[0.659,0.659,0.659],"y":[0.728,0.728,1]},"o":{"x":[0.157,0.157,0.157],"y":[0,0,0]},"t":132,"s":[13.939,13.939,100]},{"i":{"x":[0.799,0.799,0.799],"y":[1,1,1]},"o":{"x":[0.437,0.437,0.437],"y":[-1.837,-1.837,0]},"t":146,"s":[48.323,48.323,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":152,"s":[45.535,45.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":155,"s":[47.394,47.394,100]},{"t":158,"s":[46.465,46.465,100]}],"ix":6}},"ao":0,"w":120,"h":120,"ip":0,"op":52,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":0,"nm":"collect@3x 3","refId":"comp_2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":129,"s":[100]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":130,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":157,"s":[0]},{"t":158,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[51,77.485,0],"ix":2},"a":{"a":0,"k":[60,109.565,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":123,"s":[53.434,53.434,100]},{"i":{"x":[0.661,0.661,0.661],"y":[0.992,0.992,1]},"o":{"x":[0.328,0.328,0.328],"y":[0,0,0]},"t":129,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.345,0.345,0.345],"y":[0,0,0]},"t":130,"s":[13.939,13.939,100]},{"i":{"x":[0.659,0.659,0.659],"y":[0.728,0.728,1]},"o":{"x":[0.157,0.157,0.157],"y":[0,0,0]},"t":157,"s":[13.939,13.939,100]},{"i":{"x":[0.799,0.799,0.799],"y":[1,1,1]},"o":{"x":[0.437,0.437,0.437],"y":[-1.837,-1.837,0]},"t":171,"s":[48.323,48.323,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":177,"s":[45.535,45.535,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":180,"s":[47.394,47.394,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":183,"s":[53.434,53.434,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[0.69,0.69,0]},"t":195,"s":[53.434,53.434,100]},{"t":207,"s":[46.465,46.465,100]}],"ix":6}},"ao":0,"w":120,"h":120,"ip":195,"op":467,"st":25,"bm":0},{"ddd":0,"ind":8,"ty":0,"nm":"collect@3x","refId":"comp_2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":64,"s":[100]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":65,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":150,"s":[0]},{"t":151,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[51,51,0],"ix":2},"a":{"a":0,"k":[60,60,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":58,"s":[53.434,53.434,100]},{"i":{"x":[0.661,0.661,0.661],"y":[0.992,0.992,1]},"o":{"x":[0.328,0.328,0.328],"y":[0,0,0]},"t":64,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.345,0.345,0.345],"y":[0,0,0]},"t":65,"s":[13.939,13.939,100]},{"i":{"x":[0.659,0.659,0.659],"y":[0.661,0.661,1]},"o":{"x":[0.157,0.157,0.157],"y":[0,0,0]},"t":150,"s":[13.939,13.939,100]},{"t":170,"s":[53.323,53.323,100]}],"ix":6}},"ao":0,"w":120,"h":120,"ip":52,"op":195,"st":-40,"bm":0}],"markers":[]}')},932624:function(e){e.exports=JSON.parse('{"v":"5.6.10","fr":60,"ip":0,"op":92,"w":99,"h":99,"nm":"评论Lottie2","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Union","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":16,"s":[-10]},{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":24,"s":[5]},{"t":33,"s":[0]}],"ix":10},"p":{"a":0,"k":[52.755,73.904,0],"ix":2},"a":{"a":0,"k":[-35.606,31.818,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.211,0.211,0.833],"y":[0.851,0.851,1]},"o":{"x":[0.049,0.049,0.34],"y":[0.084,0.084,0]},"t":0,"s":[66,66,100]},{"i":{"x":[0.85,0.85,0.833],"y":[0.587,0.587,1]},"o":{"x":[0.182,0.182,0.167],"y":[0.503,0.503,0]},"t":24,"s":[76,76,100]},{"i":{"x":[0.008,0.008,0.833],"y":[0.599,0.599,1]},"o":{"x":[0.34,0.34,0.34],"y":[0.69,0.69,0]},"t":59,"s":[76,76,100]},{"t":83,"s":[66,66,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.729,2.733],[0,2.711],[-6.214,0],[0,-5.501],[6.214,0],[0,0]],"o":[[-2.231,-2.235],[0,-5.501],[6.214,0],[0,5.501],[0,0],[0,0]],"v":[[-0.964,13.439],[-4.5,6.164],[6.75,-3.797],[18,6.164],[6.587,15.443],[6.587,18.518]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[-100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":1,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-0.88],[-0.888,0],[0,0],[0,0.882],[0.887,0]],"o":[[0,0.882],[0,0],[0.887,0],[0,-0.88],[-0.888,0]],"v":[[-0.321,6.416],[1.286,8.013],[1.286,8.013],[2.893,6.416],[1.286,4.821]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[-100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 2","np":1,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-0.88],[-0.888,0],[0,0],[0,0.882],[0.887,0]],"o":[[0,0.882],[0,0],[0.887,0],[0,-0.88],[-0.888,0]],"v":[[5.143,6.416],[6.75,8.013],[6.75,8.013],[8.357,6.416],[6.75,4.821]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[-100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 3","np":1,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-0.88],[-0.888,0],[0,0],[0,0.882],[0.888,0]],"o":[[0,0.882],[0,0],[0.888,0],[0,-0.88],[-0.888,0]],"v":[[10.607,6.416],[12.213,8.013],[12.213,8.013],[13.821,6.416],[12.213,4.821]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[-100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 4","np":1,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":3,"nm":"合并路径 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"tr","p":{"a":0,"k":[-6.75,-7.457],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Combined Shape","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[-2.605,3.669],[0,0],[-2.279,0.667]],"o":[[-2.605,3.336],[0,0],[2.279,-0.667]],"v":[[-4.645,4.483],[-13.482,8.3],[-12.135,10.821]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":2,"nm":"合并路径 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Union","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-221,"op":100,"st":-221,"bm":0}],"markers":[]}')},79902:function(e){e.exports=JSON.parse('{"v":"5.6.10","fr":60,"ip":0,"op":188,"w":90,"h":94,"nm":"点赞-跳动","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"home_like_cancle","refId":"comp_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,840,0],"ix":2},"a":{"a":0,"k":[840,840,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":1680,"h":1680,"ip":0,"op":122,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"ic_home_like_after.png 2","cl":"png","refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,840,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":0,"op":60,"st":-54,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"ic_home_like_after.png","cl":"png","refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,840,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.489,0.489,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":60,"s":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.629,0.629,0.333],"y":[0,0,0]},"t":65,"s":[108,108,100]},{"t":75,"s":[0,0,100]}],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":60,"op":75,"st":6,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"ic_home_like_before.png","cl":"png","refId":"comp_3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":85,"s":[0]},{"t":97,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,840,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":75,"op":122,"st":4,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,835,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-38.60546875,"op":-38,"st":-120,"bm":0}]},{"id":"comp_2","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"img_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[445.5,408,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-55.905,-58.048],[-73.591,0],[0,-144.547],[0,-0.018],[-0.009,0.02],[0.052,-2.296],[-0.23,-0.5],[9.323,-33.19],[4.896,-12.387],[4.454,-11.761],[5.079,-7.681],[50.041,-50.178],[34.712,-28.617],[1.732,-1.731],[12.302,-0.008],[0.328,0],[12.618,12.618],[3.743,2.996],[80.844,83.003],[32.53,70.419],[0.731,33.342],[0.083,3.205],[0,4.16],[-140.219,0]],"o":[[40.738,-58.048],[140.152,0],[0,0.018],[0.009,-0.02],[0,4.121],[-0.072,3.151],[-0.531,30.403],[-5.29,5.96],[-7.724,11.998],[-4.545,7.629],[-37.449,56.8],[-78.331,79.025],[-9.585,7.901],[-12.301,12.303],[-0.324,0.004],[-25.236,0],[-0.963,-0.963],[-38.233,-28.183],[-61.676,-62.763],[-12.618,-25.237],[0.269,-0.267],[-0.061,-2.346],[0,-144.613],[73.458,0]],"v":[[453.036,88.712],[634.251,0],[890.972,266.137],[890.972,266.191],[891,266.131],[890.878,275.668],[891,280.916],[875.899,369.628],[860.798,399.199],[845.697,428.77],[831.245,451.744],[693.667,615.252],[500.832,788.675],[483.368,803.375],[446.463,815.994],[445.486,816],[395.014,790.763],[387.858,784.783],[182.742,604.783],[29.092,399.588],[0,280.922],[0.144,275.844],[0,266.137],[256.721,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"img_0","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":2096,"st":0,"bm":0}]},{"id":"comp_3","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"img_1","sr":1,"ks":{"o":{"a":0,"k":95,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[445.5,408,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-55.905,-58.048],[-73.591,0],[0,-144.547],[0,-0.018],[-0.009,0.02],[0.052,-2.296],[-0.23,-0.5],[9.323,-33.19],[4.896,-12.387],[4.454,-11.761],[5.079,-7.681],[50.041,-50.178],[34.712,-28.617],[1.732,-1.731],[12.302,-0.008],[0.328,0],[12.618,12.618],[3.743,2.996],[80.844,83.003],[32.53,70.419],[0.731,33.342],[0.083,3.205],[0,4.16],[-140.219,0]],"o":[[40.738,-58.048],[140.152,0],[0,0.018],[0.009,-0.02],[0,4.121],[-0.072,3.151],[-0.531,30.403],[-5.29,5.96],[-7.724,11.998],[-4.545,7.629],[-37.449,56.8],[-78.331,79.025],[-9.585,7.901],[-12.301,12.303],[-0.324,0.004],[-25.236,0],[-0.963,-0.963],[-38.233,-28.183],[-61.676,-62.763],[-12.618,-25.237],[0.269,-0.267],[-0.061,-2.346],[0,-144.613],[73.458,0]],"v":[[453.036,88.712],[634.251,0],[890.972,266.137],[890.972,266.191],[891,266.131],[890.878,275.668],[891,280.916],[875.899,369.628],[860.798,399.199],[845.697,428.77],[831.245,451.744],[693.667,615.252],[500.832,788.675],[483.368,803.375],[446.463,815.994],[445.486,816],[395.014,790.763],[387.858,784.783],[182.742,604.783],[29.092,399.588],[0,280.922],[0.144,275.844],[0,266.137],[256.721,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"img_1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":2087,"st":0,"bm":0}]},{"id":"comp_4","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"home_tap_like 2","refId":"comp_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[84,84,0],"ix":2},"a":{"a":0,"k":[840,840,0],"ix":1},"s":{"a":0,"k":[10,10,100],"ix":6}},"ao":0,"w":1680,"h":1680,"ip":0,"op":9999,"st":0,"bm":0}]},{"id":"comp_5","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"ic_home_like_after.png","cl":"png","refId":"comp_6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,780,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":51,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":61,"s":[113,113,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":68,"s":[95,95,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":75,"s":[120,120,100]},{"t":79,"s":[115,115,100]}],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":51,"op":165,"st":51,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"ic_home_like_before.png 2","cl":"png","refId":"comp_7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[832,784,0],"ix":2},"a":{"a":0,"k":[592,502.435,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":39,"s":[115,115,100]},{"t":51,"s":[0,0,100]}],"ix":6}},"ao":0,"w":1200,"h":1000,"ip":39,"op":51,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"ic_home_like_before.png","cl":"png","refId":"comp_7","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":39,"s":[100]},{"t":51,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":16,"s":[-10]},{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":24,"s":[5]},{"t":33,"s":[0]}],"ix":10},"p":{"a":0,"k":[832,1232,0],"ix":2},"a":{"a":0,"k":[592,892,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.1,0.1,0.1],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[0.69,0.69,0]},"t":0,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[0,0,0]},"t":24,"s":[115,115,100]},{"i":{"x":[0.1,0.1,0.1],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[0.69,0.69,0]},"t":59,"s":[115,115,100]},{"t":83,"s":[100,100,100]}],"ix":6}},"ao":0,"w":1200,"h":1000,"ip":0,"op":39,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":0,"nm":"anim_like_explode_03","parent":5,"refId":"comp_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,-2.037,0],"ix":2},"a":{"a":0,"k":[60,60,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":120,"h":120,"ip":51,"op":169,"st":51,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,775,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[1307,1307,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.25,0.25],"y":[1,1]},"o":{"x":[0.35,0.35],"y":[0,0]},"t":51,"s":[0,0]},{"t":66,"s":[100,100]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.35],"y":[0]},"t":51,"s":[28]},{"t":66,"s":[0]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":51,"op":67,"st":-15,"bm":0}]},{"id":"comp_6","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"img_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[445.5,408,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-55.905,-58.048],[-73.591,0],[0,-144.547],[0,-0.018],[-0.009,0.02],[0.052,-2.296],[-0.23,-0.5],[9.323,-33.19],[4.896,-12.387],[4.454,-11.761],[5.079,-7.681],[50.041,-50.178],[34.712,-28.617],[1.732,-1.731],[12.302,-0.008],[0.328,0],[12.618,12.618],[3.743,2.996],[80.844,83.003],[32.53,70.419],[0.731,33.342],[0.083,3.205],[0,4.16],[-140.219,0]],"o":[[40.738,-58.048],[140.152,0],[0,0.018],[0.009,-0.02],[0,4.121],[-0.072,3.151],[-0.531,30.403],[-5.29,5.96],[-7.724,11.998],[-4.545,7.629],[-37.449,56.8],[-78.331,79.025],[-9.585,7.901],[-12.301,12.303],[-0.324,0.004],[-25.236,0],[-0.963,-0.963],[-38.233,-28.183],[-61.676,-62.763],[-12.618,-25.237],[0.269,-0.267],[-0.061,-2.346],[0,-144.613],[73.458,0]],"v":[[453.036,88.712],[634.251,0],[890.972,266.137],[890.972,266.191],[891,266.131],[890.878,275.668],[891,280.916],[875.899,369.628],[860.798,399.199],[845.697,428.77],[831.245,451.744],[693.667,615.252],[500.832,788.675],[483.368,803.375],[446.463,815.994],[445.486,816],[395.014,790.763],[387.858,784.783],[182.742,604.783],[29.092,399.588],[0,280.922],[0.144,275.844],[0,266.137],[256.721,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"img_0","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":2096,"st":0,"bm":0}]},{"id":"comp_7","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"img_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[592,908,0],"ix":2},"a":{"a":0,"k":[437.5,816,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-55.905,-58.048],[-73.591,0],[0,-144.547],[0,-0.018],[-0.009,0.02],[0.052,-2.296],[-0.23,-0.5],[9.323,-33.19],[4.896,-12.387],[4.454,-11.761],[5.079,-7.681],[50.041,-50.178],[34.712,-28.617],[1.732,-1.731],[12.302,-0.008],[0.328,0],[12.618,12.618],[3.743,2.996],[80.844,83.003],[32.53,70.419],[0.731,33.342],[0.083,3.205],[0,4.16],[-140.219,0]],"o":[[40.738,-58.048],[140.152,0],[0,0.018],[0.009,-0.02],[0,4.121],[-0.072,3.151],[-0.531,30.403],[-5.29,5.96],[-7.724,11.998],[-4.545,7.629],[-37.449,56.8],[-78.331,79.025],[-9.585,7.901],[-12.301,12.303],[-0.324,0.004],[-25.236,0],[-0.963,-0.963],[-38.233,-28.183],[-61.676,-62.763],[-12.618,-25.237],[0.269,-0.267],[-0.061,-2.346],[0,-144.613],[73.458,0]],"v":[[453.036,88.712],[634.251,0],[890.972,266.137],[890.972,266.191],[891,266.131],[890.878,275.668],[891,280.916],[875.899,369.628],[860.798,399.199],[845.697,428.77],[831.245,451.744],[693.667,615.252],[500.832,788.675],[483.368,803.375],[446.463,815.994],[445.486,816],[395.014,790.763],[387.858,784.783],[182.742,604.783],[29.092,399.588],[0,280.922],[0.144,275.844],[0,266.137],[256.721,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"img_1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":2087,"st":0,"bm":0}]},{"id":"comp_8","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":300,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.984313726425,0.172549024224,0.329411774874,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":240,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.984313726425,0.172549024224,0.329411774874,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":180,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.976470589638,0.176470592618,0.333333343267,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":120,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.992156863213,0.203921571374,0.364705890417,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":60,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431606,0.184313729405,0.345098048449,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.984313726425,0.172549024224,0.329411774874,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"JSON_home_Dislike 2","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[45.25,77.25,0],"ix":2},"a":{"a":0,"k":[844.177,1286.951,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.899,0.899,1]},"o":{"x":[0.34,0.34,0.34],"y":[0.832,0.832,0]},"t":64,"s":[6.4,6.4,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":88,"s":[5.355,5.355,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":96,"s":[5.355,5.355,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":120,"s":[6.4,6.4,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.899,0.899,1]},"o":{"x":[0.34,0.34,0.34],"y":[0.832,0.832,0]},"t":162,"s":[6.4,6.4,100]},{"t":186,"s":[5.355,5.355,100]}],"ix":6,"x":"var $bm_rt;\\nvar $bm_rt;\\nvar $bm_rt;\\nfunction customBezier(t, tMin, tMax, value1, value2, bezierPoints) {\\n    if (arguments.length !== 6)\\n        return value;\\n    var a = sub(value2, value1);\\n    var b = sub(tMax, tMin);\\n    var c = clamp(div(sub(t, tMin), b), 0, 1);\\n    if (!(bezierPoints instanceof Array) || bezierPoints.length !== 4)\\n        bezierPoints = [\\n            0,\\n            0,\\n            1,\\n            1\\n        ];\\n    return add(mul(a, h(c, bezierPoints)), value1);\\n    function h(f, g) {\\n        var x = mul(3, g[0]);\\n        var j = sub(mul(3, sub(g[2], g[0])), x);\\n        var k = sub(sub(1, x), j);\\n        var l = mul(3, g[1]);\\n        var m = sub(mul(3, sub(g[3], g[1])), l);\\n        var n = sub(sub(1, l), m);\\n        var d = f;\\n        for (var i = 0; i < 5; i++) {\\n            var z = sub(mul(d, add(x, mul(d, add(j, mul(d, k))))), f);\\n            if (Math.abs(z) < 0.001)\\n                break;\\n            d = sub(d, div(z, add(x, mul(d, add(mul(2, j), mul(mul(3, k), d))))));\\n        }\\n        return mul(d, add(l, mul(d, add(m, mul(d, n)))));\\n    }\\n}\\nvar animationStartTime = 1;\\nvar animationEndTime = 2;\\nvar startValue = value;\\nvar endValue = mul(value, 2);\\nif (numKeys > 0) {\\n    var nearestKeyIndex = nearestKey(time).index;\\n    if (key(nearestKeyIndex).time > time)\\n        nearestKeyIndex--;\\n    if (nearestKeyIndex === 0 || nearestKeyIndex === numKeys) {\\n        startValue = endValue = value;\\n    } else {\\n        animationStartTime = key(nearestKeyIndex).time;\\n        animationEndTime = key(add(nearestKeyIndex, 1)).time;\\n        startValue = key(nearestKeyIndex).value;\\n        endValue = key(add(nearestKeyIndex, 1)).value;\\n    }\\n}\\n$bm_rt = $bm_rt = $bm_rt = customBezier(time, animationStartTime, animationEndTime, startValue, endValue, [\\n    0.34,\\n    0.69,\\n    0.1,\\n    1\\n]);"}},"ao":0,"w":1680,"h":1680,"ip":64,"op":10063,"st":64,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"JSON_home_like","refId":"comp_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[45.125,74.025,0],"ix":2},"a":{"a":0,"k":[84,124.196,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.1,0.1,0.1],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[1.89,1.89,0]},"t":0,"s":[52.5,52.5,100]},{"t":24,"s":[55.375,55.375,100]}],"ix":6}},"ao":0,"w":168,"h":168,"ip":0,"op":64,"st":0,"bm":0}],"markers":[]}')},432218:function(e){e.exports=JSON.parse('{"v":"5.9.6","fr":25,"ip":0,"op":25,"w":72,"h":72,"nm":"合成 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"“图层 1”轮廓 2","sr":1,"ks":{"o":{"a":0,"k":90,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":15,"s":[36,41.281,0],"to":[0,0,0],"ti":[0,0,0]},{"t":25,"s":[36,41.281,0]}],"ix":2,"l":2},"a":{"a":0,"k":[12.25,13.717,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":15,"s":[230,230,100]},{"t":25,"s":[210,210,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0.667,0.385],[0,0],[0,-0.77],[0,0],[-0.667,0.385]],"o":[[0.667,-0.385],[0,0],[-0.667,-0.385],[0,0],[0,0.77],[0,0]],"v":[[4.5,0.866],[4.5,-0.866],[-1.5,-4.33],[-3,-3.464],[-3,3.464],[-1.5,4.33]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[-4.418,0],[0,0],[0,-4.418],[0,0],[4.418,0],[0,0],[0,4.418],[0,0]],"o":[[0,0],[4.418,0],[0,0],[0,4.418],[0,0],[-4.418,0],[0,0],[0,-4.418]],"v":[[-4,-10],[4,-10],[12,-2],[12,2],[4,10],[-4,10],[-12,2],[-12,-2]],"c":true},"ix":2},"nm":"路径 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"合并路径 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.25,10.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":15,"op":25,"st":15,"ct":1,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"“图层 1”轮廓","sr":1,"ks":{"o":{"a":0,"k":90,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":5,"s":[-10]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":10,"s":[3]},{"t":15,"s":[0]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[36,41.281,0],"to":[0,0,0],"ti":[0,0,0]},{"t":15,"s":[36,41.281,0]}],"ix":2,"l":2},"a":{"a":0,"k":[12.25,13.717,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[210,210,100]},{"t":10,"s":[230,230,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0.667,0.385],[0,0],[0,-0.77],[0,0],[-0.667,0.385]],"o":[[0.667,-0.385],[0,0],[-0.667,-0.385],[0,0],[0,0.77],[0,0]],"v":[[4.5,0.866],[4.5,-0.866],[-1.5,-4.33],[-3,-3.464],[-3,3.464],[-1.5,4.33]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[-4.418,0],[0,0],[0,-4.418],[0,0],[4.418,0],[0,0],[0,4.418],[0,0]],"o":[[0,0],[4.418,0],[0,0],[0,4.418],[0,0],[-4.418,0],[0,0],[0,-4.418]],"v":[[-4,-10],[4,-10],[12,-2],[12,2],[4,10],[-4,10],[-12,2],[-12,-2]],"c":true},"ix":2},"nm":"路径 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"合并路径 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.25,10.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":15,"st":0,"ct":1,"bm":0}],"markers":[]}')},462609:function(e){e.exports=JSON.parse('{"v":"5.6.10","fr":60,"ip":0,"op":113,"w":99,"h":99,"nm":"分享Lottie2","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Union","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":16,"s":[-10]},{"i":{"x":[0.58],"y":[1]},"o":{"x":[0.42],"y":[0]},"t":24,"s":[5]},{"t":33,"s":[0]}],"ix":10},"p":{"a":0,"k":[49.201,75,0],"ix":2},"a":{"a":0,"k":[0,34.921,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.1,0.1,0.1],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[0.602,0.602,0]},"t":0,"s":[64,64,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[0,0,0]},"t":24,"s":[75,75,100]},{"i":{"x":[0.1,0.1,0.1],"y":[1,1,1]},"o":{"x":[0.34,0.34,0.34],"y":[0.602,0.602,0]},"t":62,"s":[75,75,100]},{"t":86,"s":[64,64,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0.009,6.839],[0,0],[0,0]],"v":[[13.512,0.347],[0.815,-11.797],[0.815,-4.954],[0.815,5.085],[0.815,11.565]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"rd","nm":"圆角 1","r":{"a":0,"k":4,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[4.027,-4.319],[-2.675,4.073]],"o":[[0,0],[0,0],[-4.027,4.319],[2.78,-4.233]],"v":[[0.815,4.762],[0.815,-4.93],[-9.245,-1.175],[-10.842,7.744]],"c":true},"ix":2},"nm":"路径 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"合并路径 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"Union","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-820,"op":163,"st":-820,"bm":0}],"markers":[]}')}}]);