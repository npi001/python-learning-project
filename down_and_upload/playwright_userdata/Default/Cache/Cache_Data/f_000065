"use strict";(self.webpackChunkdouyin_web=self.webpackChunkdouyin_web||[]).push([["6593"],{542011:function(e,l,o){o.d(l,{T:function(){return f}}),o(874386);var i=o(563097),t=o(88648),n=o(30468),a=o(926856),d=o(859231),r=o(734123),u=o.n(r),s=o(330746),c=o(345962),v=o(274927);let f=e=>{var l,o;let{setIsReusePlayer:r,roomData:f,abtestData:m,reuseId:h,isReusePlayer:p}=e,g=t.useRef(null),_=(0,t.useRef)(),{isFeedH265:w}=(0,v.Z)({abtestData:m,tab:"followLiveHeadPreCreated"}),[x,y]=t.useState(!1),I=(0,c.Bq)({room:f,abtestData:m,isFeedH265:w&&!x}),k=t.useCallback(()=>{w&&!x&&y(!0)},[w,x,y]),b=!(0,s.G6)()&&Object.values((null==f?void 0:null===(l=f.stream_url)||void 0===l?void 0:l.pull_datas)||{}).length>0,C=(null==f?void 0:null===(o=f.paid_live_data)||void 0===o?void 0:o.paid_type)===1,S=!x&&(null==f?void 0:f.redirectUrl)?null==f?void 0:f.redirectUrl:null==I?void 0:I.url,E=Number(null==f?void 0:f.live_room_mode)===d.ke.AUDIO;return C||b||!S||E?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)("div",{ref:g,style:{position:"absolute",width:0,height:0,pointerEvents:"none"},children:(0,i.jsx)(n.wn,{abTestData:m,reuseId:h,container:g,afterDomAppend:e=>{var l,o;let{isReuse:i}=e,t=null==_?void 0:null===(l=_.current)||void 0===l?void 0:l.getPlayer();i&&t&&(r(!0),null===(o=u().instManager)||void 0===o||o.setActive(null==t?void 0:t.playerId,!1),null==t||t.pause())},children:(0,i.jsx)(a.Nu,{isPause:!0,autoplay:!1,onLoadedData:()=>{var e,l;let o=null==_?void 0:null===(e=_.current)||void 0===e?void 0:e.getPlayer();o&&(r(!0),null===(l=u().instManager)||void 0===l||l.setActive(null==o?void 0:o.playerId,!1))},onError:k,onPlay:()=>{var e;let l=null==_?void 0:null===(e=_.current)||void 0===e?void 0:e.getPlayer();null==l||l.pause(),setTimeout(()=>{null==l||l.pause()},1e3)},ref:_,url:S,loadTimeout:6e3,volume:0,rotate:!0,children:(0,i.jsx)(i.Fragment,{})})})})}},462936:function(e,l,o){o.d(l,{e:function(){return M}}),o("675373"),o("874386");var i=o("563097"),t=o("88648"),n=o("713097"),a=o.n(n),d=o("338426"),r=o("747909"),u=o("597334"),s=o("242007"),c=o("234048"),v=o("256277"),f=o("330746"),m=o("637005"),h=o("14108"),p=o("176638"),g=o("577786"),_=o("782563"),w=o("32167"),x=o("289089"),y=o("140202"),I=o("69615"),k=o("403408"),b=JSON.parse('{"v":"5.7.1","fr":60,"ip":0,"op":11,"w":90,"h":90,"nm":"合成 2","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"形状图层 2","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0],"e":[100]},{"t":10}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 1","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"形状图层 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.412],"y":[1]},"o":{"x":[0],"y":[0]},"t":0,"s":[0],"e":[100]},{"t":10}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[45,45,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.392,0.392,0.839],"y":[1,1,1]},"o":{"x":[0,0,0.167],"y":[0,0,13.333]},"t":0,"s":[20,20,100],"e":[100,100,100]},{"t":10}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-19.882,0],[0,-19.882],[19.882,0],[0,19.882]],"o":[[19.882,0],[0,19.882],[-19.882,0],[0,-19.882]],"v":[[0,-36],[36,0],[0,36],[-36,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}'),C=o("504420"),S=o("99876"),E=o("847540"),N=o("516599"),j=o("614908"),A=o("871415"),T=o("254897");let L=(0,d.ZP)(()=>o.e("64829").then(o.bind(o,905247)),{ssr:!1}),R=(0,f.b_)();function M(e){var l,o,n,d,f,M,P;let{awemeInfo:V={},loginUserInfo:D,shortcut:z={},isShowKeyHotTip:B,ableMiniType:F=!1,followBtnMouseEnter:W,followBtnMouseLeave:U,isXgVideo:H,isFollowClickedRef:Z,actionFollow:G,actionUnFollow:O,showImBtn:K,player:q,isMobileOversea:Y,onCooperAitonClick:Q,loginPanelTarget:X,toast:J,abtestData:$,onFollowBtnClick:ee,isLogin:el}=e,eo=(0,t.useRef)(null),ei=(0,t.useRef)(!1),et=(0,t.useRef)(null),{isiPad:en,isMobile:ea}=(0,u.X)(),[ed,er]=(0,t.useState)(!1),[eu,es]=(0,t.useState)(!0),[ec,ev]=(0,t.useState)(!1),ef=null==$?void 0:$.reduceLottie,em=(0,t.useRef)(null),eh=(0,t.useRef)(null),{followStatus:ep}=(0,A.r)({selfUid:null==D?void 0:null===(l=D.info)||void 0===l?void 0:l.uid,actionUid:null==V?void 0:null===(o=V.authorInfo)||void 0===o?void 0:o.uid,defaultFollowerStatus:null==V?void 0:null===(n=V.authorInfo)||void 0===n?void 0:n.followerStatus,defaultFollowStatus:null==V?void 0:null===(d=V.authorInfo)||void 0===d?void 0:d.followStatus}),eg=()=>{var e,l,o,i;let t=null===(l=em.current)||void 0===l?void 0:null===(e=l.getLottieInstance)||void 0===e?void 0:e.call(l),n=null===(i=eh.current)||void 0===i?void 0:null===(o=i.getLottieInstance)||void 0===o?void 0:o.call(i),a=()=>{var e;null==t||null===(e=t.goToAndStop)||void 0===e||e.call(t,0),er(!1),es(!0)},d=()=>{var e;null==n||null===(e=n.goToAndStop)||void 0===e||e.call(n,0),er(!0),es(!1)},r=()=>{a(),ei.current=!1},u=()=>{d(),ei.current=!1};return{follow:()=>{a(),setTimeout(()=>{var e;null==t||null===(e=t.play)||void 0===e||e.call(t),R&&r()}),!K&&(ei.current=!0),Z.current=!1},unfollow:()=>{d(),setTimeout(()=>{var e;null==n||null===(e=n.play)||void 0===e||e.call(n),R&&u()}),!K&&(ei.current=!0),Z.current=!1},followEnd:r,unfollowEnd:u,setFollowStatus:d,setUnFollowStatus:a}};(0,t.useEffect)(()=>{var e,l,o;ei.current=!1,(null===(l=eo.current)||void 0===l?void 0:null===(e=l.authorInfo)||void 0===e?void 0:e.uid)!==(null==V?void 0:null===(o=V.authorInfo)||void 0===o?void 0:o.uid)?ep===c.$u.UnFollow?eg().setUnFollowStatus():eg().setFollowStatus():((0,g.F)(ep)?eg().follow():eg().unfollow(),ef&&ev(!0)),eo.current=V},[ep]);let e_=(0,t.useCallback)(async()=>{if(H){var e;m.emit(m.EVENT.videoPause,"FollowButton_onClick"),window.open((0,h.GN)(null==V?void 0:null===(e=V.authorInfo)||void 0===e?void 0:e.uid),(0,p.f)()?"_self":"_blank");return}if((0,v.gc)(V)){J?J("广告视频不支持此功能"):N.F.info("广告视频不支持此功能");return}if(Q)return;Z.current=!0;let l=(0,g.V)(ep);!ei.current&&(l?null==O||O({clickFrom:"hot_key",loginPanelTarget:X}):null==G||G({clickFrom:"hot_key",loginPanelTarget:X}),K&&(ei.current=!1),(0,s.VY)({info:{[x.BW.Follow]:!l},awemeId:null==V?void 0:V.awemeId,abData:0}))},[V,O,G,ep,H,Q,Z,K,X]);(0,t.useEffect)(()=>{if(q)return null==q||q.on("onFollow",e_),()=>{null==q||q.off("onFollow",e_)}},[q,e_]);let{inImmersive:ew}=(0,j.O)({player:q,isActive:!0});return(0,i.jsx)(r.Tooltip,{position:"left",style:ea||en||!B||ed||H||Y?{display:"none"}:{},className:C.default.tipStyle,content:(0,i.jsx)("div",{className:C.default.shortcutTip,children:(0,i.jsxs)(i.Fragment,{children:["关注",(null==z?void 0:null===(f=z.follow)||void 0===f?void 0:f.badgeText)&&(0,i.jsx)("span",{className:C.default.tipKey,children:z.follow.badgeText})]})}),getPopupContainer:()=>et.current||document.body,children:(0,i.jsx)("div",{ref:et,className:a()(C.default.followWrap,{[C.default.followWrapMobile]:(0,_.tq)()}),"data-e2e":"feed-follow-icon",children:(0,i.jsxs)("div",{onMouseEnter:e=>{!ed&&(null==W||W(e))},onMouseLeave:e=>{S.Z.sendLog("hover_follow_icon",{enter_from:(0,w.mo)()}),!ed&&(null==U||U(e))},onClick:e=>{var l,o,i,t;if(Y&&e.stopPropagation(),!el&&Y){(0,E.Z)({success:async()=>{window.location.reload()},enterMethod:"comment",next:`https://${null===(i=window)||void 0===i?void 0:null===(o=i.location)||void 0===o?void 0:o.host}`,headerText:"登录抖音"});return}if(null==q||q.emit("shortcutTopic"),(null==e?void 0:null===(l=e.target)||void 0===l?void 0:l.id)==="xgIcon")return;if(H){m.emit(m.EVENT.videoPause,"FollowButton_onClick"),window.open((0,h.GN)(null==V?void 0:null===(t=V.authorInfo)||void 0===t?void 0:t.uid),(0,p.f)()?"_self":"_blank");return}Z.current=!0,null==ee||ee();let n=(0,g.V)(ep);(!ei.current&&!ed||R)&&(n?null==O||O({clickFrom:void 0,loginPanelTarget:X}):null==G||G({clickFrom:void 0,loginPanelTarget:X}),(0,s.VY)({info:{[x.BW.Follow]:!n},awemeId:null==V?void 0:V.awemeId,abData:0}))},className:a()(C.default.followWrapBox),children:[H&&(0,i.jsx)(I.e,{awemeInfo:V,ableMiniType:F,followStatus:ep,logParams:{is_pure:ew?"1":"0"}}),!H&&!R&&(ec||!ef?(null==V?void 0:null===(M=V.authorInfo)||void 0===M?void 0:M.uid)!==(null==D?void 0:null===(P=D.info)||void 0===P?void 0:P.uid)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L,{hidden:ed,onComplete:()=>eg().unfollowEnd(),className:C.default.followIcon,data:k,ref:em,loop:!1,autoplay:!1,onInit:()=>{ef&&((0,g.F)(ep)?eg().follow():eg().unfollow())}}),(0,i.jsx)(L,{hidden:eu,onComplete:()=>eg().followEnd(),className:a()(C.default.followIcon,{[C.default.hideFollowedLottie]:Y&&ed}),data:b,ref:eh,loop:!1,autoplay:!1})]}):(0,i.jsx)(T.z,{svg:(0,i.jsx)(y.Z,{}),className:a()(C.default.followIcon,C.default.followIconLow,{[C.default.hidden]:(0,g.V)(ep)})})),!H&&R&&(0,i.jsx)(T.z,{svg:(0,i.jsx)(y.Z,{}),className:a()(C.default.followIcon,C.default.followIconLow,{[C.default.hidden]:(0,g.V)(ep)})})]})})})}},69615:function(e,l,o){o.d(l,{e:function(){return _}});var i=o(520739),t=o(563097),n=o(88648),a=o(713097),d=o.n(a),r=o(747909),u=o(637005),s=o(32167),c=o(367366),v=o(150566),f=o(14108),m=o(734017),h=o(504420),p=o(99876),g=o(906499);function _(e){var l;let{awemeInfo:o,ableMiniType:a,followStatus:_,logParams:w}=e,x=(0,n.useRef)(null);return(0,t.jsx)(r.Tooltip,{className:d()(h.default.xgTip,{[h.default.ableMiniType]:a}),position:"left",content:(0,t.jsx)(t.Fragment,{children:"前往西瓜视频关注该作者"}),getPopupContainer:()=>x.current||document.body,children:(0,t.jsx)("div",{ref:x,children:(0,t.jsx)(g.a,{id:"xgIcon",href:(0,f.GN)(null==o?void 0:null===(l=o.authorInfo)||void 0===l?void 0:l.uid),target:"_blank",rel:"noopener noreferrer",className:h.default.xgIcon,onClick:()=>{var e;u.emit(u.EVENT.videoPause,"XgIcon_onClick"),p.Z.sendLog("follow",(0,i._)({urlParamList:["previous_page"],author_id:null==o?void 0:null===(e=o.authorInfo)||void 0===e?void 0:e.uid,group_id:null==o?void 0:o.awemeId,enter_from:(0,s.mo)(),is_full_screen:(0,c.r)()?"1":"0",tab_name:(0,m.zD)()||(0,v.Rs)("tab_name")||"",aweme_type:null==o?void 0:o.awemeType,from_xigua:1,relation:String(_)},w))}})})})}},271979:function(e,l,o){o.d(l,{Z:function(){return M}});var i=o("520739"),t=o("878389");o("874386");var n=o("563097"),a=o("88648"),d=o("713097"),r=o.n(d),u=o("567754"),s=o("747909"),c=o("746864"),v=o("14108"),f=o("367366"),m=o("32167"),h=o("504420"),p=o("462936"),g=o("793586"),_=o("516599"),w=o("254897");function x(e){let{onAvatarClick:l,preventAvatarDefaultHandle:o,handleAvatarClick:i,player:t,toast:d}=e,u=(0,a.useCallback)(()=>{d?d("广告视频不支持此功能"):_.F.info("广告视频不支持此功能")},[]);return(0,a.useEffect)(()=>{if(t)return null==t||t.on("onFollow",u),()=>{null==t||t.off("onFollow",u)}},[t,u]),(0,n.jsx)("div",{className:r()(h.default.followWrap),children:(0,n.jsx)("div",{className:r()(h.default.followWrapBox),onClick:e=>{null==l||l(e,{clickMethod:"click_icon"}),o||null==i||i()},children:(0,n.jsx)(w.z,{className:h.default.followIcon,svg:(0,n.jsx)(g.Z,{style:{fontSize:"24px"}})})})})}var y=o("637005"),I=o("462899"),k=o("99876"),b=o("473677");function C(e){var l,o;let{isShowKeyHotTip:i,imBtnMouseEnter:t,imBtnMouseLeave:d,awemeInfo:u,player:c,loginUserInfo:v,abtestData:f}=e,m=a.useRef(null);return(0,n.jsx)(s.Tooltip,{position:"left",style:i?{}:{display:"none"},className:h.default.tipStyle,content:(0,n.jsx)("div",{className:h.default.shortcutTip,children:"私信"}),getPopupContainer:()=>m.current||document.body,children:(0,n.jsx)("div",{ref:m,className:r()(h.default.followWrap),children:(0,n.jsx)("div",{onMouseEnter:e=>{null==t||t(e),k.Z.sendLog("chatIconHover")},onMouseLeave:e=>null==d?void 0:d(e),onClick:()=>{var e,l;k.Z.sendLog("chatIconClick"),y.emit(y.EVENT.sendImUserMsg,{uid:null==u?void 0:null===(e=u.authorInfo)||void 0===e?void 0:e.uid,enterMethod:"friend_im_icon"}),null==c||null===(l=c.exitFullscreen)||void 0===l||l.call(c),y.emit(y.EVENT.pageFullScreen,{fullScreen:!1,playerId:null==c?void 0:c.playerId})},className:r()(h.default.followWrapBox),children:(null==u?void 0:null===(l=u.authorInfo)||void 0===l?void 0:l.uid)!==(null==v?void 0:null===(o=v.info)||void 0===o?void 0:o.uid)&&(0,n.jsx)(b.Z,{className:r()(h.default.followIcon,h.default.imIcon),src:I.Z,width:20,height:20,viewBox:"0 0 20 20"})})})})}var S=o("256277"),E=o("79307"),N=o("782442"),j=o("801849"),A=o("176638"),T=o("631493"),L=o("906499"),R=o("474162");function M(e){var l,o,d;let{player:g,awemeInfo:w={},customHrefParams:I={},shortcut:b={},onAvatarClick:M=null,preventAvatarDefaultHandle:P=!0,ableMiniType:V=!1,showFollowBtn:D=!0,showImBtn:z=!1,showAdBtn:B=!1,onCooperAitonClick:F,loginUserInfo:W,isShowKeyHotTip:U,isFollowClickedRef:H,loginPanelTarget:Z,actionFollow:G,actionUnFollow:O,followBtnMouseEnter:K,followBtnMouseLeave:q,imBtnMouseEnter:Y,imBtnMouseLeave:Q,isMobileOversea:X,className:J,avatarClassName:$,toast:ee,abtestData:el,onFollowBtnClick:eo,onAvatarRef:ei,avatarType:et="extraSmall",isLogin:en}=e,[ea,ed]=(0,a.useState)(!1),er=(0,a.useCallback)(()=>{var e;return null==g?void 0:null===(e=g.pause)||void 0===e?void 0:e.call(g)},[g]),eu=(0,a.useRef)(null),es=(0,a.useRef)(null),ec=(0,a.useMemo)(()=>{var e,l;return(null==w?void 0:w.awemeType)===c.e.XgVideo?(0,v.GN)(null==w?void 0:null===(e=w.authorInfo)||void 0===e?void 0:e.uid):(0,v.HC)(null==w?void 0:null===(l=w.authorInfo)||void 0===l?void 0:l.secUid,(0,u.stringify)((0,i._)({is_full_screen:(0,f.r)()?"1":"0",enter_method:"video_title",from_gid:w.groupId,vid:null==w?void 0:w.awemeId},I)))},[w,I]),ev=(0,a.useMemo)(()=>(0,n.jsx)("div",{className:h.default.shortcutTip,children:"前往西瓜视频访问作者主页"}),[]),ef=null==w?void 0:null===(l=w.authorInfo)||void 0===l?void 0:l.avatarUri,em=(null==w?void 0:w.awemeType)===c.e.XgVideo;!function(e){let{awemeInfo:l,onAvatarClick:o,preventAvatarDefaultHandle:i,onCooperAitonClick:t,handleAvatarClick:n,userHref:d,player:r,toast:u,abtestData:s}=e,c=(0,a.useCallback)(e=>{var a;let{isInModal:c}=null!==(a=N.Le.getConfig(N.gI.IsInModalVideo))&&void 0!==a?a:{};if((0,S.Jt)(l)&&(0,S.Gu)(l)){u?u("广告视频暂不支持此快捷方式"):_.F.info("广告视频暂不支持此快捷方式");return}if((c||T.s.getPlayerScene(null==r?void 0:r.playerId)===E.lT.Detail)&&(0,S.gc)(l)){u?u("广告视频暂不支持此快捷方式"):_.F.info("广告视频暂不支持此快捷方式");return}if(t)return;let v=null==o?void 0:o(e,{clickMethod:"hot_key"});if(!(0,S.Jt)(l)||!!(0,S.Gu)(l))i||n(),!v&&((0,j.$)(s,l)?y.emit(y.EVENT.changeRoute,{to:d}):window.open(d,(0,A.f)()?"_self":"_blank"))},[l,o,n,i,d,t,r,s,u]),v=(0,a.useCallback)(()=>{var e;let{isInModal:o}=null!==(e=N.Le.getConfig(N.gI.IsInModalVideo))&&void 0!==e?e:{};if((o||T.s.getPlayerScene(null==r?void 0:r.playerId)===E.lT.Detail)&&(0,S.gc)(l)){u?u("广告视频不支持此功能"):_.F.info("广告视频不支持此功能");return}},[l]);(0,a.useEffect)(()=>{if(r)return null==r||r.on("onAvatar",c),null==r||r.on("onFollow",v),()=>{null==r||r.off("onAvatar",c),null==r||r.off("onFollow",v)}},[r,c,v])}({awemeInfo:w,onAvatarClick:M,preventAvatarDefaultHandle:P,onCooperAitonClick:F,handleAvatarClick:er,userHref:ec,player:g,toast:ee,abtestData:el});let eh=(0,a.useCallback)(()=>{k.Z.sendLog("hover_author_head",{enter_from:(0,m.mo)(),click_from:"click_icon"})},[]);return(0,n.jsxs)("div",{className:r()(h.default.avatarWrap,h.default.animation,{[h.default.ableMiniType]:V,[h.default.cooperAvatar]:F},J),ref:eu,children:[(0,n.jsx)(L.a,{className:h.default.avatar,"data-e2e":"video-avatar",onMouseEnter:eh,onClick:e=>{if(!X){if(F){e.preventDefault(),null==F||F();return}null==g||g.emit("shortcutTopic"),null==M||M(e,{clickMethod:"click_icon"}),P||er()}},href:ec,target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(s.Tooltip,{position:"left",className:h.default.shortcutTipWrap,style:em?{}:{display:"none"},content:ev,getPopupContainer:()=>(null==es?void 0:es.current)||document.body,children:(0,n.jsx)("div",{ref:e=>{es.current=e,null==ei||ei(e)},children:(0,n.jsx)(R.q,{src:ef,type:"extraSmall",className:r()(h.default.horizontalAvatar,h.default.avatarImageWrap,$)})})})}),D&&(null==w?void 0:null===(o=w.authorInfo)||void 0===o?void 0:o.uid)!==(null==W?void 0:null===(d=W.info)||void 0===d?void 0:d.uid)&&(0,n.jsx)(p.e,{isLogin:en,awemeInfo:w,loginUserInfo:W,shortcut:b,isMobileOversea:X,isShowKeyHotTip:U,ableMiniType:V,followBtnMouseEnter:K,followBtnMouseLeave:q,setShowAvatarTip:ed,showAvatarTip:ea,isXgVideo:em,isFollowClickedRef:H,actionFollow:G,actionUnFollow:O,showImBtn:z,player:g,onCooperAitonClick:F,loginPanelTarget:Z,abtestData:el,onFollowBtnClick:eo}),z&&(0,n.jsx)(C,{isShowKeyHotTip:U,showAvatarTip:ea,setShowAvatarTip:ed,imBtnMouseEnter:Y,imBtnMouseLeave:Q,awemeInfo:w,player:g,loginUserInfo:W,abtestData:el}),B&&(0,n.jsx)(x,(0,t._)((0,i._)({},e),{player:g}))]})}},99876:function(e,l,o){var i=o(544933);l.Z=new i.h({hover_author_head:{eventName:"hover_author_head",params:{enter_from:"",click_from:""}},hover_follow_icon:{eventName:"hover_follow_icon",params:{enter_from:""}},livesdkLiveShow:{eventName:"livesdk_live_show",params:{enter_from_merge:"",enter_method:"web_video_head",action_type:"",request_id:"",is_vs:0,vs_episode_id:"",vs_ep_group_id:"",vs_season_id:"",vs_episode_stage:"",anchor_id:"",room_id:"",is_paidlive:"",watch_paidlive_status:""}},livesdkRecLivePlay:{eventName:"livesdk_rec_live_play",params:{anchor_id:"",room_id:"",enter_from_merge:"web_others_homepage",enter_method:"web_video_head",game_name:"",live_type:"",is_aweme_tied:0,game_live_source:"",url:"",url_path:"",action_type:"click",request_id:"",stream_type:"",is_vs:0,vs_episode_id:"",vs_ep_group_id:"",vs_season_id:"",vs_episode_stage:"",is_paidlive:0,watch_paidlive_status:""}},livesdkMiniWindowPlay:{eventName:"livesdk_mini_window_preview_play",params:{anchor_id:"",room_id:"",enter_from_merge:"web_others_homepage",enter_method:"web_video_head",game_name:"",live_type:"",is_aweme_tied:0,game_live_source:"",url:"",url_path:"",action_type:"click",request_id:"",is_click_mini_window:"0"}},follow:{eventName:"follow",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:"",click_method:"",aweme_type:"",from_xigua:0,relation:""}},followCancel:{eventName:"follow_cancel",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:""}},topknotLoginShow:{eventName:"topknot_login_show",params:{group_id:"",relation:0}},chatIconHover:{eventName:"chat_icon_hover",params:{}},chatIconClick:{eventName:"chat_icon_click",params:{}}})},940826:function(e,l,o){o.r(l),o.d(l,{InteractionInner:function(){return o$},InteractionNew:function(){return o2},Interaction:function(){return o1}});var i=o("520739"),t=o("878389");o("874386");var n=o("563097"),a=o("88648"),d=o("713097"),r=o.n(d),u=o("747909"),s=o("597334"),c=o("17750"),v=o("637005"),f=o("161045"),m=o("782563"),h=o("330746"),p=o("433188"),g=o("900674"),_=o("903868"),w=o("42589"),x=o("768114"),y=o("35730"),I=o("555106");o("284961"),o("826893");var k=o("128231"),b=o.n(k),C=o("746864"),S=o("327274"),E=o("367366"),N=o("32167"),j=o("150566"),A=o("782442"),T=o("94126"),L=o("734017"),R=o("377027"),M=o("516599"),P=o("544933"),V=new P.h({clickCommentButton:{eventName:"click_comment_button",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:"",click_method:"",from_follow_list:"0",trending_topic:"",first_tag_name:"",top:0,aweme_type:-1,item_duration_ms:0}},follow:{eventName:"follow",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:"",click_method:"",relation:"",trending_topic:"",first_tag_name:"",top:0,aweme_type:-1,is_pure:""}},followCancel:{eventName:"follow_cancel",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:"",trending_topic:"",first_tag_name:"",top:0}},shareVideo:{eventName:"share_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",type:"",is_full_screen:"0",from_follow_list:"0",aweme_type:"",pic_cnt:0,tab_name:"",is_pure:"",click_method:"",is_from_aweme_search_engine:0}}});let D=e=>{var l,o,i,t,n,a,d,r,u,s,c,v,f,m,h,p,g,_,w;return{author_id:null==e?void 0:null===(l=e.authorInfo)||void 0===l?void 0:l.uid,group_id:null==e?void 0:e.awemeId,log_pb:null==e?void 0:e.logPb,compilation_id:null==e?void 0:null===(o=e.mixInfo)||void 0===o?void 0:o.mixId,impressionData:null==e?void 0:e.impressionData,awemeId:null==e?void 0:e.awemeId,vduration:null==e?void 0:null===(i=e.video)||void 0===i?void 0:i.duration,isH265:(null==e?void 0:null===(a=e.video)||void 0===a?void 0:null===(n=a.bitRateList)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.isH265)||(null==e?void 0:null===(d=e.video)||void 0===d?void 0:d.isH265),qualityType:(null==e?void 0:null===(s=e.video)||void 0===s?void 0:null===(u=s.bitRateList)||void 0===u?void 0:null===(r=u[0])||void 0===r?void 0:r.qualityType)||(null==e?void 0:null===(c=e.video)||void 0===c?void 0:c.qualityType),bitRate:(null==e?void 0:null===(m=e.video)||void 0===m?void 0:null===(f=m.bitRateList)||void 0===f?void 0:null===(v=f[0])||void 0===v?void 0:v.bitRate)||(null==e?void 0:null===(h=e.video)||void 0===h?void 0:h.bitRate),videoFormat:null==e?void 0:null===(p=e.video)||void 0===p?void 0:p.videoFormat,gearName:(null==e?void 0:null===(w=e.video)||void 0===w?void 0:null===(_=w.bitRateList)||void 0===_?void 0:null===(g=_[0])||void 0===g?void 0:g.gearName)||""}};var z=o("734123"),B=o.n(z),F=o("78039"),W=o("915800"),U=o("441978"),H=o("260693");let Z=(0,a.memo)(e=>{var l,o;let{awemeInfo:t,abtestData:d,shortcut:u,disableClick:s,onRelatedClick:c,loginUserInfo:v,fullScreenTarget:f,loginDispatch:m,reportExtraParams:h,isSearchPlayer:p,onShareToFriend:g,player:_,inImmersive:w,hasDouPlusEntrance:y,onDouPlusClick:I,singleBox:k,setSingleBox:b,renderCallback:C}=e,{type:S,changeType:E}=(0,H.P)({delayDisappear:50,delayShow:null!==(o=null==d?void 0:d.interactionDelay)&&void 0!==o?o:F.o}),[N,j]=(0,a.useState)("icon"),[A,T]=(0,a.useState)(0),L=(0,a.useRef)(!1),R=(0,a.useRef)(null),M=(0,a.useCallback)(()=>{var e,l,o,i,n;if((null==t?void 0:null===(e=t.awemeControl)||void 0===e?void 0:e.canShare)!==!1){j("icon"),null==b||b("share_btn");T((null!==(n=null==_?void 0:null===(i=_.root)||void 0===i?void 0:null===(o=i.getBoundingClientRect)||void 0===o?void 0:null===(l=o.call(i))||void 0===l?void 0:l.height)&&void 0!==n?n:180)-180),E("share_btn"),!(null==d?void 0:d.enableZustand)&&(null==C||C())}},[t,_,E,b,null==d?void 0:d.enableZustand,C]),P=(0,a.useCallback)(e=>{var l;if(null===(l=R.current)||void 0===l?!void 0:!l.contains(e.target))!(null==L?void 0:L.current)&&E("")},[E]),V=(0,a.useCallback)(e=>{var l;if(null===(l=R.current)||void 0===l?!void 0:!l.contains(e.target))M()},[M]),D=(0,a.useCallback)(e=>{var l;if(null===(l=R.current)||void 0===l?!void 0:!l.contains(e.target))M()},[M]);return(0,a.useEffect)(()=>{"share_btn"!==k&&E("",!0)},[k,E]),(0,n.jsxs)("div",{className:x.default.shareWrap,onMouseLeave:P,onMouseEnter:V,onClick:D,children:[(0,n.jsx)(U.Z,{shortcut:u,scene:"video",ableMiniType:!0,canAnimation:!1,disableShare:(null==t?void 0:null===(l=t.awemeControl)||void 0===l?void 0:l.canShare)===!1,abtestData:d,awemeInfo:t}),((null==d?void 0:d.useCache)!==1||"share_btn"===S)&&(0,n.jsx)(W.Z,{onDouPlusClick:y?I:void 0,toast:e.videoToast,shareShowMethod:N,awemelogPb:null==t?void 0:t.logPb,awemeInfo:t,className:r()(x.default.shareBox,x.default.shareCode,{[x.default.relate]:c},"recommend-login-panel"),loginUserInfo:v,fullScreenTarget:f,loginDispatch:m,hidden:s||"share_btn"!==S,abtestData:d,handleClose:()=>E(""),shortcutObj:u,onMouseEnter:()=>void 0,onMouseLeave:()=>void 0,reportExtraParams:(0,i._)({is_pure:w?"1":"0"},h),shareeListHeight:A,onFriendSearching:e=>{L.current=e},isSearchPlayer:p,handleShareToFriend:g,handleShareSuccess:()=>null==_?void 0:_.emit(z.Events.USER_ACTION,{action:"share"})})]})});var G=o("256277"),O=o("993287"),K=o("79307"),q=o("271979");o("250440"),o("413806"),o("882732"),o("544943");var Y=o("31940"),Q=o("542011"),X=o("128505"),J=o("635937"),$=o("325982"),ee=o("649994"),el=o("14108"),eo=o("945977"),ei=o("153606"),et=o("507217"),en=o("99876"),ea=o("504420"),ed=o("545546"),er=o("462936"),eu=o("909543");let es=e=>{var l,o,i,t,n,a,d,r;let{uid:u,roomId:s,logId:c,episodeExtra:v,streamType:f,paidLiveData:m}=e;en.Z.sendLog("livesdkRecLivePlay",{enter_from_merge:(null===(o=location.href)||void 0===o?void 0:null===(l=o.includes)||void 0===l?void 0:l.call(o,"/jingxuan"))?"web_homepage_discover":(0,ee.r)()||"web_video_detail",enter_method:"web_video_head",anchor_id:u,room_id:s,game_name:"",live_type:"game",game_live_source:"game_web",url:location.href,url_path:location.pathname,is_paidlive:Number(null==m?void 0:m.paid_type),watch_paidlive_status:(null==m?void 0:m.view_right)?"regular":(null==m?void 0:m.duration)>=180?"try_end":"try",request_id:c,stream_type:null!==(r=et.LIVE_STREAM_TYPE[f])&&void 0!==r?r:"other",is_vs:v?1:0,vs_episode_id:v?null===(i=v.episode_extra)||void 0===i?void 0:i.episode_id_str:"",vs_ep_group_id:v?null===(t=v.episode_extra)||void 0===t?void 0:t.item_id:"",vs_season_id:v?null===(n=v.episode_extra)||void 0===n?void 0:n.season_id_str:"",vs_episode_stage:v?(null===(d=v.episode_extra)||void 0===d?void 0:null===(a=d.mod)||void 0===a?void 0:a.episode_stage)===J.W.FirstLive?"premiere":"live":""})};function ec(e){var l,o,t,d,u,s,c;let[v,f]=(0,a.useState)(!1),{awemeInfo:p={},logId:g,className:_,ableMiniType:w,isEcomLive:x=!1,isActive:y,useAuto:I,from:k,showFollowBtn:b,isLogin:C,loginUserInfo:S,shortcut:E={},isMobileOversea:N,isShowKeyHotTip:j,followBtnMouseEnter:A,followBtnMouseLeave:T,setShowAvatarTip:L,showAvatarTip:R,isXgVideo:M,isFollowClickedRef:P,actionFollow:V,actionUnFollow:D,showImBtn:z,player:B,onCooperAitonClick:F,loginPanelTarget:W,onFollowBtnClick:U}=e,H=(0,a.useMemo)(()=>{var e,l;return null==p?void 0:null===(l=p.authorInfo)||void 0===l?void 0:null===(e=l.roomData)||void 0===e?void 0:e.paid_live_data},[null==p?void 0:null===(l=p.authorInfo)||void 0===l?void 0:l.roomData]),Z=(0,eu.a)(),{avatarUri:q,roomData:J,roomId:et,uid:en}=null==p?void 0:p.authorInfo,{awemeId:ec}=p,[ev,ef]=(0,a.useState)({show:!1,hover:!1}),em=(0,a.useMemo)(()=>{var e,l;return{enter_from_merge:(null===(l=Z.href)||void 0===l?void 0:null===(e=l.includes)||void 0===e?void 0:e.call(l,"/jingxuan"))?"web_homepage_discover":(0,ee.r)(),enter_method_temai:"web_video_head",enter_method:"web_video_head",action_type:"click",room_id:et,group_id:ec,request_id:g,is_livehead_preview_mini_window_show:"0",__is_replaced_live__:(null==p?void 0:p.__is_replaced_live__)||"0",mini_window_show_type:ev.show?ev.hover?"mouse_hover":"automatic":""}},[ev,ec,et,g,p,Z]),eh=p.rawAdData&&(0,O.hj)(p)?(0,G.Rx)(p):null,ep=(0,G.nT)(p),eg=null==J?void 0:null===(o=J.owner)||void 0===o?void 0:o.web_rid,e_=`f_lh_${eg}`,ew=(0,Y.j)(),ex=(0,a.useMemo)(()=>eh?(0,O.at)({rawAdData:eh,extraParams:em}):(0,el.cc)((0,i._)({web_rid:eg},em)),[eh,eg,em]),ey=a.useMemo(()=>({is_paidlive:Number(null==H?void 0:H.paid_type),watch_paidlive_status:(null==H?void 0:H.view_right)?"regular":(null==H?void 0:H.duration)>=180?"try_end":"try"}),[H]),eI=()=>{var e;return(null===(e=Z.pathname)||void 0===e?!!void 0:!!e.includes("/jingxuan"))||k===K.lT.Recommend||k===K.lT.Follow};return(0,n.jsxs)("div",{className:r()(ea.default.avatarWrap,_,{[ea.default.ableMiniType]:w}),children:[y?(0,n.jsx)(Q.T,{roomData:J,setIsReusePlayer:f,abtestData:ew,reuseId:e_,isReusePlayer:v}):(0,n.jsx)(n.Fragment,{}),(0,n.jsx)(ed.nh,{openMultiTaskWindowInWindow:(0,m.DT)(),isShow:y,adType:ep,type:"default",src:q,uid:en,cid:null==eh?void 0:eh.creative_id,isEcomLive:x,paidLiveParams:ey,onClick:l=>{var o,i,t,n,a,d,r;if(es({uid:en,roomId:et,logId:g,location:Z,episodeExtra:null==J?void 0:J.episode_extra,streamType:null==J?void 0:null===(o=J.stream_url)||void 0===o?void 0:o.stream_orientation,paidLiveData:H}),null==e||null===(t=e.player)||void 0===t||null===(i=t.pause)||void 0===i||i.call(t),eh&&(0,$.E)("realtime_click",{tag:(0,eo.f)(),value:null==eh?void 0:eh.creative_id,log_extra:null==eh?void 0:eh.log_extra,refer:"profile"}),eI()){let[o,i]=ex.split("?"),t="";try{t=new URL(o).pathname.slice(1)}catch(e){}if(t){null==l||null===(n=l.preventDefault)||void 0===n||n.call(l),null==e||null===(d=e.player)||void 0===d||null===(a=d.exitFullscreen)||void 0===a||a.call(d);let o="";k===K.lT.Recommend&&(o=`/root/live/${t}`),k===K.lT.Follow&&(o=`/follow/live/${t}`),(null===(r=Z.pathname)||void 0===r?void 0:r.includes("/jingxuan"))&&(o=`/root/live/${t}`);let u=`${o}?${i}`;(0,X.X)({href:u,reusePlayer:v?1:0,webRid:t,abtestData:ew,reuseId:e_,roomId:et,from:k,usePreCreate:!0,roomData:J,_reusePlayer:0})}}},liveRoomUrl:ex,liveRoomParam:{logId:g,episodeExtra:null==J?void 0:J.episode_extra,streamType:null==J?void 0:null===(t=J.stream_url)||void 0===t?void 0:t.stream_orientation},isFirstLive:(null==J?void 0:null===(u=J.episode_extra)||void 0===u?void 0:null===(d=u.mod)||void 0===d?void 0:d.episode_stage)===2,groupId:ec,disableBorderAnim:(0,h.b_)()||(0,h.Sb)(),disableAllAnim:!!ei.f.isInactiveAnimation(ew)&&!y,awemeInfo:e.awemeInfo,isLogin:e.isLogin,from:e.from,forceSmall:!0,onShowChange:ef,logParams:em,showWindow:e.showWindow,player:e.player,useAuto:I,fixed:e.fixed}),b&&(null==p?void 0:null===(s=p.authorInfo)||void 0===s?void 0:s.uid)!==(null==S?void 0:null===(c=S.info)||void 0===c?void 0:c.uid)&&(0,n.jsx)(er.e,{isLogin:C,awemeInfo:p,loginUserInfo:S,shortcut:E,isMobileOversea:N,isShowKeyHotTip:j,ableMiniType:w,followBtnMouseEnter:A,followBtnMouseLeave:T,setShowAvatarTip:L,showAvatarTip:R,isXgVideo:M,isFollowClickedRef:P,actionFollow:V,actionUnFollow:D,showImBtn:z,player:B,onCooperAitonClick:F,loginPanelTarget:W,abtestData:ew,onFollowBtnClick:U})]})}function ev(e){let{logInfo:l,player:o,onAvatarClick:d,isOpenKeyHotEvent:r}=e,u=(0,a.useRef)("");try{var s;u.current=null===(s=JSON.parse(null==l?void 0:l.log_pb))||void 0===s?void 0:s.impr_id}catch(e){u.current=""}return(0,a.useEffect)(()=>{if(o){let e=e=>{r&&(null==d||d(e,{clickMethod:"hot_key"}))};return null==o||o.on("onAvatar",e),()=>{null==o||o.off("onAvatar",e)}}},[o,d]),(0,n.jsx)(ec,(0,t._)((0,i._)({},e),{logId:u.current}))}let ef=(0,a.memo)(e=>{var l,o,i,t,d,r,c,f,h,p,g,_,w,y,I,k;let{disableHoverShow:b,isHoverShow:S,canShowAvatarTip:E,canShowAvatarImBtn:j,canShowAvatarFollowBtn:T,canShowAvatarAdBtn:L,canShowAvatar:R,awemeInfo:M,logInfo:P,loginUserInfo:V,isLogin:D,loginDispatch:z,followStatus:B,player:F,fullScreenTarget:W,isFollowClickedRef:U,onAvatarClick:H,shortcut:Z,reportExtraParams:Y,actionFollow:Q,actionUnFollow:X,onFollowBtnClick:J,loginPanelTarget:$,toast:ee,abtestData:el,avatarTipText:eo,from:ei,scene:et,isActive:en,onAvatarRef:ea,text:ed,renderCallback:er}=e,{isiPad:eu,isMobile:es}=(0,s.X)(),ec=(0,a.useMemo)(()=>(null==M?void 0:M.awemeType)===C.e.XgVideo,[M]),[ef,em]=(0,a.useState)(!1),[eh,ep]=(0,a.useState)(!1),[eg,e_]=(0,a.useState)(!1),ew=(0,a.useRef)(null);(0,a.useEffect)(()=>v.listen(v.EVENT.LiveHeadLiveEnd,e=>{var l;let{anchorId:o}=e;o===(null==M?void 0:null===(l=M.authorInfo)||void 0===l?void 0:l.uid)&&e_(!0)}),[M]);let ex=!es&&!eu&&!ec&&!ef&&!eh&&E&&!(0,G.Jt)(M),ey=(0,G.BD)(M),eI=(0,O.hj)(M)&&(null==M?void 0:null===(l=M.authorInfo)||void 0===l?void 0:l.roomId)&&((null==ey?void 0:null===(o=ey.lynx_raw_data)||void 0===o?void 0:o.open_url)||(null==ey?void 0:ey.open_url)),ek=(0,G.Kf)(M);if(!R)return null;let eb=((null==M?void 0:null===(d=M.authorInfo)||void 0===d?void 0:null===(t=d.roomData)||void 0===t?void 0:null===(i=t.owner)||void 0===i?void 0:i.web_rid)||eI)&&!eg&&"creator_center"!==(0,N.vM)();return(0,n.jsx)(n.Fragment,{children:eb?(0,n.jsx)("div",{className:x.default.avatarBox,children:(0,n.jsx)(ev,{openMultiTaskWindowInWindow:(0,m.DT)(),isActive:en,player:F,statusText:ed,loginUserInfo:V,awemeInfo:M,logInfo:P,isLogin:D,loginDispatch:z,fullScreenTarget:W,isFollowClickedRef:U,onAvatarClick:H,shortcut:Z,reportExtraParams:Y,ableMiniType:!0,isOpenKeyHotEvent:!0,isFirstLive:(null==M?void 0:null===(h=M.authorInfo)||void 0===h?void 0:null===(f=h.roomData)||void 0===f?void 0:null===(c=f.episode_extra)||void 0===c?void 0:null===(r=c.mod)||void 0===r?void 0:r.episode_stage)===2,abtestData:el,liveModalType:ei===K.lT.Recommend?"recommend":"follow",isEcomLive:(null==M?void 0:null===(w=M.authorInfo)||void 0===w?void 0:null===(_=w.roomData)||void 0===_?void 0:null===(g=_.ecom_data)||void 0===g?void 0:null===(p=g.room_cart_v2)||void 0===p?void 0:p.show_cart)===1||eI,from:ei,showWindow:!ek&&en,useAuto:!(null===(y=A.Le.getConfig(A.gI.IsInLookMiniModal))||void 0===y?void 0:y.isInMiniModal),scene:et,fixed:!1,actionFollow:Q,actionUnFollow:X,showImBtn:j,showFollowBtn:T,onFollowBtnClick:J,followStatus:B,loginPanelTarget:$,followBtnMouseEnter:()=>em(!0),followBtnMouseLeave:()=>em(!1)})}):(0,n.jsx)(u.Tooltip,{position:"left",style:ex&&S&&!b?{}:{display:"none"},content:(0,n.jsx)("div",{className:x.default.shortcutTip,children:(0,n.jsxs)(n.Fragment,{children:[null!=eo?eo:"进入作者主页",(null==Z?void 0:null===(I=Z.avatar)||void 0===I?void 0:I.badgeText)&&(0,n.jsx)("span",{className:x.default.tipKey,children:null==Z?void 0:null===(k=Z.avatar)||void 0===k?void 0:k.badgeText})]})}),getPopupContainer:()=>ew.current||document.body,children:(0,n.jsx)("div",{ref:ew,"data-click-from":"click_icon",style:{position:"relative"},children:(0,n.jsx)(q.Z,{player:F,loginUserInfo:V,actionFollow:Q,actionUnFollow:X,awemeInfo:M,isLogin:D,loginDispatch:z,fullScreenTarget:W,isFollowClickedRef:U,onAvatarClick:H,shortcut:Z,reportExtraParams:Y,ableMiniType:!0,isShowTip:!0,isShowKeyHotTip:!b,followStatus:B,followBtnMouseEnter:()=>{em(!0),!(null==el?void 0:el.enableZustand)&&(null==er||er())},followBtnMouseLeave:()=>{em(!1),!(null==el?void 0:el.enableZustand)&&(null==er||er())},imBtnMouseEnter:()=>ep(!0),imBtnMouseLeave:()=>ep(!1),showImBtn:j,showFollowBtn:T,showAdBtn:L,loginPanelTarget:$,toast:ee,abtestData:el,onFollowBtnClick:J,onAvatarRef:ea})})})})});o("209955");var em=o("337499"),eh=o("410665"),ep=o("669201"),eg=o("497730"),e_=o("432218"),ew=o("515264"),ex=o("658065"),ey=o("696332"),eI=o("340290"),ek=o("137425"),eb=o("535112");o("675373"),o("602157");var eC=o("733306"),eS=o("702726"),eE=o("602394"),eN=o("670400"),ej=o("456128");let eA=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=(0,a.useRef)(),[i,t]=(0,a.useState)(""),[n,d]=(0,a.useState)(),r=(0,a.useRef)(e);return r.current=e,(0,a.useEffect)(()=>{o.current=void 0,d(void 0),t("")},l),{data:n,status:i,getData:()=>(!o.current&&(o.current=r.current().then(e=>(t(l=>l?l:(d(e),"success")),e)).catch(e=>{throw t(e=>e||"error"),e})),o.current),setData(e){o.current=Promise.resolve(e),t("success"),d(e)}}},eT=e=>{let{awemeId:l,description:o,getAwemeInfo:i,handleClick:t}=e,d=(0,a.useRef)(!1),u=async()=>{try{if(d.current)return;let e=o.awemeInfo||await i();t({clickMethod:"related_video_icon",awemeInfo:e}),eS.logInstance.sendLog("relatedVideoCardClick",{enter_from:(0,ex.yW)(),group_id:o.awemeId,from_group_id:l})}catch(e){eE.F.info("暂无相关推荐")}finally{d.current=!1}},s=(0,eh.Y)(()=>{eS.logInstance.sendLog("relatedVideoCardShow",{enter_from:(0,ex.yW)(),group_id:o.awemeId,title_content:o.title,duration:o.duration})});return(0,a.useEffect)(()=>{!o.awemeInfo&&i()},[!o.awemeInfo]),(0,n.jsx)("div",{ref:s,className:r()(eN.default.outerContainer,eN.default.noMarginBottom,"isDark","dark"),onMouseEnter:()=>{eS.logInstance.sendLog("relatedVideoCardHover",{enter_from:(0,ex.yW)(),group_id:o.awemeId,title_content:o.title,duration:o.duration})},onClick:u,children:(0,n.jsxs)("div",{className:r()(eN.default.mixContainer,eN.default.noMarginBottom),children:[(0,n.jsxs)("div",{className:eN.default.coverContainer,children:[(0,n.jsx)(ej.Q,{src:o.cover,skeletonClass:eN.default.defaultImg,className:r()(eN.default.cover,eN.default.relatedCover),iconHeight:80,width:80,iconWidth:60,height:60}),(0,n.jsx)("div",{className:eN.default.duration,children:B().Util.format(o.duration/1e3)})]}),(0,n.jsx)("div",{className:r()(eN.default.textContainer),style:{maxWidth:164},children:(0,n.jsxs)("p",{className:r()(eN.default.relatedTitle,eN.default.noMarginBottom),children:[(0,n.jsx)("strong",{children:"相关推荐："}),((e,l)=>{let o=(null==e?void 0:e.length)>l?`${null==e?void 0:e.slice(0,l)}...`:e;return(0,n.jsx)(eC.default,{noWrapper:!0,options:{className:eN.default.twemojiText,base:"//p-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/twemoji/"},children:(0,n.jsx)("span",{children:o})})})(o.title,20)]})})]})})};var eL=o("620117"),eR=o("473677"),eM=o("344949");let eP=function(e,l){var o,t,n,a,d,r,u,s,c,v,f;let m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return{};let h=0;return h=(null===(o=e.seriesInfo)||void 0===o?void 0:o.seriesId)?(null===(s=e.seriesInfo)||void 0===s?void 0:s.totalEpisode)===(null===(c=e.seriesInfo)||void 0===c?void 0:c.currentEpisode)?0:1:(null===(v=e.mixInfo)||void 0===v?void 0:v.totalEpisode)===(null===(f=e.mixInfo)||void 0===f?void 0:f.currentEpisode)?0:1,(0,i._)({playlet_id:null===(t=e.seriesInfo)||void 0===t?void 0:t.seriesId,compilation_id:null===(n=e.mixInfo)||void 0===n?void 0:n.mixId,group_id:e.awemeId,enter_from:(0,ex.yW)(),enter_from_merge:(0,N.vM)(),bar_type:"related_video",entrance_cnt:m.length,is_update:h,item_duration_ms:(null==e?void 0:null===(a=e.video)||void 0===a?void 0:a.duration)||0,bar_tag_name:null==e?void 0:null===(u=e.webRawData)||void 0===u?void 0:null===(r=u.CTR)||void 0===r?void 0:null===(d=r.recommendScore)||void 0===d?void 0:d.relateAiTag,player_display_mode:(0,N.Ok)()},l||{})},eV=()=>{let e=A.Le.getConfig(A.gI.PlayerCardInfo);return(null==e?void 0:e.isActive)&&e.expandCardType===em.L.Related},eD=e=>{let{onRelatedClick:l,player:o,awemeInfo:d,getAwemeInfo:u,ableMiniType:s=!0,reportExtraParams:c={},videoTags:v=[],abtestData:f}=e,m=(0,a.useRef)(null),p=()=>{var e,l;let o=null===(l=m.current)||void 0===l?void 0:null===(e=l.getLottieInstance)||void 0===e?void 0:e.call(l);return{enter:()=>{var e;null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[0,15],!0)},leave:()=>{var e;null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[16,25],!0)}}},g=(0,eh.x)(()=>{eM.Z.sendLog("bottomBarShow",eP(d,c,v))}),_=(null==f?void 0:f.reduceLottie)||(0,h.b_)(),[w,x]=(0,a.useState)(!_);return(0,a.useEffect)(()=>{if(_&&w){var e,l;null===(e=(l=p()).enter)||void 0===e||e.call(l)}},[w,_]),(0,n.jsxs)("div",{ref:g,className:r()(eb.default.related,{[eb.default.ableMiniType]:s}),onClick:async e=>{eM.Z.sendLog("bottomBarClick",(0,t._)((0,i._)({},eP(d,c,v)),{action:eV()?"close":"open"})),eM.Z.sendLog("relatedVideoClick",{enter_from:c.enter_from,enter_from_merge:c.enter_from_merge,group_id:null==d?void 0:d.awemeId,author_id:null==d?void 0:d.authorUserId}),l(e,{awemeInfo:(0,t._)((0,i._)({},d),{relatedRecommend:(0,t._)((0,i._)({},d.relatedRecommend),{popoverAwemeInfo:await u()})}),clickMethod:"icon"})},onMouseEnter:()=>{if(w){var e,l;null===(e=(l=p()).enter)||void 0===e||e.call(l)}else!(0,h.b_)()&&x(!0)},onMouseLeave:()=>{if(eM.Z.sendLog("hover_related_video_icon",{enter_from:(0,N.mo)()}),w){var e,l;null===(e=(l=p()).leave)||void 0===e||e.call(l)}},children:[w?(0,n.jsx)(eL.default,{className:eb.default.icon,ref:m,data:e_,loop:!1,autoplay:!1}):(0,n.jsx)(eR.Z,{src:ew.Z,viewBox:"0 0 36 36",className:eb.default.icon}),(0,n.jsx)("div",{className:eb.default.desc,children:ey.a.t("related",{},"看相关")})]})};var ez=e=>{var l,o,d,s,c;let{from:f,isInnerFeed:m,isHoverShow:h,shortcut:p,player:g,onRelatedClick:_,ableMiniType:w,reportExtraParams:y={},awemeInfo:I,videoTags:k,abtestData:b,isShow:C=!0}=e,S=!m&&(null==I?void 0:null===(d=I.webRawData)||void 0===d?void 0:null===(o=d.CTR)||void 0===o?void 0:null===(l=o.recommendScore)||void 0===l?void 0:l.showRelateVideo)===ep.TP.ShowSideCarOnly&&"undefined"!=typeof window&&"/"===window.location.pathname,E=(0,a.useRef)(null),{status:N,data:j,setData:A,getData:T}=eA(()=>(0,eI.WW)({count:1,awemeId:I.awemeId}),[I.awemeId]),{getData:L}=eA(async()=>{if(null==j?void 0:j.awemeInfo)return j.awemeInfo;if(null==j?void 0:j.awemeId){let{detail:e,statusCode:l}=await (0,ek.m_)({awemeId:j.awemeId,originType:eg.F.RelatedPlugin});if(l)throw Error();return(0,t._)((0,i._)({},e),{debugInfo:j.debugInfo})}},[j]),R=!!((null==j?void 0:j.cover)&&(null==j?void 0:j.awemeId)&&(null==j?void 0:j.title)),M=(!S||!!N)&&R;(0,a.useEffect)(()=>{if(!!S)return v.listen(v.EVENT.RelatedAwemeListUpdate,e=>{let{videoFeed:l,awemeList:o}=e;if(l===em.t.Related){let e=o.findIndex(e=>{let{awemeId:l}=e;return l===I.awemeId});if(e>-1&&o[e+1]){let{awemeId:l,video:i,desc:t}=o[e+1];A({awemeId:l,title:t,duration:i.duration,cover:i.cover,debugInfo:null,awemeInfo:o[e+1]})}}})},[I.awemeId,S]);let P=S&&"success"===N;(0,a.useEffect)(()=>{if(g){let e=async e=>{let{e:l,clickMethod:o="hot_key"}=e;eM.Z.sendLog("bottomBarClick",(0,t._)((0,i._)({},eP(I,y,k)),{action:eV()?"close":"open"})),null==_||_(l,{awemeInfo:(0,t._)((0,i._)({},I),{relatedRecommend:(0,t._)((0,i._)({},I.relatedRecommend),{popoverAwemeInfo:await L()})}),clickMethod:o})};return null==g||g.on("onRelated",e),()=>{null==g||g.off("onRelated",e)}}},[g,_,I,y,k]);let V=P?(0,n.jsx)(eT,{awemeId:I.awemeId,getAwemeInfo:L,description:j,handleClick:e=>{_(null,e)}}):(0,n.jsxs)("div",{className:r()(x.default.shortcutTip,x.default.shortcutTipPopover),children:["相关推荐",(null===(s=p.related)||void 0===s?void 0:s.badgeText)&&(0,n.jsx)("span",{className:x.default.tipKey,children:null===(c=p.related)||void 0===c?void 0:c.badgeText})]});return C?(0,n.jsx)(u.Popover,{position:"left",rePosKey:Number(M),className:r()(x.default.shortcutTipWrap,x.default.shortcutTipWrapPopover,P&&x.default.shortcutTipWrapPopoverCard),style:h&&M?{}:{display:"none"},content:M&&V,getPopupContainer:()=>E.current||document.body,children:(0,n.jsx)("div",{ref:E,style:{position:"relative"},onMouseEnter:()=>{S&&T()},children:(0,n.jsx)(eD,{player:g,onRelatedClick:_,getAwemeInfo:L,ableMiniType:w,reportExtraParams:y,awemeInfo:I,videoTags:k,abtestData:b})})},Number(m)):null},eB=o("205457"),eF=o("871415"),eW=o("349998"),eU=o("546894"),eH=o("932624"),eZ=new P.h({hover_comment_icon:{eventName:"hover_comment_icon",params:{enter_from:""}},clickCommentButton:{eventName:"click_comment_button",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:"",click_method:"",from_follow_list:"0",relation:"",aweme_type:"",pic_cnt:0,item_duration_ms:0,play_current_time:0}}}),eG=o("56568"),eO=o("860684"),eK=o("631493"),eq=o("254897");let eY=e=>{let{count:l,className:o,textClassName:t,toggleComment:d,reportExtraParams:u,awemeInfo:s,ableMiniType:c,onLottieComplete:v,abtestData:f}=e,m=(0,a.useMemo)(()=>{var e,l,o,i,t,n,a,d,r,u,c,v,f,m,h,p,g,_,w;return{author_id:null==s?void 0:null===(e=s.authorInfo)||void 0===e?void 0:e.uid,group_id:null==s?void 0:s.awemeId,log_pb:null==s?void 0:s.logPb,compilation_id:null==s?void 0:null===(l=s.mixInfo)||void 0===l?void 0:l.mixId,impressionData:null==s?void 0:s.impressionData,awemeId:null==s?void 0:s.awemeId,vduration:null==s?void 0:null===(o=s.video)||void 0===o?void 0:o.duration,isH265:(null==s?void 0:null===(n=s.video)||void 0===n?void 0:null===(t=n.bitRateList)||void 0===t?void 0:null===(i=t[0])||void 0===i?void 0:i.isH265)||(null==s?void 0:null===(a=s.video)||void 0===a?void 0:a.isH265),qualityType:(null==s?void 0:null===(u=s.video)||void 0===u?void 0:null===(r=u.bitRateList)||void 0===r?void 0:null===(d=r[0])||void 0===d?void 0:d.qualityType)||(null==s?void 0:null===(c=s.video)||void 0===c?void 0:c.qualityType),bitRate:(null==s?void 0:null===(m=s.video)||void 0===m?void 0:null===(f=m.bitRateList)||void 0===f?void 0:null===(v=f[0])||void 0===v?void 0:v.bitRate)||(null==s?void 0:null===(h=s.video)||void 0===h?void 0:h.bitRate),videoFormat:null==s?void 0:null===(p=s.video)||void 0===p?void 0:p.videoFormat,gearName:(null==s?void 0:null===(w=s.video)||void 0===w?void 0:null===(_=w.bitRateList)||void 0===_?void 0:null===(g=_[0])||void 0===g?void 0:g.gearName)||""}},[s]),p=(0,eO.n)(),[g,_]=(0,a.useState)(!1),w=(0,a.useRef)(null),x=null==f?void 0:f.reduceLottie,y=()=>{var e,l;let o=null===(l=w.current)||void 0===l?void 0:null===(e=l.getLottieInstance)||void 0===e?void 0:e.call(l);return{enter:()=>{var e;null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[0,33],!0)},leave:()=>{var e;null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[59,83],!0)}}},I=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!(0,h.b_)()){let e=I.current,l=()=>{var e,l;null===(e=(l=y()).enter)||void 0===e||e.call(l)},o=()=>{var e,l;null===(e=(l=y()).leave)||void 0===e||e.call(l)};return null==e||e.addEventListener("mouseenter",l),null==e||e.addEventListener("mouseleave",o),()=>{null==e||e.removeEventListener("mouseenter",l),null==e||e.removeEventListener("mouseleave",o)}}},[]);let k=(0,a.useCallback)(e=>{var l,o,t,n,a;let{clickMethod:r="click_icon"}=e;null==p||p.emit("shortcutTopic");let c=d({clickMethod:r});if("click_icon"===r&&c&&(null==p||p.emit(z.Events.USER_ACTION,{action:"open_comment"})),eZ.sendLog("clickCommentButton",(0,i._)({urlParamList:["previous_page","fir_previous_page"],enter_from:(0,N.mo)(),author_id:null==s?void 0:null===(l=s.authorInfo)||void 0===l?void 0:l.uid,group_id:null==s?void 0:s.awemeId,log_pb:null==m?void 0:m.log_pb,is_full_screen:(0,E.r)()?"1":"0",is_full_webscreen:eK.s.getIsPageFullscreen()?"1":"0",tab_name:(0,L.zD)()||(0,j.Rs)("tab_name")||"",click_method:r,click_from:r,from_follow_list:(null===(o=A.Le.getConfig(A.gI.FromFollowList))||void 0===o?void 0:o.tag)?"1":"0",aweme_type:`${(null==s?void 0:s.isSlides)?C.e.Slides:null==s?void 0:s.awemeType}`,pic_cnt:null!==(a=null==s?void 0:null===(t=s.images)||void 0===t?void 0:t.length)&&void 0!==a?a:0,action:c?"open":"close",item_duration_ms:(null==s?void 0:null===(n=s.video)||void 0===n?void 0:n.duration)||0,play_current_time:Math.floor((null==p?void 0:p.currentTime)||0)},u||{},(0,eW.t)())),(0,G.Jt)(s)){let e=(0,G.Rx)(s);(0,$.E)("click_comment",{tag:(0,eo.f)(),value:e.creative_id,log_extra:e.log_extra}),(0,$.E)("othershow",{tag:(0,eo.f)(),value:e.creative_id,log_extra:e.log_extra,refer:"comment"})}},[p,d,s,u,m]),b=(0,a.useCallback)(()=>{x&&_(!0)},[x]),S=(0,a.useCallback)(()=>{eZ.sendLog("hover_comment_icon",{enter_from:(0,N.mo)()})},[]);return(0,a.useEffect)(()=>{if(p)return null==p||p.on("showComment",k),()=>{null==p||p.off("showComment",k)}},[p,k]),(0,n.jsxs)("div",{className:r()(eG.default.container,o,{[eG.default.ableMiniType]:c,[eG.default.animation4]:!0}),"data-e2e":"feed-comment-icon",onClick:()=>k({clickMethod:"click_icon"}),onMouseEnter:b,onMouseLeave:S,ref:I,children:[(0,n.jsx)("div",{className:eG.default.iconWrap,children:(0,h.b_)()||"creator_center"===(0,N.vM)()||x&&!g?(0,n.jsx)(eq.z,{svg:(0,n.jsx)(eU.Z,{}),className:eG.default.commentIcon}):(0,n.jsx)(eL.default,{ref:w,data:eH,loop:!1,autoplay:!1,onComplete:()=>{null==v||v()},onInit:()=>{if(x){var e,l;null===(e=(l=y()).enter)||void 0===e||e.call(l)}}})}),!!l&&(0,n.jsx)("div",{className:r()(eG.default.count,t,eG.default.lessFontWeight),children:l})]})};o("268917");var eQ=o("234048"),eX=o("242007"),eJ=o("79902"),e$=o("289089"),e0=o("949053"),e1=o("416374"),e2=o("868872"),e5=o("227623"),e3=o("594781"),e4=o("447298"),e7=o("877408");function e6(e){var l,o,i;let{awemeInfo:t,isLogin:d,loginUserInfo:u,loginDispatch:s,fullScreenTarget:c,loginPanelTarget:v,reportExtraParams:f={},ableMiniType:m=!1,onLottieComplete:p,recordPreferVideoSwitch:g=!1,disableClick:w=!1,refIsDigged:x={},setIsDigged:y,onDiggSuccessCb:I,abtestData:k}=e,C=(0,eO.n)(),S=(0,a.useRef)(!0),j=(0,a.useRef)(!1),T=(0,a.useRef)(!1),L=(0,a.useRef)(null),R=(0,a.useRef)(!1),P=(0,a.useRef)(),{isWebMiniWin:V}=(0,_.Iq)(e=>{let{isWebMiniWin:l}=e;return{isWebMiniWin:l}}),[D,B]=(0,a.useState)(0),[F,W]=(0,a.useState)(()=>{let e=(null==k?void 0:k.changeCandle)||"";if(null==e?void 0:e.includes(null==t?void 0:t.awemeId))return 2;if((0,h.b_)())return 1;if("creator_center"===(0,N.vM)())return 1;return 0}),U=null==k?void 0:k.reduceLottie,{count:H,diggStatus:Z}=(0,e2.P)({selfUid:null==u?void 0:null===(l=u.info)||void 0===l?void 0:l.uid,awemeId:null==t?void 0:t.awemeId,defaultCount:null==t?void 0:null===(o=t.stats)||void 0===o?void 0:o.diggCount,defaultDiggStatus:(null==t?void 0:t.userDigged)?eQ.gZ.Digged:eQ.gZ.UnDigg});x.current=Z,(0,a.useEffect)(()=>{y(Z)},[Z]);let{resetUsedKeyDownTime:G,resetDiggTime:O,checkIsCancelDigg:K}=(0,e5._)({diggState:Z===eQ.gZ.Digged}),{digg:q,unDigg:Y,hoverDigg:Q}=(0,e3.ic)({selfUid:null==u?void 0:null===(i=u.info)||void 0===i?void 0:i.uid,isLogin:d,awemeInfo:t,onLoginSuccess:async()=>{if(await (null==s?void 0:s({type:"updateUserInfo"})),"video_detail"===(0,N.vM)()){var e,l;await (0,e4.a8)({secUid:null==t?void 0:null===(e=t.authorInfo)||void 0===e?void 0:e.secUid,uid:null==t?void 0:null===(l=t.authorInfo)||void 0===l?void 0:l.uid})}},reportExtraParams:f,accountParentEl:(0,E.r)()&&c,defaultDiggStatus:(null==t?void 0:t.userDigged)?eQ.gZ.Digged:eQ.gZ.UnDigg,success:I,loginPanelTarget:v,scene:eK.s.getPlayerScene(null==C?void 0:C.playerId),teaEvtParams:{is_small_window:0}}),X=(0,a.useCallback)(e=>{if(T.current=!0,g){var l;let e=A.Le.getConfig(A.gI.AwemePcRecRawData)||{videoPrefer:{fsn:[],like:[],halfMin:[],min:[]}},o=e.videoPrefer.like;o.filter((e,l)=>l%2==0).includes(null==t?void 0:t.groupId)||o.push(null==t?void 0:t.groupId,null==t?void 0:null===(l=t.authorInfo)||void 0===l?void 0:l.uid),A.Le.setConfig(A.gI.AwemePcRecRawData,e),(0,A.xL)(t,C,"lk")}Z===eQ.gZ.Digged?Y({clickMethod:e}):(q({clickMethod:e}),"hidden"===document.visibilityState&&V&&(null==C?void 0:C.root)&&M.F.info("点赞成功",C.root)),C.emit(z.Events.USER_ACTION,{action:"digg",status:Z===eQ.gZ.Digged?"close":"open"}),(0,eX.VY)({info:{[e$.BW.Favorite]:Z!==eQ.gZ.Digged},awemeId:null==t?void 0:t.awemeId,abData:0})},[Z,q,Y,g,F,V]);P.current=X,(0,a.useEffect)(()=>{let e=(null==k?void 0:k.changeCandle)||"";(null==e?void 0:e.includes(null==t?void 0:t.awemeId))?W(2):(0,h.b_)()?W(1):"creator_center"===(0,N.vM)()?W(1):W(0)},[k,t]),(0,a.useEffect)(()=>{Z&&O()},[Z]),(0,a.useEffect)(()=>{if(C){let e=b()(e=>{var l;null===(l=P.current)||void 0===l||l.call(P,e)},1e3,{leading:!0,trailing:!1}),l=l=>{let{clickMethod:o}=l;if(U&&B(2),!Z){e(o);return}if(!Z||"hot_key"===o)K()&&e(o),G()};return null==C||C.on("onStar",l),()=>{null==C||C.off("onStar",l)}}},[C,null==t?void 0:t.awemeId,Z]);let J=()=>{var e,l;let o=null===(l=L.current)||void 0===l?void 0:null===(e=l.getLottieInstance)||void 0===e?void 0:e.call(l),i=()=>{var e,l;null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[0,1],!0),null==o||null===(l=o.goToAndStop)||void 0===l||l.call(o,88,!0)},t=()=>{var e,l;null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[0,1],!0),null==o||null===(l=o.goToAndStop)||void 0===l||l.call(o,0,!0)};return{setLikedStatus:i,setUnLikedStatus:t,like:()=>{var e;j.current=!0,T.current=!1,null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[39,88],!0)},dislike:()=>{var e;j.current=!0,T.current=!1,null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[124,162],!0)},enter:()=>{var e,l;Z?null==o||null===(l=o.playSegments)||void 0===l||l.call(o,[96,120],!0):null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[0,32],!0)},leave:()=>{var e,l;Z?null==o||null===(l=o.playSegments)||void 0===l||l.call(o,[64,88],!0):null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[162,186],!0)},end:()=>{j.current=!1,!R.current&&(Z?i():t())}}},$=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(0===F){let e=$.current,l=()=>{var e,l;R.current=!0,null===(e=(l=J()).enter)||void 0===e||e.call(l)},o=()=>{var e,l;R.current=!1,null===(e=(l=J()).leave)||void 0===e||e.call(l)};return null==e||e.addEventListener("mouseenter",l),null==e||e.addEventListener("mouseleave",o),()=>{null==e||e.removeEventListener("mouseenter",l),null==e||e.removeEventListener("mouseleave",o)}}},[J,F]),(0,a.useEffect)(()=>{if(S.current){Z?J().setLikedStatus():J().setUnLikedStatus(),S.current=!1;return}T.current?Z?J().like():J().dislike():(Z?J().setLikedStatus():J().setUnLikedStatus(),T.current=!1)},[Z,F]),(0,n.jsxs)("div",{className:r()(e1.default.digg,e1.default.animation4,{[e1.default.isDigged]:Z,[e1.default.ableMiniType]:m}),onClick:()=>{if(!w)null==C||C.emit("shortcutTopic"),X()},ref:$,"data-e2e-state":Z?"video-player-is-digged":"video-player-no-digged","data-e2e":"video-player-digg",onMouseEnter:()=>{U&&B(1)},onMouseLeave:Q,children:[(0,n.jsxs)("div",{className:e1.default.lottieWraper,children:[2===F?(0,n.jsx)("div",{className:r()(e1.default.heart,{[e1.default.candle]:Z})}):null,1===F?(0,n.jsx)(eq.z,{svg:(0,n.jsx)(e0.Z,{}),className:r()(e1.default.diggSvg,{[e1.default.isDigg]:Z})}):null,0===F?0===D&&U?(0,n.jsx)(eq.z,{svg:(0,n.jsx)(e0.Z,{}),className:r()(e1.default.diggSvg,{[e1.default.isDigg]:Z})}):(0,n.jsx)(eL.default,{ref:L,className:e1.default.diggLottie,data:eJ,loop:!1,autoplay:!1,onComplete:()=>{null==p||p(),J().end()},onInit:()=>{if(1===D){var e,l;null===(e=(l=J()).enter)||void 0===e||e.call(l)}}}):null]}),(0,n.jsx)("div",{className:r()(e1.default.count,e1.default.diggIcon,e1.default.lessFontWeight),children:(0,e7.A)({count:H,displayWord:"赞"})})]})}var e8=o("738363"),e9=o("475137"),le=o("956428"),ll=new P.h({hover_favorite_video_icon:{eventName:"hover_favorite_video_icon",params:{enter_from:""}},clickFavoriteVideo:{eventName:"click_favorite_video",params:{click_from:"icon",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0",click_method:"",aweme_type:"",pic_cnt:"",tab_name:"",play_current_time:0}},clickCancelFavoriteVideo:{eventName:"click_cancel_favorite_video",params:{click_from:"icon",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_full_screen:"0",tab_name:"",play_current_time:0}}}),lo=o("81038"),li=o("358003"),lt=o("3364"),ln=o("374592"),la=o("706077");function ld(e){var l,o,t;let{awemeInfo:d,isLogin:u,loginUserInfo:s,loginDispatch:c,fullScreenTarget:v,toast:f,ableMiniType:m=!1,reportExtraParams:p={},onLottieComplete:g,refIsCollected:w={},disableClick:x=!1,abtestData:y,loginPanelTarget:I,from:k,recordPreferVideoSwitch:b}=e,S=(0,a.useRef)(!0),T=(0,a.useRef)(!1),R=(0,a.useRef)(!1),P=(0,a.useRef)(null),V=(0,a.useRef)(null),D=(0,a.useRef)(!1),B=(0,eO.n)(),F=null==y?void 0:y.reduceLottie,[W,U]=(0,a.useState)(0),{isWebMiniWin:H}=(0,_.Iq)(e=>{let{isWebMiniWin:l}=e;return{isWebMiniWin:l}}),Z=e=>{if("hidden"===document.visibilityState&&H&&(null==B?void 0:B.root)){M.F.info(e,B.root);return}if(f){f(e);return}M.F.info(e)},G=(0,E.r)()&&v,O=eK.s.getPlayerScene(null==B?void 0:B.playerId),K={is_small_window:0},q=async()=>{if(null==c||c({type:"updateUserInfo"}),"video_detail"===(0,N.vM)()){var e,l;await (0,e4.a8)({secUid:null==d?void 0:null===(e=d.authorInfo)||void 0===e?void 0:e.secUid,uid:null==d?void 0:null===(l=d.authorInfo)||void 0===l?void 0:l.uid})}},{unCollect:Y,collect:Q}=(0,ln.pD)({selfUid:null==s?void 0:null===(l=s.info)||void 0===l?void 0:l.uid,awemeInfo:d,defaultCollectStatus:(null==d?void 0:d.userCollected)?eQ.c.Collected:eQ.c.Uncollected,isLogin:u,accountParentEl:G,loginPanelTarget:I,reportExtraParams:p,scene:O,onLoginSuccess:q,success:e=>{let{action:l,successMsg:o}=e;"collect"===l&&Z(o||eQ.a$.CollectSuccess),null==B||B.emit(z.Events.USER_ACTION,{action:"collect",status:"collect"===l?"on":"off"})},fail:e=>{switch(e.statusCode){case e8.ERROR_CODE.ERROR_USER_UNLOGIN:return;case e8.ERROR_CODE.ERROR_COLLECT_TOO_FAST:Z(eQ.a$.TooFast);return;case e8.ERROR_CODE.ERROR_COLLECT_RESTRICTED:Z(eQ.a$.CollectBan);return;default:Z(eQ.a$.CollectFail);return}},teaEvtParams:K}),X=(0,a.useCallback)(function(){for(var e=arguments.length,l=Array(e),o=0;o<e;o++)l[o]=arguments[o];Y(...l),(0,eX.VY)({info:{[e$.BW.Collect]:!1},awemeId:null==d?void 0:d.awemeId,abData:0})},[Y]),J=(0,a.useCallback)(function(){for(var e=arguments.length,l=Array(e),o=0;o<e;o++)l[o]=arguments[o];b&&(0,A.xL)(d,B,"fav"),Q(...l),(0,eX.VY)({info:{[e$.BW.Collect]:!0},awemeId:null==d?void 0:d.awemeId,abData:0})},[Q,y]),{collectStatus:$,count:ee}=(0,la.u)({selfUid:null==s?void 0:null===(o=s.info)||void 0===o?void 0:o.uid,awemeId:null==d?void 0:d.awemeId,defaultCollectStatus:(null==d?void 0:d.userCollected)?eQ.c.Collected:eQ.c.Uncollected,defaultCount:null==d?void 0:null===(t=d.stats)||void 0===t?void 0:t.collectCount}),el=(0,a.useRef)(u);el.current=u;let eo=e=>{var l,o;if(el.current){e();return}(0,li.default)({success:async()=>{await q(),el.current?e():setTimeout(()=>{eo(e)},1e3)},headerText:"登录后即可收藏",enterMethod:"favorite_video_entry",next:`https://${null===(o=window)||void 0===o?void 0:null===(l=o.location)||void 0===l?void 0:l.host}`,teaEvtParams:K},G)},ei=()=>{var e,l;let o=null===(l=P.current)||void 0===l?void 0:null===(e=l.getLottieInstance)||void 0===e?void 0:e.call(l),i=()=>{var e,l;null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[0,1],!0),null==o||null===(l=o.goToAndStop)||void 0===l||l.call(o,115,!0)},t=()=>{var e,l;null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[0,1],!0),null==o||null===(l=o.goToAndStop)||void 0===l||l.call(o,0,!0)};return{toLottieStart:t,toLottieEnd:i,addCollect:()=>{var e;T.current=!0,R.current=!1,null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[58,92],!0)},cancelCollect:()=>{var e;T.current=!0,R.current=!1,null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[151,170],!0)},enter:()=>{var e,l;$?null==o||null===(l=o.playSegments)||void 0===l||l.call(o,[121,145],!0):null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[10,43],!0)},leave:()=>{var e,l;$?null==o||null===(l=o.playSegments)||void 0===l||l.call(o,[92,115],!0):null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[195,207],!0)},end:()=>{T.current=!1,!D.current&&($?i():t())}}},et=e=>{if(x)return;let{clickMethod:l="icon"}=e||{};if(F&&U(2),!T.current||(0,h.b_)()){var o,t,n,a;R.current=!0,$===eQ.c.Collected?ll.sendLog("clickCancelFavoriteVideo",(0,i._)({click_from:"icon",urlParamList:["previous_page"],author_id:null==d?void 0:null===(o=d.authorInfo)||void 0===o?void 0:o.uid,group_id:null==d?void 0:d.awemeId,log_pb:null==d?void 0:d.logPb,enter_from:(0,N.mo)(),is_full_screen:(0,E.r)()?"1":"0",tab_name:(0,L.zD)()||(0,j.Rs)("tab_name")||"",play_current_time:Math.floor((null==B?void 0:B.currentTime)||0)},p)):ll.sendLog("clickFavoriteVideo",(0,i._)({click_from:"icon",urlParamList:["previous_page"],author_id:null==d?void 0:null===(t=d.authorInfo)||void 0===t?void 0:t.uid,group_id:null==d?void 0:d.awemeId,log_pb:null==d?void 0:d.logPb,enter_from:(0,N.mo)(),is_full_screen:(0,E.r)()?"1":"0",click_method:l,tab_name:(0,L.zD)()||(0,j.Rs)("tab_name")||"",aweme_type:`${(null==d?void 0:d.isSlides)?C.e.Slides:null==d?void 0:d.awemeType}`,pic_cnt:`${null!==(a=null==d?void 0:null===(n=d.images)||void 0===n?void 0:n.length)&&void 0!==a?a:0}`,play_current_time:Math.floor((null==B?void 0:B.currentTime)||0)},p)),null==B||B.emit("shortcutTopic"),$===eQ.c.Collected?X({clickMethod:l}):J({clickMethod:l})}},en=(0,a.useCallback)(()=>{F&&U(1)},[F]),ea=(0,a.useCallback)(()=>{ll.sendLog("hover_favorite_video_icon",{enter_from:(0,N.mo)()})},[]);return(0,a.useEffect)(()=>{let e=V.current,l=()=>{var e,l;D.current=!0,null===(e=(l=ei()).enter)||void 0===e||e.call(l)},o=()=>{var e,l;D.current=!1,null===(e=(l=ei()).leave)||void 0===e||e.call(l)};return null==e||e.addEventListener("mouseenter",l),null==e||e.addEventListener("mouseleave",o),()=>{null==e||e.removeEventListener("mouseenter",l),null==e||e.removeEventListener("mouseleave",o)}},[ei]),(0,a.useEffect)(()=>(null==B||B.on("onCollect",et),()=>{null==B||B.off("onCollect",et)}),[B,et]),(0,a.useEffect)(()=>{if(S.current){$===eQ.c.Collected?ei().toLottieEnd():ei().toLottieStart(),S.current=!1;return}R.current?$===eQ.c.Collected?ei().addCollect():ei().cancelCollect():($===eQ.c.Collected?ei().toLottieEnd():ei().toLottieStart(),R.current=!1)},[$]),(0,a.useEffect)(()=>{w.current=$},[w,$]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:r()(lo.default.collect,{[lo.default.ableMiniType]:m,[lo.default.animation4]:!0}),onClick:()=>et(),onMouseEnter:en,onMouseLeave:ea,ref:V,"data-e2e-state":$?"video-player-is-collected":"video-player-no-collect","data-e2e":"video-player-collect",children:[(0,n.jsx)("div",{className:lo.default.lottieWraper,children:(0,h.b_)()||"creator_center"===(0,N.vM)()||F&&0===W?(0,n.jsx)(eq.z,{svg:(0,n.jsx)(le.Z,{}),className:r()(lo.default.collectionSvg,{[lo.default.active]:$})}):(0,n.jsx)(eL.default,{ref:P,className:lo.default.collectLottie,data:e9,loop:!1,autoplay:!1,onComplete:()=>{null==g||g(),ei().end()},onInit:()=>{if(F&&1===W){var e,l;null===(e=(l=ei()).enter)||void 0===e||e.call(l)}}})}),(0,n.jsx)("div",{className:r()(lo.default.count,lo.default.lessFontWeight),children:(0,e7.A)({count:ee,displayWord:"收藏"})})]}),(0,n.jsx)(lt.Z,{hidden:x,userInfo:s,referenceElement:V.current,awemeInfo:d,abTestData:y,collected:eQ.c.Collected===$,collectMethod:J,unCollectMethod:X,afterLogin:eo,from:k})]})}var lr=o("553173"),lu=o("393452"),ls=o("441398"),lc=o("103171"),lv=o("577786"),lf=o("34644"),lm=o("176638"),lh=o("540075"),lp=new P.h({hover_more_active_icon:{eventName:"hover_more_active_icon",params:{enter_from:""}},dislike:{eventName:"dislike",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",enter_method:"",is_full_screen:"0",tab_name:"",click_method:"",from_follow_list:"0",aweme_type:"",is_insert_wallpaper:0,is_show_outside:0,item_duration_ms:0}},report:{eventName:"report",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",enter_method:"",is_full_screen:"0",play_current_time:0}},creatorDataEntranceClick:{eventName:"creator_data_entrance_click",params:{}},creatorDataEntranceShow:{eventName:"creator_data_entrance_show",params:{}},continuedAppBroadcastClick:{eventName:"continued_app_broadcast_click",params:{enter_from:""}},moreFeatureShow:{eventName:"more_features_show",params:{enter_from:""}}}),lg=o("872177"),l_=o("662892"),lw=o("779073"),lx=o("316042"),ly=o("731974"),lI=o("741147"),lk=o("824734"),lb=o("915242"),lC=o("658010"),lS=o("507782");let lE=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:27,height:27,fill:"none",ref:l},e),{children:(0,n.jsx)("path",{d:"M18.544 22.86H8.42V9.697l5.821-5.821a1.79 1.79 0 0 1 2.531 0c.118.118.215.278.291.48.076.203.114.397.114.583v.354l-1.114 4.404h5.518c.54 0 1.012.203 1.417.608.405.405.608.877.608 1.417v2.025a2.059 2.059 0 0 1-.152.759l-3.037 7.137c-.152.338-.405.625-.76.861a1.978 1.978 0 0 1-1.113.354zM6.79 9.697V22.86H4.366a1.625 1.625 0 0 1-1.625-1.625v-9.91c0-.898.728-1.626 1.625-1.626h2.425z",fill:"#13C15A"})}))),lN=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:26,height:26,fill:"none",ref:l},e),{children:(0,n.jsx)("path",{d:"M5.063 3.36a.812.812 0 1 0-1.15 1.148l19.5 19.5a.812.812 0 1 0 1.15-1.149l-2.966-2.966 2.365-5.56a2.067 2.067 0 0 0 .152-.76V11.55c0-.54-.202-1.012-.607-1.417-.405-.405-.878-.608-1.418-.608h-5.517l1.114-4.403v-.355c0-.185-.038-.38-.114-.582a1.33 1.33 0 0 0-.291-.48 1.79 1.79 0 0 0-2.531 0l-4.672 4.67L5.063 3.36zM19.052 22.686H8.928V11.818l10.758 10.758c-.206.073-.417.11-.634.11zM7.3 10.19l-.666-.666H4.875c-.897 0-1.625.728-1.625 1.625v9.912c0 .897.728 1.625 1.625 1.625H7.3V10.19z",fill:"#13C15A"})}))),lj=(0,a.forwardRef)((e,l)=>(0,n.jsxs)("svg",(0,t._)((0,i._)({width:36,height:36,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:[(0,n.jsx)("path",{d:"M28.528 20.913l.113-1.053h1.033a.527.527 0 0 0 .522-.524.51.51 0 0 0-.177-.377.574.574 0 0 0-.377-.148h-.898l.105-.905c.05-.313-.21-.536-.46-.578-.317-.053-.54.212-.58.463l-.114 1.052h-1.033a.527.527 0 0 0-.522.525c0 .286.235.525.522.525h.93l-.105.904c-.046.298.197.534.475.58.28 0 .519-.178.566-.464z",fill:"#fff"}),(0,n.jsx)("path",{d:"M33.39 19.332c.147-1.232.13-2.611-.242-3.81a.557.557 0 0 0-.493-.385c-.061-.009-.122.013-.182.022l-.758.246c-.278-1.771-1.029-2.74-1.98-3.285a.62.62 0 0 0-.296-.087.493.493 0 0 0-.284.1.602.602 0 0 0-.197.242l-.004.011-.003.012c-.162.58-.601 1.425-1.867 2.119-.82.454-1.53.884-2.11 1.36l.229-2.184a.839.839 0 1 0-1.668-.175l-.737 7.024c-.104.902-.986 1.703-1.986 1.703-.952 0-1.557-.711-1.466-1.518v-.006l.738-7.028a.838.838 0 1 0-1.668-.175l-.737 7.024c-.21 1.882 1.266 3.38 3.133 3.38 1.334 0 2.567-.758 3.21-1.866.877 1.212 2.384 1.977 4.102 1.977 2.513 0 4.906-1.942 5.266-4.699v-.002zm-2.865-2.167l1.377-.421c.08.62.157 1.469.038 2.394-.238 1.974-1.908 3.483-3.856 3.483-1.034 0-1.988-.388-2.624-1.045-.397-.426-.912-1.16-.834-2.241v-.004c.04-.85.289-1.47.795-2.025.507-.556 1.273-1.05 2.348-1.651l.003-.002c.832-.425 1.507-.965 1.946-1.659.274.424.431.924.55 1.578v.002l.237 1.579c.002.01.011.015.02.012zM3.767 13.452a.839.839 0 0 1 .834-.75h1.453c2.412 0 4.18 1.976 3.936 4.393v.004l-.262 2.48c-.263 2.32-2.325 4.213-4.672 4.213H3.603a.838.838 0 0 1-.834-.927l.998-9.413zm1.588.927l-.82 7.736h.521c1.47 0 2.834-1.228 3.006-2.723l.26-2.465v-.002c.144-1.443-.864-2.546-2.268-2.546h-.699zM14.36 12.275c-1.848 0-3.457 1.481-3.654 3.308l-.477 4.557-.001.01c-.174 1.885 1.215 3.475 3.134 3.475 1.848 0 3.457-1.482 3.653-3.308v-.003l.478-4.554v-.01c.175-1.886-1.214-3.475-3.133-3.475zm-2.462 8.034l.476-4.547c.107-.993 1.014-1.81 1.986-1.81.899 0 1.548.707 1.464 1.639l-.476 4.547c-.108.993-1.014 1.81-1.986 1.81-.9 0-1.548-.707-1.464-1.64z",fill:"#fff"})]})));var lA=o("330286");let lT=e=>{let{followStatus:l,handleClickNotInteresting:o,handleClickReport:i,handleClickDelete:t,handleClickUnfollow:n,handleClickPhoneResume:d,showList:u,awemeInfo:s,loginUserInfo:c,dataAnalysisStatus:v,handleClickAnalysis:f,userInfo:m,handleClickASR:h,isAsrOn:p,player:g,recommendTriggered:_,showRecommendToFriend:w,handleClickRecommendIcon:x,abtestData:y,onDouPlusClick:I,loginDispatch:k,moreBoxParamsRef:b}=e;return(0,a.useMemo)(()=>{var e,a,C,S,E,N,j,A,T;return[...(null==s?void 0:null===(e=s.status)||void 0===e?void 0:e.allowSelfRecommendToFriend)&&w?[{icon:_?lN:lE,svgProps:{width:27,height:27,viewBox:"0 0 27 27"},desc:_?"取消推荐":"推荐",key:"recommendIcon",onClick:x,hidden:!(null==s?void 0:null===(a=s.status)||void 0===a?void 0:a.allowSelfRecommendToFriend),className:lg.default.recommendIcon}]:[],{icon:lj,isSemiIcon:!1,desc:"上热门",key:"douPlus",className:(null==y?void 0:y.douPlusEntryPerf)===1?lg.default.highLightdouPlusIcon:void 0,customComponent:!0,onClick:(e,l)=>{null==I||I({from:"more",seq:l,hasCoupon:b.current.douPlusShowCoupon})},hidden:!I},{icon:lw.Z,isSemiIcon:!0,desc:"不感兴趣",key:"notInterestingIcon",onClick:()=>o(),hidden:"undefined"!=typeof window&&(null===(E=window)||void 0===E?void 0:null===(S=E.location)||void 0===S?void 0:null===(C=S.pathname)||void 0===C?void 0:C.indexOf("/video"))!==-1||!(null==u?void 0:u.notInterestingIcon)||(null==s?void 0:null===(N=s.authorInfo)||void 0===N?void 0:N.uid)===(null==c?void 0:null===(j=c.info)||void 0===j?void 0:j.uid)},{icon:lx.Z,isSemiIcon:!0,desc:"手机续播",key:"phoneResume",onClick:d,hidden:!(null==u?void 0:u.phoneResume)},{icon:l_.Z,desc:"取消关注",key:"unfollow",onClick:n,hidden:l===eQ.$u.UnFollow||!(null==u?void 0:u.unfollow)},{icon:ly.Z,isSemiIcon:!0,desc:"举报",key:"report",onClick:i,hidden:!(null==u?void 0:u.report)||(null==s?void 0:null===(A=s.authorInfo)||void 0===A?void 0:A.uid)===(null==m?void 0:m.uid)||(0,G.Kf)(s)},{icon:lS.Z,desc:"删除",key:"deleteSelfPost",onClick:t,hidden:!(null==u?void 0:u.deleteSelfPost)||!(null==m?void 0:m.uid)||m.uid!==(null==s?void 0:null===(T=s.authorInfo)||void 0===T?void 0:T.uid),className:lg.default.deleteIcon},{icon:lk.Z,desc:"数据分析",key:"dataAnalysis",onClick:f,hidden:!(null==u?void 0:u.dataAnalysis),className:r()(lg.default.analysisIcon,{[lg.default.disableItem]:v!==lY.Enable})},{icon:p?lC.Z:lb.Z,desc:"支持转文稿",key:"showASRIcon",onClick:h,hidden:!(null==u?void 0:u.asrState),className:p?lg.default.asrIconOn:lg.default.asrIconOff},{icon:lI.Z,isSemiIcon:!0,desc:"快捷键列表",key:"shortcutList",onClick:()=>{(0,lA.n5)({logParams:{clickMethod:"more_button"},abTestData:y,userInfo:c,userDispatch:k}),null==g||g.emit(z.Events.USER_ACTION,{action:"show_short_cut_list"})},hidden:!(null==u?void 0:u.shortcutList)}].filter(e=>!e.hidden)},[l,o,i,n,d,x,u,s,c,v,f,m,h,p,g,_,k])};var lL=o("366334"),lR=o("55426"),lM=o("69509"),lP=o("318133"),lV=o("679201"),lD=o("135241"),lz=o("644831");function lB(e){let{width:l,awemeInfo:o,loginDispatch:i,isLogin:t,isShow:d,fullScreenTarget:r,loginPanelTarget:u,toast:s,player:c,abtestData:v}=e,{musicName:f,mid:m}=(null==o?void 0:o.music)||{},[h,p]=(0,a.useState)(null),[g,_]=(0,a.useState)(0),[w,x]=(0,a.useState)(null),y=(0,a.useCallback)(async()=>{let e=await (0,lL.XL)({musicId:m});if(0===e.statusCode){var l,o,i;p((null===(l=e.musicInfo)||void 0===l?void 0:l.collectStat)||eQ.c.Uncollected),_(null!==(i=null==e?void 0:null===(o=e.musicInfo)||void 0===o?void 0:o.userCount)&&void 0!==i?i:0)}},[m]);(0,a.useEffect)(()=>{d&&(null==w?void 0:w.awemeId)!==o.awemeId&&(y(),x(o))},[o,d]);let{collect:I,unCollect:k}=(0,lV.S)({musicId:m,onLoginSuccess:()=>{null==i||i({type:"updateUserInfo"})},awemeInfo:o,isLogin:t,accountParentEl:(0,E.r)()&&r,loginPanelTarget:u,toast:s}),{collectStatus:b}=(0,lD.v)({musicId:m,isLogin:t,defaultCollectStatus:null===h?eQ.c.Uncollected:h});return(0,n.jsxs)("div",{className:lP.default.musicDetail,style:{maxWidth:l?`${l}px`:"unset"},"data-e2e":"more-music-detail",children:[(0,n.jsx)("div",{className:lP.default.musicText,children:(0,n.jsxs)("div",{className:lP.default.text,children:[(0,n.jsxs)("div",{className:lP.default.musicName,children:[(0,n.jsx)(eR.Z,{src:lM.Z,width:36,height:36,viewBox:"0 0 36 36"}),f]}),(0,n.jsxs)("div",{className:lP.default.useCount,children:[(0,lR.qe)(g),"人使用"]})]})}),null!==h&&(0,n.jsx)(lz.Z,{collapseStatus:b===eQ.c.Collected,isFetching:!1,handleClick:()=>{b===eQ.c.Collected?k():(I(),null==c||c.emit(z.Events.USER_ACTION,{action:"collect_music"}))}})]})}var lF=o("942785"),lW=o("794593"),lU=o("905151"),lH=o.p+"media/apng.204dedcfdfd2ca5d.png";function lZ(e){let{couponAnimate:l,seq:o,onCouponChange:i,isLogin:t}=e,d=(0,a.useRef)(null),[s,c]=(0,a.useState)(t?"UnCheck":"None"),[v,f]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[_,w]=(0,a.useState)(!1),[x,y]=(0,a.useState)(null);(0,a.useLayoutEffect)(()=>{let e=!1,l="";return fetch(lH).then(e=>e.blob()).then(o=>{if(!e)y(l=URL.createObjectURL(o))}),"UnCheck"===s&&(0,lF.b)().then(l=>{if(!e)(null==l?void 0:l.couponShowText)?(c("Available"),f(l.couponShowText),i(!0),lW.Z.report("show_dou_plus",{dou_plus_source:"origin_entrance",dou_plus_sub_source:"douyin",dou_plus_medium:"douyin_PC_moresettings",dou_plus_entrance_type:1,dou_plus_entrance_level:1,dou_plus_entrance_seq:o,dou_plus_referer:"homepage_hot",target_step:1,has_coupon:1})):c("None")}),()=>{e=!0,l&&URL.revokeObjectURL(l)}},[]);let I="svg",k=!1;return"Available"!==s||_?"None"===s&&!p&&(I=m?"apng":"svg"):(I=l?"pocket":"svg",k=!l),(0,n.jsx)(u.Tooltip,{className:r()(lU.default.douPlusTip,{[lU.default.none]:"Available"!==s}),position:"bottomLeft",clickTriggerToHide:!0,content:(0,n.jsx)("div",{className:lU.default.douPlusTipContent,children:v}),getPopupContainer:()=>d.current,showArrow:null,children:(0,n.jsxs)("div",{className:lU.default.content,ref:d,children:["Available"!==s&&x&&(0,n.jsx)("img",{src:x,onLoad:()=>{h(!0)},onError:()=>{g(!0)},className:r()(lU.default.img,{[lU.default.apngHide]:"apng"===I})}),"None"!==s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAllSURBVHgB7VtNrFVXFf7WPhcobYGHpa2xoVzaiNFAfabWQemI1Ji0kyYmphq1TDq3iXMwUWvsBAaOHEhnmvjTNNEmNQ7EBJNqgWiKTZlcKpUKD957Bng/9569XHuvvc8+78F8nzTrC+eec8/Z55zLt373WvsBBoPBYDAYDAaDwWAwGAwGg8FgMBgMBoPBYDAYDAaDwWAwGAyGTwoIAwK/+OoYzr2Ephmj8XMgN8dox0QUfymD5gg8FweTbsxhl/4bnsGEJWJe4nCZ3BI8ySaXZpiA20tu69ZTdOqVCQaCwQiAv/XaMSZ/HC0rq42eD9yzk71zIoBwDfFXUyI/fEQBQY85HIsgglA4XBPyWTYKY+W8bz1mN1ePb3v7hz/AADAIAfB3Xj2KFr/g1XWgbZXA8MsC30nTs54z0P1qKvKI4/R7j/x8A/fuC8cr65jeuPnKPWd/dgKVMcIQ4NtjPBXy11eBtZl896rJAVHN02H46CQDHZO1Pg/NUkljO6vRE/ovCJnXj8mJ6gKobgF89EfzPJuew60V4LZswQq8qm1wLZxVPA4Gihn03ZGMC/dQspJw3uWDu9ws/2a3pmhXVvZvf/+XE1TEACxAgq34H+JWSJwJRa1qLQp5HalAT5vRBeJ4SOp+ogNqUATSk4EG7PTdSTyg0bwcTVAR9QUwonnyoq5NIM5Fd0Iu6n9fYdH7GkG9L5yEFS0hj3VZMr139Y5J3ucczaEy6gtASGDJcDTVVCHEzCa7l+xGctaTXFMUjEtGkIJvMgPFZuJ7l+OzXbiZxqiM6gKQcDt2MdV0agGBGMkbqcdg35NT7/vmY+QMKO03PoCL2YS9vNQT7UNlVBeAoy27JP+PeT4aFYIwU9JJdUZJsalnFfp9g5jI9QJvTxC9INLdEd7nqucgMVeoi/GDc+QaTSUTKeyoJ5Amng97UrcRrSSMiXMEp9qMNK4TYn5G3sL1uLnsftDs//QYlVHdAvjQZ0GLN0Grq0pOIDpMXzsU/Y+fYWb7+UdBX3wMuGcEXpOs6YPLoLMXUxpa0qI4GdvgqNI+7B7ajS3ffnYOb/wENVFfAH/695heeBL8TyHx9DnRTpmIwenMNg4IH0HbxaF8aifou8/C7X8w+XNowH7mAPD1p+FPvglc/18K0rlE0UuXsos6fAjN4S8Av5tYFoSz19Dex9x88xDxE3tBb/0N+NeljZE3QMh333sB2LEVvZRISxdhFj2awb18RITwFmh9ik7TA7KwDuwFP/8VYM/9wK8ugM7dQG3UD8LAnD99FS29x/TcI4RvPAlcOQC68DEgrgULyzqpev4pYOe2IhgpqqGdKfnTqT7sfhHOV58A//5d9f8B98o9Tx8EP74H9PC94rIk4L9+gemdq8HGzALCTNiR5DWnrxD/4xr4yAPAoe3gZz4D95yQubAG/+ECmoM5Ywx1hJmSPk3Fu0y2aLr78mPwNySePL5XArw8a4cE+IWPxCpugk9fB/3hKrDSplzKmwA0UnIQgQTjKfyv/wP/RwmdR/aA5yXAPrQH/oG9aLY61fqZkD6b6pYnVKCSUm6T+PG1g/A774O7fQt0WQh/5yrjzBJouV/H4M4z1cQABNBqhKWYVGpWuczsf/tf8r+5LFnSbhHEw+JaPieV0jUl3vuU6lPZHHW+3r//MWhhBv77FeDyCtwadAIQ3xNfqscbCkt1UD8LgtepkmY7qQNAidMt4Pckq7koEnnqEaKRTzGgkL2Z/JDK8mtn0GzfofenUR3hPr0mnPNUXQLVJ2KE1LIKRYloDQFtcEkcjiOtKzPyf86ZkSukN1rE62dL/vSHGG0T94OYcnJ8Tnp2fH5+X3xni9qoLgD2XmvHof4TyQrkR3JEPYNAvObzb15kXlwrM9/UJy5uSB6zcBv+jQ/ksmMtTSfSPZfncyA9CMQH66seBeqXIkIfIGqnWkGxhkyYj7pMq1Nqf3oGfGOlKyV05c2wCfntj//C7voKYo8s3RstLAgVWeN9tAIRspSgfHUXVD0GUC4zqM6mnlY6KJUESesbJrGA2fffJndYUsxHd4D2SRZ57Rb43SuM81fhmpGMG3EM7L0cp5vTabM4r6ToTZHrYQjzgCVhZJe4GfVAuc+bq8deGwDxq+y2jLYw//Uj+DO+tApiH2FEceUEe21kEqV+mFoDUzKCLixH/pdRGfUF4GdLcf0P5wyRSx3Hc5fE9Ptb0u2SXswojetkFVxObs+X6nO6L2W5KAW5OGARlTEACwhJykwUNIaj7IEQ8h/KJbkYFzbW9XUwitxKQ5K79nwZz73qXb/MVD0ID2EmvCS54jgE48y9Ouiky+xLQbN4KNJKJxMVzvV5nS9Dr2dciN6w3iismquM+gIgH5YSlmh4t7CYHRHrcivKSszZVxFlQREXq8hGUKJxWq7VhQETQCgrLKnSc1JjSlpd4nAHbdaXya0ynyN2JrZLbyjEEKers/KzVIiDKANFDCAGzJZ71YekpT2CCIXfOClL/j4mNrGkmYj1nbPPoSSEkWRdnVtK2ZQGeEcTVMYQLGAxegWvPiV7dyTSNricLjCklmXpunNHMuVWPrC53MbpFfkmmYdZGurhL/VLYiXJSXlMmqBp1CxLbyPfUJfEvQwnjSvhuhx0oiHf1aItBjjfLkUNjvpNlH10uNZPOGNg4G5eQAx/x7O6+UC3qDSKi9EtcfFpnAYMqUNNUBkDWBnnJmH2mtfzcGrmdkvMN6T4iKtw82po6gIE+gseuiwnGcRd423wYo1rJqiM+gKYzSapeFnS/LQWK00GQnxlXeyZl0hsylWzXfg0f0OWRRHSXYs+s/pp6CCyMf+llxflh+xKyc4d/FIWCzZOqjYjTc7SUEpRo8SATcOX3Lmf70Zl1C9HI7DTngy1eeKWY38ApTSt59pYZFNX1XYl626PVHb26f4oAE/a2JFzsUZ0R7n7dQwAgxCAgz8hxJ7XTlUbidS8PpDFHXmENqRDTNAGjozVmr+PJEMXlWrDRYnm1HRptenjW069gPMO7XEMAINwQRnt/NHjorYvCYv7uCsklJqDjuqV0lACAvezTeS4vKlwR2FdBJ0UrTtB509V9/8BgxJABs+/OBa7mNMtgMZBr9MfTsrcjcdOav9Bx106EeZxTma2/S5vA56kPEP2q6Dzdf8cyWAwGAwGg8FgMBgMBoPBYDAYDAaDwWAwGAwGg8FgMBgMBoPB8MnG/wGKOwC8AFXNHgAAAABJRU5ErkJggg==",className:r()(lU.default.pocket,{[lU.default.ani]:"pocket"===I}),onError:()=>{w(!0)}}),k&&(0,n.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATtSURBVHgBZVbNa11FFP+duTc1rWASqws/IC9aWnBjIxS0Yo0LKbpqF0IXgkIpLv0PNK5cVMG1oBT/grgTKhiLgt34AkIgVslLSb/SpH2hSdP33r1zembOmfuRXt7lzcw985tzfudrCPbwxxfnUJSfMHGHHDrIwyqB4TsgEgEOU+hq2JAGrsfyjQruo6Q+2PXLweDnfOGLS7Xsua+/hOd5LkqZedkjyxQASbETcBwwEr4NQd6G3hbkv7y3Mz925ZuviM/NdwRzlR8OgHCAL6Go0EMElFywhKM2wZCkfTWP32rzgkXFzgBjN3emcpTDOR6VoNEjYDAEex+lAmQ8CLqBKB2idHGw0puIHahnqSKZfNwdL8/kfgwdV3pZD/QUCryfgjCMYJQ8FsFN3TjlWh/b4YU67uSOqAPnQJmTYzOlxeioHq5Zg9kHNsWpJanrgT7BcmPZtMSKm0YEt5fqaGkg1tbYeL9I8yGj1TOLD3IB9ao9B0uopogsPPnJ7a1ZGlWBEKYSSTRxcDrnE0c7dHUlah/MsrAwwTCWww89BcweAaaeBm89AF+7CdraBu2zkGwcpyOP/KNTkznfGQOdPQn82gVu3DWn1RryS4fhPvsQmDxYIZFEml+4Ciz+A3rCFBk8NwE68zby3zY4d1duT/C4Y3z+AVG3B/5zBbS+obKHn4G7cNrAoTkylHwZDeHefw1+fRPU26iVOfoyaHYG/MaroJ+WQd17U8TvfhfDppggyi50ENziDjwL/n9TzCzg3jmmu0cjAZdcKQqdi794fRtYvgO8OAnMyB7sgv7bBX7vA9ceRKOIT33LKWUD53xMtD0hwidfAR04BJeRaj0cpmSwUiJOlbckoXhvAFq+Abp8C7Q2bIWWHHCxHSRWC8pij3H+OGVvvqBaE9WvU0/6zT2U3//N2e0R3CCkh7OooyqxnfDK+haazSzxJUGcZePAH+sG7trgzjy6dBf56h7RI09hDwtG2E9cyqSg8LpgtgBTAKfgRDEaYS7/tLIF/9ctBawS0bJ4S/yxsBLzhmLdEHn21X4B5LAumVxobqUw85ZjZqn/sYvy+n2400dAz0sePBzB//Iv+HIP2YhUKCFE21NxDxjyjd+aDzaFys9aR5ha2RktlFdo5NLHBhESMnOZQGkl4mYZQTtNxYLRmmB2kg3EdSWNvYasYGQSTrGUEGvYeWpWW1WG24WEqZfH0LMiTVZ4olA0SeHiPq2owRhq9KNACFGqQ1aMUp8SxTkP2RnLqwo125KFWgWnLdFOr8oh1+1Z+ae6ZzO2c3FjTxrDdOSial32H6zg2htKYcVMozUZA6wb40kxrLkvLbPoV84KKnlOzNRk2o2CzY3N3tPMUrsmKBNWH3LPfrsZCQzQ/i5CFhIVcDLWGmWz+TDXVslvNVKU+Ob2faJaa4LGoU8UhEXPbV0aSnleyyW9e46a8FxfEohSg6v9orWGUvSRUl8xmNpleCTgtvPMFT0unfLCRlGi2qu31HlGXVXLYA2+Uipmv3IW9SCXuSWNqNnzXYF4nZJzaw411i2Q24+5NB1eX8PIdOxR94cZp7LlWTFoTauhFD2phlK04lgqYixmcS2MuWB9S6ZQPmJGe9vnY8+QLrEo8/daTonnHP90Tv46HuWk8zwRF124N/K0chp4d3DVBu5VMnIJttUeLV1aTCKPAcNq/1Y+xOUuAAAAAElFTkSuQmCC",className:lU.default.badge})]}),(0,n.jsx)(eR.Z,{src:lj,height:36,width:36,viewBox:"0 0 36 36",className:r()(lU.default.svg,{[lU.default.show]:"svg"===I||"pocket"===I,[lU.default.apngAni]:"apng"===I,[lU.default.logo]:"pocket"===I,[lU.default.ani]:"pocket"===I})})]})})}function lG(e){let{abtestData:l,seq:o,onCouponChange:i,isLogin:t}=e,d=Number((null==l?void 0:l.douPlusEntryPerf)||0);return((0,a.useEffect)(()=>{i(!1)},[]),2===d||3===d)?(0,n.jsx)(lZ,{couponAnimate:2===d,seq:o,onCouponChange:i,isLogin:t}):(0,n.jsx)(eR.Z,{src:lj,height:36,width:36,viewBox:"0 0 36 36",className:r()(lU.default.svg,lU.default.show,{[lU.default.highlight]:1===d})})}var lO=o("597321"),lK=o("610371"),lq=o("186554"),lY={Enable:0,0:"Enable",OutDate:1,1:"OutDate",Private:2,2:"Private"};let lQ={notInterestingIcon:!0,unfollow:!0,report:!0,shortcutList:!1,dataAnalysis:!1,phoneResume:!1};function lX(e){var l,o,d,u,s,c,f,m,h,p,g;let{player:_,awemeInfo:w,loginUserInfo:x,loginDispatch:y,deleteCurrentSwiper:I,singleBox:k,setSingleBox:b,logInfo:S,isFollowClickedRef:j,toast:T,videoReportModalContainer:L,reportExtraParams:R={},ableMiniType:P=!1,showList:V,abtestData:D,actionUnFollow:B,showMusicDetail:W=!0,isLogin:U,onDislike:Z,loginPanelTarget:O,fullScreenTarget:K,isInnerFeed:q=!1,recordPreferVideoSwitch:Y,recommendTriggered:Q,showRecommendToFriend:X,onDouPlusClick:J}=e,{type:$,changeType:ee}=(0,H.P)({delayDisappear:50,delayShow:null!==(g=null==D?void 0:D.interactionDelay)&&void 0!==g?g:F.o}),[eo,ei]=(0,a.useState)(V.asrState===lu.Kw.On);(0,a.useEffect)(()=>{V.asrState===lu.Kw.On&&ei(!0)},[V]);let et=(0,a.useRef)(null),en=(0,a.useRef)(null),ea=(0,lq.I7)(null==w?void 0:w.awemeType,U),ed=(0,a.useMemo)(()=>V?(0,t._)((0,i._)({},lQ,V),{phoneResume:ea}):lQ,[V,ea]),er=(0,a.useMemo)(()=>{var e;return((null==w?void 0:w.createTime)+2592e3)*1e3<Date.now()?1:(null==w?void 0:null===(e=w.status)||void 0===e?void 0:e.privateStatus)!==0?2:0},[null==w?void 0:w.createTime,null==w?void 0:null===(l=w.status)||void 0===l?void 0:l.privateStatus]),{followStatus:eu}=(0,eF.r)({selfUid:null==x?void 0:null===(o=x.info)||void 0===o?void 0:o.uid,actionUid:null==w?void 0:null===(d=w.authorInfo)||void 0===d?void 0:d.uid,defaultFollowerStatus:null==w?void 0:null===(u=w.authorInfo)||void 0===u?void 0:u.followerStatus,defaultFollowStatus:null==w?void 0:null===(s=w.authorInfo)||void 0===s?void 0:s.followStatus}),es=(0,a.useCallback)(()=>{j.current=!0,(0,lv.V)(eu)&&(B(),ee("",!0))},[eu,ee,B,q]),ec=(0,a.useCallback)(async function(){let{clickMethod:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clickMethod:"icon"};if(!!(null==ed?void 0:ed.notInterestingIcon))Y&&(0,A.xL)(w,_,"dislike"),await Z({clickMethod:e,reportExtraParams:R}),ee("",!0),_.emit(z.Events.USER_ACTION,{action:"dislike"}),(0,eX.VY)({info:{[e$.BW.Dislike]:!0},awemeId:null==w?void 0:w.awemeId,abData:0})},[ee,ed,Z,R,_,null==w?void 0:w.awemeId]),ev=(0,a.useCallback)(async()=>{var e,l,o,i;if((0,G.Jt)(w)&&(0,G.Gu)(w)){null==_||_.emit(lO.B.AdReport);return}null==_||_.emit(z.Events.USER_ACTION,{action:"report"}),lp.sendLog("report",{urlParamList:["previous_page"],enter_from:(0,N.mo)(),author_id:null==w?void 0:null===(e=w.authorInfo)||void 0===e?void 0:e.uid,group_id:null==w?void 0:w.awemeId,log_pb:null==S?void 0:S.log_pb,is_full_screen:(0,E.r)()?"1":"0",play_current_time:Math.floor((null==_?void 0:_.currentTime)||0)}),v.emit(v.EVENT.videoPause,"More_onClickReport");if(w.awemeType===C.e.XgVideo){v.emit(v.EVENT.videoPause,"More_onClickReport1"),window.open((0,el.Tl)({videoid:null==w?void 0:w.awemeId,param:"envoke_tipoff",value:"1"}),(0,lm.f)()?"_self":void 0),null==I||I();return}(0,lr.m)({title:(null==w?void 0:w.awemeType)===C.e.Note?"举报图集":"举报视频",pipeline_id:(null==w?void 0:w.awemeType)===C.e.Note?"161":"157",object_id:null==w?void 0:w.awemeId,onClose:()=>{(0,lf.m)("reportModal"),v.emit(v.EVENT.videoRemoveStopPlayNext)},onShow:()=>{v.emit(v.EVENT.videoStopPlayNext),(0,lf.o)({pauseCustomShortcut:!0,pauseGlobalShortcut:!0,pausePlayControlShortcut:!0},"reportModal")},userInfo:null==x?void 0:x.info,loginDispatch:y,owner_id:null==w?void 0:null===(l=w.authorInfo)||void 0===l?void 0:l.uid,owner_sec_id:(null==w?void 0:null===(o=w.authorInfo)||void 0===o?void 0:o.secUid)||"",enter_from:(0,ex.yW)(),onReport:()=>{(0,eX.VY)({info:{[e$.BW.Report]:!0},awemeId:null==w?void 0:w.awemeId,abData:0})},abtestData:D},null!=L?L:(0,E.r)()&&(null==_?void 0:null===(i=_.config)||void 0===i?void 0:i.fullscreenTarget)),ee("")},[w,ee,S,L,x,y,_]),ef=a.useCallback(()=>{switch(er){case 1:T("发布超过30天的作品暂不支持分析");break;case 2:T("私密作品暂不支持分析");break;default:lp.sendLog("creatorDataEntranceClick"),window.open((0,el.hj)(null==w?void 0:w.awemeId),(0,lm.f)()?"_self":"_blank")}},[null==w?void 0:w.awemeId,er,T]),em=a.useCallback(async()=>{try{var e;null==_||_.emit(z.Events.USER_ACTION,{action:"phone_resume"}),lp.sendLog("continuedAppBroadcastClick",{enter_from:(0,N.vM)()});let{statusCode:l}=await (0,ls.wU)({item_id:w.awemeId,item_type:w.awemeType,record_type:2,play_progress:Math.floor(null!==(e=null==_?void 0:_.currentTime)&&void 0!==e?e:0),to_client:1});0===l?(v.emit(v.EVENT.videoPause,"More_onClickPhoneResume"),T("打开手机抖音继续观看")):T("网络错误，请稍后再试")}catch(e){T("网络错误，请稍后再试")}finally{ee("",!0)}},[w,ee,null==_?void 0:_.currentTime,T,_]),ep=a.useCallback(()=>{Q?null==_||_.emit(z.Events.USER_ACTION,{action:"cancel_recommend",source:"more_panel"}):null==_||_.emit(z.Events.USER_ACTION,{action:"recommend",source:"more_panel"}),ee("",!0)},[_,Q,ee]),eg=a.useCallback(()=>{ei(e=>{var l;return M.F.infoInModalVideo(e?"操作成功，此视频将不会在后台转为文稿":"已开启视频转文稿功能"),(0,lu.fG)({userId:null==x?void 0:null===(l=x.info)||void 0===l?void 0:l.uid,itemId:null==w?void 0:w.awemeId,status:e?lu.Kw.Off:lu.Kw.On}),!e})},[w,x]),e_=a.useCallback(async()=>{let e=null==w?void 0:w.awemeId;if(!!e)v.emit(v.EVENT.videoPause,"More_onClickDelete"),(0,lK.Z)({title:"你的作品将被永久删除，无法找回，确认删除？",cancelBtnText:"暂不删除",confirmBtnText:"确认删除",onConfirm:()=>new Promise(l=>{(0,lc.FD)({awemeIds:`${e}`}).then(e=>{if(e.isSuccess){var o;null==I||I(),M.F.info("删除成功");let e=null!==(o=A.Le.getConfig(A.gI.DeletePostList))&&void 0!==o?o:[];A.Le.setConfig(A.gI.DeletePostList,[...e,w]),l()}else M.F.info("作品因风险因素未能删除成功"),l()})}),onCancel:()=>{}})},[w,I]);(0,a.useEffect)(()=>{"more"!==k&&ee("",!0)},[k]);let ew=new Map([["notInterestingIcon","video-player-no-like"],["report","video-player-report"],["shortcutList","video-player-shoret-cut"]]),ey=(0,a.useRef)({douPlusShowCoupon:!1}),eI=(0,a.useCallback)(e=>{ey.current.douPlusShowCoupon=e},[]);(0,a.useEffect)(()=>{"more"===$&&J&&lW.Z.report("show_dou_plus",{dou_plus_source:"origin_entrance",dou_plus_sub_source:"douyin",dou_plus_medium:"douyin_PC_moresettings",dou_plus_entrance_type:1,dou_plus_entrance_level:1,dou_plus_entrance_seq:ek.findIndex(e=>"douPlus"===e.key),dou_plus_referer:"homepage_hot",target_step:1,has_coupon:0})},[$]);let ek=lT({followStatus:eu,handleClickNotInteresting:ec,handleClickReport:ev,handleClickDelete:e_,handleClickUnfollow:es,handleClickPhoneResume:em,handleClickRecommendIcon:ep,showList:ed,awemeInfo:w,loginUserInfo:x,dataAnalysisStatus:er,handleClickAnalysis:ef,userInfo:null==x?void 0:x.info,handleClickASR:eg,isAsrOn:eo,player:_,recommendTriggered:Q,showRecommendToFriend:X,abtestData:D,onDouPlusClick:J,loginDispatch:y,moreBoxParamsRef:ey});(0,a.useEffect)(()=>{var e,l;let o=(null==w?void 0:null===(e=w.authorInfo)||void 0===e?void 0:e.uid)!==(null==x?void 0:null===(l=x.info)||void 0===l?void 0:l.uid)&&(null==ed?void 0:ed.notInterestingIcon);return o&&(null==_||_.on(lO.B.Dislike,ec)),null==_||_.on("showReportModal",ev),()=>{o&&(null==_||_.off(lO.B.Dislike,ec)),null==_||_.off("showReportModal",ev)}},[_,ec,w,ed,ev,x]);let eb=(0,a.useCallback)(()=>{lp.sendLog("moreFeatureShow",{enter_from:(0,N.vM)()}),(null==ed?void 0:ed.dataAnalysis)&&lp.sendLog("creatorDataEntranceShow")},[null==ed?void 0:ed.dataAnalysis]),eC=null==w?void 0:null===(f=w.status)||void 0===f?void 0:null===(c=f.videoMute)||void 0===c?void 0:c.isMute,eS=W&&(null==w?void 0:null===(m=w.music)||void 0===m?void 0:m.status)&&(null==w?void 0:null===(h=w.music)||void 0===h?void 0:h.playUrl.uri)&&!eC,eE=(0,eh.x)(eb),eN=(0,a.useCallback)(()=>{var e;b("more"),ee("more"),v.emit(null==v?void 0:null===(e=v.EVENT)||void 0===e?void 0:e.clarityRel,{hoverSelected:!0})},[]),ej=(0,a.useCallback)(()=>{var e;lp.sendLog("hover_more_active_icon",{enter_from:(0,N.mo)()}),ee(""),v.emit(null==v?void 0:null===(e=v.EVENT)||void 0===e?void 0:e.clarityRel,{hoverSelected:!1})},[]);return(0,n.jsxs)("div",{className:r()(lg.default.more,{[lg.default.ableMiniType]:P}),onMouseEnter:eN,onMouseLeave:ej,ref:et,"data-e2e":"video-play-more",children:[(0,n.jsx)(eR.Z,{src:lh.Z,viewBox:"0 0 36 36",height:36,width:36,needRenderInSSR:!0,className:lg.default.svgWraper}),(0,n.jsx)("div",{ref:eE,className:lg.default.moreBox,style:{display:"more"!==$?"none":"flex",width:(null==ek?void 0:ek.length)<=3&&eS?"240px":`${72*(null==ek?void 0:ek.length)+24}px`},onMouseEnter:()=>{ee("more")},onMouseLeave:()=>{ee("",!0)},children:"more"!==$?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:lg.default.moreList,ref:en,children:ek.map((e,l)=>{var o;return(0,n.jsxs)("div",{className:r()(lg.default.itemWrap,e.className),onClick:o=>e.onClick(o,l),"data-e2e":null!==(o=ew.get(e.key))&&void 0!==o?o:"",children:[(0,n.jsxs)("div",{className:lg.default.itemIcon,children:[e.customComponent&&"douPlus"===e.key&&(0,n.jsx)(lG,{abtestData:D,seq:l,onCouponChange:eI,isLogin:U},e.key),!e.customComponent&&(e.isSemiIcon?(0,n.jsx)(e.icon,{className:lg.default.semiIcon}):(0,n.jsx)(eR.Z,(0,i._)({src:e.icon,height:36,width:36,viewBox:"0 0 36 36"},(null==e?void 0:e.svgProps)||{})))]}),(0,n.jsx)("div",{className:lg.default.itenDesc,children:e.desc})]},e.key)})}),eS&&(0,n.jsx)(lB,{width:null==en?void 0:null===(p=en.current)||void 0===p?void 0:p.clientWidth,awemeInfo:w,isLogin:U,loginDispatch:y,isShow:"more"===$,fullScreenTarget:K,loginPanelTarget:O,toast:T,player:_,abtestData:D})]})})]})}var lJ=o("894416"),l$=o("614908"),l0=o("530240"),l1=o("426798"),l2=o("309931"),l5=o("149250"),l3=o("598467"),l4=o("147613"),l7=o("720359"),l6=o("353639"),l8=o("506467"),l9=o("469809"),oe=o("877639"),ol=o.n(oe),oo=o("572076"),oi=o("366202"),ot=o("914815"),on=o("58957"),oa=o("764942"),od=o("709409");let or=e=>{let{awemeInfo:l,player:o,size:d}=e,[u,s]=(0,a.useState)(1e3*o.currentTime),[c,v]=(0,a.useState)(!1),f=(0,a.useRef)(),m=(0,a.useRef)(!1),h=(0,a.useCallback)(()=>{var e,l,o,i;m.current=!1,null===(l=window.documentPictureInPicture)||void 0===l||null===(e=l.window)||void 0===e||e.removeEventListener("mousemove",g),null===(i=window.documentPictureInPicture)||void 0===i||null===(o=i.window)||void 0===o||o.removeEventListener("mouseup",_)},[]),p=e=>{var i,t,n,a;return{position:(null==o?void 0:o.currentTime)||0,enter_from:(0,N.mo)(),enter_from_merge:(0,N.vM)(),tab_name:(0,L.zD)()||(0,j.Rs)("tab_name")||"",rate:null==e?void 0:e.percent,action:(null==e?void 0:e.currentTime)>(null==e?void 0:e.prePlayTime)?"forward":"rewind",is_small_window:(0,oa.f)()?"1":"0",is_chapter_bar:(null==l?void 0:null===(i=l.chapterInfo)||void 0===i?void 0:i.status)?1:0,chapter_index:(0,ot.P)({awemeInfo:l,currentTime:null==e?void 0:e.currentTime}),group_id:null==l?void 0:l.awemeId,author_id:null==l?void 0:null===(t=l.authorInfo)||void 0===t?void 0:t.uid,vduration:null==l?void 0:null===(n=l.video)||void 0===n?void 0:n.duration,if_continued_play:A.Le.getConfig(A.gI.PlayRecord)?(0,od.v)(l.awemeId)?1:0:"",before_rate:(null==e?void 0:e.prePlayTime)*1e3/(null==l?void 0:null===(a=l.video)||void 0===a?void 0:a.duration),before_position:null==e?void 0:e.prePlayTime,is_ting_window:1,player_display_mode:(0,N.Ok)()}},g=(0,a.useCallback)(e=>{if(!!m.current)try{let l=f.current.getBoundingClientRect(),i=e.clientX-l.left,t=(i=Math.max(0,Math.min(l.width,i)))/l.width,n=o.duration*t;o.seek(n),s(1e3*n)}catch(e){h()}},[h,o]),_=(0,a.useCallback)(()=>{m.current?h():eS.logInstance.sendLog("progressClick",(0,t._)((0,i._)({},p({})),{click_method:"click"}))},[h]);(0,a.useEffect)(()=>()=>{m.current&&h()},[h]);let w=(0,a.useCallback)(e=>{if(m.current)return;let l=f.current.getBoundingClientRect(),n=e.clientX-l.left,a=(n=Math.max(0,Math.min(l.width,n)))/l.width,d=o.duration*a;o.seek(d),eS.logInstance.sendLog("progressClick",(0,t._)((0,i._)({},p({})),{click_method:"click"}))},[o]),x=(0,a.useCallback)(e=>{var l,o;e.stopPropagation(),e.preventDefault(),m.current=!0,null===(l=window.documentPictureInPicture)||void 0===l||l.window.addEventListener("mousemove",g),null===(o=window.documentPictureInPicture)||void 0===o||o.window.addEventListener("mouseup",_)},[g,_]);(0,a.useEffect)(()=>{if(o){let e=e=>{if(!m.current){var l;s((null!==(l=e.currentTime)&&void 0!==l?l:0)*1e3)}};return o.on("timeupdate",e),()=>{o.off("timeupdate",e)}}},[o]);let y=d.height>490;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:r()(on.default.time,on.default.left,{[on.default.bigSize]:y}),children:(0,lR.$y)(u)}),(0,n.jsx)("div",{className:r()(on.default.progressWrapper,{[on.default.bigSize]:y}),ref:f,onClick:w,onMouseEnter:()=>{v(!0)},onMouseLeave:()=>{v(!1)},onMouseDown:x,children:(0,n.jsxs)("div",{className:r()(on.default.progress,{[on.default.bigSize]:y}),children:[(0,n.jsx)("div",{className:r()(on.default.currentProgress,{[on.default.bigSize]:y}),style:{width:`${u/(null==l?void 0:l.video.duration)*100}%`}}),(0,n.jsx)("div",{className:r()(on.default.progressHoverDot,{[on.default.show]:c}),style:{left:`${u/(null==l?void 0:l.video.duration)*100}%`}})]})}),(0,n.jsx)("div",{className:r()(on.default.time,on.default.right,{[on.default.bigSize]:y}),children:(0,lR.$y)(null==l?void 0:l.video.duration)})]})};var ou=o("767449"),os=o("317226");let oc=(0,a.forwardRef)((e,l)=>(0,n.jsxs)("svg",(0,t._)((0,i._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:[(0,n.jsx)("path",{d:"M13.213 1.964c0-.399-.471-.611-.77-.347l-2.958 2.61a.618.618 0 0 0 0 .926l2.958 2.61c.299.264.77.051.77-.348V5.583a7.71 7.71 0 1 1-7.89 3.76.797.797 0 0 0-1.38-.797 9.304 9.304 0 1 0 9.27-4.574V1.964z",fill:"#fff"}),(0,n.jsx)("path",{d:"M8.93 16.546c0 .473.254.753.69.753.441 0 .696-.275.696-.753v-5.57c0-.525-.338-.873-.841-.873-.291 0-.587.104-.96.358l-.93.65c-.265.176-.4.368-.4.586 0 .286.213.498.498.498.151 0 .28-.046.504-.192l.711-.503h.031v5.046zM11.497 15.799c0 .794.997 1.588 2.404 1.588 1.61 0 2.695-1.012 2.695-2.523 0-1.37-.93-2.305-2.28-2.305-.607 0-1.183.228-1.428.56h-.072l.145-1.832h2.684c.421 0 .66-.203.66-.566 0-.364-.244-.576-.66-.576h-2.938c-.571 0-.867.238-.904.732l-.192 2.668c-.03.478.26.784.686.784.192 0 .342-.062.649-.322a1.65 1.65 0 0 1 1.007-.368c.748 0 1.282.519 1.282 1.277 0 .784-.555 1.329-1.34 1.329-.529 0-.944-.244-1.271-.732-.172-.244-.338-.338-.556-.338-.348 0-.57.276-.57.623z",fill:"#fff"})]}))),ov=(0,a.forwardRef)((e,l)=>(0,n.jsxs)("svg",(0,t._)((0,i._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:[(0,n.jsx)("path",{d:"M12.09 1.617a.463.463 0 0 0-.77.347v1.953a9.304 9.304 0 1 0 8.738 4.629.797.797 0 1 0-1.381.797 7.71 7.71 0 1 1-7.357-3.826v1.898c0 .4.47.612.77.348l2.957-2.61a.618.618 0 0 0 0-.926l-2.957-2.61z",fill:"#fff"}),(0,n.jsx)("path",{d:"M9.62 17.299c-.437 0-.691-.28-.691-.753V11.5h-.031l-.711.503c-.224.146-.353.192-.504.192a.486.486 0 0 1-.498-.498c0-.218.135-.41.4-.587l.929-.649c.373-.254.67-.358.96-.358.504 0 .841.348.841.872v5.571c0 .478-.254.753-.695.753zM13.9 17.387c-1.407 0-2.403-.794-2.403-1.588 0-.348.223-.623.57-.623.219 0 .385.093.556.337.327.488.743.732 1.272.732.784 0 1.34-.545 1.34-1.329 0-.758-.535-1.277-1.283-1.277-.347 0-.7.13-1.007.368-.306.26-.457.322-.649.322-.425 0-.716-.306-.685-.784l.192-2.668c.036-.494.332-.732.903-.732h2.939c.415 0 .66.213.66.576s-.24.566-.66.566h-2.684l-.146 1.833h.073c.244-.333.82-.561 1.428-.561 1.35 0 2.28.934 2.28 2.305 0 1.51-1.086 2.523-2.696 2.523z",fill:"#fff"})]}))),of=(0,a.forwardRef)((e,l)=>(0,n.jsxs)("svg",(0,t._)((0,i._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:[(0,n.jsx)("path",{d:"M20.24 16.78V7.21c0-1.96-2.13-3.19-3.83-2.21l-4.15 2.39-4.15 2.4c-1.7.98-1.7 3.43 0 4.41l4.15 2.4 4.15 2.39c1.7.98 3.83-.24 3.83-2.21z",fill:"#fff",fillOpacity:".5"}),(0,n.jsx)("path",{d:"M3.76 5.07c.41 0 .75.34.75.75v12.36c0 .41-.34.75-.75.75s-.75-.34-.75-.75V5.82c0-.41.33-.75.75-.75z",fill:"#fff"})]}))),om=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M6.328 5.177c0-.971 1.037-1.578 1.866-1.093l11.512 6.736c.83.486.83 1.7 0 2.186L8.194 19.742c-.83.485-1.866-.122-1.866-1.093V5.177z",fill:"#161823"})}))),oh=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M2 0a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1H2zM11 0a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1h-3z",fill:"#161823"})}))),op=e=>{let{size:l,player:o,disablePrev:i,disableNext:t,awemeInfo:d}=e,[u,s]=(0,a.useState)(i),[c,f]=(0,a.useState)(t),[m,h]=(0,a.useState)(o.paused);(0,a.useEffect)(()=>{let e=v.listen(v.EVENT.ListenVideoPipWindowStatusSync,e=>{let{to:l,type:o,newVal:i}=e;"pip"===l&&("disableNextStatusSync"===o&&f(i),"disablePrevStatusSync"===o&&s(i))});return()=>{e()}},[s,f]);(0,a.useEffect)(()=>{if(o){let e=()=>{h(!0)},l=()=>{h(!1)};return o.on("pause",e),o.on("play",l),()=>{o.off("pause",e),o.off("play",l)}}},[o]);let p=ol()(()=>{if(!u)v.emit(v.EVENT.ListenVideoPipWindowStatusSync,{from:"pip",to:"main",type:"playPrev",newVal:""})},300,{leading:!0,trailing:!0}),g=ol()(()=>{if(!c)v.emit(v.EVENT.ListenVideoPipWindowStatusSync,{from:"pip",to:"main",type:"playNext",newVal:""})},300,{leading:!0,trailing:!0}),_=l.height>490,w=_&&l.width>480;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsx)(eR.Z,{width:_?32:24,height:_?32:24,viewBox:"0 0 24 24",src:oc,className:r()(os.default.controlNoramlIcon),onClick:()=>{eS.logInstance.sendLog("clickPrevious15s",{enter_from:(0,ex.yW)(),is_ting_window:1,group_id:d.awemeId}),o.seek(Math.max(0,o.currentTime-15),o.paused?"pause":"play")}})}),(0,n.jsxs)("div",{className:r()(os.default.center,{[os.default.bigSize]:_,[os.default.bigWidth]:_?w:l.width>480}),children:[(0,n.jsx)(eR.Z,{width:_?32:24,height:_?32:24,viewBox:"0 0 24 24",src:of,className:r()(os.default.controlNoramlIcon,{[os.default.disable]:u}),onClick:p}),(0,n.jsxs)("div",{className:r()(os.default.playBg,{[os.default.bigSize]:_,[os.default.bigWidth]:_?w:l.width>480}),onClick:()=>{null==o||o.emit(ou.xf,{action:"switch_play_pause",paused:o.paused}),o.paused?o.play():o.pause()},children:[m&&(0,n.jsx)(eR.Z,{width:_?36:24,height:_?36:24,viewBox:"0 0 24 24",src:om}),!m&&(0,n.jsx)(eR.Z,{width:_?24:16,height:_?24:16,viewBox:"0 0 16 16",src:oh})]}),(0,n.jsx)(eR.Z,{width:_?32:24,height:_?32:24,viewBox:"0 0 24 24",src:of,className:r()(os.default.controlNoramlIcon,os.default.next,{[os.default.disable]:c}),onClick:g})]}),(0,n.jsx)("div",{children:(0,n.jsx)(eR.Z,{width:_?32:24,height:_?32:24,viewBox:"0 0 24 24",src:ov,className:r()(os.default.controlNoramlIcon),onClick:()=>{eS.logInstance.sendLog("clickNext15s",{enter_from:(0,ex.yW)(),is_ting_window:1,group_id:d.awemeId}),o.seek(Math.min(o.duration,o.currentTime+15),o.paused?"pause":"play")}})})]})};var og=o("797973"),o_=o("434739"),ow=o("297517"),ox=o("901363"),oy=o("362501");let oI=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M13.701 3.249a5.75 5.75 0 0 1 5.75 5.75v2a5.75 5.75 0 0 1-5.75 5.75h-1.566l.415.415a.75.75 0 0 1-1.06 1.06l-1.528-1.527a.99.99 0 0 1 0-1.4l1.527-1.528a.75.75 0 0 1 1.06 1.061l-.418.419h1.57a4.25 4.25 0 0 0 4.25-4.25v-2a4.25 4.25 0 0 0-4.25-4.25h-1.75v-1.5h1.75zM7.343 1.772a.75.75 0 0 1 1.06 0L9.931 3.3a.99.99 0 0 1 0 1.4L8.403 6.227a.75.75 0 0 1-1.06-1.06l.413-.413H6.299a4.25 4.25 0 0 0-4.25 4.25v2a4.25 4.25 0 0 0 4.25 4.25h1.75v1.5h-1.75a5.75 5.75 0 0 1-5.75-5.75v-2a5.75 5.75 0 0 1 5.75-5.75h1.465l-.421-.421a.75.75 0 0 1 0-1.06z",fill:"#fff"})}))),ok=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M11 3.25a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1 0-1.5h9zM11 9.25a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1 0-1.5h9zM11 15.25a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1 0-1.5h9zM16.504 2.755a.75.75 0 0 1 .75.75V12.5h1.493c.905 0 1.344 1.105.687 1.727l-2.248 2.125a1 1 0 0 1-1.374 0l-2.248-2.125c-.658-.622-.219-1.727.686-1.727h1.504V3.505a.75.75 0 0 1 .75-.75z",fill:"#fff"})}))),ob=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M11 3.25a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1 0-1.5h9zM11 9.25a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1 0-1.5h9zM11 15.25a.75.75 0 0 1 0 1.5H2a.75.75 0 0 1 0-1.5h9zM16.494 16.624a.75.75 0 0 1-.75-.75V6.879h-1.493c-.904 0-1.344-1.105-.686-1.727l2.248-2.125a1 1 0 0 1 1.374 0l2.248 2.125c.657.622.218 1.727-.687 1.727h-1.504v8.995a.75.75 0 0 1-.75.75z",fill:"#fff"})}))),oC=(0,a.forwardRef)((e,l)=>(0,n.jsxs)("svg",(0,t._)((0,i._)({width:10,height:6,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:[(0,n.jsx)("g",{clipPath:"url(#ic_tip_svg__clip0_6469_14503)",children:(0,n.jsx)("path",{d:"M3.887 1.75a1.5 1.5 0 0 1 2.346.151L9.52 6.646l.06.094C10.164 7.724 9.46 9 8.287 9H1.713C.503 9-.21 7.64.48 6.646L3.767 1.9l.12-.151z",fill:"#33343F",stroke:"#33343F"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"ic_tip_svg__clip0_6469_14503",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h10v6H0z"})})})]})));var oS=o("550339"),oE=o("943695"),oN=o("901414");let oj=e=>{let{isInnerFeed:l,player:o,size:i,awemeInfo:t}=e,[d,u]=(0,a.useState)(!1),[s,f]=(0,a.useState)((()=>{if(!l)return Number((0,oS.G9)());{var e;let l=(0,I.$o)(y.LocalStorageKeys.PLAYER_INNER_NEXT_AUTOPLAY),o=null===(e=A.Le.getConfig(A.gI.InnerAutoPlay))||void 0===e?void 0:e.modeIndex;if("number"==typeof o)return o;if(Number(l))return 2===Number(l)?oE.KM.Reverse:oE.KM.Nomal;return null===l?oE.KM.Nomal:oE.KM.Cycle}})()),m=l?["order","reverse","loop"]:["loop","order"],h={order:"sequential",loop:"single",reverse:"inverted"};(0,a.useEffect)(()=>{if(l){let e=oN.e.getPipWindow({scene:l3.d.ListenVideo});if(e){let l=e=>{var l,i;let t=null==e?void 0:null===(l=e.target)||void 0===l?void 0:l.tagName;if("INPUT"!==t&&"TEXTAREA"!==t&&(null==e?void 0:null===(i=e.target)||void 0===i?void 0:i.contentEditable)!=="true")(null==e?void 0:e.code)===c.SHORTCUT_KEY.autoPlay.code&&!(0,oy.QD)()&&f(e=>{let l=(e+1)%3;return o.emit(lO.B.UpdateAutoPlay,{index:l}),v.emit(v.EVENT.changeInnerAutoPlay,l),l})};return e.addEventListener("keydown",l),()=>{e.removeEventListener("keydown",l)}}}},[l,o]),(0,a.useEffect)(()=>{if(o&&!l){let e=e=>{f(e=>(e+1)%2)};return null==o||o.on(lO.B.UpdateAutoPlaySwitch,e),()=>{null==o||o.off(lO.B.UpdateAutoPlaySwitch,e)}}},[o,l]);let p=i.height>490;return(0,n.jsxs)("div",{className:r()(ox.default.playOrderContainer,{[ox.default.bgSize]:p}),onClick:()=>{f(e=>{let i=(e+1)%m.length;return eS.logInstance.sendLog("clickRepeatPlayback",{enter_from:(0,ex.yW)(),group_id:null==t?void 0:t.awemeId,is_ting_window:1,status:h[m[i]]}),l?(o.emit(lO.B.UpdateAutoPlay,{index:i}),v.emit(v.EVENT.changeInnerAutoPlay,i)):((0,I.qQ)(y.LocalStorageKeys.PLAYER_NEXT_AUTOPLAY,String(i)),o.emit("updateIsAutoPlay")),i})},onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},children:["loop"===m[s]&&(0,n.jsx)(eR.Z,{width:p?32:20,height:p?32:20,src:oI,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon)}),"order"===m[s]&&(0,n.jsx)(eR.Z,{width:p?32:20,height:p?32:20,src:ok,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon)}),"reverse"===m[s]&&(0,n.jsx)(eR.Z,{width:p?32:20,height:p?32:20,src:ob,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon)}),d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eR.Z,{width:10,height:6,src:oC,viewBox:"0 0 10 6",className:ox.default.tipArrow}),(0,n.jsx)("div",{className:ox.default.tip,children:{order:"顺序播放",loop:"循环播放",reverse:"倒序播放"}[m[s]]})]})]})},oA=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M10 4.75H6.5A4.25 4.25 0 0 0 2.25 9v3a4.25 4.25 0 0 0 4.25 4.25h7A4.25 4.25 0 0 0 17.75 12V7.467h1.5V12a5.75 5.75 0 0 1-5.75 5.75h-7A5.75 5.75 0 0 1 .75 12V9A5.75 5.75 0 0 1 6.5 3.25H10v1.5zm3.322 3.394c1.696 0 2.024 1.072 2.024 2.936 0 1.992-.336 3.016-2.016 3.016-1.688 0-2.015-1.024-2.015-2.904s.327-3.048 2.007-3.048zM7.68 14H6.504V9.384L5.32 10V8.944l1.432-.704h.928V14zm2.676 0h-1.32v-1.32h1.32V14zm2.959-4.816c-.776 0-.81.608-.81 1.984 0 1.296.017 1.896.825 1.896.784 0 .8-.6.8-1.936 0-1.344-.016-1.944-.816-1.944zM12 2.207a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 12 5.793V2.207zm4 0a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 16 5.793V2.207z",fill:"#fff"})}))),oT=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M10 4.75H6.5A4.25 4.25 0 0 0 2.25 9v3a4.25 4.25 0 0 0 4.25 4.25h7A4.25 4.25 0 0 0 17.75 12V7.467h1.5V12a5.75 5.75 0 0 1-5.75 5.75h-7A5.75 5.75 0 0 1 .75 12V9A5.75 5.75 0 0 1 6.5 3.25H10v1.5zM5.408 8.144c1.696 0 2.024 1.072 2.024 2.936 0 1.992-.336 3.016-2.016 3.016-1.688 0-2.016-1.024-2.016-2.904s.328-3.048 2.008-3.048zM16.731 9.28H14.5l-.08 1.24c.288-.216.512-.264.872-.264 1.16 0 1.815.944 1.815 1.864 0 1.4-1.055 1.976-2.055 1.976-.848 0-1.472-.392-1.88-1.048l.768-.704c.247.432.591.696 1.095.696.512 0 .929-.368.929-.888 0-.64-.433-.984-.969-.984-.367 0-.567.152-.823.464l-.88-.344.2-3.048h3.24v1.04zM9.208 14h-1.32v-1.32h1.32V14zm4.025-4.824L11.193 14h-1.16l1.96-4.688H9.386V8.24h3.847v.936zM5.4 9.184c-.776 0-.808.608-.808 1.984 0 1.296.016 1.896.824 1.896.784 0 .8-.6.8-1.936 0-1.344-.016-1.944-.816-1.944zM12 2.207a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 12 5.793V2.207zm4 0a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 16 5.793V2.207z",fill:"#fff"})}))),oL=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M10 4.75H6.5A4.25 4.25 0 0 0 2.25 9v3a4.25 4.25 0 0 0 4.25 4.25h7A4.25 4.25 0 0 0 17.75 12V7.467h1.5V12a5.75 5.75 0 0 1-5.75 5.75h-7A5.75 5.75 0 0 1 .75 12V9A5.75 5.75 0 0 1 6.5 3.25H10v1.5zm5.802 4.53H13.57l-.08 1.24c.288-.216.512-.264.872-.264 1.16 0 1.816.944 1.816 1.864 0 1.4-1.056 1.976-2.056 1.976-.848 0-1.472-.392-1.88-1.048l.768-.704c.248.432.592.696 1.095.696.512 0 .929-.368.93-.888 0-.64-.434-.984-.97-.984-.367 0-.567.152-.823.464l-.88-.344.2-3.048h3.24v1.04zM5.68 14H4.504V9.384L3.32 10V8.944l1.432-.704h.928V14zm2.176 0h-1.32v-1.32h1.32V14zm2.146-5.856c1.256 0 2 .664 2 1.76 0 .616-.248 1.04-.76 1.6l-1.384 1.512h2.16V14H8.266l-.016-.864 1.976-2.048c.24-.256.424-.472.52-.648a.924.924 0 0 0 .128-.512c0-.368-.288-.72-.792-.72-.488 0-.816.224-1.056.736l-.872-.592c.424-.768 1.064-1.208 1.832-1.208h.016zM12 2.207a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 12 5.793V2.207zm4 0a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 16 5.793V2.207z",fill:"#fff"})}))),oR=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M10 4.75H6.5A4.25 4.25 0 0 0 2.25 9v3a4.25 4.25 0 0 0 4.25 4.25h7A4.25 4.25 0 0 0 17.75 12V7.467h1.5V12a5.75 5.75 0 0 1-5.75 5.75h-7A5.75 5.75 0 0 1 .75 12V9A5.75 5.75 0 0 1 6.5 3.25H10v1.5zm4.794 4.53h-2.232l-.08 1.24c.288-.216.513-.264.873-.264 1.16 0 1.815.944 1.815 1.864 0 1.4-1.056 1.976-2.056 1.976-.848 0-1.472-.392-1.88-1.048l.768-.704c.248.432.592.696 1.096.696.511 0 .928-.368.928-.888 0-.64-.432-.984-.968-.984-.368 0-.568.152-.824.464l-.88-.344.2-3.048h3.24v1.04zM7.68 14H6.504V9.384L5.32 10V8.944l1.432-.704h.928V14zm2.676 0h-1.32v-1.32h1.32V14zM12 2.207a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 12 5.793V2.207zm4 0a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 16 5.793V2.207z",fill:"#fff"})}))),oM=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M10 4.75H6.5A4.25 4.25 0 0 0 2.25 9v3a4.25 4.25 0 0 0 4.25 4.25h7A4.25 4.25 0 0 0 17.75 12V7.467h1.5V12a5.75 5.75 0 0 1-5.75 5.75h-7A5.75 5.75 0 0 1 .75 12V9A5.75 5.75 0 0 1 6.5 3.25H10v1.5zm3.354 3.394c1.695 0 2.023 1.072 2.023 2.936 0 1.992-.336 3.016-2.016 3.016-1.688 0-2.015-1.024-2.015-2.904s.328-3.048 2.008-3.048zm-7.266 0c1.256 0 2 .664 2 1.76 0 .616-.248 1.04-.76 1.6l-1.384 1.512h2.16V14H4.352l-.016-.864 1.976-2.048c.24-.256.424-.472.52-.648a.924.924 0 0 0 .128-.512c0-.368-.288-.72-.792-.72-.488 0-.816.224-1.056.736l-.872-.592c.424-.768 1.064-1.208 1.832-1.208h.016zm4.3 5.856h-1.32v-1.32h1.32V14zm2.958-4.816c-.776 0-.809.608-.809 1.984 0 1.296.016 1.896.824 1.896.784 0 .8-.6.8-1.936 0-1.344-.016-1.944-.815-1.944zM12 2.207a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 12 5.793V2.207zm4 0a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 16 5.793V2.207z",fill:"#fff"})}))),oP=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M10 4.75H6.5A4.25 4.25 0 0 0 2.25 9v3a4.25 4.25 0 0 0 4.25 4.25h7A4.25 4.25 0 0 0 17.75 12V7.467h1.5V12a5.75 5.75 0 0 1-5.75 5.75h-7A5.75 5.75 0 0 1 .75 12V9A5.75 5.75 0 0 1 6.5 3.25H10v1.5zM7.864 9.168l-1.408 1.296h.096c.904.056 1.536.792 1.536 1.688 0 1.176-.912 1.944-2.184 1.944-.648 0-1.36-.336-1.744-.84l.664-.816c.304.392.696.584 1.176.584.544 0 .92-.376.92-.872 0-.512-.456-.8-.992-.8-.312 0-.6.024-.864.072v-.888L6.376 9.28H4.328V8.24h3.536v.928zm5.427-1.024c1.696 0 2.024 1.072 2.024 2.936 0 1.992-.336 3.016-2.016 3.016-1.688 0-2.016-1.024-2.016-2.904s.328-3.048 2.008-3.048zM10.325 14h-1.32v-1.32h1.32V14zm2.958-4.816c-.776 0-.808.608-.808 1.984 0 1.296.016 1.896.824 1.896.784 0 .8-.6.8-1.936 0-1.344-.016-1.944-.816-1.944zM12 2.207a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 12 5.793V2.207zm4 0a.5.5 0 0 1 .854-.353l1.793 1.792a.5.5 0 0 1 0 .708l-1.793 1.792A.5.5 0 0 1 16 5.793V2.207z",fill:"#fff"})}))),oV=e=>{let{player:l,size:o,awemeInfo:i}=e,[t,d]=(0,a.useState)(l.playbackRate||1),[u,s]=(0,a.useState)(!1),c=e=>{let{rate:o,clickMethod:i}=e;"manual"===i&&(l.emit("playRatioChange",o),l.emit("updatePlayBackRatio",o)),l.config.defaultPlaybackRate=Number(o),l.playbackRate=Number(o),d(Number(o))};(0,a.useEffect)(()=>{if(l){let e=()=>{if(t!==l.playbackRate)1.75===l.playbackRate?d(1.5):c({rate:l.playbackRate})};return 1.75===l.playbackRate&&d(1.5),l.on(z.Events.RATE_CHANGE,e),()=>{l.off(z.Events.RATE_CHANGE,e)}}},[l,t,c]);let v=o.height>490;return(0,n.jsxs)("div",{className:r()(ox.default.playRateContainer,{[ox.default.bgSize]:v}),onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)},children:[.75===t&&(0,n.jsx)(eR.Z,{width:v?32:20,height:v?32:20,src:oT,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon)}),1===t&&(0,n.jsx)(eR.Z,{width:v?32:20,height:v?32:20,src:oA,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon)}),1.25===t&&(0,n.jsx)(eR.Z,{width:v?32:20,height:v?32:20,src:oL,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon)}),1.5===t&&(0,n.jsx)(eR.Z,{width:v?32:20,height:v?32:20,src:oR,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon)}),2===t&&(0,n.jsx)(eR.Z,{width:v?32:20,height:v?32:20,src:oM,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon)}),3===t&&(0,n.jsx)(eR.Z,{width:v?32:20,height:v?32:20,src:oP,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon)}),u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:ox.default.space}),(0,n.jsx)("div",{className:ox.default.playbackRate,children:["0.75","1.0","1.25","1.5","2.0","3.0"].map(e=>(0,n.jsxs)("span",{className:r()(ox.default.item,{[ox.default.active]:l.playbackRate===Number(e)||1.75===l.playbackRate&&1.5===Number(e)}),onClick:()=>{c({rate:Number(e),clickMethod:"manual"}),s(!1)},children:[e,"x"]},e))})]})]})};o("777180");let oD=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M7.71 3.047c1.762-1.626 4.615-.376 4.615 2.021v9.864c0 2.397-2.853 3.647-4.615 2.021l-2.856-2.637a.25.25 0 0 0-.17-.066H3.576a2.75 2.75 0 0 1-2.75-2.75v-3a2.75 2.75 0 0 1 2.75-2.75h1.11a.25.25 0 0 0 .169-.066L7.71 3.047zm3.115 2.021c0-1.09-1.297-1.657-2.097-.919L5.87 6.786a1.75 1.75 0 0 1-1.186.464h-1.11c-.69 0-1.25.56-1.25 1.25v3c0 .69.56 1.25 1.25 1.25h1.11c.44 0 .863.166 1.186.464l2.857 2.637c.8.739 2.097.17 2.097-.92V5.069zm6.88-.421l.197.289a9.194 9.194 0 0 1-.198 10.423l-.434.61-1.222-.87.435-.61.166-.244a7.683 7.683 0 0 0 1.276-4.242 7.684 7.684 0 0 0-1.276-4.243l-.166-.242-.435-.612 1.222-.87.434.61zm-2.907 2.14l.119.174a5.515 5.515 0 0 1-.12 6.257l-.434.611-1.221-.871.435-.61.17-.258a4.01 4.01 0 0 0 0-4.175l-.17-.257-.435-.611 1.221-.87.435.61z",fill:"#fff"})}))),oz=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M8.585 3.047C10.346 1.42 13.2 2.67 13.2 5.068v9.864c0 2.397-2.853 3.647-4.615 2.021l-2.856-2.637a.25.25 0 0 0-.17-.066H4.45A2.75 2.75 0 0 1 1.7 11.5v-3a2.75 2.75 0 0 1 2.75-2.75h1.11a.25.25 0 0 0 .169-.066l2.856-2.637zM11.7 5.068c0-1.09-1.297-1.657-2.097-.919L6.746 6.786a1.75 1.75 0 0 1-1.186.464H4.45c-.69 0-1.25.56-1.25 1.25v3c0 .69.56 1.25 1.25 1.25h1.11c.44 0 .863.166 1.186.464l2.857 2.637c.8.739 2.097.17 2.097-.92V5.069zm4.569 1.48c1.101.763 1.835 2.02 1.835 3.453 0 1.432-.734 2.69-1.835 3.452l-.657.454-.909-1.313.656-.454c.704-.487 1.147-1.269 1.147-2.139 0-.87-.443-1.652-1.147-2.139l-.656-.454.91-1.313.656.454z",fill:"#fff"})}))),oB=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M6.09 7.25h-.34c-.69 0-1.25.56-1.25 1.25v3c0 .69.56 1.25 1.25 1.25h1.11c.44 0 .863.166 1.186.464l2.856 2.637c.801.739 2.098.17 2.098-.92v-.77l1.425 1.424c-.46 1.956-2.947 2.839-4.54 1.368l-2.857-2.637a.25.25 0 0 0-.169-.066H5.75A2.75 2.75 0 0 1 3 11.5v-3c0-1.174.736-2.174 1.771-2.568L6.09 7.25zm3.795-4.203C11.646 1.42 14.5 2.67 14.5 5.068v6.372l3.06 3.06-1.06 1.06L4.94 4 6 2.94l1.92 1.92 1.965-1.813zM13 5.068c0-1.09-1.297-1.657-2.098-.919l-1.92 1.772L13 9.939V5.07z",fill:"#fff"})}))),oF=e=>{let{player:l,size:o,awemeInfo:i,enterMethod:t}=e,[d,u]=(0,a.useState)(null==l?void 0:l.volume),[s,c]=(0,a.useState)(null==l?void 0:l.muted),[v,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(l){let e=()=>{u(l.volume),c(l.muted)};return l.on(z.Events.VOLUME_CHANGE,e),()=>{l.off(z.Events.VOLUME_CHANGE,e)}}},[l]),(0,a.useEffect)(()=>{if(l){let e=e=>{((null==e?void 0:e.action)==="change_muted"||(null==e?void 0:e.action)==="change_volume")&&setTimeout(()=>{u(l.volume),c(l.muted)})};return l.on(z.Events.USER_ACTION,e),()=>{l.off(z.Events.USER_ACTION,e)}}},[l]);let m=(0,a.useRef)(),h=(0,a.useRef)(!1),p=(0,a.useCallback)(()=>{var e,l,o,i;h.current=!1,null===(l=window.documentPictureInPicture)||void 0===l||null===(e=l.window)||void 0===e||e.removeEventListener("mousemove",g),null===(i=window.documentPictureInPicture)||void 0===i||null===(o=i.window)||void 0===o||o.removeEventListener("mouseup",_)},[]),g=(0,a.useCallback)(e=>{if(!!h.current)try{let o=m.current.getBoundingClientRect(),i=e.clientX-o.left,t=(i=Math.max(0,Math.min(o.width,i)))/o.width;l.volume=Number(t.toFixed(3)),l.volume>0&&(l.muted=!1),l.emit(z.Events.USER_ACTION,{action:"change_volume",props:{muted:l.muted,volume:l.volume}})}catch(e){p()}},[p,l]),_=(0,a.useCallback)(()=>{h.current&&p()},[p]);(0,a.useEffect)(()=>()=>{h.current&&p()},[p]);let w=(0,a.useCallback)(e=>{if(h.current)return;let o=m.current.getBoundingClientRect(),i=e.clientX-o.left,t=(i=Math.max(0,Math.min(o.width,i)))/o.width;l.volume=Number(t.toFixed(3)),l.volume>0&&(l.muted=!1),l.emit(z.Events.USER_ACTION,{action:"change_volume",props:{muted:l.muted,volume:l.volume}})},[l]),x=(0,a.useCallback)(e=>{var l,o;e.stopPropagation(),e.preventDefault(),h.current=!0,null===(l=window.documentPictureInPicture)||void 0===l||l.window.addEventListener("mousemove",g),null===(o=window.documentPictureInPicture)||void 0===o||o.window.addEventListener("mouseup",_)},[g,_]),y=o.height>490;return(0,n.jsxs)("div",{className:r()(ox.default.volumeContainer,{[ox.default.bgSize]:y}),onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},children:[(s||0===d)&&(0,n.jsx)(eR.Z,{width:y?32:20,height:y?32:20,viewBox:"0 0 20 20",src:oB,className:r()(ox.default.noramlIcon),onClick:()=>{l.muted=!1,l.volume<.01&&(l.volume=.2)}}),!s&&d>=.5&&(0,n.jsx)(eR.Z,{width:y?32:20,height:y?32:20,src:oD,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon),onClick:()=>{l.muted=!0}}),!s&&d<.5&&d>0&&(0,n.jsx)(eR.Z,{width:y?32:20,height:y?32:20,src:oz,viewBox:"0 0 20 20",className:r()(ox.default.noramlIcon),onClick:()=>{l.muted=!0}}),(0,n.jsx)("div",{className:r()(ox.default.space,{[ox.default.show]:v})}),(0,n.jsxs)("div",{className:r()(ox.default.volumeSlider,{[ox.default.show]:v}),children:[(0,n.jsxs)("div",{className:ox.default.volumeProgress,onClick:w,ref:m,children:[(0,n.jsx)("div",{className:ox.default.volumeInner,style:{width:s?0:`${100*d}%`}}),(0,n.jsx)("div",{className:ox.default.dot,onMouseDown:x,style:{left:s?0:`${100*d}%`}})]}),(0,n.jsx)("div",{className:ox.default.volumeLabel,children:l.muted?0:Math.round(100*Math.max(Math.min(l.volume,1),0))})]})]})};var oW=o("235755");let oU=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M17.125 12.088c.45 0 .863-.002 1.197.043.356.048.731.16 1.04.47l.108.119c.229.283.32.61.362.92.045.335.043.748.043 1.198 0 .45.002.863-.043 1.197-.042.311-.133.637-.362.921l-.108.12c-.309.308-.684.421-1.04.469-.334.045-.747.043-1.197.043h-1c-.45 0-.863.002-1.197-.043-.311-.042-.638-.134-.921-.362l-.12-.108c-.308-.309-.421-.684-.469-1.04-.045-.334-.043-.747-.043-1.197 0-.45-.002-.863.043-1.197.048-.356.16-.731.47-1.04l.119-.108c.284-.229.61-.32.92-.362.335-.045.748-.043 1.198-.043h1zM9.371 2.75c1.625 0 2.91 0 3.925.12 1.03.121 1.88.376 2.589.958l.176.152c.173.157.334.326.482.506l.105.135c.508.681.74 1.488.854 2.454.09.76.11 1.67.116 2.763h-1.5c-.005-1.075-.025-1.908-.105-2.587-.092-.778-.255-1.278-.513-1.657l-.116-.156a3.257 3.257 0 0 0-.33-.346l-.121-.105c-.398-.326-.924-.524-1.813-.629-.906-.107-2.087-.108-3.749-.108h-1c-1.18 0-2.019 0-2.674.057-.564.048-.94.133-1.236.266l-.122.06a3.25 3.25 0 0 0-1.213 1.128l-.121.207c-.168.314-.272.713-.327 1.358C2.622 7.981 2.62 8.82 2.62 10s.001 2.019.057 2.674c.055.645.159 1.044.327 1.358l.121.207c.3.473.717.862 1.213 1.127l.122.06c.296.134.672.22 1.236.267.655.056 1.494.057 2.674.057h2.76c.008.374.025.635.071.868.043.218.105.429.182.632H8.37c-1.154 0-2.067 0-2.8-.061-.65-.056-1.211-.164-1.722-.394l-.217-.106a4.75 4.75 0 0 1-1.773-1.646l-.177-.304c-.304-.569-.436-1.196-.5-1.938-.062-.733-.06-1.647-.06-2.801 0-1.154-.002-2.068.06-2.8.064-.743.196-1.37.5-1.94l.177-.303a4.75 4.75 0 0 1 1.773-1.646l.217-.106c.51-.23 1.072-.338 1.721-.393.734-.063 1.647-.062 2.801-.062h1zm6.754 10.838c-.492 0-.786.002-.997.03a.708.708 0 0 0-.178.042l-.002.001v.002a.713.713 0 0 0-.042.178c-.029.21-.031.505-.031.997s.002.786.03.997a.713.713 0 0 0 .042.178l.001.002h.002a.713.713 0 0 0 .178.042c.21.029.505.03.997.03h1c.492 0 .786-.001.997-.03a.713.713 0 0 0 .178-.041l.002-.001v-.002a.713.713 0 0 0 .042-.178c.029-.21.031-.505.031-.997s-.002-.786-.03-.997a.713.713 0 0 0-.042-.178l-.001-.002H18.3a.708.708 0 0 0-.178-.042c-.21-.03-.505-.031-.997-.031h-1zm-5.926-5.76H7.95l-.188.002 3.122 3.123-1.06 1.06L6.7 8.894l-.002.185v2.25H5.2v-2.25c0-.45-.002-.863.043-1.197.042-.311.134-.637.362-.921l.108-.12c.309-.308.684-.421 1.04-.469.334-.045.747-.043 1.197-.043h2.25v1.5z",fill:"#fff"})}))),oH=(0,a.forwardRef)((e,l)=>(0,n.jsx)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:(0,n.jsx)("path",{d:"M15.583 14.168c.431.432.465 1.098.074 1.489-.39.39-1.057.357-1.489-.075L10 11.414l-4.168 4.168c-.432.432-1.098.465-1.489.075-.39-.39-.357-1.057.075-1.489L8.586 10 4.418 5.832c-.432-.432-.465-1.098-.075-1.489.39-.39 1.057-.357 1.489.075L10 8.586l4.168-4.168c.432-.432 1.099-.465 1.49-.075.39.39.356 1.057-.075 1.489L11.414 10l4.169 4.168z",fill:"#fff"})}))),oZ=e=>{var l;let{player:o,size:i,isInnerFeed:t,parentWin:d,enterMethod:u,awemeInfo:s}=e,[c,f]=(0,a.useState)(!(0,m.DT)()),[h,p]=(0,a.useState)(!1),g=(0,og.Z)(()=>{f((0,oW.nz)())});(0,o_.Z)("resize",()=>g(),{target:null===(l=window.documentPictureInPicture)||void 0===l?void 0:l.window}),(0,ow.Z)(()=>g(),50);let _=i.height>490;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:ox.default.left,children:[(0,n.jsx)(oF,{player:o,size:i,awemeInfo:s}),(0,n.jsx)(oj,{player:o,isInnerFeed:t,size:i,awemeInfo:s}),(0,n.jsx)(oV,{player:o,size:i,awemeInfo:s})]}),(0,n.jsxs)("div",{className:ox.default.right,children:[(0,n.jsxs)("div",{className:r()(ox.default.backContaienr,{[ox.default.bigSize]:_}),onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},children:[(0,n.jsx)(eR.Z,{width:_?32:20,height:_?32:20,viewBox:"0 0 20 20",src:oU,className:r()(ox.default.noramlIcon),style:c?{marginRight:0}:{},onClick:()=>{A.Le.setConfig(A.gI.ListenVideoExit,{method:"return_fullscreen"}),v.emit(v.EVENT.PipBackToTab,{from:"listenvideo"}),l5.T.exit(),null==d||d.focus(),(0,m.DT)()&&oo.invoke("pipParentWinShow")}}),!!h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eR.Z,{width:10,height:6,src:oC,viewBox:"0 0 10 6",className:ox.default.tipArrow}),(0,n.jsx)("div",{className:ox.default.tip,children:"返回大窗观看"})]})]}),!c&&(0,n.jsx)(eR.Z,{width:_?32:20,height:_?32:20,viewBox:"0 0 20 20",src:oH,className:r()(ox.default.noramlIcon),style:{marginRight:0},onClick:()=>{A.Le.setConfig(A.gI.ListenVideoExit,{method:"close"}),l5.T.exit()}})]})]})};var oG=o("422959");let oO=e=>{var l,o,i,t,d;let{player:u,awemeInfo:s,className:c,disablePrev:f,disableNext:m,isInnerFeed:h,parentWin:p,enterMethod:g}=e,[_,w]=(0,a.useState)({width:0,height:0});(0,a.useEffect)(()=>{let e=oN.e.getPipWindow({scene:l3.d.ListenVideo})||window.documentPictureInPicture.window,l=()=>{e&&w({width:e.innerWidth,height:e.innerHeight})},o=ol()(l,200,{leading:!0,trailing:!0});if(l(),e)return e.addEventListener("resize",o),()=>{e.removeEventListener("resize",o)}},[]),(0,a.useEffect)(()=>{if(u){var e,l;null==u||null===(e=u.setUserActive)||void 0===e||e.call(u,!0),null==u||null===(l=u.play)||void 0===l||l.call(u)}},[]);let x=_.height>490,y=_.height>411&&_.height<=490;return(0,n.jsxs)("div",{className:r()(oi.default.container,c),children:[(0,n.jsx)("div",{className:r()(oi.default.header,{[oi.default.bigSize]:x}),children:(0,n.jsx)(oZ,{awemeInfo:s,player:u,isInnerFeed:h,parentWin:p,size:_,enterMethod:g})}),(0,n.jsxs)("div",{className:r()(oi.default.playerInfo,{[oi.default.midSize]:y,[oi.default.bigSize]:x}),children:[(0,n.jsx)(ej.Q,{src:(null==s?void 0:null===(l=s.video)||void 0===l?void 0:l.originCover)||(null==s?void 0:null===(t=s.varietyVideo)||void 0===t?void 0:null===(i=t.cover)||void 0===i?void 0:null===(o=i.url_list)||void 0===o?void 0:o[0]),alt:s.desc,skeletonClass:oi.default.defaultImg,className:oi.default.cover,iconWidth:22,iconHeight:36,onClick:()=>{v.emit(v.EVENT.PipBackToTab,{from:"listenvideo"}),l5.T.exit(),null==p||p.focus(),isInClient()&&oo.invoke("pipParentWinShow")}}),(0,n.jsxs)("div",{className:oi.default.desc,children:[(0,n.jsx)("p",{className:oi.default.title,children:s.desc}),(0,n.jsx)(oG.Z,{text:`@${null==s?void 0:null===(d=s.authorInfo)||void 0===d?void 0:d.nickname}`,className:r()(oi.default.nickname)})]})]}),(0,n.jsx)("div",{className:r()(oi.default.playerProgress,{[oi.default.bigSize]:x}),children:(0,n.jsx)(or,{awemeInfo:s,player:u,size:_})}),(0,n.jsx)("div",{className:r()(oi.default.control,{[oi.default.bigSize]:x}),children:(0,n.jsx)(op,{awemeInfo:s,player:u,disablePrev:f,disableNext:m,size:_})})]})};var oK=o("151681");let oq=e=>{let{isInnerFeed:l=!1,isFirst:o,isAuthorCardShow:i=!1,isLast:t,isShowRelatedCard:n=!1,nextAwemeInfo:a,listenFeedPrevAwemeInfo:d,listenFeedNextAwemeInfo:r,canUseListenFeed:u,prevAwemeInfo:s,isListenVideoMiniWin:c}=e,v=!l&&u;return{disableNext:v&&c?!r:t&&!(i||n)||(i||n)&&!a,disablePrev:v&&c?!d:o&&!(i||n)||(i||n)&&!s}},oY=e=>{let{onClick:l,player:o,awemeInfo:i,ableMiniType:t=!0,reportExtraParams:d={},isInnerFeed:u,isActive:s,playNextFunc:c,playPrevFunc:f,disableNext:m,disablePrev:h,hideModalWhenPip:p,setHideModalByPip:g,modalClose:w,isFirst:x,isAuthorCardShow:y,isLast:I,isShowRelatedCard:k,nextAwemeInfo:b,listenFeedPrevAwemeInfo:C,listenFeedNextAwemeInfo:S,canUseListenFeed:E,prevAwemeInfo:N}=e,{changeIsListenVideoMiniWin:j,isListenVideoMiniWin:T}=(0,_.Iq)(e=>{let{changeIsListenVideoMiniWin:l,isListenVideoMiniWin:o}=e;return{changeIsListenVideoMiniWin:l,isListenVideoMiniWin:o}}),{listenVideoContainer:L}=(0,_.Iq)(e=>{let{listenVideoContainer:l}=e;return{listenVideoContainer:l}}),{awemeFeed:R}=(0,oK.j)(),M=(0,a.useRef)(!1),P=(0,a.useRef)(!1),V=(0,a.useRef)(!1);(0,a.useEffect)(()=>{var e;let l=v.listen(v.EVENT.PipBackToTab,e=>{let{from:l}=e;"listenvideo"===l&&(M.current=!0)}),i=v.listen(v.EVENT.changeMinWinListen,e=>{let{isMiniWin:l}=e;if(p){if(l)null==g||g(!0);else{if(o.fullscreen||P.current){P.current=!1;return}if(M.current){null==g||g(!1);return}null==g||g(!1),R.dispatch("modalAwemeInfo",null),null==w||w()}}}),t=()=>{if(o.fullscreen)return;let e=oN.e.getPipWindow({scene:l3.d.ListenVideo});e&&e.close(),null==g||g(!1),P.current=!0};return null==o||null===(e=o.on)||void 0===e||e.call(o,z.Events.FULLSCREEN_REQUEST,t),()=>{var e;i(),l(),null==o||null===(e=o.off)||void 0===e||e.call(o,z.Events.FULLSCREEN_REQUEST,t)}},[R,p,o,g,w]),(0,l4.o)(()=>{let e=v.listen(v.EVENT.ListenVideoPipWindowStatusSync,e=>{if(!V.current){if(s){let{from:l,to:o,type:i}=e;"pip"===l&&"main"===o&&("playNext"===i&&c({from:"click_button"}),"playPrev"===i&&f({from:"click_button"}))}}});return()=>{e()}},[c,f,s]);let{disableNext:D,disablePrev:B}=oq({isInnerFeed:u,isFirst:x,isAuthorCardShow:y,isLast:I,isShowRelatedCard:k,nextAwemeInfo:b,listenFeedPrevAwemeInfo:C,listenFeedNextAwemeInfo:S,canUseListenFeed:E,prevAwemeInfo:N,isListenVideoMiniWin:T}),F=(0,l7.d)(m),W=(0,l7.d)(h),U=(0,a.useCallback)(async()=>{var e,l,t,a;!L&&(L=document.createElement("div")),V.current=!0,l2.render((0,n.jsx)(oO,{player:o,awemeInfo:i,isInnerFeed:u,isActive:s,disableNext:null!==(e=F.current)&&void 0!==e?e:D,disablePrev:null!==(l=W.current)&&void 0!==l?l:B,parentWin:window,enterMethod:"interaction_ting"}),L);let d=oN.e.getPipWindow({scene:l3.d.ListenVideo});if(d){let e=l5.T.detachEl();e&&l2.unmountComponentAtNode(e),(null==d?void 0:null===(a=d.document)||void 0===a?void 0:null===(t=a.body)||void 0===t?void 0:t.firstChild)&&d.document.body.removeChild(d.document.body.firstChild),l5.T.attachPlayer(o,{window:d,element:L,onEnter:()=>{V.current=!1,eS.logInstance.sendLog("enterTingDouyin",{enter_from:(0,ex.yW)(),enter_method:"interaction_ting",group_id:null==i?void 0:i.awemeId})},onLeave:()=>{var e;V.current=!1,eS.logInstance.sendLog("exitTingDouyin",{enter_from:(0,ex.yW)(),group_id:i.awemeId,enter_method:"interaction_ting",exit_method:(null===(e=A.Le.getConfig(A.gI.ListenVideoExit))||void 0===e?void 0:e.method)||"other"}),oN.e.unRegister({scene:l3.d.ListenVideo}),j(!1),v.emit(v.EVENT.changeMinWinListen,{isMiniWin:!1,pipWindow:null})}}),oN.e.register({scene:l3.d.ListenVideo,pipWindow:d}),j(!0),v.emit(v.EVENT.changeMinWinListen,{isMiniWin:!0,pipWindow:d}),V.current=!1}else{let e=await l5.T.requestWindow({config:{disallowReturnToOpener:!0,width:320,height:180,docPiPNode:L,docPiPStyle:`
            *::-webkit-scrollbar {
              display: none !important;
            }

            body {
              overflow-x: hidden;
              padding:0;
              margin:0;
              min-width:320px;
            }
          `,alwaysKeepDocumentWindow:!0},onEnter:()=>{V.current=!1,eS.logInstance.sendLog("enterTingDouyin",{enter_from:(0,ex.yW)(),enter_method:"interaction_ting",group_id:null==i?void 0:i.awemeId})},onLeave:()=>{var e;V.current=!1,eS.logInstance.sendLog("exitTingDouyin",{enter_from:(0,ex.yW)(),group_id:i.awemeId,enter_method:"interaction_ting",exit_method:(null===(e=A.Le.getConfig(A.gI.ListenVideoExit))||void 0===e?void 0:e.method)||"other"}),oN.e.unRegister({scene:l3.d.ListenVideo}),j(!1),v.emit(v.EVENT.changeMinWinListen,{isMiniWin:!1,pipWindow:null})},player:o});j(!0),oN.e.register({scene:l3.d.ListenVideo,pipWindow:e}),v.emit(v.EVENT.changeMinWinListen,{isMiniWin:!0,pipWindow:e})}},[o,u,j,c,f,s,B,D,i,L]),H=(0,l7.d)(o),Z=(0,l7.d)(T),G=(0,l7.d)(U);(0,l4.o)(()=>{let e=eK.s.getPlayersByScene(K.lT.Modal)||[];if(o&&s&&(0===e.length||e.length>0&&eK.s.getPlayerScene(o.playerId)===K.lT.Modal)){let e=oN.e.getPipWindow({scene:l3.d.ListenVideo});Z.current&&e&&G.current()}},[s,i,o]),(0,l4.o)(()=>{let e=oN.e.getPipWindow({scene:l3.d.ListenVideo});if(e&&s&&T){let l=l=>{let o=[l8.bf.ArrowUp.keyCode,l8.bf.ArrowDown.keyCode,l8.bf.T.keyCode,l8.bf.Equal.keyCode,l8.bf.Minus.keyCode];!u&&o.push(l8.bf.K.keyCode),o.includes(null==l?void 0:l.keyCode)&&e.opener.postMessage({type:"KEY_DOWN",data:{code:null==l?void 0:l.code,keyCode:null==l?void 0:l.keyCode,metaKey:null==l?void 0:l.metaKey,ctrlKey:null==l?void 0:l.ctrlKey,shiftKey:null==l?void 0:l.shiftKey}},"*")};return e.addEventListener("keydown",l),()=>{e.removeEventListener("keydown",l)}}},[s,T,u]),(0,l4.o)(()=>{if(o&&s){let e=async()=>{if(T){let e=oN.e.getPipWindow({scene:l3.d.ListenVideo});e&&e.close(),v.emit(v.EVENT.ListenVideoPipWindowClose)}else U()};return null==o||o.on("onListenVideo",e),()=>{null==o||o.off("onListenVideo",e)}}},[o,i,d,U,s,T]),(0,a.useEffect)(()=>{if(o){let e=()=>{s?o.setUserActive(!0):o.pause()};return o.on("play",e),()=>{o.off("play",e)}}},[o,i,s]),(0,l4.o)(()=>{let e=eK.s.getPlayersByScene(K.lT.Modal)||[];!T&&H.current&&s&&(0===e.length||e.length>0&&eK.s.getPlayerScene(H.current.playerId)===K.lT.Modal)&&setTimeout(()=>{var e,l;null===(l=H.current)||void 0===l||null===(e=l.setUserActive)||void 0===e||e.call(l,!0)},10)},[T,s]);let O=(0,eh.x)(()=>{eS.logInstance.sendLog("tingDouyinShow",{enter_from:(0,ex.yW)(),enter_method:"interaction_ting",group_id:null==i?void 0:i.awemeId})});return(0,n.jsxs)("div",{ref:O,className:r()(l9.default.listenVideo,{[l9.default.ableMiniType]:t}),onClick:e=>{U(),eS.logInstance.sendLog("tingDouyinClick",{enter_from:(0,ex.yW)(),enter_method:"interaction_ting",group_id:null==i?void 0:i.awemeId}),null==l||l({e,clickMethod:"icon"})},onMouseEnter:()=>{},onMouseLeave:()=>{},children:[(0,n.jsx)(eq.z,{svg:(0,n.jsx)(l6.Z,{className:r()(l9.default.icon,l9.default.shakeIcon)})}),(0,n.jsx)("div",{className:l9.default.desc,children:ey.a.t("listen_video",{},"听抖音")})]})},oQ=()=>(0,n.jsxs)("div",{className:r()(x.default.shortcutTip),children:["听抖音",!!(null==c?void 0:c.SHORTCUT_KEY.listenVideo.badgeText)&&(0,n.jsx)("span",{className:l9.default.tipKey,children:null==c?void 0:c.SHORTCUT_KEY.listenVideo.badgeText})]}),oX=e=>{let{isInnerFeed:l,isHoverShow:o,player:i,ableMiniType:t,reportExtraParams:d={},awemeInfo:s,playNextFunc:c,playPrevFunc:v,isActive:f,disablePrev:m,disableNext:h,hideModalWhenPip:p,setHideModalByPip:g,modalClose:_,isFirst:w,isAuthorCardShow:y,isLast:I,isShowRelatedCard:k,nextAwemeInfo:b,listenFeedPrevAwemeInfo:C,listenFeedNextAwemeInfo:S,canUseListenFeed:E,prevAwemeInfo:N}=e,j=(0,a.useRef)(null);return(0,n.jsx)(u.Tooltip,{position:"left",className:r()(x.default.shortcutTipWrap),style:o?{}:{display:"none"},content:oQ(),getPopupContainer:()=>j.current||document.body,children:(0,n.jsx)("div",{ref:j,style:{position:"relative",color:"#fff"},children:(0,n.jsx)(oY,{player:i,ableMiniType:t,reportExtraParams:d,awemeInfo:s,isInnerFeed:l,playNextFunc:c,playPrevFunc:v,isActive:f,disablePrev:m,disableNext:h,hideModalWhenPip:p,setHideModalByPip:g,modalClose:_,isFirst:w,isAuthorCardShow:y,isLast:I,isShowRelatedCard:k,nextAwemeInfo:b,listenFeedPrevAwemeInfo:C,listenFeedNextAwemeInfo:S,canUseListenFeed:E,prevAwemeInfo:N})})})};var oJ=o("179958");let o$=(0,l1.X)(e=>{var l,o,d,k,P,z,B,F,W,U,H;let{toggleComment:G,awemeInfo:O,loginUserInfo:K,loginDispatch:q,deleteCurrentSwiper:Y,fullScreenTarget:Q,onAvatarClick:X,onRelatedClick:J,abtestData:$,videoToast:ee,videoReportModalContainer:el,moreBoxShowList:eo,onDouPlusClick:ei,reportExtraParams:et={},recordPreferVideoSwitch:en,shortcutKeyDisable:ea,canShowAvatarFollowBtn:ed=!0,canShowAvatarImBtn:er=!1,canShowAvatarAdBtn:eu=!1,canShowAvatar:es=!0,canShowCollection:ec=!0,canShowAvatarTip:ev=!0,className:em,actionFollow:eh,actionUnFollow:ep,showMusicDetail:eg,avatarTipText:e_,from:ew,isActive:ex,onDislike:ey,toast:eI,isInnerFeed:ek=!1,hideMore:eb=!1,disableClick:eC=!1,disableHoverShow:eS=!1,videoTags:eE,isSearchPlayer:eN,scene:ej,onFollowBtnClick:eA,onShareToFriend:eT,isDetail:eL,recommendTriggered:eR,showRecommendToFriend:eM,playNextFunc:eP,playPrevFunc:eV,listenVideoDisablePrev:eD,listenVideoDisableNext:eB,canShowListenVideo:eW=!1,hideModalWhenPip:eU,setHideModalByPip:eH,modalClose:eZ,isFirst:eG,isLast:eK,isAuthorCardShow:eq,isShowRelatedCard:eQ,nextAwemeInfo:eX,listenFeedPrevAwemeInfo:eJ,listenFeedNextAwemeInfo:e$,canUseListenFeed:e0,prevAwemeInfo:e1,hideAiSearchEntry:e2,isShowAiCard:e5}=e,{isLogin:e3}=K,{isiPad:e4,isMobile:e8}=(0,s.X)(),[e9,le]=(0,a.useState)(""),[ll,lo]=(0,a.useState)(0),li=(0,a.useRef)(!1),lt=(0,a.useRef)(null),ln=(0,a.useRef)(""),la=(0,a.useRef)(!1),lr=(0,a.useRef)(!1),lu=(0,a.useRef)(null),ls=(0,a.useRef)(null),lc=(0,a.useRef)(null),lv=(0,a.useRef)(null),lf=(0,eO.n)();(0,a.useRef)(lf).current=lf;let[lm,lh]=(0,a.useState)(!0),lp=D(O);(0,a.useMemo)(()=>!K.isLogin&&lm,[$,K,lm]);let{inImmersive:lg}=(0,l$.O)({player:lf,isActive:!0}),{globalCommentCount:l_}=(0,a.useContext)(g.v)||{},{followStatus:lw,text:lx}=(0,eF.r)({selfUid:null==K?void 0:null===(l=K.info)||void 0===l?void 0:l.uid,actionUid:null==O?void 0:null===(o=O.authorInfo)||void 0===o?void 0:o.uid,defaultFollowerStatus:null==O?void 0:null===(d=O.authorInfo)||void 0===d?void 0:d.followerStatus,defaultFollowStatus:null==O?void 0:null===(k=O.authorInfo)||void 0===k?void 0:k.followStatus}),ly=(0,a.useMemo)(()=>["related"],[]),lI=c.getShortcut({disable:ea,exclude:ly});!function(e){let{player:l,awemeInfo:o,inImmersive:t,fullScreenTarget:n,videoToast:d,reportExtraParams:r}=e,{isWebMiniWin:u}=(0,_.Iq)(e=>{let{isWebMiniWin:l}=e;return{isWebMiniWin:l}}),s=(0,a.useRef)(o),c=(0,a.useRef)("");(0,a.useEffect)(()=>{var e;c.current="",(null===(e=s.current)||void 0===e?void 0:e.awemeId)!==(null==o?void 0:o.awemeId)&&(null==o?void 0:o.awemeId)&&(s.current=o)},[o]);let v=(0,a.useCallback)(e=>{"hidden"===document.visibilityState&&u&&(null==l?void 0:l.root)?M.F.info(e,l.root):d(e)},[d,u,l]),f=(0,a.useCallback)(async()=>{let{shareLinkDesc:e,shareUrl:l}=(null==o?void 0:o.shareInfo)||{},i=l&&`${l}&from=web_code_link`,t=await (0,R.Rc)(i);c.current=e&&e.replace("%s",t)},[null==o?void 0:o.shareInfo]),m=(0,a.useCallback)(b()(async e=>{var l,a,d,u,s,m;if((null==o?void 0:null===(l=o.status)||void 0===l?void 0:l.allowShare)===!1){v("该视频已被限制分享");return}!c.current&&await f(),(0,S.J)(c.current,{target:(0,E.r)()&&n?n:null}),V.sendLog("shareVideo",(0,i._)({urlParamList:["previous_page"],author_id:null==o?void 0:null===(a=o.authorInfo)||void 0===a?void 0:a.uid,group_id:null==o?void 0:o.awemeId,enter_from:(0,N.mo)(),log_pb:null==o?void 0:o.logPb,type:"copy_link",is_full_screen:(0,E.r)()?"1":"0",click_method:null!==(s=null==e?void 0:e.clickMethod)&&void 0!==s?s:"hot_key",tab_name:(0,L.zD)()||(0,j.Rs)("tab_name")||"",from_follow_list:(null===(d=A.Le.getConfig(A.gI.FromFollowList))||void 0===d?void 0:d.tag)?"1":"0",aweme_type:`${(null==o?void 0:o.isSlides)?C.e.Slides:null==o?void 0:o.awemeType}`,pic_cnt:null!==(m=null==o?void 0:null===(u=o.images)||void 0===u?void 0:u.length)&&void 0!==m?m:0,is_pure:t?"1":"0",is_from_aweme_search_engine:(0,T.V)()?1:0},r)),v("已复制链接，快去分享给好友")},500),[f,v,t,o,n]);(0,a.useEffect)(()=>(null==l||l.on("showShareCode",m),()=>{null==l||l.off("showShareCode",m)}),[l,m])}({player:lf,inImmersive:lg,awemeInfo:O,fullScreenTarget:Q,videoToast:ee,reportExtraParams:et}),!function(e){let{player:l}=e,o=(0,a.useCallback)(e=>{let l={isUse:!1,expireTime:Number(Date.now())+2592e5,useHistory:{3:!0}},o=(0,I.$o)(y.LocalStorageKeys.ShortcutKeyTopicInfo);if(e){!o&&(o=l),o.isUse=e,(0,I.qQ)(y.LocalStorageKeys.ShortcutKeyTopicInfo,o);return}if(o){let e=((null==o?void 0:o.expireTime)||0)-Number(Date.now()),l=Math.ceil(e/864e5);if(o.isUse||!(e>0)||o.useHistory[l])return;o.useHistory[l]=!0,(0,I.qQ)(y.LocalStorageKeys.ShortcutKeyTopicInfo,o)}else(0,I.qQ)(y.LocalStorageKeys.ShortcutKeyTopicInfo,l)},[]);(0,a.useEffect)(()=>(null==l||l.on("shortcutTopic",o),()=>{null==l||l.off("shortcutTopic",o)}),[l,o])}({player:lf});let{aiEntryVisible:lk}=(0,w.$)({isLogin:e3,awemeInfo:O});(0,a.useEffect)(()=>{var e,l;if((null==lt?void 0:null===(e=lt.current)||void 0===e?void 0:e.parentElement)&&!(null==$?void 0:$.innerSlideSmooth)){let e=()=>{var e,l,o;let i=null==lt?void 0:null===(o=lt.current)||void 0===o?void 0:null===(l=o.parentElement)||void 0===l?void 0:null===(e=l.getBoundingClientRect())||void 0===e?void 0:e.width;v.emit(v.EVENT.InteractionWidthChange,{width:i,awemeId:null==O?void 0:O.awemeId})};e();let o=(null==lf?void 0:lf.root)||(null==lt?void 0:null===(l=lt.current)||void 0===l?void 0:l.parentElement),i=f.Z.bind(o,e);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),null==i||i()}}},[O,lf]);let{isMainland:lb}=(0,_.Iq)(e=>{let{isMainland:l}=e;return{isMainland:l}}),lC=lb&&!(0,m.xo)(),[,lS]=(0,a.useState)(0),lE=(0,a.useCallback)(()=>{lS(e=>e+1)},[]);return(0,n.jsxs)("div",{className:r()(x.default.videoInteractionWrapper,em,{[x.default.qq]:(0,h.GP)(),[x.default.disableFilter]:!1}),ref:lt,children:[eL||e2||!lk?null:(0,n.jsx)(oJ.H,{awemeInfo:O,isShowAiCard:e5}),(0,n.jsxs)("div",{className:r()(x.default.container,{[x.default.dropShadowFilter]:null==$||!$.innerSlideSmooth||ex}),children:[es?(0,n.jsx)(ef,{disableHoverShow:eS,isHoverShow:lm,canShowAvatarTip:ev,canShowAvatarImBtn:er,canShowAvatarFollowBtn:ed,canShowAvatarAdBtn:eu,canShowAvatar:es,awemeInfo:O,logInfo:lp,loginUserInfo:K,isLogin:e3,loginDispatch:q,followStatus:lw,player:lf,fullScreenTarget:Q,isFollowClickedRef:li,onAvatarClick:X,shortcut:lI,reportExtraParams:et,actionFollow:eh,actionUnFollow:ep,onFollowBtnClick:eA,loginPanelTarget:lu.current,toast:eI,abtestData:$,avatarTipText:e_,from:ew,scene:ej,isActive:ex,text:lx,onAvatarRef:e=>{lv.current=e},renderCallback:lE}):null,(0,n.jsx)(u.Tooltip,{position:"left",className:x.default.shortcutTipWrap,style:e8||e4||!lm||eS?{display:"none"}:{},clickTriggerToHide:!0,content:(0,n.jsxs)("div",{className:x.default.shortcutTip,children:[ll?"取消点赞":"点赞",(null===(P=lI.like)||void 0===P?void 0:P.badgeText)&&(0,n.jsx)("span",{className:x.default.tipKey,children:null===(z=lI.like)||void 0===z?void 0:z.badgeText})]}),getPopupContainer:()=>ls.current||document.body,children:(0,n.jsx)("div",{ref:ls,style:{position:"relative"},children:(0,n.jsx)(e6,{loginPanelTarget:lu.current,toast:ee,awemeInfo:O,isLogin:e3,loginUserInfo:K,loginDispatch:q,fullScreenTarget:Q,reportExtraParams:(0,t._)((0,i._)({},et),{relation:null!==(W=null==et?void 0:et.relation)&&void 0!==W?W:String(lw)}),ableMiniType:!0,onLottieComplete:()=>"digg"===ln.current,onDiggSuccessCb:e=>{if((null==e?void 0:e.action)!=="digg")return},recordPreferVideoSwitch:en,disableClick:eC,refIsDigged:la,setIsDigged:lo,abtestData:$})})}),(0,n.jsx)(u.Tooltip,{position:"left",className:x.default.shortcutTipWrap,style:e8||e4||!lm||eS?{display:"none"}:{},content:(0,n.jsxs)("div",{className:x.default.shortcutTip,children:["评论",(null===(B=lI.comment)||void 0===B?void 0:B.badgeText)&&(0,n.jsx)("span",{className:x.default.tipKey,children:lI.comment.badgeText})]}),getPopupContainer:()=>lc.current||document.body,children:(0,n.jsx)("div",{ref:lc,style:{position:"relative"},children:(0,n.jsx)(eY,{count:(0,e7.A)({count:Number(l_||(null==O?void 0:null===(F=O.stats)||void 0===F?void 0:F.commentCount)),displayWord:"抢首评"}),type:"comment",toggleComment:G,awemeInfo:O,reportExtraParams:(0,t._)((0,i._)({},et),{relation:null!==(U=null==et?void 0:et.relation)&&void 0!==U?U:String(lw)}),ableMiniType:!0,onLottieComplete:()=>"comment"===ln.current,abtestData:$,loginDispatch:q})})}),ec?(0,n.jsx)(ld,{loginPanelTarget:lu.current,awemeInfo:O,isLogin:e3,loginUserInfo:K,loginDispatch:q,fullScreenTarget:Q,toast:ee,shortcut:lI,disableClick:eC,ableMiniType:!0,reportExtraParams:(0,t._)((0,i._)({},et),{relation:null!==(H=null==et?void 0:et.relation)&&void 0!==H?H:String(lw)}),onLottieComplete:()=>"collection"===ln.current,refIsCollected:lr,abtestData:$,from:ew,recordPreferVideoSwitch:en}):null,(0,n.jsx)(Z,{awemeInfo:O,abtestData:$,shortcut:lI,disableClick:eC,onRelatedClick:J,loginUserInfo:K,fullScreenTarget:Q,loginDispatch:q,reportExtraParams:et,isSearchPlayer:eN,onShareToFriend:eT,player:lf,inImmersive:lg,hasDouPlusEntrance:lC,onDouPlusClick:ei,singleBox:e9,setSingleBox:le,videoToast:ee,renderCallback:lE}),J?(0,n.jsx)(ez,{from:ew,isHoverShow:lm,isInnerFeed:ek,awemeInfo:O,shortcut:lI,player:lf,onRelatedClick:J,ableMiniType:!0,reportExtraParams:et,videoTags:eE,abtestData:$,isShow:!(0,p.P)(O)}):null,eW&&(0,p.P)(O)?(0,n.jsx)(oX,{isHoverShow:lm,isInnerFeed:ek,awemeInfo:O,player:lf,ableMiniType:!0,reportExtraParams:et,playNextFunc:eP,playPrevFunc:eV,isActive:ex,disablePrev:eD,disableNext:eB,hideModalWhenPip:eU,setHideModalByPip:eH,modalClose:eZ,isFirst:eG,isAuthorCardShow:eq,isLast:eK,isShowRelatedCard:eQ,nextAwemeInfo:eX,listenFeedPrevAwemeInfo:eJ,listenFeedNextAwemeInfo:e$,canUseListenFeed:e0,prevAwemeInfo:e1}):null,!eb&&(0,n.jsx)(lX,{loginPanelTarget:lu.current,player:lf,singleBox:e9,setSingleBox:le,awemeInfo:O,loginUserInfo:K,isLogin:e3,logInfo:lp,loginDispatch:q,deleteCurrentSwiper:Y,onDislike:ey,fullScreenTarget:Q,isFollowClickedRef:li,toast:ee,videoReportModalContainer:el,ableMiniType:!0,showList:eo,abtestData:$,actionUnFollow:ep,showMusicDetail:eg,isInnerFeed:ek,recordPreferVideoSwitch:en,recommendTriggered:eR,showRecommendToFriend:eM,onDouPlusClick:lC?ei:void 0,reportExtraParams:et})]}),(0,n.jsx)("div",{className:"disturb-login-panel",ref:lu})]})}),o0=(0,l0.K)(o$),o1=e=>{let l=(0,lJ.N)();return(0,n.jsx)(eB.k,{componentName:"Interaction",Slardar:l,children:(0,n.jsx)(o$,(0,i._)({},e))})},o2=e=>{let l=(0,lJ.N)();return(0,n.jsx)(eB.k,{componentName:"InteractionNew",Slardar:l,children:(0,n.jsx)(o0,(0,i._)({},e))})}},441978:function(e,l,o){o.d(l,{Z:function(){return g}}),o("874386");var i=o("563097"),t=o("88648"),n=o("713097"),a=o.n(n),d=o("32167"),r=o("330746"),u=o("462609"),s=o("742672"),c=o("792786"),v=o("544933"),f=new v.h({hover_share_icon:{eventName:"hover_share_icon",params:{enter_from:""}}}),m=o("620117"),h=o("877408"),p=o("254897");function g(e){var l,o;let{ableMiniType:n,disableShare:v=!1,type:g,canAnimation:_,awemeInfo:w,abtestData:x,scene:y,alienatedIcon:I}=e,[k,b]=(0,t.useState)(!1),C=null==x?void 0:x.reduceLottie,S=(0,t.useRef)(null),E=(0,t.useRef)(null),N=(0,t.useCallback)(()=>{C&&b(!0)},[C]),j=(0,t.useCallback)(()=>{f.sendLog("hover_share_icon",{enter_from:(0,d.mo)()})},[]),A=()=>{var e,l;let o=null===(l=E.current)||void 0===l?void 0:null===(e=l.getLottieInstance)||void 0===e?void 0:e.call(l);return{enter:()=>{var e;null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[0,33],!0)},leave:()=>{var e;null==o||null===(e=o.playSegments)||void 0===e||e.call(o,[62,86],!0)}}};(0,t.useEffect)(()=>{if(v)return;let e=S.current,l=()=>{var e,l;null===(e=(l=A()).enter)||void 0===e||e.call(l)},o=()=>{var e,l;null===(e=(l=A()).leave)||void 0===e||e.call(l)};return null==e||e.addEventListener("mouseenter",l),null==e||e.addEventListener("mouseleave",o),()=>{null==e||e.removeEventListener("mouseenter",l),null==e||e.removeEventListener("mouseleave",o)}},[]);let T=(0,t.useMemo)(()=>{let e=(0,i.jsx)(p.z,{svg:(0,i.jsx)(s.Z,{}),className:c.default.shareSvg}),l=(0,i.jsx)(m.default,{ref:E,data:u,loop:!1,autoplay:!1});return(0,r.b_)()||"user"===y||"creator_center"===(0,d.vM)()?e:C&&!k?e:l},[x,k]);return(0,i.jsxs)("div",{className:a()(c.default.share,c.default[g],{[c.default.ableMiniType]:n,[c.default.disable]:v,[c.default.inVideo]:"video"===y}),ref:S,"data-e2e":"video-player-share",onMouseEnter:N,onMouseLeave:j,children:[(0,i.jsx)("div",{className:c.default.animationWrap,children:(0,i.jsxs)("div",{className:a()(c.default.iconWrap,c.default[g]),children:[I,T]})}),"user"!==y&&(0,i.jsx)("div",{className:c.default.count,children:(0,h.A)({count:null!==(o=null==w?void 0:null===(l=w.stats)||void 0===l?void 0:l.shareCount)&&void 0!==o?o:0,displayWord:"分享"})})]})}},242007:function(e,l,o){o.d(l,{J9:function(){return m},Se:function(){return h},VY:function(){return p}});var i=o(134761),t=o(520739),n=o(878389);o(675373),o(874386);var a=o(340290),d=o(913807),r=o(782442),u=o(419936),s=o.n(u),c=o(289089),v=o(823685);let f={recommendDetail:{},getTime:0,awemeId:void 0,duplicateRemoveAwemeIds:[]},m=new class e{async fetchRelatedRecommendById(e){var l,o,i,d;if(!e)return{};let r=await (0,a.bJ)({awemeId:e,count:1,filterGids:(null===(l=this._relatedRecommendInfo.duplicateRemoveAwemeIds)||void 0===l?void 0:l.map(e=>null==e?void 0:e.awemeId).join(","))||"",subChannelId:4}),u=null==r?void 0:null===(o=r.awemeList)||void 0===o?void 0:o[0];if((null==r?void 0:r.statusCode)===0&&(null==u?void 0:u.awemeId)){let l=(0,n._)((0,t._)({},u),{id:u.awemeId,insertId:e,width:null===(i=u.video)||void 0===i?void 0:i.width,height:null===(d=u.video)||void 0===d?void 0:d.height});return this._relatedRecommendInfo={recommendDetail:l,getTime:Date.now(),awemeId:e},this._relatedRecommendInfo}return{}}async recommendDuplicateRemove(){let{awemeId:e}=this._relatedRecommendInfo.recommendDetail;e&&await (0,d.fetchHomeImpression)({awemeIds:e})}getRelatedRecommendInfoById(e){var l;return e===(null===(l=this._relatedRecommendInfo)||void 0===l?void 0:l.awemeId)?this._relatedRecommendInfo:{}}setRemoveAwemeIds(e){s()(e)&&(this._relatedRecommendInfo.duplicateRemoveAwemeIds=e)}resetInfo(){this._relatedRecommendInfo=f,this._recommendInfoPromise=void 0}get relatedRecommendInfo(){return this._relatedRecommendInfo}get recommendInfoPromise(){return this._recommendInfoPromise}set recommendInfoPromise(e){this._recommendInfoPromise=e}constructor(){(0,i._)(this,"_relatedRecommendInfo",f),(0,i._)(this,"_recommendInfoPromise",void 0)}},h=function(e){var l;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=r.Le.getConfig(r.gI.DiscoverRelatedRecommendInfo)||{},t={[v.DiscoverRelatedRecommendType.Off]:[],[v.DiscoverRelatedRecommendType.V1]:c.MD,[v.DiscoverRelatedRecommendType.V2]:c.U_},n=o?[...c.MD,...c.U_]:[],a=t[e]?t[e]:n,d=null==a?void 0:null===(l=a.some)||void 0===l?void 0:l.call(a,e=>!!i[e]),u=c.IU.some(e=>!!i[e]);return!!d&&!u||!1},p=e=>{let{info:l,awemeId:o,abData:i}=e;if(!l){r.Le.setConfig(r.gI.DiscoverRelatedRecommendInfo,{},!1);return}let{awemeId:t,follow:n,unFollow:a}=r.Le.getConfig(r.gI.DiscoverRelatedRecommendInfo)||{};if(o!==t){(null==l?void 0:l.awemeId)&&r.Le.setConfig(r.gI.DiscoverRelatedRecommendInfo,l,!1);return}void 0===n&&(null==l?void 0:l.follow)===!1&&(l.unFollow=!0),void 0!==a&&void 0!==(null==l?void 0:l.follow)&&(l.unFollow=!(null==l?void 0:l.follow)),r.Le.setConfig(r.gI.DiscoverRelatedRecommendInfo,l),h(i,!0)&&!m.recommendInfoPromise&&(m.recommendInfoPromise=m.fetchRelatedRecommendById(o))}},942785:function(e,l,o){o.d(l,{b:function(){return d}});var i=o(520739);o(675373);var t=o(496349),n=o(231755);let{COMMON_SEARCH_PARAMS:a}=t||{};async function d(){let e=await (0,n.U2)("/douplus/api/icon_control",(0,i._)({},a));return{couponShowText:null==e?void 0:e.coupon_show_text}}},462899:function(e,l,o){var i=o(520739),t=o(878389),n=o(563097),a=o(88648);let d=(0,a.forwardRef)((e,l)=>(0,n.jsxs)("svg",(0,t._)((0,i._)({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l},e),{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10z",fill:"#fff"}),(0,n.jsx)("path",{d:"M4.876 8.407l8.918-3.185a.9.9 0 0 1 1.15 1.15l-3.185 8.919a.9.9 0 0 1-1.62.16l-1.431-2.387a.72.72 0 0 1 .071-.84l4.327-5.037c.072-.084-.043-.199-.127-.126l-5.037 4.326a.72.72 0 0 1-.84.072l-2.387-1.432a.9.9 0 0 1 .16-1.62z",fill:"#FE2C55"})]})));l.Z=d},403408:function(e){e.exports=JSON.parse('{"v":"5.7.1","fr":60,"ip":0,"op":91,"w":90,"h":90,"nm":"合成 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"形状图层 2","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":80,"s":[100],"e":[0]},{"t":90}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.8,"y":0.66},"o":{"x":0.4,"y":0},"t":2,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}]},{"i":{"x":0.6,"y":1},"o":{"x":0.2,"y":0.34},"t":7,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-7.224,-14.544],[10.21,2.806]],"c":true}]},{"t":13}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,1,1,1],"e":[0.996078431606,0.172549024224,0.333333343267,1]},{"t":13}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.8,"y":0.68},"o":{"x":0.4,"y":0},"t":2,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-0.062,9.062],[0.021,-8.958]],"c":true}]},{"i":{"x":0.6,"y":1},"o":{"x":0.2,"y":0.32},"t":7,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-0.062,9.062],[0.021,-8.958]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-2.81,10.208],[-12.518,0.573]],"c":true}]},{"t":13}],"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,1,1,1],"e":[0.996078431606,0.172549024224,0.333333343267,1]},{"t":13}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"形状 1","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"形状图层 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[1],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":19,"s":[100],"e":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.4],"y":[0]},"t":80,"s":[100],"e":[0]},{"t":90}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[45,45,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.6,0.6,0.833],"y":[1,1,5.167]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,3.333]},"t":0,"s":[100,100,100],"e":[60,60,100]},{"i":{"x":[0.6,0.6,0.833],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.167],"y":[0,0,5.682]},"t":2,"s":[60,60,100],"e":[115,115,100]},{"i":{"x":[0.6,0.6,0.833],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.167],"y":[0,0,0]},"t":13,"s":[115,115,100],"e":[95,95,100]},{"i":{"x":[0.6,0.6,0.564],"y":[1,1,1]},"o":{"x":[0.314,0.314,0.206],"y":[0,0,0]},"t":19,"s":[95,95,100],"e":[100,100,100]},{"i":{"x":[1,1,0.839],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.304],"y":[0,0,0]},"t":25,"s":[100,100,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,14.333]},"o":{"x":[0.4,0.4,0.167],"y":[0,0,-13.333]},"t":80,"s":[100,100,100],"e":[20,20,100]},{"t":90}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-19.882,0],[0,-19.882],[19.882,0],[0,19.882]],"o":[[19.882,0],[0,19.882],[-19.882,0],[0,-19.882]],"v":[[0,-36],[36,0],[0,36],[-36,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0.996078431606,0.172549024224,0.333333343267,1],"e":[1,1,1,1]},{"t":13}],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}')}}]);